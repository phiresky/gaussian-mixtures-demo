!function(a){function b(a,b,e){return 4===arguments.length?c.apply(this,arguments):void d(a,{declarative:!0,deps:b,declare:e})}function c(a,b,c,e){d(a,{declarative:!1,deps:b,executingRequire:c,execute:e})}function d(a,b){b.name=a,a in n||(n[a]=b),b.normalizedDeps=b.deps}function e(a,b){if(b[a.groupIndex]=b[a.groupIndex]||[],-1==o.call(b[a.groupIndex],a)){b[a.groupIndex].push(a);for(var c=0,d=a.normalizedDeps.length;d>c;c++){var f=a.normalizedDeps[c],g=n[f];if(g&&!g.evaluated){var h=a.groupIndex+(g.declarative!=a.declarative);if(void 0===g.groupIndex||g.groupIndex<h){if(void 0!==g.groupIndex&&(b[g.groupIndex].splice(o.call(b[g.groupIndex],g),1),0==b[g.groupIndex].length))throw new TypeError("Mixed dependency cycle detected");g.groupIndex=h}e(g,b)}}}}function f(a){var b=n[a];b.groupIndex=0;var c=[];e(b,c);for(var d=!!b.declarative==c.length%2,f=c.length-1;f>=0;f--){for(var g=c[f],i=0;i<g.length;i++){var k=g[i];d?h(k):j(k)}d=!d}}function g(a){return s[a]||(s[a]={name:a,dependencies:[],exports:{},importers:[]})}function h(b){if(!b.module){var c=b.module=g(b.name),d=b.module.exports,e=b.declare.call(a,function(a,b){if(c.locked=!0,"object"==typeof a)for(var e in a)d[e]=a[e];else d[a]=b;for(var f=0,g=c.importers.length;g>f;f++){var h=c.importers[f];if(!h.locked)for(var i=0;i<h.dependencies.length;++i)h.dependencies[i]===c&&h.setters[i](d)}return c.locked=!1,b},b.name);c.setters=e.setters,c.execute=e.execute;for(var f=0,i=b.normalizedDeps.length;i>f;f++){var j,k=b.normalizedDeps[f],l=n[k],o=s[k];o?j=o.exports:l&&!l.declarative?j=l.esModule:l?(h(l),o=l.module,j=o.exports):j=m(k),o&&o.importers?(o.importers.push(c),c.dependencies.push(o)):c.dependencies.push(null),c.setters[f]&&c.setters[f](j)}}}function i(a){var b,c=n[a];if(c)c.declarative?l(a,[]):c.evaluated||j(c),b=c.module.exports;else if(b=m(a),!b)throw new Error("Unable to load dependency "+a+".");return(!c||c.declarative)&&b&&b.__useDefault?b["default"]:b}function j(b){if(!b.module){var c={},d=b.module={exports:c,id:b.name};if(!b.executingRequire)for(var e=0,f=b.normalizedDeps.length;f>e;e++){var g=b.normalizedDeps[e],h=n[g];h&&j(h)}b.evaluated=!0;var l=b.execute.call(a,function(a){for(var c=0,d=b.deps.length;d>c;c++)if(b.deps[c]==a)return i(b.normalizedDeps[c]);throw new TypeError("Module "+a+" not declared as a dependency.")},c,d);l&&(d.exports=l),c=d.exports,c&&c.__esModule?b.esModule=c:b.esModule=k(c)}}function k(b){if(b===a)return b;var c={};if("object"==typeof b||"function"==typeof b)if(p){var d;for(var e in b)(d=Object.getOwnPropertyDescriptor(b,e))&&r(c,e,d)}else{var f=b&&b.hasOwnProperty;for(var e in b)(!f||b.hasOwnProperty(e))&&(c[e]=b[e])}return c["default"]=b,r(c,"__useDefault",{value:!0}),c}function l(b,c){var d=n[b];if(d&&!d.evaluated&&d.declarative){c.push(b);for(var e=0,f=d.normalizedDeps.length;f>e;e++){var g=d.normalizedDeps[e];-1==o.call(c,g)&&(n[g]?l(g,c):m(g))}d.evaluated||(d.evaluated=!0,d.module.execute.call(a))}}function m(a){if(u[a])return u[a];if("@node/"==a.substr(0,6))return t(a.substr(6));var b=n[a];if(!b)throw"Module "+a+" not present.";return f(a),l(a,[]),n[a]=void 0,b.declarative&&r(b.module.exports,"__esModule",{value:!0}),u[a]=b.declarative?b.module.exports:b.esModule}var n={},o=Array.prototype.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},p=!0;try{Object.getOwnPropertyDescriptor({a:0},"a")}catch(q){p=!1}var r;!function(){try{Object.defineProperty({},"a",{})&&(r=Object.defineProperty)}catch(a){r=function(a,b,c){try{a[b]=c.value||c.get.call(a)}catch(d){}}}}();var s={},t="undefined"!=typeof System&&System._nodeRequire||"undefined"!=typeof require&&require.resolve&&"undefined"!=typeof process&&require,u={"@empty":{}};return function(a,d,e){return function(f){f(function(f){for(var g={_nodeRequire:t,register:b,registerDynamic:c,get:m,set:function(a,b){u[a]=b},newModule:function(a){return a}},h=0;h<d.length;h++)(function(a,b){b&&b.__esModule?u[a]=b:u[a]=k(b)})(d[h],arguments[h]);e(g);var i=m(a[0]);if(a.length>1)for(var h=1;h<a.length;h++)m(a[h]);return i.__useDefault?i["default"]:i})}}}("undefined"!=typeof self?self:global)(["1"],[],function(a){!function(b){function c(a,b){for(var c=a.split(".");c.length;)b=b[c.shift()];return b}function d(a){if(Object.keys)Object.keys(b).forEach(a);else for(var c in b)h.call(b,c)&&a(c)}function e(a){d(function(c){if(-1==i.call(j,c)){try{var d=b[c]}catch(e){j.push(c)}a(c,d)}})}var f,g=a,h=Object.prototype.hasOwnProperty,i=Array.prototype.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},j=["_g","sessionStorage","localStorage","clipboardData","frames","frameElement","external","mozAnimationStartTime","webkitStorageInfo","webkitIndexedDB"];g.set("@@global-helpers",g.newModule({prepareGlobal:function(a,d,g){var h=b.define;b.define=void 0,b.exports=void 0,b.module&&b.module.exports&&(b.module=void 0);var i;if(g){i={};for(var j in g)i[j]=b[j],b[j]=g[j]}return d||(f={},e(function(a,b){f[a]=b})),function(){var a;if(d)a=c(d,b);else{var g,j,k={};e(function(a,b){f[a]!==b&&"undefined"!=typeof b&&(k[a]=b,"undefined"!=typeof g?j||g===b||(j=!0):g=b)}),a=j?k:g}if(i)for(var l in i)b[l]=i[l];return b.define=h,a}}}))}("undefined"!=typeof self?self:global),!function(){var b=a;if("undefined"!=typeof window&&"undefined"!=typeof document&&window.location)var c=location.protocol+"//"+location.hostname+(location.port?":"+location.port:"");b.set("@@cjs-helpers",b.newModule({getPathVars:function(a){var b,d=a.lastIndexOf("!");b=-1!=d?a.substr(0,d):a;var e=b.split("/");return e.pop(),e=e.join("/"),"file:///"==b.substr(0,8)?(b=b.substr(7),e=e.substr(7),isWindows&&(b=b.substr(1),e=e.substr(1))):c&&b.substr(0,c.length)===c&&(b=b.substr(c.length),e=e.substr(c.length)),{filename:b,dirname:e}}}))}(),!function(b){function c(a,b){a=a.replace(i,"");var c=a.match(l),d=(c[1].split(",")[b]||"require").replace(m,""),e=n[d]||(n[d]=new RegExp(j+d+k,"g"));e.lastIndex=0;for(var f,g=[];f=e.exec(a);)g.push(f[2]||f[3]);return g}function d(a,b,c,e){if("object"==typeof a&&!(a instanceof Array))return d.apply(null,Array.prototype.splice.call(arguments,1,arguments.length-1));if("string"==typeof a&&"function"==typeof b&&(a=[a]),!(a instanceof Array)){if("string"==typeof a){var f=g.get(a);return f.__useDefault?f["default"]:f}throw new TypeError("Invalid require")}for(var h=[],i=0;i<a.length;i++)h.push(g["import"](a[i],e));Promise.all(h).then(function(a){b&&b.apply(null,a)},c)}function e(a,e,f){"string"!=typeof a&&(f=e,e=a,a=null),e instanceof Array||(f=e,e=["require","exports","module"].splice(0,f.length)),"function"!=typeof f&&(f=function(a){return function(){return a}}(f)),void 0===e[e.length-1]&&e.pop();var i,j,k;-1!=(i=h.call(e,"require"))&&(e.splice(i,1),a||(e=e.concat(c(f.toString(),i)))),-1!=(j=h.call(e,"exports"))&&e.splice(j,1),-1!=(k=h.call(e,"module"))&&e.splice(k,1);var l={name:a,deps:e,execute:function(a,c,h){for(var l=[],m=0;m<e.length;m++)l.push(a(e[m]));h.uri=h.id,h.config=function(){},-1!=k&&l.splice(k,0,h),-1!=j&&l.splice(j,0,c),-1!=i&&l.splice(i,0,function(b,c,e){return"string"==typeof b&&"function"!=typeof c?a(b):d.call(g,b,c,e,h.id)});var n=f.apply(-1==j?b:c,l);return"undefined"==typeof n&&h&&(n=h.exports),"undefined"!=typeof n?n:void 0}};if(a)o.anonDefine||o.isBundle?(o.anonDefine&&o.anonDefine.name&&g.registerDynamic(o.anonDefine.name,o.anonDefine.deps,!1,o.anonDefine.execute),o.anonDefine=null):o.anonDefine=l,o.isBundle=!0,g.registerDynamic(a,l.deps,!1,l.execute);else{if(o.anonDefine)throw new TypeError("Multiple defines for anonymous module");o.anonDefine=l}}function f(a){o.anonDefine=null,o.isBundle=!1;var c=b.module,d=b.exports,f=b.define;return b.module=void 0,b.exports=void 0,b.define=e,function(){b.define=f,b.module=c,b.exports=d}}var g=a,h=Array.prototype.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},i=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,j="(?:^|[^$_a-zA-Z\\xA0-\\uFFFF.])",k="\\s*\\(\\s*(\"([^\"]+)\"|'([^']+)')\\s*\\)",l=/\(([^\)]*)\)/,m=/^\s+|\s+$/g,n={};e.amd={};var o={isBundle:!1,anonDefine:null};g.set("@@amd-helpers",g.newModule({createDefine:f,require:d,define:e,lastModule:o})),g.amdDefine=e,g.amdRequire=d}("undefined"!=typeof self?self:global),a.registerDynamic("2",[],!0,function(a,b,c){"use strict";var d=this,e=d.define;d.define=void 0;var f={isBatchingUpdates:!1,batchedUpdates:function(a){}};return c.exports=f,d.define=e,c.exports}),a.registerDynamic("3",["4","5","6","7","8"],!0,function(a,b,c){"use strict";function d(a){this.reinitializeTransaction(),this.renderToStaticMarkup=a,this.reactMountReady=h.getPooled(null),this.useCreateElement=!1}var e=this,f=e.define;e.define=void 0;var g=a("4"),h=a("5"),i=a("6"),j=a("7"),k=a("8"),l={initialize:function(){this.reactMountReady.reset()},close:k},m=[l],n={getTransactionWrappers:function(){return m},getReactMountReady:function(){return this.reactMountReady},destructor:function(){h.release(this.reactMountReady),this.reactMountReady=null}};return j(d.prototype,i.Mixin,n),g.addPoolingTo(d),c.exports=d,e.define=f,c.exports}),a.registerDynamic("9",["a","b","c","d","2","3","e","11","f","12","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a){g.isValidElement(a)?void 0:o(!1);var b;try{l.injection.injectBatchingStrategy(j);var c=h.createReactRootID();return b=k.getPooled(!1),b.perform(function(){var d=n(a,null),e=d.mountComponent(c,b,m);return i.addChecksumToMarkup(e)},null)}finally{k.release(b),l.injection.injectBatchingStrategy(f)}}function e(a){g.isValidElement(a)?void 0:o(!1);var b;try{l.injection.injectBatchingStrategy(j);var c=h.createReactRootID();return b=k.getPooled(!0),b.perform(function(){var d=n(a,null);return d.mountComponent(c,b,m)},null)}finally{k.release(b),l.injection.injectBatchingStrategy(f)}}var f=a("a"),g=a("b"),h=a("c"),i=a("d"),j=a("2"),k=a("3"),l=a("e"),m=a("11"),n=a("f"),o=a("12");c.exports={renderToString:d,renderToStaticMarkup:e}}(a("10")),d.define=e,c.exports}),a.registerDynamic("13",["14","9","15"],!0,function(a,b,c){"use strict";var d=this,e=d.define;d.define=void 0;var f=a("14"),g=a("9"),h=a("15");f.inject();var i={renderToString:g.renderToString,renderToStaticMarkup:g.renderToStaticMarkup,version:h};return c.exports=i,d.define=e,c.exports}),a.registerDynamic("16",[],!0,function(a,b,c){"use strict";function d(a,b,c){if(!a)return null;var d={};for(var e in a)g.call(a,e)&&(d[e]=b.call(c,a[e],e,a));return d}var e=this,f=e.define;e.define=void 0;var g=Object.prototype.hasOwnProperty;return c.exports=d,e.define=f,c.exports}),a.registerDynamic("17",["b","18","16","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a){return e.createFactory(a)}var e=a("b"),f=(a("18"),a("16")),g=f({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},d);c.exports=g}(a("10")),d.define=e,c.exports}),a.registerDynamic("18",["b","19","1a","1b","1c","1d","12","1e","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(){if(l.current){var a=l.current.getName();if(a)return" Check the render method of `"+a+"`."}return""}function e(a,b){if(a._store&&!a._store.validated&&null==a.key){a._store.validated=!0;f("uniqueKey",a,b)}}function f(a,b,c){var e=d();if(!e){var f="string"==typeof c?c:c.displayName||c.name;f&&(e=" Check the top-level render call using <"+f+">.")}var g=o[a]||(o[a]={});if(g[e])return null;g[e]=!0;var h={parentOrOwner:e,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return b&&b._owner&&b._owner!==l.current&&(h.childOwner=" It was passed a child from "+b._owner.getName()+"."),h}function g(a,b){if("object"==typeof a)if(Array.isArray(a))for(var c=0;c<a.length;c++){var d=a[c];j.isValidElement(d)&&e(d,b)}else if(j.isValidElement(a))a._store&&(a._store.validated=!0);else if(a){var f=m(a);if(f&&f!==a.entries)for(var g,h=f.call(a);!(g=h.next()).done;)j.isValidElement(g.value)&&e(g.value,b)}}function h(a,b,c,e){for(var f in b)if(b.hasOwnProperty(f)){var g;try{"function"!=typeof b[f]?n(!1):void 0,g=b[f](c,f,a,e)}catch(h){g=h}if(g instanceof Error&&!(g.message in p)){p[g.message]=!0;d()}}}function i(a){var b=a.type;if("function"==typeof b){var c=b.displayName||b.name;b.propTypes&&h(c,b.propTypes,a.props,k.prop),"function"==typeof b.getDefaultProps}}var j=a("b"),k=a("19"),l=(a("1a"),a("1b")),m=(a("1c"),a("1d")),n=a("12"),o=(a("1e"),{}),p={},q={createElement:function(a,b,c){var d="string"==typeof a||"function"==typeof a,e=j.createElement.apply(this,arguments);if(null==e)return e;if(d)for(var f=2;f<arguments.length;f++)g(arguments[f],a);return i(e),e},createFactory:function(a){var b=q.createElement.bind(null,a);return b.type=a,b},cloneElement:function(a,b,c){for(var d=j.cloneElement.apply(this,arguments),e=2;e<arguments.length;e++)g(arguments[e],d.type);return i(d),d}};c.exports=q}(a("10")),d.define=e,c.exports}),a.registerDynamic("1f",["b","12","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a){return e.isValidElement(a)?void 0:f(!1),a}var e=a("b"),f=a("12");c.exports=d}(a("10")),d.define=e,c.exports}),a.registerDynamic("20",["21","22","23","17","b","18","24","15","7","1f","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";var d=a("21"),e=a("22"),f=a("23"),g=a("17"),h=a("b"),i=(a("18"),a("24")),j=a("15"),k=a("7"),l=a("1f"),m=h.createElement,n=h.createFactory,o=h.cloneElement,p={Children:{map:d.map,forEach:d.forEach,count:d.count,toArray:d.toArray,only:l},Component:e,createElement:m,cloneElement:o,isValidElement:h.isValidElement,PropTypes:i,createClass:f.createClass,createFactory:n,createMixin:function(a){return a},DOM:g,version:j,__spread:k};c.exports=p}(a("10")),d.define=e,c.exports}),a.registerDynamic("25",["7","1e","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a,b,c,d,e){return e}a("7"),a("1e");c.exports=d}(a("10")),d.define=e,c.exports}),a.registerDynamic("26",["27","13","20","7","25"],!0,function(a,b,c){"use strict";var d=this,e=d.define;d.define=void 0;var f=a("27"),g=a("13"),h=a("20"),i=a("7"),j=a("25"),k={};return i(k,h),i(k,{findDOMNode:j("findDOMNode","ReactDOM","react-dom",f,f.findDOMNode),render:j("render","ReactDOM","react-dom",f,f.render),unmountComponentAtNode:j("unmountComponentAtNode","ReactDOM","react-dom",f,f.unmountComponentAtNode),renderToString:j("renderToString","ReactDOMServer","react-dom/server",g,g.renderToString),renderToStaticMarkup:j("renderToStaticMarkup","ReactDOMServer","react-dom/server",g,g.renderToStaticMarkup)}),k.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f,k.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g,c.exports=k,d.define=e,c.exports}),a.registerDynamic("28",["26"],!0,function(a,b,c){"use strict";var d=this,e=d.define;return d.define=void 0,c.exports=a("26"),d.define=e,c.exports}),a.registerDynamic("29",["28"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,c.exports=a("28"),d.define=e,c.exports}),a.registerDynamic("2a",["4","7","2b"],!0,function(a,b,c){"use strict";function d(a){this._root=a,this._startText=this.getText(),this._fallbackText=null}var e=this,f=e.define;e.define=void 0;var g=a("4"),h=a("7"),i=a("2b");return h(d.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[i()]},getData:function(){if(this._fallbackText)return this._fallbackText;var a,b,c=this._startText,d=c.length,e=this.getText(),f=e.length;for(a=0;d>a&&c[a]===e[a];a++);var g=d-a;for(b=1;g>=b&&c[d-b]===e[f-b];b++);var h=b>1?1-b:void 0;return this._fallbackText=e.slice(a,h),this._fallbackText}}),g.addPoolingTo(d),c.exports=d,e.define=f,c.exports}),a.registerDynamic("2c",["2d"],!0,function(a,b,c){"use strict";function d(a,b,c,d){g.call(this,a,b,c,d)}var e=this,f=e.define;e.define=void 0;var g=a("2d"),h={data:null};return g.augmentClass(d,h),c.exports=d,e.define=f,c.exports}),a.registerDynamic("2e",["2d"],!0,function(a,b,c){"use strict";function d(a,b,c,d){g.call(this,a,b,c,d)}var e=this,f=e.define;e.define=void 0;var g=a("2d"),h={data:null};return g.augmentClass(d,h),c.exports=d,e.define=f,c.exports}),a.registerDynamic("2f",["30","31","32","2a","2c","2e","33"],!0,function(a,b,c){"use strict";function d(){var a=window.opera;return"object"==typeof a&&"function"==typeof a.version&&parseInt(a.version(),10)<=12}function e(a){return(a.ctrlKey||a.altKey||a.metaKey)&&!(a.ctrlKey&&a.altKey)}function f(a){switch(a){case E.topCompositionStart:return F.compositionStart;case E.topCompositionEnd:return F.compositionEnd;case E.topCompositionUpdate:return F.compositionUpdate}}function g(a,b){return a===E.topKeyDown&&b.keyCode===x}function h(a,b){switch(a){case E.topKeyUp:return-1!==w.indexOf(b.keyCode);case E.topKeyDown:return b.keyCode!==x;case E.topKeyPress:case E.topMouseDown:case E.topBlur:return!0;default:return!1}}function i(a){var b=a.detail;return"object"==typeof b&&"data"in b?b.data:null}function j(a,b,c,d,e){var j,k;if(y?j=f(a):H?h(a,d)&&(j=F.compositionEnd):g(a,d)&&(j=F.compositionStart),!j)return null;B&&(H||j!==F.compositionStart?j===F.compositionEnd&&H&&(k=H.getData()):H=s.getPooled(b));var l=t.getPooled(j,c,d,e);if(k)l.data=k;else{var m=i(d);null!==m&&(l.data=m)}return q.accumulateTwoPhaseDispatches(l),l}function k(a,b){switch(a){case E.topCompositionEnd:return i(b);case E.topKeyPress:var c=b.which;return c!==C?null:(G=!0,D);case E.topTextInput:var d=b.data;return d===D&&G?null:d;default:return null}}function l(a,b){if(H){if(a===E.topCompositionEnd||h(a,b)){var c=H.getData();return s.release(H),H=null,c}return null}switch(a){case E.topPaste:return null;case E.topKeyPress:return b.which&&!e(b)?String.fromCharCode(b.which):null;case E.topCompositionEnd:return B?null:b.data;default:return null}}function m(a,b,c,d,e){var f;if(f=A?k(a,d):l(a,d),!f)return null;var g=u.getPooled(F.beforeInput,c,d,e);return g.data=f,q.accumulateTwoPhaseDispatches(g),g}var n=this,o=n.define;n.define=void 0;var p=a("30"),q=a("31"),r=a("32"),s=a("2a"),t=a("2c"),u=a("2e"),v=a("33"),w=[9,13,27,32],x=229,y=r.canUseDOM&&"CompositionEvent"in window,z=null;r.canUseDOM&&"documentMode"in document&&(z=document.documentMode);var A=r.canUseDOM&&"TextEvent"in window&&!z&&!d(),B=r.canUseDOM&&(!y||z&&z>8&&11>=z),C=32,D=String.fromCharCode(C),E=p.topLevelTypes,F={beforeInput:{phasedRegistrationNames:{bubbled:v({onBeforeInput:null}),captured:v({onBeforeInputCapture:null})},dependencies:[E.topCompositionEnd,E.topKeyPress,E.topTextInput,E.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:v({onCompositionEnd:null}),captured:v({onCompositionEndCapture:null})},dependencies:[E.topBlur,E.topCompositionEnd,E.topKeyDown,E.topKeyPress,E.topKeyUp,E.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:v({onCompositionStart:null}),captured:v({onCompositionStartCapture:null})},dependencies:[E.topBlur,E.topCompositionStart,E.topKeyDown,E.topKeyPress,E.topKeyUp,E.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:v({onCompositionUpdate:null}),captured:v({onCompositionUpdateCapture:null})},dependencies:[E.topBlur,E.topCompositionUpdate,E.topKeyDown,E.topKeyPress,E.topKeyUp,E.topMouseDown]}},G=!1,H=null,I={eventTypes:F,extractEvents:function(a,b,c,d,e){return[j(a,b,c,d,e),m(a,b,c,d,e)]}};return c.exports=I,n.define=o,c.exports}),a.registerDynamic("34",["30","35","31","32","e","2d","36","37","38","33","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a){var b=a.nodeName&&a.nodeName.toLowerCase();return"select"===b||"input"===b&&"file"===a.type}function e(a){var b=x.getPooled(D.change,F,a,y(a));u.accumulateTwoPhaseDispatches(b),w.batchedUpdates(f,b)}function f(a){t.enqueueEvents(a),t.processEventQueue(!1)}function g(a,b){E=a,F=b,E.attachEvent("onchange",e)}function h(){E&&(E.detachEvent("onchange",e),E=null,F=null)}function i(a,b,c){return a===C.topChange?c:void 0}function j(a,b,c){a===C.topFocus?(h(),g(b,c)):a===C.topBlur&&h()}function k(a,b){E=a,F=b,G=a.value,H=Object.getOwnPropertyDescriptor(a.constructor.prototype,"value"),Object.defineProperty(E,"value",K),E.attachEvent("onpropertychange",m)}function l(){E&&(delete E.value,E.detachEvent("onpropertychange",m),E=null,F=null,G=null,H=null)}function m(a){if("value"===a.propertyName){var b=a.srcElement.value;b!==G&&(G=b,e(a))}}function n(a,b,c){return a===C.topInput?c:void 0}function o(a,b,c){a===C.topFocus?(l(),k(b,c)):a===C.topBlur&&l()}function p(a,b,c){return a!==C.topSelectionChange&&a!==C.topKeyUp&&a!==C.topKeyDown||!E||E.value===G?void 0:(G=E.value,F)}function q(a){return a.nodeName&&"input"===a.nodeName.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)}function r(a,b,c){return a===C.topClick?c:void 0}var s=a("30"),t=a("35"),u=a("31"),v=a("32"),w=a("e"),x=a("2d"),y=a("36"),z=a("37"),A=a("38"),B=a("33"),C=s.topLevelTypes,D={change:{phasedRegistrationNames:{bubbled:B({onChange:null}),captured:B({onChangeCapture:null})},dependencies:[C.topBlur,C.topChange,C.topClick,C.topFocus,C.topInput,C.topKeyDown,C.topKeyUp,C.topSelectionChange]}},E=null,F=null,G=null,H=null,I=!1;v.canUseDOM&&(I=z("change")&&(!("documentMode"in document)||document.documentMode>8));var J=!1;v.canUseDOM&&(J=z("input")&&(!("documentMode"in document)||document.documentMode>9));var K={get:function(){return H.get.call(this)},set:function(a){G=""+a,H.set.call(this,a)}},L={eventTypes:D,extractEvents:function(a,b,c,e,f){var g,h;if(d(b)?I?g=i:h=j:A(b)?J?g=n:(g=p,h=o):q(b)&&(g=r),g){var k=g(a,b,c);if(k){var l=x.getPooled(D.change,k,e,f);return l.type="change",u.accumulateTwoPhaseDispatches(l),l}}h&&h(a,b,c)}};c.exports=L}(a("10")),d.define=e,c.exports}),a.registerDynamic("39",[],!0,function(a,b,c){"use strict";var d=this,e=d.define;d.define=void 0;var f=0,g={createReactRootIndex:function(){return f++}};return c.exports=g,d.define=e,c.exports}),a.registerDynamic("3a",["33"],!0,function(a,b,c){"use strict";var d=this,e=d.define;d.define=void 0;var f=a("33"),g=[f({ResponderEventPlugin:null}),f({SimpleEventPlugin:null}),f({TapEventPlugin:null}),f({EnterLeaveEventPlugin:null}),f({ChangeEventPlugin:null}),f({SelectEventPlugin:null}),f({BeforeInputEventPlugin:null})];return c.exports=g,d.define=e,c.exports}),a.registerDynamic("3b",["30","31","3c","3d","33"],!0,function(a,b,c){"use strict";var d=this,e=d.define;d.define=void 0;var f=a("30"),g=a("31"),h=a("3c"),i=a("3d"),j=a("33"),k=f.topLevelTypes,l=i.getFirstReactDOM,m={mouseEnter:{registrationName:j({onMouseEnter:null}),dependencies:[k.topMouseOut,k.topMouseOver]},mouseLeave:{registrationName:j({onMouseLeave:null}),dependencies:[k.topMouseOut,k.topMouseOver]}},n=[null,null],o={eventTypes:m,extractEvents:function(a,b,c,d,e){if(a===k.topMouseOver&&(d.relatedTarget||d.fromElement))return null;if(a!==k.topMouseOut&&a!==k.topMouseOver)return null;var f;if(b.window===b)f=b;else{var j=b.ownerDocument;f=j?j.defaultView||j.parentWindow:window}var o,p,q="",r="";if(a===k.topMouseOut?(o=b,q=c,p=l(d.relatedTarget||d.toElement),p?r=i.getID(p):p=f,p=p||f):(o=f,p=b,r=c),o===p)return null;var s=h.getPooled(m.mouseLeave,q,d,e);s.type="mouseleave",s.target=o,s.relatedTarget=p;var t=h.getPooled(m.mouseEnter,r,d,e);return t.type="mouseenter",t.target=p,t.relatedTarget=o,g.accumulateEnterLeaveDispatches(s,t,q,r),n[0]=s,n[1]=t,n}};return c.exports=o,d.define=e,c.exports}),a.registerDynamic("3e",["3f","32"],!0,function(a,b,c){"use strict";var d=this,e=d.define;d.define=void 0;var f,g=a("3f"),h=a("32"),i=g.injection.MUST_USE_ATTRIBUTE,j=g.injection.MUST_USE_PROPERTY,k=g.injection.HAS_BOOLEAN_VALUE,l=g.injection.HAS_SIDE_EFFECTS,m=g.injection.HAS_NUMERIC_VALUE,n=g.injection.HAS_POSITIVE_NUMERIC_VALUE,o=g.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(h.canUseDOM){var p=document.implementation;f=p&&p.hasFeature&&p.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var q={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:i|k,allowTransparency:i,alt:null,async:k,autoComplete:null,autoPlay:k,capture:i|k,cellPadding:null,cellSpacing:null,charSet:i,challenge:i,checked:j|k,classID:i,className:f?i:j,cols:i|n,colSpan:null,content:null,contentEditable:null,contextMenu:i,controls:j|k,coords:null,crossOrigin:null,data:null,dateTime:i,"default":k,defer:k,dir:null,disabled:i|k,download:o,draggable:null,encType:null,form:i,formAction:i,formEncType:i,formMethod:i,formNoValidate:k,formTarget:i,frameBorder:i,headers:null,height:i,hidden:i|k,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:j,inputMode:i,integrity:null,is:i,keyParams:i,keyType:i,kind:null,label:null,lang:null,list:i,loop:j|k,low:null,manifest:i,marginHeight:null,marginWidth:null,max:null,maxLength:i,media:i,mediaGroup:null,method:null,min:null,minLength:i,multiple:j|k,muted:j|k,name:null,nonce:i,noValidate:k,open:k,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:j|k,rel:null,required:k,reversed:k,role:i,rows:i|n,rowSpan:null,sandbox:null,scope:null,scoped:k,scrolling:null,seamless:i|k,selected:j|k,shape:null,size:i|n,sizes:i,span:n,spellCheck:null,src:null,srcDoc:j,srcLang:null,srcSet:i,start:m,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:j|l,width:i,wmode:i,wrap:null,about:i,datatype:i,inlist:i,prefix:i,property:i,resource:i,"typeof":i,vocab:i,autoCapitalize:i,autoCorrect:i,autoSave:null,color:null,itemProp:i,itemScope:i|k,itemType:i,itemID:i,itemRef:i,results:null,security:i,unselectable:i},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoComplete:"autocomplete",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};return c.exports=q,d.define=e,c.exports}),a.registerDynamic("40",["41","42","1e","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";var d=(a("41"),a("42")),e=(a("1e"),"_getDOMNodeDidWarn"),f={getDOMNode:function(){return this.constructor[e]=!0,d(this)}};c.exports=f}(a("10")),d.define=e,c.exports}),a.registerDynamic("a",["e","6","7","8"],!0,function(a,b,c){"use strict";function d(){this.reinitializeTransaction()}var e=this,f=e.define;e.define=void 0;var g=a("e"),h=a("6"),i=a("7"),j=a("8"),k={initialize:j,close:function(){o.isBatchingUpdates=!1}},l={initialize:j,close:g.flushBatchedUpdates.bind(g)},m=[l,k];i(d.prototype,h.Mixin,{getTransactionWrappers:function(){return m}});var n=new d,o={isBatchingUpdates:!1,batchedUpdates:function(a,b,c,d,e,f){var g=o.isBatchingUpdates;o.isBatchingUpdates=!0,g?a(b,c,d,e,f):n.perform(a,null,b,c,d,e,f)}};return c.exports=o,e.define=f,c.exports}),a.registerDynamic("43",["3d","42","44"],!0,function(a,b,c){"use strict";var d=this,e=d.define;d.define=void 0;var f=a("3d"),g=a("42"),h=a("44"),i={componentDidMount:function(){this.props.autoFocus&&h(g(this))}},j={Mixin:i,focusDOMComponent:function(){h(f.getNode(this._rootNodeID))}};return c.exports=j,d.define=e,c.exports}),a.registerDynamic("45",[],!0,function(a,b,c){"use strict";function d(a){return a.replace(g,function(a,b){return b.toUpperCase()})}var e=this,f=e.define;e.define=void 0;var g=/-(.)/g;return c.exports=d,e.define=f,c.exports}),a.registerDynamic("46",["45"],!0,function(a,b,c){"use strict";function d(a){return g(a.replace(h,"ms-"))}var e=this,f=e.define;e.define=void 0;var g=a("45"),h=/^-ms-/;return c.exports=d,e.define=f,c.exports}),a.registerDynamic("47",[],!0,function(a,b,c){"use strict";function d(a,b){return a+b.charAt(0).toUpperCase()+b.substring(1)}var e=this,f=e.define;e.define=void 0;var g={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},h=["Webkit","ms","Moz","O"];Object.keys(g).forEach(function(a){h.forEach(function(b){g[d(b,a)]=g[a]})});var i={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},j={isUnitlessNumber:g,shorthandPropertyExpansions:i};return c.exports=j,e.define=f,c.exports}),a.registerDynamic("48",["47"],!0,function(a,b,c){"use strict";function d(a,b){var c=null==b||"boolean"==typeof b||""===b;if(c)return"";var d=isNaN(b);return d||0===b||h.hasOwnProperty(a)&&h[a]?""+b:("string"==typeof b&&(b=b.trim()),b+"px")}var e=this,f=e.define;e.define=void 0;var g=a("47"),h=g.isUnitlessNumber;return c.exports=d,e.define=f,c.exports}),a.registerDynamic("49",[],!0,function(a,b,c){"use strict";function d(a){return a.replace(g,"-$1").toLowerCase()}var e=this,f=e.define;e.define=void 0;var g=/([A-Z])/g;return c.exports=d,e.define=f,c.exports}),a.registerDynamic("4a",["49"],!0,function(a,b,c){"use strict";function d(a){return g(a).replace(h,"-ms-")}var e=this,f=e.define;e.define=void 0;var g=a("49"),h=/^ms-/;return c.exports=d,e.define=f,c.exports}),a.registerDynamic("4b",[],!0,function(a,b,c){"use strict";function d(a){var b={};return function(c){return b.hasOwnProperty(c)||(b[c]=a.call(this,c)),b[c]}}var e=this,f=e.define;return e.define=void 0,c.exports=d,e.define=f,c.exports}),a.registerDynamic("4c",["47","32","4d","46","48","4a","4b","1e","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,
function(b){"use strict";var d=a("47"),e=a("32"),f=a("4d"),g=(a("46"),a("48")),h=a("4a"),i=a("4b"),j=(a("1e"),i(function(a){return h(a)})),k=!1,l="cssFloat";if(e.canUseDOM){var m=document.createElement("div").style;try{m.font=""}catch(n){k=!0}void 0===document.documentElement.style.cssFloat&&(l="styleFloat")}var o={createMarkupForStyles:function(a){var b="";for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];null!=d&&(b+=j(c)+":",b+=g(c,d)+";")}return b||null},setValueForStyles:function(a,b){var c=a.style;for(var e in b)if(b.hasOwnProperty(e)){var f=g(e,b[e]);if("float"===e&&(e=l),f)c[e]=f;else{var h=k&&d.shorthandPropertyExpansions[e];if(h)for(var i in h)c[i]="";else c[e]=""}}}};f.measureMethods(o,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),c.exports=o}(a("10")),d.define=e,c.exports}),a.registerDynamic("4e",[],!0,function(a,b,c){"use strict";var d=this,e=d.define;d.define=void 0;var f={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},g={getNativeProps:function(a,b,c){if(!b.disabled)return b;var d={};for(var e in b)b.hasOwnProperty(e)&&!f[e]&&(d[e]=b[e]);return d}};return c.exports=g,d.define=e,c.exports}),a.registerDynamic("4f",["50","51","3d","e","7","12","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(){this._rootNodeID&&m.updateWrapper(this)}function e(a){var b=this._currentElement.props,c=g.executeOnChange(b,a);i.asap(d,this);var e=b.name;if("radio"===b.type&&null!=e){for(var f=h.getNode(this._rootNodeID),j=f;j.parentNode;)j=j.parentNode;for(var m=j.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),n=0;n<m.length;n++){var o=m[n];if(o!==f&&o.form===f.form){var p=h.getID(o);p?void 0:k(!1);var q=l[p];q?void 0:k(!1),i.asap(d,q)}}}return c}var f=a("50"),g=a("51"),h=a("3d"),i=a("e"),j=a("7"),k=a("12"),l={},m={getNativeProps:function(a,b,c){var d=g.getValue(b),e=g.getChecked(b),f=j({},b,{defaultChecked:void 0,defaultValue:void 0,value:null!=d?d:a._wrapperState.initialValue,checked:null!=e?e:a._wrapperState.initialChecked,onChange:a._wrapperState.onChange});return f},mountWrapper:function(a,b){var c=b.defaultValue;a._wrapperState={initialChecked:b.defaultChecked||!1,initialValue:null!=c?c:null,onChange:e.bind(a)}},mountReadyWrapper:function(a){l[a._rootNodeID]=a},unmountWrapper:function(a){delete l[a._rootNodeID]},updateWrapper:function(a){var b=a._currentElement.props,c=b.checked;null!=c&&f.updatePropertyByID(a._rootNodeID,"checked",c||!1);var d=g.getValue(b);null!=d&&f.updatePropertyByID(a._rootNodeID,"value",""+d)}};c.exports=m}(a("10")),d.define=e,c.exports}),a.registerDynamic("21",["4","b","8","52"],!0,function(a,b,c){"use strict";function d(a){return(""+a).replace(w,"//")}function e(a,b){this.func=a,this.context=b,this.count=0}function f(a,b,c){var d=a.func,e=a.context;d.call(e,b,a.count++)}function g(a,b,c){if(null==a)return a;var d=e.getPooled(b,c);t(a,f,d),e.release(d)}function h(a,b,c,d){this.result=a,this.keyPrefix=b,this.func=c,this.context=d,this.count=0}function i(a,b,c){var e=a.result,f=a.keyPrefix,g=a.func,h=a.context,i=g.call(h,b,a.count++);Array.isArray(i)?j(i,e,c,s.thatReturnsArgument):null!=i&&(r.isValidElement(i)&&(i=r.cloneAndReplaceKey(i,f+(i!==b?d(i.key||"")+"/":"")+c)),e.push(i))}function j(a,b,c,e,f){var g="";null!=c&&(g=d(c)+"/");var j=h.getPooled(b,g,e,f);t(a,i,j),h.release(j)}function k(a,b,c){if(null==a)return a;var d=[];return j(a,d,null,b,c),d}function l(a,b,c){return null}function m(a,b){return t(a,l,null)}function n(a){var b=[];return j(a,b,null,s.thatReturnsArgument),b}var o=this,p=o.define;o.define=void 0;var q=a("4"),r=a("b"),s=a("8"),t=a("52"),u=q.twoArgumentPooler,v=q.fourArgumentPooler,w=/\/(?!\/)/g;e.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},q.addPoolingTo(e,u),h.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},q.addPoolingTo(h,v);var x={forEach:g,map:k,mapIntoWithKeyPrefixInternal:j,count:m,toArray:n};return c.exports=x,o.define=p,c.exports}),a.registerDynamic("53",["21","54","7","1e","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";var d=a("21"),e=a("54"),f=a("7"),g=(a("1e"),e.valueContextKey),h={mountWrapper:function(a,b,c){var d=c[g],e=null;if(null!=d)if(e=!1,Array.isArray(d)){for(var f=0;f<d.length;f++)if(""+d[f]==""+b.value){e=!0;break}}else e=""+d==""+b.value;a._wrapperState={selected:e}},getNativeProps:function(a,b,c){var e=f({selected:void 0,children:void 0},b);null!=a._wrapperState.selected&&(e.selected=a._wrapperState.selected);var g="";return d.forEach(b.children,function(a){null!=a&&("string"==typeof a||"number"==typeof a)&&(g+=a)}),g&&(e.children=g),e}};c.exports=h}(a("10")),d.define=e,c.exports}),a.registerDynamic("54",["51","3d","e","7","1e","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var a=this._currentElement.props,b=g.getValue(a);null!=b&&e(this,Boolean(a.multiple),b)}}function e(a,b,c){var d,e,f=h.getNode(a._rootNodeID).options;if(b){for(d={},e=0;e<c.length;e++)d[""+c[e]]=!0;for(e=0;e<f.length;e++){var g=d.hasOwnProperty(f[e].value);f[e].selected!==g&&(f[e].selected=g)}}else{for(d=""+c,e=0;e<f.length;e++)if(f[e].value===d)return void(f[e].selected=!0);f.length&&(f[0].selected=!0)}}function f(a){var b=this._currentElement.props,c=g.executeOnChange(b,a);return this._wrapperState.pendingUpdate=!0,i.asap(d,this),c}var g=a("51"),h=a("3d"),i=a("e"),j=a("7"),k=(a("1e"),"__ReactDOMSelect_value$"+Math.random().toString(36).slice(2)),l={valueContextKey:k,getNativeProps:function(a,b,c){return j({},b,{onChange:a._wrapperState.onChange,value:void 0})},mountWrapper:function(a,b){var c=g.getValue(b);a._wrapperState={pendingUpdate:!1,initialValue:null!=c?c:b.defaultValue,onChange:f.bind(a),wasMultiple:Boolean(b.multiple)}},processChildContext:function(a,b,c){var d=j({},c);return d[k]=a._wrapperState.initialValue,d},postUpdateWrapper:function(a){var b=a._currentElement.props;a._wrapperState.initialValue=void 0;var c=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=Boolean(b.multiple);var d=g.getValue(b);null!=d?(a._wrapperState.pendingUpdate=!1,e(a,Boolean(b.multiple),d)):c!==Boolean(b.multiple)&&(null!=b.defaultValue?e(a,Boolean(b.multiple),b.defaultValue):e(a,Boolean(b.multiple),b.multiple?[]:""))}};c.exports=l}(a("10")),d.define=e,c.exports}),a.registerDynamic("24",["b","1a","8","1d"],!0,function(a,b,c){"use strict";function d(a){function b(b,c,d,e,f,g){if(e=e||y,g=g||d,null==c[d]){var h=v[f];return b?new Error("Required "+h+" `"+g+"` was not specified in "+("`"+e+"`.")):null}return a(c,d,e,f,g)}var c=b.bind(null,!1);return c.isRequired=b.bind(null,!0),c}function e(a){function b(b,c,d,e,f){var g=b[c],h=p(g);if(h!==a){var i=v[e],j=q(g);return new Error("Invalid "+i+" `"+f+"` of type "+("`"+j+"` supplied to `"+d+"`, expected ")+("`"+a+"`."))}return null}return d(b)}function f(){return d(w.thatReturns(null))}function g(a){function b(b,c,d,e,f){var g=b[c];if(!Array.isArray(g)){var h=v[e],i=p(g);return new Error("Invalid "+h+" `"+f+"` of type "+("`"+i+"` supplied to `"+d+"`, expected an array."))}for(var j=0;j<g.length;j++){var k=a(g,j,d,e,f+"["+j+"]");if(k instanceof Error)return k}return null}return d(b)}function h(){function a(a,b,c,d,e){if(!u.isValidElement(a[b])){var f=v[d];return new Error("Invalid "+f+" `"+e+"` supplied to "+("`"+c+"`, expected a single ReactElement."))}return null}return d(a)}function i(a){function b(b,c,d,e,f){if(!(b[c]instanceof a)){var g=v[e],h=a.name||y,i=r(b[c]);return new Error("Invalid "+g+" `"+f+"` of type "+("`"+i+"` supplied to `"+d+"`, expected ")+("instance of `"+h+"`."))}return null}return d(b)}function j(a){function b(b,c,d,e,f){for(var g=b[c],h=0;h<a.length;h++)if(g===a[h])return null;var i=v[e],j=JSON.stringify(a);return new Error("Invalid "+i+" `"+f+"` of value `"+g+"` "+("supplied to `"+d+"`, expected one of "+j+"."))}return d(Array.isArray(a)?b:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function k(a){function b(b,c,d,e,f){var g=b[c],h=p(g);if("object"!==h){var i=v[e];return new Error("Invalid "+i+" `"+f+"` of type "+("`"+h+"` supplied to `"+d+"`, expected an object."))}for(var j in g)if(g.hasOwnProperty(j)){var k=a(g,j,d,e,f+"."+j);if(k instanceof Error)return k}return null}return d(b)}function l(a){function b(b,c,d,e,f){for(var g=0;g<a.length;g++){var h=a[g];if(null==h(b,c,d,e,f))return null}var i=v[e];return new Error("Invalid "+i+" `"+f+"` supplied to "+("`"+d+"`."))}return d(Array.isArray(a)?b:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function m(){function a(a,b,c,d,e){if(!o(a[b])){var f=v[d];return new Error("Invalid "+f+" `"+e+"` supplied to "+("`"+c+"`, expected a ReactNode."))}return null}return d(a)}function n(a){function b(b,c,d,e,f){var g=b[c],h=p(g);if("object"!==h){var i=v[e];return new Error("Invalid "+i+" `"+f+"` of type `"+h+"` "+("supplied to `"+d+"`, expected `object`."))}for(var j in a){var k=a[j];if(k){var l=k(g,j,d,e,f+"."+j);if(l)return l}}return null}return d(b)}function o(a){switch(typeof a){case"number":case"string":case"undefined":return!0;case"boolean":return!a;case"object":if(Array.isArray(a))return a.every(o);if(null===a||u.isValidElement(a))return!0;var b=x(a);if(!b)return!1;var c,d=b.call(a);if(b!==a.entries){for(;!(c=d.next()).done;)if(!o(c.value))return!1}else for(;!(c=d.next()).done;){var e=c.value;if(e&&!o(e[1]))return!1}return!0;default:return!1}}function p(a){var b=typeof a;return Array.isArray(a)?"array":a instanceof RegExp?"object":b}function q(a){var b=p(a);if("object"===b){if(a instanceof Date)return"date";if(a instanceof RegExp)return"regexp"}return b}function r(a){return a.constructor&&a.constructor.name?a.constructor.name:"<<anonymous>>"}var s=this,t=s.define;s.define=void 0;var u=a("b"),v=a("1a"),w=a("8"),x=a("1d"),y="<<anonymous>>",z={array:e("array"),bool:e("boolean"),func:e("function"),number:e("number"),object:e("object"),string:e("string"),any:f(),arrayOf:g,element:h(),instanceOf:i,node:m(),objectOf:k,oneOf:j,oneOfType:l,shape:n};return c.exports=z,s.define=t,c.exports}),a.registerDynamic("51",["24","19","12","1e","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a){null!=a.checkedLink&&null!=a.valueLink?j(!1):void 0}function e(a){d(a),null!=a.value||null!=a.onChange?j(!1):void 0}function f(a){d(a),null!=a.checked||null!=a.onChange?j(!1):void 0}function g(a){if(a){var b=a.getName();if(b)return" Check the render method of `"+b+"`."}return""}var h=a("24"),i=a("19"),j=a("12"),k=(a("1e"),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),l={value:function(a,b,c){return!a[b]||k[a.type]||a.onChange||a.readOnly||a.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(a,b,c){return!a[b]||a.onChange||a.readOnly||a.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:h.func},m={},n={checkPropTypes:function(a,b,c){for(var d in l){if(l.hasOwnProperty(d))var e=l[d](b,d,a,i.prop);if(e instanceof Error&&!(e.message in m)){m[e.message]=!0;g(c)}}},getValue:function(a){return a.valueLink?(e(a),a.valueLink.value):a.value},getChecked:function(a){return a.checkedLink?(f(a),a.checkedLink.value):a.checked},executeOnChange:function(a,b){return a.valueLink?(e(a),a.valueLink.requestChange(b.target.value)):a.checkedLink?(f(a),a.checkedLink.requestChange(b.target.checked)):a.onChange?a.onChange.call(void 0,b):void 0}};c.exports=n}(a("10")),d.define=e,c.exports}),a.registerDynamic("55",["51","50","e","7","12","1e","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(){this._rootNodeID&&k.updateWrapper(this)}function e(a){var b=this._currentElement.props,c=f.executeOnChange(b,a);return h.asap(d,this),c}var f=a("51"),g=a("50"),h=a("e"),i=a("7"),j=a("12"),k=(a("1e"),{getNativeProps:function(a,b,c){null!=b.dangerouslySetInnerHTML?j(!1):void 0;var d=i({},b,{defaultValue:void 0,value:void 0,children:a._wrapperState.initialValue,onChange:a._wrapperState.onChange});return d},mountWrapper:function(a,b){var c=b.defaultValue,d=b.children;null!=d&&(null!=c?j(!1):void 0,Array.isArray(d)&&(d.length<=1?void 0:j(!1),d=d[0]),c=""+d),null==c&&(c="");var g=f.getValue(b);a._wrapperState={initialValue:""+(null!=g?g:c),onChange:e.bind(a)}},updateWrapper:function(a){var b=a._currentElement.props,c=f.getValue(b);null!=c&&g.updatePropertyByID(a._rootNodeID,"value",""+c)}});c.exports=k}(a("10")),d.define=e,c.exports}),a.registerDynamic("56",["57","f","58","52","1e","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a,b,c){var d=void 0===a[c];null!=b&&d&&(a[c]=f(b,null))}var e=a("57"),f=a("f"),g=a("58"),h=a("52"),i=(a("1e"),{instantiateChildren:function(a,b,c){if(null==a)return null;var e={};return h(a,d,e),e},updateChildren:function(a,b,c,d){if(!b&&!a)return null;var h;for(h in b)if(b.hasOwnProperty(h)){var i=a&&a[h],j=i&&i._currentElement,k=b[h];if(null!=i&&g(j,k))e.receiveComponent(i,k,c,d),b[h]=i;else{i&&e.unmountComponent(i,h);var l=f(k,null);b[h]=l}}for(h in a)!a.hasOwnProperty(h)||b&&b.hasOwnProperty(h)||e.unmountComponent(a[h]);return b},unmountChildren:function(a){for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];e.unmountComponent(c)}}});c.exports=i}(a("10")),d.define=e,c.exports}),a.registerDynamic("1d",[],!0,function(a,b,c){"use strict";function d(a){var b=a&&(g&&a[g]||a[h]);return"function"==typeof b?b:void 0}var e=this,f=e.define;e.define=void 0;var g="function"==typeof Symbol&&Symbol.iterator,h="@@iterator";return c.exports=d,e.define=f,c.exports}),a.registerDynamic("52",["1b","b","c","1d","12","1e","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a){return p[a]}function e(a,b){return a&&null!=a.key?g(a.key):b.toString(36)}function f(a){return(""+a).replace(q,d)}function g(a){return"$"+f(a)}function h(a,b,c,d){var f=typeof a;if(("undefined"===f||"boolean"===f)&&(a=null),null===a||"string"===f||"number"===f||j.isValidElement(a))return c(d,a,""===b?n+e(a,0):b),1;var i,k,p=0,q=""===b?n:b+o;if(Array.isArray(a))for(var r=0;r<a.length;r++)i=a[r],k=q+e(i,r),p+=h(i,k,c,d);else{var s=l(a);if(s){var t,u=s.call(a);if(s!==a.entries)for(var v=0;!(t=u.next()).done;)i=t.value,k=q+e(i,v++),p+=h(i,k,c,d);else for(;!(t=u.next()).done;){var w=t.value;w&&(i=w[1],k=q+g(w[0])+o+e(i,0),p+=h(i,k,c,d))}}else if("object"===f){String(a);m(!1)}}return p}function i(a,b,c){return null==a?0:h(a,"",b,c)}var j=(a("1b"),a("b")),k=a("c"),l=a("1d"),m=a("12"),n=(a("1e"),k.SEPARATOR),o=":",p={"=":"=0",".":"=1",":":"=2"},q=/[=.:]/g;c.exports=i}(a("10")),d.define=e,c.exports}),a.registerDynamic("59",["52","1e","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a,b,c){var d=a,e=void 0===d[c];e&&null!=b&&(d[c]=b)}function e(a){if(null==a)return a;var b={};return f(a,d,b),b}var f=a("52");a("1e");c.exports=e}(a("10")),d.define=e,c.exports}),a.registerDynamic("5a",["5b","5c","1b","57","56","59","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a,b,c){q.push({parentID:a,parentNode:null,type:l.INSERT_MARKUP,markupIndex:r.push(b)-1,content:null,fromIndex:null,toIndex:c})}function e(a,b,c){q.push({parentID:a,parentNode:null,type:l.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:b,toIndex:c})}function f(a,b){q.push({parentID:a,parentNode:null,type:l.REMOVE_NODE,markupIndex:null,content:null,fromIndex:b,toIndex:null})}function g(a,b){q.push({parentID:a,parentNode:null,type:l.SET_MARKUP,markupIndex:null,content:b,fromIndex:null,toIndex:null})}function h(a,b){q.push({parentID:a,parentNode:null,type:l.TEXT_CONTENT,markupIndex:null,content:b,fromIndex:null,toIndex:null})}function i(){q.length&&(k.processChildrenUpdates(q,r),j())}function j(){q.length=0,r.length=0}var k=a("5b"),l=a("5c"),m=(a("1b"),a("57")),n=a("56"),o=a("59"),p=0,q=[],r=[],s={Mixin:{_reconcilerInstantiateChildren:function(a,b,c){return n.instantiateChildren(a,b,c)},_reconcilerUpdateChildren:function(a,b,c,d){var e;return e=o(b),n.updateChildren(a,e,c,d)},mountChildren:function(a,b,c){var d=this._reconcilerInstantiateChildren(a,b,c);this._renderedChildren=d;var e=[],f=0;for(var g in d)if(d.hasOwnProperty(g)){var h=d[g],i=this._rootNodeID+g,j=m.mountComponent(h,i,b,c);h._mountIndex=f++,e.push(j)}return e},updateTextContent:function(a){p++;var b=!0;try{var c=this._renderedChildren;n.unmountChildren(c);for(var d in c)c.hasOwnProperty(d)&&this._unmountChild(c[d]);this.setTextContent(a),b=!1}finally{p--,p||(b?j():i())}},updateMarkup:function(a){p++;var b=!0;try{var c=this._renderedChildren;n.unmountChildren(c);for(var d in c)c.hasOwnProperty(d)&&this._unmountChildByName(c[d],d);this.setMarkup(a),b=!1}finally{p--,p||(b?j():i())}},updateChildren:function(a,b,c){p++;var d=!0;try{this._updateChildren(a,b,c),d=!1}finally{p--,p||(d?j():i())}},_updateChildren:function(a,b,c){var d=this._renderedChildren,e=this._reconcilerUpdateChildren(d,a,b,c);if(this._renderedChildren=e,e||d){var f,g=0,h=0;for(f in e)if(e.hasOwnProperty(f)){var i=d&&d[f],j=e[f];i===j?(this.moveChild(i,h,g),g=Math.max(i._mountIndex,g),i._mountIndex=h):(i&&(g=Math.max(i._mountIndex,g),this._unmountChild(i)),this._mountChildByNameAtIndex(j,f,h,b,c)),h++}for(f in d)!d.hasOwnProperty(f)||e&&e.hasOwnProperty(f)||this._unmountChild(d[f])}},unmountChildren:function(){var a=this._renderedChildren;n.unmountChildren(a),this._renderedChildren=null},moveChild:function(a,b,c){a._mountIndex<c&&e(this._rootNodeID,a._mountIndex,b)},createChild:function(a,b){d(this._rootNodeID,b,a._mountIndex)},removeChild:function(a){f(this._rootNodeID,a._mountIndex)},setTextContent:function(a){h(this._rootNodeID,a)},setMarkup:function(a){g(this._rootNodeID,a)},_mountChildByNameAtIndex:function(a,b,c,d,e){var f=this._rootNodeID+b,g=m.mountComponent(a,f,d,e);a._mountIndex=c,this.createChild(a,g)},_unmountChild:function(a){this.removeChild(a),a._mountIndex=null}}};c.exports=s}(a("10")),d.define=e,c.exports}),a.registerDynamic("5d",["43","4c","3f","5e","30","5f","60","4e","4f","53","54","55","3d","5a","4d","61","7","1c","62","12","37","33","63","64","66","65","1e","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(){return this}function e(){var a=this._reactInternalComponent;return!!a}function f(){}function g(a,b){var c=this._reactInternalComponent;c&&(G.enqueueSetPropsInternal(c,a),b&&G.enqueueCallbackInternal(c,b))}function h(a,b){var c=this._reactInternalComponent;c&&(G.enqueueReplacePropsInternal(c,a),b&&G.enqueueCallbackInternal(c,b))}function i(a,b){b&&(null!=b.dangerouslySetInnerHTML&&(null!=b.children?K(!1):void 0,"object"==typeof b.dangerouslySetInnerHTML&&U in b.dangerouslySetInnerHTML?void 0:K(!1)),null!=b.style&&"object"!=typeof b.style?K(!1):void 0)}function j(a,b,c,d){var e=D.findReactContainerForID(a);if(e){var f=e.nodeType===V?e.ownerDocument:e;P(b,f)}d.getReactMountReady().enqueue(k,{id:a,registrationName:b,listener:c})}function k(){var a=this;w.putListener(a.id,a.registrationName,a.listener)}function l(){var a=this;a._rootNodeID?void 0:K(!1);var b=D.getNode(a._rootNodeID);switch(b?void 0:K(!1),a._tag){case"iframe":a._wrapperState.listeners=[w.trapBubbledEvent(v.topLevelTypes.topLoad,"load",b)];break;case"video":case"audio":a._wrapperState.listeners=[];for(var c in W)W.hasOwnProperty(c)&&a._wrapperState.listeners.push(w.trapBubbledEvent(v.topLevelTypes[c],W[c],b));break;case"img":a._wrapperState.listeners=[w.trapBubbledEvent(v.topLevelTypes.topError,"error",b),w.trapBubbledEvent(v.topLevelTypes.topLoad,"load",b)];break;case"form":a._wrapperState.listeners=[w.trapBubbledEvent(v.topLevelTypes.topReset,"reset",b),w.trapBubbledEvent(v.topLevelTypes.topSubmit,"submit",b)]}}function m(){z.mountReadyWrapper(this)}function n(){B.postUpdateWrapper(this)}function o(a){_.call($,a)||(Z.test(a)?void 0:K(!1),$[a]=!0)}function p(a,b){return a.indexOf("-")>=0||null!=b.is}function q(a){o(a),this._tag=a.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null}var r=a("43"),s=a("4c"),t=a("3f"),u=a("5e"),v=a("30"),w=a("5f"),x=a("60"),y=a("4e"),z=a("4f"),A=a("53"),B=a("54"),C=a("55"),D=a("3d"),E=a("5a"),F=a("4d"),G=a("61"),H=a("7"),I=a("1c"),J=a("62"),K=a("12"),L=(a("37"),a("33")),M=a("63"),N=a("64"),O=(a("66"),a("65"),a("1e"),w.deleteListener),P=w.listenTo,Q=w.registrationNameModules,R={string:!0,number:!0},S=L({children:null}),T=L({style:null}),U=L({__html:null}),V=1,W={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},X={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Y={listing:!0,pre:!0,textarea:!0},Z=(H({menuitem:!0},X),/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/),$={},_={}.hasOwnProperty;q.displayName="ReactDOMComponent",q.Mixin={construct:function(a){this._currentElement=a},mountComponent:function(a,b,c){this._rootNodeID=a;var d=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},b.getReactMountReady().enqueue(l,this);break;case"button":d=y.getNativeProps(this,d,c);break;case"input":z.mountWrapper(this,d,c),d=z.getNativeProps(this,d,c);break;case"option":A.mountWrapper(this,d,c),d=A.getNativeProps(this,d,c);break;case"select":B.mountWrapper(this,d,c),d=B.getNativeProps(this,d,c),c=B.processChildContext(this,d,c);break;case"textarea":C.mountWrapper(this,d,c),d=C.getNativeProps(this,d,c)}i(this,d);var e;if(b.useCreateElement){var f=c[D.ownerDocumentContextKey],g=f.createElement(this._currentElement.type);u.setAttributeForID(g,this._rootNodeID),D.getID(g),this._updateDOMProperties({},d,b,g),this._createInitialChildren(b,d,c,g),e=g}else{var h=this._createOpenTagMarkupAndPutListeners(b,d),j=this._createContentMarkup(b,d,c);e=!j&&X[this._tag]?h+"/>":h+">"+j+"</"+this._currentElement.type+">"}switch(this._tag){case"input":b.getReactMountReady().enqueue(m,this);case"button":case"select":case"textarea":d.autoFocus&&b.getReactMountReady().enqueue(r.focusDOMComponent,this)}return e},_createOpenTagMarkupAndPutListeners:function(a,b){var c="<"+this._currentElement.type;for(var d in b)if(b.hasOwnProperty(d)){var e=b[d];if(null!=e)if(Q.hasOwnProperty(d))e&&j(this._rootNodeID,d,e,a);else{d===T&&(e&&(e=this._previousStyleCopy=H({},b.style)),e=s.createMarkupForStyles(e));var f=null;null!=this._tag&&p(this._tag,b)?d!==S&&(f=u.createMarkupForCustomAttribute(d,e)):f=u.createMarkupForProperty(d,e),f&&(c+=" "+f)}}if(a.renderToStaticMarkup)return c;var g=u.createMarkupForID(this._rootNodeID);return c+" "+g},_createContentMarkup:function(a,b,c){var d="",e=b.dangerouslySetInnerHTML;if(null!=e)null!=e.__html&&(d=e.__html);else{var f=R[typeof b.children]?b.children:null,g=null!=f?null:b.children;if(null!=f)d=J(f);else if(null!=g){var h=this.mountChildren(g,a,c);d=h.join("")}}return Y[this._tag]&&"\n"===d.charAt(0)?"\n"+d:d},_createInitialChildren:function(a,b,c,d){var e=b.dangerouslySetInnerHTML;if(null!=e)null!=e.__html&&M(d,e.__html);else{var f=R[typeof b.children]?b.children:null,g=null!=f?null:b.children;if(null!=f)N(d,f);else if(null!=g)for(var h=this.mountChildren(g,a,c),i=0;i<h.length;i++)d.appendChild(h[i])}},receiveComponent:function(a,b,c){var d=this._currentElement;this._currentElement=a,this.updateComponent(b,d,a,c)},updateComponent:function(a,b,c,d){var e=b.props,f=this._currentElement.props;switch(this._tag){case"button":e=y.getNativeProps(this,e),f=y.getNativeProps(this,f);break;case"input":z.updateWrapper(this),e=z.getNativeProps(this,e),f=z.getNativeProps(this,f);break;case"option":e=A.getNativeProps(this,e),f=A.getNativeProps(this,f);break;case"select":e=B.getNativeProps(this,e),f=B.getNativeProps(this,f);break;case"textarea":C.updateWrapper(this),e=C.getNativeProps(this,e),f=C.getNativeProps(this,f)}i(this,f),this._updateDOMProperties(e,f,a,null),this._updateDOMChildren(e,f,a,d),!I&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=f),"select"===this._tag&&a.getReactMountReady().enqueue(n,this)},_updateDOMProperties:function(a,b,c,d){var e,f,g;for(e in a)if(!b.hasOwnProperty(e)&&a.hasOwnProperty(e))if(e===T){var h=this._previousStyleCopy;for(f in h)h.hasOwnProperty(f)&&(g=g||{},g[f]="");this._previousStyleCopy=null}else Q.hasOwnProperty(e)?a[e]&&O(this._rootNodeID,e):(t.properties[e]||t.isCustomAttribute(e))&&(d||(d=D.getNode(this._rootNodeID)),u.deleteValueForProperty(d,e));for(e in b){var i=b[e],k=e===T?this._previousStyleCopy:a[e];if(b.hasOwnProperty(e)&&i!==k)if(e===T)if(i?i=this._previousStyleCopy=H({},i):this._previousStyleCopy=null,k){for(f in k)!k.hasOwnProperty(f)||i&&i.hasOwnProperty(f)||(g=g||{},g[f]="");for(f in i)i.hasOwnProperty(f)&&k[f]!==i[f]&&(g=g||{},g[f]=i[f])}else g=i;else Q.hasOwnProperty(e)?i?j(this._rootNodeID,e,i,c):k&&O(this._rootNodeID,e):p(this._tag,b)?(d||(d=D.getNode(this._rootNodeID)),e===S&&(i=null),u.setValueForAttribute(d,e,i)):(t.properties[e]||t.isCustomAttribute(e))&&(d||(d=D.getNode(this._rootNodeID)),null!=i?u.setValueForProperty(d,e,i):u.deleteValueForProperty(d,e))}g&&(d||(d=D.getNode(this._rootNodeID)),s.setValueForStyles(d,g))},_updateDOMChildren:function(a,b,c,d){var e=R[typeof a.children]?a.children:null,f=R[typeof b.children]?b.children:null,g=a.dangerouslySetInnerHTML&&a.dangerouslySetInnerHTML.__html,h=b.dangerouslySetInnerHTML&&b.dangerouslySetInnerHTML.__html,i=null!=e?null:a.children,j=null!=f?null:b.children,k=null!=e||null!=g,l=null!=f||null!=h;null!=i&&null==j?this.updateChildren(null,c,d):k&&!l&&this.updateTextContent(""),null!=f?e!==f&&this.updateTextContent(""+f):null!=h?g!==h&&this.updateMarkup(""+h):null!=j&&this.updateChildren(j,c,d)},unmountComponent:function(){switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":var a=this._wrapperState.listeners;if(a)for(var b=0;b<a.length;b++)a[b].remove();break;case"input":z.unmountWrapper(this);break;case"html":case"head":case"body":K(!1)}if(this.unmountChildren(),w.deleteAllListeners(this._rootNodeID),x.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._wrapperState=null,this._nodeWithLegacyProperties){var c=this._nodeWithLegacyProperties;c._reactInternalComponent=null,this._nodeWithLegacyProperties=null}},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var a=D.getNode(this._rootNodeID);a._reactInternalComponent=this,a.getDOMNode=d,a.isMounted=e,a.setState=f,a.replaceState=f,a.forceUpdate=f,a.setProps=g,a.replaceProps=h,a.props=this._currentElement.props,this._nodeWithLegacyProperties=a}return this._nodeWithLegacyProperties}},F.measureMethods(q,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),H(q.prototype,q.Mixin,E.Mixin),c.exports=q}(a("10")),d.define=e,c.exports}),a.registerDynamic("67",["12","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a){var b=a.length;if(Array.isArray(a)||"object"!=typeof a&&"function"!=typeof a?e(!1):void 0,"number"!=typeof b?e(!1):void 0,0===b||b-1 in a?void 0:e(!1),a.hasOwnProperty)try{return Array.prototype.slice.call(a)}catch(c){}for(var d=Array(b),f=0;b>f;f++)d[f]=a[f];return d}var e=a("12");c.exports=d}(a("10")),d.define=e,c.exports}),a.registerDynamic("68",["67"],!0,function(a,b,c){"use strict";function d(a){return!!a&&("object"==typeof a||"function"==typeof a)&&"length"in a&&!("setInterval"in a)&&"number"!=typeof a.nodeType&&(Array.isArray(a)||"callee"in a||"item"in a)}function e(a){return d(a)?Array.isArray(a)?a.slice():h(a):[a]}var f=this,g=f.define;f.define=void 0;var h=a("67");return c.exports=e,f.define=g,c.exports}),a.registerDynamic("69",["32","68","6a","12","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a){var b=a.match(k);return b&&b[1].toLowerCase()}function e(a,b){var c=j;j?void 0:i(!1);var e=d(a),f=e&&h(e);if(f){c.innerHTML=f[1]+a+f[2];for(var k=f[0];k--;)c=c.lastChild}else c.innerHTML=a;var l=c.getElementsByTagName("script");l.length&&(b?void 0:i(!1),g(l).forEach(b));for(var m=g(c.childNodes);c.lastChild;)c.removeChild(c.lastChild);return m}var f=a("32"),g=a("68"),h=a("6a"),i=a("12"),j=f.canUseDOM?document.createElement("div"):null,k=/^\s*<(\w+)/;c.exports=e}(a("10")),d.define=e,c.exports}),a.registerDynamic("6a",["32","12","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a){return g?void 0:f(!1),m.hasOwnProperty(a)||(a="*"),h.hasOwnProperty(a)||("*"===a?g.innerHTML="<link />":g.innerHTML="<"+a+"></"+a+">",h[a]=!g.firstChild),h[a]?m[a]:null}var e=a("32"),f=a("12"),g=e.canUseDOM?document.createElement("div"):null,h={},i=[1,'<select multiple="true">',"</select>"],j=[1,"<table>","</table>"],k=[3,"<table><tbody><tr>","</tr></tbody></table>"],l=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],m={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:i,option:i,caption:j,colgroup:j,tbody:j,tfoot:j,thead:j,td:k,th:k},n=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];n.forEach(function(a){m[a]=l,h[a]=!0}),c.exports=d}(a("10")),d.define=e,c.exports}),a.registerDynamic("6b",["32","69","8","6a","12","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a){return a.substring(1,a.indexOf(" "))}var e=a("32"),f=a("69"),g=a("8"),h=a("6a"),i=a("12"),j=/^(<[^ \/>]+)/,k="data-danger-index",l={dangerouslyRenderMarkup:function(a){e.canUseDOM?void 0:i(!1);for(var b,c={},l=0;l<a.length;l++)a[l]?void 0:i(!1),b=d(a[l]),b=h(b)?b:"*",c[b]=c[b]||[],c[b][l]=a[l];var m=[],n=0;for(b in c)if(c.hasOwnProperty(b)){var o,p=c[b];for(o in p)if(p.hasOwnProperty(o)){var q=p[o];p[o]=q.replace(j,"$1 "+k+'="'+o+'" ')}for(var r=f(p.join(""),g),s=0;s<r.length;++s){var t=r[s];t.hasAttribute&&t.hasAttribute(k)&&(o=+t.getAttribute(k),t.removeAttribute(k),m.hasOwnProperty(o)?i(!1):void 0,m[o]=t,n+=1)}}return n!==m.length?i(!1):void 0,m.length!==a.length?i(!1):void 0,m},dangerouslyReplaceNodeWithMarkup:function(a,b){e.canUseDOM?void 0:i(!1),b?void 0:i(!1),"html"===a.tagName.toLowerCase()?i(!1):void 0;var c;c="string"==typeof b?f(b,g)[0]:b,a.parentNode.replaceChild(c,a)}};c.exports=l}(a("10")),d.define=e,c.exports}),a.registerDynamic("5c",["6c"],!0,function(a,b,c){"use strict";var d=this,e=d.define;d.define=void 0;
var f=a("6c"),g=f({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});return c.exports=g,d.define=e,c.exports}),a.registerDynamic("6d",["6b","5c","4d","63","64","12","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a,b,c){var d=c>=a.childNodes.length?null:a.childNodes.item(c);a.insertBefore(b,d)}var e=a("6b"),f=a("5c"),g=a("4d"),h=a("63"),i=a("64"),j=a("12"),k={dangerouslyReplaceNodeWithMarkup:e.dangerouslyReplaceNodeWithMarkup,updateTextContent:i,processUpdates:function(a,b){for(var c,g=null,k=null,l=0;l<a.length;l++)if(c=a[l],c.type===f.MOVE_EXISTING||c.type===f.REMOVE_NODE){var m=c.fromIndex,n=c.parentNode.childNodes[m],o=c.parentID;n?void 0:j(!1),g=g||{},g[o]=g[o]||[],g[o][m]=n,k=k||[],k.push(n)}var p;if(p=b.length&&"string"==typeof b[0]?e.dangerouslyRenderMarkup(b):b,k)for(var q=0;q<k.length;q++)k[q].parentNode.removeChild(k[q]);for(var r=0;r<a.length;r++)switch(c=a[r],c.type){case f.INSERT_MARKUP:d(c.parentNode,p[c.markupIndex],c.toIndex);break;case f.MOVE_EXISTING:d(c.parentNode,g[c.parentID][c.fromIndex],c.toIndex);break;case f.SET_MARKUP:h(c.parentNode,c.content);break;case f.TEXT_CONTENT:i(c.parentNode,c.content);break;case f.REMOVE_NODE:}}};g.measureMethods(k,"DOMChildrenOperations",{updateTextContent:"updateTextContent"}),c.exports=k}(a("10")),d.define=e,c.exports}),a.registerDynamic("6e",["62"],!0,function(a,b,c){"use strict";function d(a){return'"'+g(a)+'"'}var e=this,f=e.define;e.define=void 0;var g=a("62");return c.exports=d,e.define=f,c.exports}),a.registerDynamic("5e",["3f","4d","6e","1e","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a){return k.hasOwnProperty(a)?!0:j.hasOwnProperty(a)?!1:i.test(a)?(k[a]=!0,!0):(j[a]=!0,!1)}function e(a,b){return null==b||a.hasBooleanValue&&!b||a.hasNumericValue&&isNaN(b)||a.hasPositiveNumericValue&&1>b||a.hasOverloadedBooleanValue&&b===!1}var f=a("3f"),g=a("4d"),h=a("6e"),i=(a("1e"),/^[a-zA-Z_][\w\.\-]*$/),j={},k={},l={createMarkupForID:function(a){return f.ID_ATTRIBUTE_NAME+"="+h(a)},setAttributeForID:function(a,b){a.setAttribute(f.ID_ATTRIBUTE_NAME,b)},createMarkupForProperty:function(a,b){var c=f.properties.hasOwnProperty(a)?f.properties[a]:null;if(c){if(e(c,b))return"";var d=c.attributeName;return c.hasBooleanValue||c.hasOverloadedBooleanValue&&b===!0?d+'=""':d+"="+h(b)}return f.isCustomAttribute(a)?null==b?"":a+"="+h(b):null},createMarkupForCustomAttribute:function(a,b){return d(a)&&null!=b?a+"="+h(b):""},setValueForProperty:function(a,b,c){var d=f.properties.hasOwnProperty(b)?f.properties[b]:null;if(d){var g=d.mutationMethod;if(g)g(a,c);else if(e(d,c))this.deleteValueForProperty(a,b);else if(d.mustUseAttribute){var h=d.attributeName,i=d.attributeNamespace;i?a.setAttributeNS(i,h,""+c):d.hasBooleanValue||d.hasOverloadedBooleanValue&&c===!0?a.setAttribute(h,""):a.setAttribute(h,""+c)}else{var j=d.propertyName;d.hasSideEffects&&""+a[j]==""+c||(a[j]=c)}}else f.isCustomAttribute(b)&&l.setValueForAttribute(a,b,c)},setValueForAttribute:function(a,b,c){d(b)&&(null==c?a.removeAttribute(b):a.setAttribute(b,""+c))},deleteValueForProperty:function(a,b){var c=f.properties.hasOwnProperty(b)?f.properties[b]:null;if(c){var d=c.mutationMethod;if(d)d(a,void 0);else if(c.mustUseAttribute)a.removeAttribute(c.attributeName);else{var e=c.propertyName,g=f.getDefaultValueForProperty(a.nodeName,e);c.hasSideEffects&&""+a[e]===g||(a[e]=g)}}else f.isCustomAttribute(b)&&a.removeAttribute(b)}};g.measureMethods(l,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),c.exports=l}(a("10")),d.define=e,c.exports}),a.registerDynamic("50",["6d","5e","3d","4d","12","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";var d=a("6d"),e=a("5e"),f=a("3d"),g=a("4d"),h=a("12"),i={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},j={updatePropertyByID:function(a,b,c){var d=f.getNode(a);i.hasOwnProperty(b)?h(!1):void 0,null!=c?e.setValueForProperty(d,b,c):e.deleteValueForProperty(d,b)},dangerouslyReplaceNodeWithMarkupByID:function(a,b){var c=f.getNode(a);d.dangerouslyReplaceNodeWithMarkup(c,b)},dangerouslyProcessChildrenUpdates:function(a,b){for(var c=0;c<a.length;c++)a[c].parentNode=f.getNode(a[c].parentID);d.processUpdates(a,b)}};g.measureMethods(j,"ReactDOMIDOperations",{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),c.exports=j}(a("10")),d.define=e,c.exports}),a.registerDynamic("60",["50","3d","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";var d=a("50"),e=a("3d"),f={processChildrenUpdates:d.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:d.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(a){e.purgeID(a)}};c.exports=f}(a("10")),d.define=e,c.exports}),a.registerDynamic("62",[],!0,function(a,b,c){"use strict";function d(a){return h[a]}function e(a){return(""+a).replace(i,d)}var f=this,g=f.define;f.define=void 0;var h={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},i=/[&><"']/g;return c.exports=e,f.define=g,c.exports}),a.registerDynamic("64",["32","62","63"],!0,function(a,b,c){"use strict";var d=this,e=d.define;d.define=void 0;var f=a("32"),g=a("62"),h=a("63"),i=function(a,b){a.textContent=b};return f.canUseDOM&&("textContent"in document.documentElement||(i=function(a,b){h(a,g(b))})),c.exports=i,d.define=e,c.exports}),a.registerDynamic("6f",["6d","5e","60","3d","7","62","64","65","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";var d=a("6d"),e=a("5e"),f=a("60"),g=a("3d"),h=a("7"),i=a("62"),j=a("64"),k=(a("65"),function(a){});h(k.prototype,{construct:function(a){this._currentElement=a,this._stringText=""+a,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(a,b,c){if(this._rootNodeID=a,b.useCreateElement){var d=c[g.ownerDocumentContextKey],f=d.createElement("span");return e.setAttributeForID(f,a),g.getID(f),j(f,this._stringText),f}var h=i(this._stringText);return b.renderToStaticMarkup?h:"<span "+e.createMarkupForID(a)+">"+h+"</span>"},receiveComponent:function(a,b){if(a!==this._currentElement){this._currentElement=a;var c=""+a;if(c!==this._stringText){this._stringText=c;var e=g.getNode(this._rootNodeID);d.updateTextContent(e,c)}}},unmountComponent:function(){f.unmountIDFromEnvironment(this._rootNodeID)}}),c.exports=k}(a("10")),d.define=e,c.exports}),a.registerDynamic("70",[],!0,function(a,b,c){"use strict";function d(a){return a===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:a.scrollLeft,y:a.scrollTop}}var e=this,f=e.define;return e.define=void 0,c.exports=d,e.define=f,c.exports}),a.registerDynamic("71",["72","32","4","c","3d","e","7","36","70","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a){var b=m.getID(a),c=l.getReactRootIDFromNodeID(b),d=m.findReactContainerForID(c),e=m.getFirstReactDOM(d);return e}function e(a,b){this.topLevelType=a,this.nativeEvent=b,this.ancestors=[]}function f(a){g(a)}function g(a){for(var b=m.getFirstReactDOM(p(a.nativeEvent))||window,c=b;c;)a.ancestors.push(c),c=d(c);for(var e=0;e<a.ancestors.length;e++){b=a.ancestors[e];var f=m.getID(b)||"";r._handleTopLevel(a.topLevelType,b,f,a.nativeEvent,p(a.nativeEvent))}}function h(a){var b=q(window);a(b)}var i=a("72"),j=a("32"),k=a("4"),l=a("c"),m=a("3d"),n=a("e"),o=a("7"),p=a("36"),q=a("70");o(e.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),k.addPoolingTo(e,k.twoArgumentPooler);var r={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:j.canUseDOM?window:null,setHandleTopLevel:function(a){r._handleTopLevel=a},setEnabled:function(a){r._enabled=!!a},isEnabled:function(){return r._enabled},trapBubbledEvent:function(a,b,c){var d=c;return d?i.listen(d,b,r.dispatchEvent.bind(null,a)):null},trapCapturedEvent:function(a,b,c){var d=c;return d?i.capture(d,b,r.dispatchEvent.bind(null,a)):null},monitorScrollValue:function(a){var b=h.bind(null,a);i.listen(window,"scroll",b)},dispatchEvent:function(a,b){if(r._enabled){var c=e.getPooled(a,b);try{n.batchedUpdates(f,c)}finally{e.release(c)}}}};c.exports=r}(a("10")),d.define=e,c.exports}),a.registerDynamic("22",["73","1c","11","12","1e","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a,b,c){this.props=a,this.context=b,this.refs=f,this.updater=c||e}var e=a("73"),f=(a("1c"),a("11")),g=a("12");a("1e");d.prototype.isReactComponent={},d.prototype.setState=function(a,b){"object"!=typeof a&&"function"!=typeof a&&null!=a?g(!1):void 0,this.updater.enqueueSetState(this,a),b&&this.updater.enqueueCallback(this,b)},d.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this),a&&this.updater.enqueueCallback(this,a)};c.exports=d}(a("10")),d.define=e,c.exports}),a.registerDynamic("73",["1e","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a,b){}var e=(a("1e"),{isMounted:function(a){return!1},enqueueCallback:function(a,b){},enqueueForceUpdate:function(a){d(a,"forceUpdate")},enqueueReplaceState:function(a,b){d(a,"replaceState")},enqueueSetState:function(a,b){d(a,"setState")},enqueueSetProps:function(a,b){d(a,"setProps")},enqueueReplaceProps:function(a,b){d(a,"replaceProps")}});c.exports=e}(a("10")),d.define=e,c.exports}),a.registerDynamic("23",["22","b","19","1a","73","7","11","12","6c","33","1e","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a,b){var c=w.hasOwnProperty(b)?w[b]:null;y.hasOwnProperty(b)&&(c!==u.OVERRIDE_BASE?q(!1):void 0),a.hasOwnProperty(b)&&(c!==u.DEFINE_MANY&&c!==u.DEFINE_MANY_MERGED?q(!1):void 0)}function e(a,b){if(b){"function"==typeof b?q(!1):void 0,m.isValidElement(b)?q(!1):void 0;var c=a.prototype;b.hasOwnProperty(t)&&x.mixins(a,b.mixins);for(var e in b)if(b.hasOwnProperty(e)&&e!==t){var f=b[e];if(d(c,e),x.hasOwnProperty(e))x[e](a,f);else{var g=w.hasOwnProperty(e),j=c.hasOwnProperty(e),k="function"==typeof f,l=k&&!g&&!j&&b.autobind!==!1;if(l)c.__reactAutoBindMap||(c.__reactAutoBindMap={}),c.__reactAutoBindMap[e]=f,c[e]=f;else if(j){var n=w[e];!g||n!==u.DEFINE_MANY_MERGED&&n!==u.DEFINE_MANY?q(!1):void 0,n===u.DEFINE_MANY_MERGED?c[e]=h(c[e],f):n===u.DEFINE_MANY&&(c[e]=i(c[e],f))}else c[e]=f}}}}function f(a,b){if(b)for(var c in b){var d=b[c];if(b.hasOwnProperty(c)){var e=c in x;e?q(!1):void 0;var f=c in a;f?q(!1):void 0,a[c]=d}}}function g(a,b){a&&b&&"object"==typeof a&&"object"==typeof b?void 0:q(!1);for(var c in b)b.hasOwnProperty(c)&&(void 0!==a[c]?q(!1):void 0,a[c]=b[c]);return a}function h(a,b){return function(){var c=a.apply(this,arguments),d=b.apply(this,arguments);if(null==c)return d;if(null==d)return c;var e={};return g(e,c),g(e,d),e}}function i(a,b){return function(){a.apply(this,arguments),b.apply(this,arguments)}}function j(a,b){var c=b.bind(a);return c}function k(a){for(var b in a.__reactAutoBindMap)if(a.__reactAutoBindMap.hasOwnProperty(b)){var c=a.__reactAutoBindMap[b];a[b]=j(a,c)}}var l=a("22"),m=a("b"),n=(a("19"),a("1a"),a("73")),o=a("7"),p=a("11"),q=a("12"),r=a("6c"),s=a("33"),t=(a("1e"),s({mixins:null})),u=r({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),v=[],w={mixins:u.DEFINE_MANY,statics:u.DEFINE_MANY,propTypes:u.DEFINE_MANY,contextTypes:u.DEFINE_MANY,childContextTypes:u.DEFINE_MANY,getDefaultProps:u.DEFINE_MANY_MERGED,getInitialState:u.DEFINE_MANY_MERGED,getChildContext:u.DEFINE_MANY_MERGED,render:u.DEFINE_ONCE,componentWillMount:u.DEFINE_MANY,componentDidMount:u.DEFINE_MANY,componentWillReceiveProps:u.DEFINE_MANY,shouldComponentUpdate:u.DEFINE_ONCE,componentWillUpdate:u.DEFINE_MANY,componentDidUpdate:u.DEFINE_MANY,componentWillUnmount:u.DEFINE_MANY,updateComponent:u.OVERRIDE_BASE},x={displayName:function(a,b){a.displayName=b},mixins:function(a,b){if(b)for(var c=0;c<b.length;c++)e(a,b[c])},childContextTypes:function(a,b){a.childContextTypes=o({},a.childContextTypes,b)},contextTypes:function(a,b){a.contextTypes=o({},a.contextTypes,b)},getDefaultProps:function(a,b){a.getDefaultProps?a.getDefaultProps=h(a.getDefaultProps,b):a.getDefaultProps=b},propTypes:function(a,b){a.propTypes=o({},a.propTypes,b)},statics:function(a,b){f(a,b)},autobind:function(){}},y={replaceState:function(a,b){this.updater.enqueueReplaceState(this,a),b&&this.updater.enqueueCallback(this,b)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(a,b){this.updater.enqueueSetProps(this,a),b&&this.updater.enqueueCallback(this,b)},replaceProps:function(a,b){this.updater.enqueueReplaceProps(this,a),b&&this.updater.enqueueCallback(this,b)}},z=function(){};o(z.prototype,l.prototype,y);var A={createClass:function(a){var b=function(a,b,c){this.__reactAutoBindMap&&k(this),this.props=a,this.context=b,this.refs=p,this.updater=c||n,this.state=null;var d=this.getInitialState?this.getInitialState():null;"object"!=typeof d||Array.isArray(d)?q(!1):void 0,this.state=d};b.prototype=new z,b.prototype.constructor=b,v.forEach(e.bind(null,b)),e(b,a),b.getDefaultProps&&(b.defaultProps=b.getDefaultProps()),b.prototype.render?void 0:q(!1);for(var c in w)b.prototype[c]||(b.prototype[c]=null);return b},injection:{injectMixin:function(a){v.push(a)}}};c.exports=A}(a("10")),d.define=e,c.exports}),a.registerDynamic("74",["3f","35","5b","23","75","5f","76","4d","77","e"],!0,function(a,b,c){"use strict";var d=this,e=d.define;d.define=void 0;var f=a("3f"),g=a("35"),h=a("5b"),i=a("23"),j=a("75"),k=a("5f"),l=a("76"),m=a("4d"),n=a("77"),o=a("e"),p={Component:h.injection,Class:i.injection,DOMProperty:f.injection,EmptyComponent:j.injection,EventPluginHub:g.injection,EventEmitter:k.injection,NativeComponent:l.injection,Perf:m.injection,RootIndex:n.injection,Updates:o.injection};return c.exports=p,d.define=e,c.exports}),a.registerDynamic("78",["5","4","5f","79","7a","6","7"],!0,function(a,b,c){"use strict";function d(a){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=g.getPooled(null),this.useCreateElement=!a&&j.useCreateElement}var e=this,f=e.define;e.define=void 0;var g=a("5"),h=a("4"),i=a("5f"),j=a("79"),k=a("7a"),l=a("6"),m=a("7"),n={initialize:k.getSelectionInformation,close:k.restoreSelection},o={initialize:function(){var a=i.isEnabled();return i.setEnabled(!1),a},close:function(a){i.setEnabled(a)}},p={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},q=[n,o,p],r={getTransactionWrappers:function(){return q},getReactMountReady:function(){return this.reactMountReady},destructor:function(){g.release(this.reactMountReady),this.reactMountReady=null}};return m(d.prototype,l.Mixin,r),h.addPoolingTo(d),c.exports=d,e.define=f,c.exports}),a.registerDynamic("7b",[],!0,function(a,b,c){"use strict";function d(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function e(a){for(;a;){if(a.nextSibling)return a.nextSibling;a=a.parentNode}}function f(a,b){for(var c=d(a),f=0,g=0;c;){if(3===c.nodeType){if(g=f+c.textContent.length,b>=f&&g>=b)return{node:c,offset:b-f};f=g}c=d(e(c))}}var g=this,h=g.define;return g.define=void 0,c.exports=f,g.define=h,c.exports}),a.registerDynamic("2b",["32"],!0,function(a,b,c){"use strict";function d(){return!h&&g.canUseDOM&&(h="textContent"in document.documentElement?"textContent":"innerText"),h}var e=this,f=e.define;e.define=void 0;var g=a("32"),h=null;return c.exports=d,e.define=f,c.exports}),a.registerDynamic("7c",["32","7b","2b"],!0,function(a,b,c){"use strict";function d(a,b,c,d){return a===c&&b===d}function e(a){var b=document.selection,c=b.createRange(),d=c.text.length,e=c.duplicate();e.moveToElementText(a),e.setEndPoint("EndToStart",c);var f=e.text.length,g=f+d;return{start:f,end:g}}function f(a){var b=window.getSelection&&window.getSelection();if(!b||0===b.rangeCount)return null;var c=b.anchorNode,e=b.anchorOffset,f=b.focusNode,g=b.focusOffset,h=b.getRangeAt(0);try{h.startContainer.nodeType,h.endContainer.nodeType}catch(i){return null}var j=d(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset),k=j?0:h.toString().length,l=h.cloneRange();l.selectNodeContents(a),l.setEnd(h.startContainer,h.startOffset);var m=d(l.startContainer,l.startOffset,l.endContainer,l.endOffset),n=m?0:l.toString().length,o=n+k,p=document.createRange();p.setStart(c,e),p.setEnd(f,g);var q=p.collapsed;return{start:q?o:n,end:q?n:o}}function g(a,b){var c,d,e=document.selection.createRange().duplicate();"undefined"==typeof b.end?(c=b.start,d=c):b.start>b.end?(c=b.end,d=b.start):(c=b.start,d=b.end),e.moveToElementText(a),e.moveStart("character",c),e.setEndPoint("EndToStart",e),e.moveEnd("character",d-c),e.select()}function h(a,b){if(window.getSelection){var c=window.getSelection(),d=a[m()].length,e=Math.min(b.start,d),f="undefined"==typeof b.end?e:Math.min(b.end,d);if(!c.extend&&e>f){var g=f;f=e,e=g}var h=l(a,e),i=l(a,f);if(h&&i){var j=document.createRange();j.setStart(h.node,h.offset),c.removeAllRanges(),e>f?(c.addRange(j),c.extend(i.node,i.offset)):(j.setEnd(i.node,i.offset),c.addRange(j))}}}var i=this,j=i.define;i.define=void 0;var k=a("32"),l=a("7b"),m=a("2b"),n=k.canUseDOM&&"selection"in document&&!("getSelection"in window),o={getOffsets:n?e:f,setOffsets:n?g:h};return c.exports=o,i.define=j,c.exports}),a.registerDynamic("44",[],!0,function(a,b,c){"use strict";function d(a){try{a.focus()}catch(b){}}var e=this,f=e.define;return e.define=void 0,c.exports=d,e.define=f,c.exports}),a.registerDynamic("7a",["7c","7d","44","7e"],!0,function(a,b,c){"use strict";function d(a){return h(document.documentElement,a)}var e=this,f=e.define;e.define=void 0;var g=a("7c"),h=a("7d"),i=a("44"),j=a("7e"),k={hasSelectionCapabilities:function(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&("input"===b&&"text"===a.type||"textarea"===b||"true"===a.contentEditable)},getSelectionInformation:function(){var a=j();return{focusedElem:a,selectionRange:k.hasSelectionCapabilities(a)?k.getSelection(a):null}},restoreSelection:function(a){var b=j(),c=a.focusedElem,e=a.selectionRange;b!==c&&d(c)&&(k.hasSelectionCapabilities(c)&&k.setSelection(c,e),i(c))},getSelection:function(a){var b;if("selectionStart"in a)b={start:a.selectionStart,end:a.selectionEnd};else if(document.selection&&a.nodeName&&"input"===a.nodeName.toLowerCase()){var c=document.selection.createRange();c.parentElement()===a&&(b={start:-c.moveStart("character",-a.value.length),end:-c.moveEnd("character",-a.value.length)})}else b=g.getOffsets(a);return b||{start:0,end:0}},setSelection:function(a,b){var c=b.start,d=b.end;if("undefined"==typeof d&&(d=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(d,a.value.length);else if(document.selection&&a.nodeName&&"input"===a.nodeName.toLowerCase()){var e=a.createTextRange();e.collapse(!0),e.moveStart("character",c),e.moveEnd("character",d-c),e.select()}else g.setOffsets(a,b)}};return c.exports=k,e.define=f,c.exports}),a.registerDynamic("7e",[],!0,function(a,b,c){"use strict";function d(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(a){return document.body}}var e=this,f=e.define;return e.define=void 0,c.exports=d,e.define=f,c.exports}),a.registerDynamic("38",[],!0,function(a,b,c){"use strict";function d(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&("input"===b&&g[a.type]||"textarea"===b)}var e=this,f=e.define;e.define=void 0;var g={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};return c.exports=d,e.define=f,c.exports}),a.registerDynamic("66",[],!0,function(a,b,c){"use strict";function d(a,b){if(a===b)return!0;if("object"!=typeof a||null===a||"object"!=typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(var e=g.bind(b),f=0;f<c.length;f++)if(!e(c[f])||a[c[f]]!==b[c[f]])return!1;return!0}var e=this,f=e.define;e.define=void 0;var g=Object.prototype.hasOwnProperty;return c.exports=d,e.define=f,c.exports}),a.registerDynamic("7f",["30","31","32","7a","2d","7e","38","33","66"],!0,function(a,b,c){"use strict";function d(a){if("selectionStart"in a&&k.hasSelectionCapabilities(a))return{start:a.selectionStart,end:a.selectionEnd};if(window.getSelection){var b=window.getSelection();return{anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}}if(document.selection){var c=document.selection.createRange();return{parentElement:c.parentElement(),text:c.text,top:c.boundingTop,left:c.boundingLeft}}}function e(a,b){if(w||null==t||t!==m())return null;var c=d(t);if(!v||!p(v,c)){v=c;var e=l.getPooled(s.select,u,a,b);return e.type="select",e.target=t,i.accumulateTwoPhaseDispatches(e),e}return null}var f=this,g=f.define;f.define=void 0;var h=a("30"),i=a("31"),j=a("32"),k=a("7a"),l=a("2d"),m=a("7e"),n=a("38"),o=a("33"),p=a("66"),q=h.topLevelTypes,r=j.canUseDOM&&"documentMode"in document&&document.documentMode<=11,s={select:{phasedRegistrationNames:{bubbled:o({onSelect:null}),captured:o({onSelectCapture:null})},dependencies:[q.topBlur,q.topContextMenu,q.topFocus,q.topKeyDown,q.topMouseDown,q.topMouseUp,q.topSelectionChange]}},t=null,u=null,v=null,w=!1,x=!1,y=o({onSelect:null}),z={eventTypes:s,extractEvents:function(a,b,c,d,f){if(!x)return null;switch(a){case q.topFocus:(n(b)||"true"===b.contentEditable)&&(t=b,u=c,v=null);break;case q.topBlur:t=null,u=null,v=null;break;case q.topMouseDown:w=!0;break;case q.topContextMenu:case q.topMouseUp:return w=!1,e(d,f);case q.topSelectionChange:if(r)break;case q.topKeyDown:case q.topKeyUp:return e(d,f)}return null},didPutListener:function(a,b,c){b===y&&(x=!0)}};return c.exports=z,f.define=g,c.exports}),a.registerDynamic("80",[],!0,function(a,b,c){"use strict";var d=this,e=d.define;d.define=void 0;var f=Math.pow(2,53),g={createReactRootIndex:function(){return Math.ceil(Math.random()*f)}};return c.exports=g,d.define=e,c.exports}),a.registerDynamic("72",["8","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";var d=a("8"),e={listen:function(a,b,c){return a.addEventListener?(a.addEventListener(b,c,!1),{remove:function(){a.removeEventListener(b,c,!1)}}):a.attachEvent?(a.attachEvent("on"+b,c),{remove:function(){a.detachEvent("on"+b,c)}}):void 0},capture:function(a,b,c){return a.addEventListener?(a.addEventListener(b,c,!0),{remove:function(){a.removeEventListener(b,c,!0)}}):{remove:d}},registerDefault:function(){}};c.exports=e}(a("10")),d.define=e,c.exports}),a.registerDynamic("31",["30","35","1e","81","82","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a,b,c){var d=b.dispatchConfig.phasedRegistrationNames[c];return s(a,d)}function e(a,b,c){var e=b?r.bubbled:r.captured,f=d(a,c,e);f&&(c._dispatchListeners=p(c._dispatchListeners,f),c._dispatchIDs=p(c._dispatchIDs,a))}function f(a){a&&a.dispatchConfig.phasedRegistrationNames&&o.injection.getInstanceHandle().traverseTwoPhase(a.dispatchMarker,e,a)}function g(a){a&&a.dispatchConfig.phasedRegistrationNames&&o.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(a.dispatchMarker,e,a)}function h(a,b,c){if(c&&c.dispatchConfig.registrationName){var d=c.dispatchConfig.registrationName,e=s(a,d);e&&(c._dispatchListeners=p(c._dispatchListeners,e),c._dispatchIDs=p(c._dispatchIDs,a))}}function i(a){a&&a.dispatchConfig.registrationName&&h(a.dispatchMarker,null,a)}function j(a){q(a,f)}function k(a){q(a,g)}function l(a,b,c,d){o.injection.getInstanceHandle().traverseEnterLeave(c,d,h,a,b)}function m(a){q(a,i)}var n=a("30"),o=a("35"),p=(a("1e"),a("81")),q=a("82"),r=n.PropagationPhases,s=o.getListener,t={accumulateTwoPhaseDispatches:j,accumulateTwoPhaseDispatchesSkipTarget:k,accumulateDirectDispatches:m,accumulateEnterLeaveDispatches:l};c.exports=t}(a("10")),d.define=e,c.exports}),a.registerDynamic("83",["2d"],!0,function(a,b,c){"use strict";function d(a,b,c,d){g.call(this,a,b,c,d)}var e=this,f=e.define;e.define=void 0;var g=a("2d"),h={clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}};return g.augmentClass(d,h),c.exports=d,e.define=f,c.exports}),a.registerDynamic("84",["85"],!0,function(a,b,c){"use strict";function d(a,b,c,d){g.call(this,a,b,c,d)}var e=this,f=e.define;e.define=void 0;var g=a("85"),h={relatedTarget:null};return g.augmentClass(d,h),c.exports=d,e.define=f,c.exports}),a.registerDynamic("86",["87"],!0,function(a,b,c){"use strict";function d(a){if(a.key){var b=h[a.key]||a.key;if("Unidentified"!==b)return b}if("keypress"===a.type){var c=g(a);return 13===c?"Enter":String.fromCharCode(c)}return"keydown"===a.type||"keyup"===a.type?i[a.keyCode]||"Unidentified":""}var e=this,f=e.define;e.define=void 0;var g=a("87"),h={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};return c.exports=d,e.define=f,c.exports}),a.registerDynamic("88",["85","87","86","89"],!0,function(a,b,c){"use strict";function d(a,b,c,d){g.call(this,a,b,c,d)}var e=this,f=e.define;e.define=void 0;var g=a("85"),h=a("87"),i=a("86"),j=a("89"),k={key:i,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:j,charCode:function(a){return"keypress"===a.type?h(a):0},keyCode:function(a){return"keydown"===a.type||"keyup"===a.type?a.keyCode:0},which:function(a){return"keypress"===a.type?h(a):"keydown"===a.type||"keyup"===a.type?a.keyCode:0}};return g.augmentClass(d,k),c.exports=d,e.define=f,c.exports}),a.registerDynamic("8a",["3c"],!0,function(a,b,c){"use strict";function d(a,b,c,d){g.call(this,a,b,c,d)}var e=this,f=e.define;e.define=void 0;var g=a("3c"),h={dataTransfer:null};return g.augmentClass(d,h),c.exports=d,e.define=f,c.exports}),a.registerDynamic("8b",["85","89"],!0,function(a,b,c){"use strict";function d(a,b,c,d){g.call(this,a,b,c,d)}var e=this,f=e.define;e.define=void 0;var g=a("85"),h=a("89"),i={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:h};return g.augmentClass(d,i),c.exports=d,e.define=f,c.exports}),a.registerDynamic("2d",["4","7","8","1e","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a,b,c,d){this.dispatchConfig=a,this.dispatchMarker=b,this.nativeEvent=c;var e=this.constructor.Interface;for(var f in e)if(e.hasOwnProperty(f)){var h=e[f];h?this[f]=h(c):"target"===f?this.target=d:this[f]=c[f]}var i=null!=c.defaultPrevented?c.defaultPrevented:c.returnValue===!1;i?this.isDefaultPrevented=g.thatReturnsTrue:this.isDefaultPrevented=g.thatReturnsFalse,this.isPropagationStopped=g.thatReturnsFalse}var e=a("4"),f=a("7"),g=a("8"),h=(a("1e"),{type:null,target:null,currentTarget:g.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null});f(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1,this.isDefaultPrevented=g.thatReturnsTrue)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,this.isPropagationStopped=g.thatReturnsTrue)},persist:function(){this.isPersistent=g.thatReturnsTrue},isPersistent:g.thatReturnsFalse,destructor:function(){var a=this.constructor.Interface;for(var b in a)this[b]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),d.Interface=h,d.augmentClass=function(a,b){var c=this,d=Object.create(c.prototype);f(d,a.prototype),a.prototype=d,a.prototype.constructor=a,a.Interface=f({},c.Interface,b),a.augmentClass=c.augmentClass,e.addPoolingTo(a,e.fourArgumentPooler)},e.addPoolingTo(d,e.fourArgumentPooler),c.exports=d}(a("10")),d.define=e,c.exports}),a.registerDynamic("36",[],!0,function(a,b,c){"use strict";function d(a){var b=a.target||a.srcElement||window;return 3===b.nodeType?b.parentNode:b}var e=this,f=e.define;return e.define=void 0,c.exports=d,e.define=f,c.exports}),a.registerDynamic("85",["2d","36"],!0,function(a,b,c){"use strict";function d(a,b,c,d){g.call(this,a,b,c,d)}var e=this,f=e.define;e.define=void 0;var g=a("2d"),h=a("36"),i={view:function(a){if(a.view)return a.view;var b=h(a);if(null!=b&&b.window===b)return b;var c=b.ownerDocument;return c?c.defaultView||c.parentWindow:window},detail:function(a){return a.detail||0}};return g.augmentClass(d,i),c.exports=d,e.define=f,c.exports}),a.registerDynamic("89",[],!0,function(a,b,c){"use strict";function d(a){var b=this,c=b.nativeEvent;if(c.getModifierState)return c.getModifierState(a);var d=h[a];return d?!!c[d]:!1}function e(a){return d}var f=this,g=f.define;f.define=void 0;var h={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};return c.exports=e,f.define=g,c.exports}),a.registerDynamic("3c",["85","8c","89"],!0,function(a,b,c){"use strict";function d(a,b,c,d){g.call(this,a,b,c,d)}var e=this,f=e.define;e.define=void 0;var g=a("85"),h=a("8c"),i=a("89"),j={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:i,button:function(a){var b=a.button;return"which"in a?b:2===b?2:4===b?1:0},buttons:null,relatedTarget:function(a){return a.relatedTarget||(a.fromElement===a.srcElement?a.toElement:a.fromElement)},pageX:function(a){return"pageX"in a?a.pageX:a.clientX+h.currentScrollLeft},pageY:function(a){return"pageY"in a?a.pageY:a.clientY+h.currentScrollTop}};return g.augmentClass(d,j),c.exports=d,e.define=f,c.exports}),a.registerDynamic("8d",["3c"],!0,function(a,b,c){"use strict";function d(a,b,c,d){g.call(this,a,b,c,d)}var e=this,f=e.define;e.define=void 0;var g=a("3c"),h={deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:null,deltaMode:null};return g.augmentClass(d,h),c.exports=d,e.define=f,c.exports}),a.registerDynamic("87",[],!0,function(a,b,c){"use strict";function d(a){var b,c=a.keyCode;return"charCode"in a?(b=a.charCode,0===b&&13===c&&(b=13)):b=c,b>=32||13===b?b:0}var e=this,f=e.define;return e.define=void 0,c.exports=d,e.define=f,c.exports}),a.registerDynamic("33",[],!0,function(a,b,c){"use strict";var d=this,e=d.define;d.define=void 0;var f=function(a){var b;for(b in a)if(a.hasOwnProperty(b))return b;return null};return c.exports=f,d.define=e,c.exports}),a.registerDynamic("8e",["30","72","31","3d","83","2d","84","88","3c","8a","8b","85","8d","8","87","12","33","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";var d=a("30"),e=a("72"),f=a("31"),g=a("3d"),h=a("83"),i=a("2d"),j=a("84"),k=a("88"),l=a("3c"),m=a("8a"),n=a("8b"),o=a("85"),p=a("8d"),q=a("8"),r=a("87"),s=a("12"),t=a("33"),u=d.topLevelTypes,v={abort:{phasedRegistrationNames:{bubbled:t({onAbort:!0}),captured:t({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:t({onBlur:!0}),captured:t({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:t({onCanPlay:!0
}),captured:t({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:t({onCanPlayThrough:!0}),captured:t({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:t({onClick:!0}),captured:t({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:t({onContextMenu:!0}),captured:t({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:t({onCopy:!0}),captured:t({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:t({onCut:!0}),captured:t({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:t({onDoubleClick:!0}),captured:t({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:t({onDrag:!0}),captured:t({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:t({onDragEnd:!0}),captured:t({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:t({onDragEnter:!0}),captured:t({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:t({onDragExit:!0}),captured:t({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:t({onDragLeave:!0}),captured:t({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:t({onDragOver:!0}),captured:t({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:t({onDragStart:!0}),captured:t({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:t({onDrop:!0}),captured:t({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:t({onDurationChange:!0}),captured:t({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:t({onEmptied:!0}),captured:t({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:t({onEncrypted:!0}),captured:t({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:t({onEnded:!0}),captured:t({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:t({onError:!0}),captured:t({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:t({onFocus:!0}),captured:t({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:t({onInput:!0}),captured:t({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:t({onKeyDown:!0}),captured:t({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:t({onKeyPress:!0}),captured:t({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:t({onKeyUp:!0}),captured:t({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:t({onLoad:!0}),captured:t({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:t({onLoadedData:!0}),captured:t({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:t({onLoadedMetadata:!0}),captured:t({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:t({onLoadStart:!0}),captured:t({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:t({onMouseDown:!0}),captured:t({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:t({onMouseMove:!0}),captured:t({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:t({onMouseOut:!0}),captured:t({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:t({onMouseOver:!0}),captured:t({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:t({onMouseUp:!0}),captured:t({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:t({onPaste:!0}),captured:t({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:t({onPause:!0}),captured:t({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:t({onPlay:!0}),captured:t({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:t({onPlaying:!0}),captured:t({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:t({onProgress:!0}),captured:t({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:t({onRateChange:!0}),captured:t({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:t({onReset:!0}),captured:t({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:t({onScroll:!0}),captured:t({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:t({onSeeked:!0}),captured:t({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:t({onSeeking:!0}),captured:t({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:t({onStalled:!0}),captured:t({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:t({onSubmit:!0}),captured:t({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:t({onSuspend:!0}),captured:t({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:t({onTimeUpdate:!0}),captured:t({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:t({onTouchCancel:!0}),captured:t({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:t({onTouchEnd:!0}),captured:t({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:t({onTouchMove:!0}),captured:t({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:t({onTouchStart:!0}),captured:t({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:t({onVolumeChange:!0}),captured:t({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:t({onWaiting:!0}),captured:t({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:t({onWheel:!0}),captured:t({onWheelCapture:!0})}}},w={topAbort:v.abort,topBlur:v.blur,topCanPlay:v.canPlay,topCanPlayThrough:v.canPlayThrough,topClick:v.click,topContextMenu:v.contextMenu,topCopy:v.copy,topCut:v.cut,topDoubleClick:v.doubleClick,topDrag:v.drag,topDragEnd:v.dragEnd,topDragEnter:v.dragEnter,topDragExit:v.dragExit,topDragLeave:v.dragLeave,topDragOver:v.dragOver,topDragStart:v.dragStart,topDrop:v.drop,topDurationChange:v.durationChange,topEmptied:v.emptied,topEncrypted:v.encrypted,topEnded:v.ended,topError:v.error,topFocus:v.focus,topInput:v.input,topKeyDown:v.keyDown,topKeyPress:v.keyPress,topKeyUp:v.keyUp,topLoad:v.load,topLoadedData:v.loadedData,topLoadedMetadata:v.loadedMetadata,topLoadStart:v.loadStart,topMouseDown:v.mouseDown,topMouseMove:v.mouseMove,topMouseOut:v.mouseOut,topMouseOver:v.mouseOver,topMouseUp:v.mouseUp,topPaste:v.paste,topPause:v.pause,topPlay:v.play,topPlaying:v.playing,topProgress:v.progress,topRateChange:v.rateChange,topReset:v.reset,topScroll:v.scroll,topSeeked:v.seeked,topSeeking:v.seeking,topStalled:v.stalled,topSubmit:v.submit,topSuspend:v.suspend,topTimeUpdate:v.timeUpdate,topTouchCancel:v.touchCancel,topTouchEnd:v.touchEnd,topTouchMove:v.touchMove,topTouchStart:v.touchStart,topVolumeChange:v.volumeChange,topWaiting:v.waiting,topWheel:v.wheel};for(var x in w)w[x].dependencies=[x];var y=t({onClick:null}),z={},A={eventTypes:v,extractEvents:function(a,b,c,d,e){var g=w[a];if(!g)return null;var q;switch(a){case u.topAbort:case u.topCanPlay:case u.topCanPlayThrough:case u.topDurationChange:case u.topEmptied:case u.topEncrypted:case u.topEnded:case u.topError:case u.topInput:case u.topLoad:case u.topLoadedData:case u.topLoadedMetadata:case u.topLoadStart:case u.topPause:case u.topPlay:case u.topPlaying:case u.topProgress:case u.topRateChange:case u.topReset:case u.topSeeked:case u.topSeeking:case u.topStalled:case u.topSubmit:case u.topSuspend:case u.topTimeUpdate:case u.topVolumeChange:case u.topWaiting:q=i;break;case u.topKeyPress:if(0===r(d))return null;case u.topKeyDown:case u.topKeyUp:q=k;break;case u.topBlur:case u.topFocus:q=j;break;case u.topClick:if(2===d.button)return null;case u.topContextMenu:case u.topDoubleClick:case u.topMouseDown:case u.topMouseMove:case u.topMouseOut:case u.topMouseOver:case u.topMouseUp:q=l;break;case u.topDrag:case u.topDragEnd:case u.topDragEnter:case u.topDragExit:case u.topDragLeave:case u.topDragOver:case u.topDragStart:case u.topDrop:q=m;break;case u.topTouchCancel:case u.topTouchEnd:case u.topTouchMove:case u.topTouchStart:q=n;break;case u.topScroll:q=o;break;case u.topWheel:q=p;break;case u.topCopy:case u.topCut:case u.topPaste:q=h}q?void 0:s(!1);var t=q.getPooled(g,c,d,e);return f.accumulateTwoPhaseDispatches(t),t},didPutListener:function(a,b,c){if(b===y){var d=g.getNode(a);z[a]||(z[a]=e.listen(d,"click",q))}},willDeleteListener:function(a,b){b===y&&(z[a].remove(),delete z[a])}};c.exports=A}(a("10")),d.define=e,c.exports}),a.registerDynamic("8f",["3f"],!0,function(a,b,c){"use strict";var d=this,e=d.define;d.define=void 0;var f=a("3f"),g=f.injection.MUST_USE_ATTRIBUTE,h={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},i={Properties:{clipPath:g,cx:g,cy:g,d:g,dx:g,dy:g,fill:g,fillOpacity:g,fontFamily:g,fontSize:g,fx:g,fy:g,gradientTransform:g,gradientUnits:g,markerEnd:g,markerMid:g,markerStart:g,offset:g,opacity:g,patternContentUnits:g,patternUnits:g,points:g,preserveAspectRatio:g,r:g,rx:g,ry:g,spreadMethod:g,stopColor:g,stopOpacity:g,stroke:g,strokeDasharray:g,strokeLinecap:g,strokeOpacity:g,strokeWidth:g,textAnchor:g,transform:g,version:g,viewBox:g,x1:g,x2:g,x:g,xlinkActuate:g,xlinkArcrole:g,xlinkHref:g,xlinkRole:g,xlinkShow:g,xlinkTitle:g,xlinkType:g,xmlBase:g,xmlLang:g,xmlSpace:g,y1:g,y2:g,y:g},DOMAttributeNamespaces:{xlinkActuate:h.xlink,xlinkArcrole:h.xlink,xlinkHref:h.xlink,xlinkRole:h.xlink,xlinkShow:h.xlink,xlinkTitle:h.xlink,xlinkType:h.xlink,xmlBase:h.xml,xmlLang:h.xml,xmlSpace:h.xml},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}};return c.exports=i,d.define=e,c.exports}),a.registerDynamic("90",["7"],!0,function(a,b,c){"use strict";function d(a){for(var b=0,c=0;c<a.length;c++){var d=a[c];b+=d.totalTime}return b}function e(a){var b=[];return a.forEach(function(a){Object.keys(a.writes).forEach(function(c){a.writes[c].forEach(function(a){b.push({id:c,type:m[a.type]||a.type,args:a.args})})})}),b}function f(a){for(var b,c={},d=0;d<a.length;d++){var e=a[d],f=k({},e.exclusive,e.inclusive);for(var g in f)b=e.displayNames[g].current,c[b]=c[b]||{componentName:b,inclusive:0,exclusive:0,render:0,count:0},e.render[g]&&(c[b].render+=e.render[g]),e.exclusive[g]&&(c[b].exclusive+=e.exclusive[g]),e.inclusive[g]&&(c[b].inclusive+=e.inclusive[g]),e.counts[g]&&(c[b].count+=e.counts[g])}var h=[];for(b in c)c[b].exclusive>=l&&h.push(c[b]);return h.sort(function(a,b){return b.exclusive-a.exclusive}),h}function g(a,b){for(var c,d={},e=0;e<a.length;e++){var f,g=a[e],i=k({},g.exclusive,g.inclusive);b&&(f=h(g));for(var j in i)if(!b||f[j]){var m=g.displayNames[j];c=m.owner+" > "+m.current,d[c]=d[c]||{componentName:c,time:0,count:0},g.inclusive[j]&&(d[c].time+=g.inclusive[j]),g.counts[j]&&(d[c].count+=g.counts[j])}}var n=[];for(c in d)d[c].time>=l&&n.push(d[c]);return n.sort(function(a,b){return b.time-a.time}),n}function h(a){var b={},c=Object.keys(a.writes),d=k({},a.exclusive,a.inclusive);for(var e in d){for(var f=!1,g=0;g<c.length;g++)if(0===c[g].indexOf(e)){f=!0;break}a.created[e]&&(f=!0),!f&&a.counts[e]>0&&(b[e]=!0)}return b}var i=this,j=i.define;i.define=void 0;var k=a("7"),l=1.2,m={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",SET_MARKUP:"set innerHTML",TEXT_CONTENT:"set textContent",setValueForProperty:"update attribute",setValueForAttribute:"update attribute",deleteValueForProperty:"remove attribute",setValueForStyles:"update styles",replaceNodeWithMarkup:"replace",updateTextContent:"set textContent"},n={getExclusiveSummary:f,getInclusiveSummary:g,getDOMSummary:e,getTotalTime:d};return c.exports=n,i.define=j,c.exports}),a.registerDynamic("91",["32"],!0,function(a,b,c){"use strict";var d=this,e=d.define;d.define=void 0;var f,g=a("32");return g.canUseDOM&&(f=window.performance||window.msPerformance||window.webkitPerformance),c.exports=f||{},d.define=e,c.exports}),a.registerDynamic("92",["91"],!0,function(a,b,c){"use strict";var d=this,e=d.define;d.define=void 0;var f,g=a("91");return f=g.now?function(){return g.now()}:function(){return Date.now()},c.exports=f,d.define=e,c.exports}),a.registerDynamic("93",["3f","90","3d","4d","92"],!0,function(a,b,c){"use strict";function d(a){return Math.floor(100*a)/100}function e(a,b,c){a[b]=(a[b]||0)+c}var f=this,g=f.define;f.define=void 0;var h=a("3f"),i=a("90"),j=a("3d"),k=a("4d"),l=a("92"),m={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){m._injected||k.injection.injectMeasure(m.measure),m._allMeasurements.length=0,k.enableMeasure=!0},stop:function(){k.enableMeasure=!1},getLastMeasurements:function(){return m._allMeasurements},printExclusive:function(a){a=a||m._allMeasurements;var b=i.getExclusiveSummary(a);console.table(b.map(function(a){return{"Component class name":a.componentName,"Total inclusive time (ms)":d(a.inclusive),"Exclusive mount time (ms)":d(a.exclusive),"Exclusive render time (ms)":d(a.render),"Mount time per instance (ms)":d(a.exclusive/a.count),"Render time per instance (ms)":d(a.render/a.count),Instances:a.count}}))},printInclusive:function(a){a=a||m._allMeasurements;var b=i.getInclusiveSummary(a);console.table(b.map(function(a){return{"Owner > component":a.componentName,"Inclusive time (ms)":d(a.time),Instances:a.count}})),console.log("Total time:",i.getTotalTime(a).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(a){var b=i.getInclusiveSummary(a,!0);return b.map(function(a){return{"Owner > component":a.componentName,"Wasted time (ms)":a.time,Instances:a.count}})},printWasted:function(a){a=a||m._allMeasurements,console.table(m.getMeasurementsSummaryMap(a)),console.log("Total time:",i.getTotalTime(a).toFixed(2)+" ms")},printDOM:function(a){a=a||m._allMeasurements;var b=i.getDOMSummary(a);console.table(b.map(function(a){var b={};return b[h.ID_ATTRIBUTE_NAME]=a.id,b.type=a.type,b.args=JSON.stringify(a.args),b})),console.log("Total time:",i.getTotalTime(a).toFixed(2)+" ms")},_recordWrite:function(a,b,c,d){var e=m._allMeasurements[m._allMeasurements.length-1].writes;e[a]=e[a]||[],e[a].push({type:b,time:c,args:d})},measure:function(a,b,c){return function(){for(var d=arguments.length,f=Array(d),g=0;d>g;g++)f[g]=arguments[g];var h,i,k;if("_renderNewRootComponent"===b||"flushBatchedUpdates"===b)return m._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0,created:{}}),k=l(),i=c.apply(this,f),m._allMeasurements[m._allMeasurements.length-1].totalTime=l()-k,i;if("_mountImageIntoNode"===b||"ReactBrowserEventEmitter"===a||"ReactDOMIDOperations"===a||"CSSPropertyOperations"===a||"DOMChildrenOperations"===a||"DOMPropertyOperations"===a){if(k=l(),i=c.apply(this,f),h=l()-k,"_mountImageIntoNode"===b){var n=j.getID(f[1]);m._recordWrite(n,b,h,f[0])}else if("dangerouslyProcessChildrenUpdates"===b)f[0].forEach(function(a){var b={};null!==a.fromIndex&&(b.fromIndex=a.fromIndex),null!==a.toIndex&&(b.toIndex=a.toIndex),null!==a.textContent&&(b.textContent=a.textContent),null!==a.markupIndex&&(b.markup=f[1][a.markupIndex]),m._recordWrite(a.parentID,a.type,h,b)});else{var o=f[0];"object"==typeof o&&(o=j.getID(f[0])),m._recordWrite(o,b,h,Array.prototype.slice.call(f,1))}return i}if("ReactCompositeComponent"!==a||"mountComponent"!==b&&"updateComponent"!==b&&"_renderValidatedComponent"!==b)return c.apply(this,f);if(this._currentElement.type===j.TopLevelWrapper)return c.apply(this,f);var p="mountComponent"===b?f[0]:this._rootNodeID,q="_renderValidatedComponent"===b,r="mountComponent"===b,s=m._mountStack,t=m._allMeasurements[m._allMeasurements.length-1];if(q?e(t.counts,p,1):r&&(t.created[p]=!0,s.push(0)),k=l(),i=c.apply(this,f),h=l()-k,q)e(t.render,p,h);else if(r){var u=s.pop();s[s.length-1]+=h,e(t.exclusive,p,h-u),e(t.inclusive,p,h)}else e(t.inclusive,p,h);return t.displayNames[p]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},i}}};return c.exports=m,f.define=g,c.exports}),a.registerDynamic("14",["2f","34","39","3a","3b","32","3e","40","60","a","5d","6f","71","74","c","3d","78","7f","80","8e","8f","93","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(){if(!z){z=!0,r.EventEmitter.injectReactEventListener(q),r.EventPluginHub.injectEventPluginOrder(h),r.EventPluginHub.injectInstanceHandle(s),r.EventPluginHub.injectMount(t),r.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:x,EnterLeaveEventPlugin:i,ChangeEventPlugin:f,SelectEventPlugin:v,BeforeInputEventPlugin:e}),r.NativeComponent.injectGenericComponentClass(o),r.NativeComponent.injectTextComponentClass(p),r.Class.injectMixin(l),r.DOMProperty.injectDOMPropertyConfig(k),r.DOMProperty.injectDOMPropertyConfig(y),r.EmptyComponent.injectEmptyComponent("noscript"),r.Updates.injectReconcileTransaction(u),r.Updates.injectBatchingStrategy(n),r.RootIndex.injectCreateReactRootIndex(j.canUseDOM?g.createReactRootIndex:w.createReactRootIndex),r.Component.injectEnvironment(m)}}var e=a("2f"),f=a("34"),g=a("39"),h=a("3a"),i=a("3b"),j=a("32"),k=a("3e"),l=a("40"),m=a("60"),n=a("a"),o=a("5d"),p=a("6f"),q=a("71"),r=a("74"),s=a("c"),t=a("3d"),u=a("78"),v=a("7f"),w=a("80"),x=a("8e"),y=a("8f"),z=!1;c.exports={inject:d}}(a("10")),d.define=e,c.exports}),a.registerDynamic("15",[],!0,function(a,b,c){"use strict";var d=this,e=d.define;return d.define=void 0,c.exports="0.14.7",d.define=e,c.exports}),a.registerDynamic("42",["1b","41","3d","12","1e","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a){return null==a?null:1===a.nodeType?a:e.has(a)?f.getNodeFromInstance(a):(null!=a.render&&"function"==typeof a.render?g(!1):void 0,void g(!1))}var e=(a("1b"),a("41")),f=a("3d"),g=a("12");a("1e");c.exports=d}(a("10")),d.define=e,c.exports}),a.registerDynamic("3f",["12","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a,b){return(a&b)===b}var e=a("12"),f={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(a){var b=f,c=a.Properties||{},g=a.DOMAttributeNamespaces||{},i=a.DOMAttributeNames||{},j=a.DOMPropertyNames||{},k=a.DOMMutationMethods||{};a.isCustomAttribute&&h._isCustomAttributeFunctions.push(a.isCustomAttribute);for(var l in c){h.properties.hasOwnProperty(l)?e(!1):void 0;var m=l.toLowerCase(),n=c[l],o={attributeName:m,attributeNamespace:null,propertyName:l,mutationMethod:null,mustUseAttribute:d(n,b.MUST_USE_ATTRIBUTE),mustUseProperty:d(n,b.MUST_USE_PROPERTY),hasSideEffects:d(n,b.HAS_SIDE_EFFECTS),hasBooleanValue:d(n,b.HAS_BOOLEAN_VALUE),hasNumericValue:d(n,b.HAS_NUMERIC_VALUE),hasPositiveNumericValue:d(n,b.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:d(n,b.HAS_OVERLOADED_BOOLEAN_VALUE)};if(o.mustUseAttribute&&o.mustUseProperty?e(!1):void 0,!o.mustUseProperty&&o.hasSideEffects?e(!1):void 0,o.hasBooleanValue+o.hasNumericValue+o.hasOverloadedBooleanValue<=1?void 0:e(!1),i.hasOwnProperty(l)){var p=i[l];o.attributeName=p}g.hasOwnProperty(l)&&(o.attributeNamespace=g[l]),j.hasOwnProperty(l)&&(o.propertyName=j[l]),k.hasOwnProperty(l)&&(o.mutationMethod=k[l]),h.properties[l]=o}}},g={},h={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(a){for(var b=0;b<h._isCustomAttributeFunctions.length;b++){var c=h._isCustomAttributeFunctions[b];if(c(a))return!0}return!1},getDefaultValueForProperty:function(a,b){var c,d=g[a];return d||(g[a]=d={}),b in d||(c=document.createElement(a),d[b]=c[b]),d[b]},injection:f};c.exports=h}(a("10")),d.define=e,c.exports}),a.registerDynamic("94",["12","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(){if(h)for(var a in i){var b=i[a],c=h.indexOf(a);if(c>-1?void 0:g(!1),!j.plugins[c]){b.extractEvents?void 0:g(!1),j.plugins[c]=b;var d=b.eventTypes;for(var f in d)e(d[f],b,f)?void 0:g(!1)}}}function e(a,b,c){j.eventNameDispatchConfigs.hasOwnProperty(c)?g(!1):void 0,j.eventNameDispatchConfigs[c]=a;var d=a.phasedRegistrationNames;if(d){for(var e in d)if(d.hasOwnProperty(e)){var h=d[e];f(h,b,c)}return!0}return a.registrationName?(f(a.registrationName,b,c),!0):!1}function f(a,b,c){j.registrationNameModules[a]?g(!1):void 0,j.registrationNameModules[a]=b,j.registrationNameDependencies[a]=b.eventTypes[c].dependencies}var g=a("12"),h=null,i={},j={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(a){h?g(!1):void 0,h=Array.prototype.slice.call(a),d()},injectEventPluginsByName:function(a){var b=!1;for(var c in a)if(a.hasOwnProperty(c)){var e=a[c];i.hasOwnProperty(c)&&i[c]===e||(i[c]?g(!1):void 0,i[c]=e,b=!0)}b&&d()},getPluginModuleForEvent:function(a){var b=a.dispatchConfig;if(b.registrationName)return j.registrationNameModules[b.registrationName]||null;for(var c in b.phasedRegistrationNames)if(b.phasedRegistrationNames.hasOwnProperty(c)){var d=j.registrationNameModules[b.phasedRegistrationNames[c]];if(d)return d}return null},_resetEventPlugins:function(){h=null;for(var a in i)i.hasOwnProperty(a)&&delete i[a];j.plugins.length=0;var b=j.eventNameDispatchConfigs;for(var c in b)b.hasOwnProperty(c)&&delete b[c];var d=j.registrationNameModules;for(var e in d)d.hasOwnProperty(e)&&delete d[e]}};c.exports=j}(a("10")),d.define=e,c.exports}),a.registerDynamic("30",["6c"],!0,function(a,b,c){"use strict";var d=this,e=d.define;d.define=void 0;var f=a("6c"),g=f({bubbled:null,captured:null}),h=f({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),i={topLevelTypes:h,PropagationPhases:g};return c.exports=i,d.define=e,c.exports}),a.registerDynamic("95",["30","96","12","1e","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a){return a===q.topMouseUp||a===q.topTouchEnd||a===q.topTouchCancel}function e(a){return a===q.topMouseMove||a===q.topTouchMove}function f(a){return a===q.topMouseDown||a===q.topTouchStart}function g(a,b,c,d){var e=a.type||"unknown-event";a.currentTarget=p.Mount.getNode(d),b?n.invokeGuardedCallbackWithCatch(e,c,a,d):n.invokeGuardedCallback(e,c,a,d),a.currentTarget=null}function h(a,b){var c=a._dispatchListeners,d=a._dispatchIDs;if(Array.isArray(c))for(var e=0;e<c.length&&!a.isPropagationStopped();e++)g(a,b,c[e],d[e]);else c&&g(a,b,c,d);a._dispatchListeners=null,a._dispatchIDs=null}function i(a){var b=a._dispatchListeners,c=a._dispatchIDs;if(Array.isArray(b)){for(var d=0;d<b.length&&!a.isPropagationStopped();d++)if(b[d](a,c[d]))return c[d]}else if(b&&b(a,c))return c;return null}function j(a){var b=i(a);return a._dispatchIDs=null,a._dispatchListeners=null,b}function k(a){var b=a._dispatchListeners,c=a._dispatchIDs;Array.isArray(b)?o(!1):void 0;var d=b?b(a,c):null;return a._dispatchListeners=null,a._dispatchIDs=null,d}function l(a){return!!a._dispatchListeners}var m=a("30"),n=a("96"),o=a("12"),p=(a("1e"),{Mount:null,injectMount:function(a){p.Mount=a}}),q=m.topLevelTypes,r={isEndish:d,isMoveish:e,isStartish:f,executeDirectDispatch:k,executeDispatchesInOrder:h,executeDispatchesInOrderStopAtTrue:j,hasDispatches:l,getNode:function(a){return p.Mount.getNode(a)},getID:function(a){return p.Mount.getID(a)},injection:p};c.exports=r}(a("10")),d.define=e,c.exports}),a.registerDynamic("96",["10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(a){"use strict";function b(a,b,c,e){try{return b(c,e)}catch(f){return void(null===d&&(d=f))}}var d=null,e={invokeGuardedCallback:b,invokeGuardedCallbackWithCatch:b,rethrowCaughtError:function(){if(d){var a=d;throw d=null,a}}};c.exports=e}(a("10")),d.define=e,c.exports}),a.registerDynamic("81",["12","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a,b){if(null==b?e(!1):void 0,null==a)return b;var c=Array.isArray(a),d=Array.isArray(b);return c&&d?(a.push.apply(a,b),a):c?(a.push(b),a):d?[a].concat(b):[a,b]}var e=a("12");c.exports=d}(a("10")),d.define=e,c.exports}),a.registerDynamic("82",[],!0,function(a,b,c){"use strict";var d=this,e=d.define;d.define=void 0;var f=function(a,b,c){Array.isArray(a)?a.forEach(b,c):a&&b.call(c,a)};return c.exports=f,d.define=e,c.exports}),a.registerDynamic("35",["94","95","96","81","82","12","1e","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";var d=a("94"),e=a("95"),f=a("96"),g=a("81"),h=a("82"),i=a("12"),j=(a("1e"),{}),k=null,l=function(a,b){a&&(e.executeDispatchesInOrder(a,b),a.isPersistent()||a.constructor.release(a))},m=function(a){return l(a,!0)},n=function(a){return l(a,!1)},o=null,p={injection:{injectMount:e.injection.injectMount,injectInstanceHandle:function(a){o=a},getInstanceHandle:function(){return o},injectEventPluginOrder:d.injectEventPluginOrder,injectEventPluginsByName:d.injectEventPluginsByName},eventNameDispatchConfigs:d.eventNameDispatchConfigs,registrationNameModules:d.registrationNameModules,putListener:function(a,b,c){"function"!=typeof c?i(!1):void 0;var e=j[b]||(j[b]={});e[a]=c;var f=d.registrationNameModules[b];f&&f.didPutListener&&f.didPutListener(a,b,c)},getListener:function(a,b){var c=j[b];return c&&c[a]},deleteListener:function(a,b){var c=d.registrationNameModules[b];c&&c.willDeleteListener&&c.willDeleteListener(a,b);var e=j[b];e&&delete e[a]},deleteAllListeners:function(a){for(var b in j)if(j[b][a]){var c=d.registrationNameModules[b];c&&c.willDeleteListener&&c.willDeleteListener(a,b),delete j[b][a]}},extractEvents:function(a,b,c,e,f){for(var h,i=d.plugins,j=0;j<i.length;j++){var k=i[j];if(k){var l=k.extractEvents(a,b,c,e,f);l&&(h=g(h,l))}}return h},enqueueEvents:function(a){a&&(k=g(k,a))},processEventQueue:function(a){var b=k;k=null,a?h(b,m):h(b,n),k?i(!1):void 0,f.rethrowCaughtError()},__purge:function(){j={}},__getListenerBank:function(){return j}};c.exports=p}(a("10")),d.define=e,c.exports}),a.registerDynamic("97",["35"],!0,function(a,b,c){"use strict";function d(a){g.enqueueEvents(a),g.processEventQueue(!1)}var e=this,f=e.define;e.define=void 0;var g=a("35"),h={handleTopLevel:function(a,b,c,e,f){var h=g.extractEvents(a,b,c,e,f);d(h)}};return c.exports=h,e.define=f,c.exports}),a.registerDynamic("8c",[],!0,function(a,b,c){"use strict";var d=this,e=d.define;d.define=void 0;var f={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(a){f.currentScrollLeft=a.x,f.currentScrollTop=a.y}};return c.exports=f,d.define=e,c.exports}),a.registerDynamic("37",["32"],!0,function(a,b,c){"use strict";function d(a,b){if(!h.canUseDOM||b&&!("addEventListener"in document))return!1;var c="on"+a,d=c in document;if(!d){var e=document.createElement("div");e.setAttribute(c,"return;"),d="function"==typeof e[c]}return!d&&g&&"wheel"===a&&(d=document.implementation.hasFeature("Events.wheel","3.0")),d}var e=this,f=e.define;e.define=void 0;var g,h=a("32");return h.canUseDOM&&(g=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),c.exports=d,e.define=f,c.exports}),a.registerDynamic("5f",["30","35","94","97","4d","8c","7","37","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a){return Object.prototype.hasOwnProperty.call(a,q)||(a[q]=o++,m[a[q]]={}),m[a[q]]}var e=a("30"),f=a("35"),g=a("94"),h=a("97"),i=a("4d"),j=a("8c"),k=a("7"),l=a("37"),m={},n=!1,o=0,p={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},q="_reactListenersID"+String(Math.random()).slice(2),r=k({},h,{ReactEventListener:null,injection:{injectReactEventListener:function(a){a.setHandleTopLevel(r.handleTopLevel),r.ReactEventListener=a}},setEnabled:function(a){r.ReactEventListener&&r.ReactEventListener.setEnabled(a)},isEnabled:function(){return!(!r.ReactEventListener||!r.ReactEventListener.isEnabled())},listenTo:function(a,b){for(var c=b,f=d(c),h=g.registrationNameDependencies[a],i=e.topLevelTypes,j=0;j<h.length;j++){var k=h[j];f.hasOwnProperty(k)&&f[k]||(k===i.topWheel?l("wheel")?r.ReactEventListener.trapBubbledEvent(i.topWheel,"wheel",c):l("mousewheel")?r.ReactEventListener.trapBubbledEvent(i.topWheel,"mousewheel",c):r.ReactEventListener.trapBubbledEvent(i.topWheel,"DOMMouseScroll",c):k===i.topScroll?l("scroll",!0)?r.ReactEventListener.trapCapturedEvent(i.topScroll,"scroll",c):r.ReactEventListener.trapBubbledEvent(i.topScroll,"scroll",r.ReactEventListener.WINDOW_HANDLE):k===i.topFocus||k===i.topBlur?(l("focus",!0)?(r.ReactEventListener.trapCapturedEvent(i.topFocus,"focus",c),r.ReactEventListener.trapCapturedEvent(i.topBlur,"blur",c)):l("focusin")&&(r.ReactEventListener.trapBubbledEvent(i.topFocus,"focusin",c),r.ReactEventListener.trapBubbledEvent(i.topBlur,"focusout",c)),f[i.topBlur]=!0,f[i.topFocus]=!0):p.hasOwnProperty(k)&&r.ReactEventListener.trapBubbledEvent(k,p[k],c),f[k]=!0)}},trapBubbledEvent:function(a,b,c){return r.ReactEventListener.trapBubbledEvent(a,b,c)},trapCapturedEvent:function(a,b,c){return r.ReactEventListener.trapCapturedEvent(a,b,c)},ensureScrollValueMonitoring:function(){if(!n){var a=j.refreshScrollValues;
r.ReactEventListener.monitorScrollValue(a),n=!0}},eventNameDispatchConfigs:f.eventNameDispatchConfigs,registrationNameModules:f.registrationNameModules,putListener:f.putListener,getListener:f.getListener,deleteListener:f.deleteListener,deleteAllListeners:f.deleteAllListeners});i.measureMethods(r,"ReactBrowserEventEmitter",{putListener:"putListener",deleteListener:"deleteListener"}),c.exports=r}(a("10")),d.define=e,c.exports}),a.registerDynamic("79",[],!0,function(a,b,c){"use strict";var d=this,e=d.define;d.define=void 0;var f={useCreateElement:!1};return c.exports=f,d.define=e,c.exports}),a.registerDynamic("77",[],!0,function(a,b,c){"use strict";var d=this,e=d.define;d.define=void 0;var f={injectCreateReactRootIndex:function(a){g.createReactRootIndex=a}},g={createReactRootIndex:null,injection:f};return c.exports=g,d.define=e,c.exports}),a.registerDynamic("c",["77","12","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a){return n+a.toString(36)}function e(a,b){return a.charAt(b)===n||b===a.length}function f(a){return""===a||a.charAt(0)===n&&a.charAt(a.length-1)!==n}function g(a,b){return 0===b.indexOf(a)&&e(b,a.length)}function h(a){return a?a.substr(0,a.lastIndexOf(n)):""}function i(a,b){if(f(a)&&f(b)?void 0:m(!1),g(a,b)?void 0:m(!1),a===b)return a;var c,d=a.length+o;for(c=d;c<b.length&&!e(b,c);c++);return b.substr(0,c)}function j(a,b){var c=Math.min(a.length,b.length);if(0===c)return"";for(var d=0,g=0;c>=g;g++)if(e(a,g)&&e(b,g))d=g;else if(a.charAt(g)!==b.charAt(g))break;var h=a.substr(0,d);return f(h)?void 0:m(!1),h}function k(a,b,c,d,e,f){a=a||"",b=b||"",a===b?m(!1):void 0;var j=g(b,a);j||g(a,b)?void 0:m(!1);for(var k=0,l=j?h:i,n=a;;n=l(n,b)){var o;if(e&&n===a||f&&n===b||(o=c(n,j,d)),o===!1||n===b)break;k++<p?void 0:m(!1)}}var l=a("77"),m=a("12"),n=".",o=n.length,p=1e4,q={createReactRootID:function(){return d(l.createReactRootIndex())},createReactID:function(a,b){return a+b},getReactRootIDFromNodeID:function(a){if(a&&a.charAt(0)===n&&a.length>1){var b=a.indexOf(n,1);return b>-1?a.substr(0,b):a}return null},traverseEnterLeave:function(a,b,c,d,e){var f=j(a,b);f!==a&&k(a,f,c,d,!1,!0),f!==b&&k(f,b,c,e,!0,!1)},traverseTwoPhase:function(a,b,c){a&&(k("",a,b,c,!0,!1),k(a,"",b,c,!1,!0))},traverseTwoPhaseSkipTarget:function(a,b,c){a&&(k("",a,b,c,!0,!0),k(a,"",b,c,!0,!0))},traverseAncestors:function(a,b,c){k("",a,b,c,!0,!1)},getFirstCommonAncestorID:j,_getNextDescendantID:i,isAncestorIDOf:g,SEPARATOR:n};c.exports=q}(a("10")),d.define=e,c.exports}),a.registerDynamic("98",[],!0,function(a,b,c){"use strict";function d(a){for(var b=1,c=0,d=0,e=a.length,f=-4&e;f>d;){for(;d<Math.min(d+4096,f);d+=4)c+=(b+=a.charCodeAt(d))+(b+=a.charCodeAt(d+1))+(b+=a.charCodeAt(d+2))+(b+=a.charCodeAt(d+3));b%=g,c%=g}for(;e>d;d++)c+=b+=a.charCodeAt(d);return b%=g,c%=g,b|c<<16}var e=this,f=e.define;e.define=void 0;var g=65521;return c.exports=d,e.define=f,c.exports}),a.registerDynamic("d",["98"],!0,function(a,b,c){"use strict";var d=this,e=d.define;d.define=void 0;var f=a("98"),g=/\/?>/,h={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(a){var b=f(a);return a.replace(g," "+h.CHECKSUM_ATTR_NAME+'="'+b+'"$&')},canReuseMarkup:function(a,b){var c=b.getAttribute(h.CHECKSUM_ATTR_NAME);c=c&&parseInt(c,10);var d=f(a);return d===c}};return c.exports=h,d.define=e,c.exports}),a.registerDynamic("99",[],!0,function(a,b,c){"use strict";function d(a){return!(!a||!("function"==typeof Node?a instanceof Node:"object"==typeof a&&"number"==typeof a.nodeType&&"string"==typeof a.nodeName))}var e=this,f=e.define;return e.define=void 0,c.exports=d,e.define=f,c.exports}),a.registerDynamic("9a",["99"],!0,function(a,b,c){"use strict";function d(a){return g(a)&&3==a.nodeType}var e=this,f=e.define;e.define=void 0;var g=a("99");return c.exports=d,e.define=f,c.exports}),a.registerDynamic("7d",["9a"],!0,function(a,b,c){"use strict";function d(a,b){var c=!0;a:for(;c;){var d=a,e=b;if(c=!1,d&&e){if(d===e)return!0;if(g(d))return!1;if(g(e)){a=d,b=e.parentNode,c=!0;continue a}return d.contains?d.contains(e):d.compareDocumentPosition?!!(16&d.compareDocumentPosition(e)):!1}return!1}}var e=this,f=e.define;e.define=void 0;var g=a("9a");return c.exports=d,e.define=f,c.exports}),a.registerDynamic("5b",["12","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";var d=a("12"),e=!1,f={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(a){e?d(!1):void 0,f.unmountIDFromEnvironment=a.unmountIDFromEnvironment,f.replaceNodeWithMarkupByID=a.replaceNodeWithMarkupByID,f.processChildrenUpdates=a.processChildrenUpdates,e=!0}}};c.exports=f}(a("10")),d.define=e,c.exports}),a.registerDynamic("6c",["12","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";var d=a("12"),e=function(a){var b,c={};a instanceof Object&&!Array.isArray(a)?void 0:d(!1);for(b in a)a.hasOwnProperty(b)&&(c[b]=b);return c};c.exports=e}(a("10")),d.define=e,c.exports}),a.registerDynamic("19",["6c"],!0,function(a,b,c){"use strict";var d=this,e=d.define;d.define=void 0;var f=a("6c"),g=f({prop:null,context:null,childContext:null});return c.exports=g,d.define=e,c.exports}),a.registerDynamic("1a",["10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(a){"use strict";var b={};c.exports=b}(a("10")),d.define=e,c.exports}),a.registerDynamic("41",[],!0,function(a,b,c){"use strict";var d=this,e=d.define;d.define=void 0;var f={remove:function(a){a._reactInternalInstance=void 0},get:function(a){return a._reactInternalInstance},has:function(a){return void 0!==a._reactInternalInstance},set:function(a,b){a._reactInternalInstance=b}};return c.exports=f,d.define=e,c.exports}),a.registerDynamic("5",["4","7","12","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(){this._callbacks=null,this._contexts=null}var e=a("4"),f=a("7"),g=a("12");f(d.prototype,{enqueue:function(a,b){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(a),this._contexts.push(b)},notifyAll:function(){var a=this._callbacks,b=this._contexts;if(a){a.length!==b.length?g(!1):void 0,this._callbacks=null,this._contexts=null;for(var c=0;c<a.length;c++)a[c].call(b[c]);a.length=0,b.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),e.addPoolingTo(d),c.exports=d}(a("10")),d.define=e,c.exports}),a.registerDynamic("4",["12","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";var d=a("12"),e=function(a){var b=this;if(b.instancePool.length){var c=b.instancePool.pop();return b.call(c,a),c}return new b(a)},f=function(a,b){var c=this;if(c.instancePool.length){var d=c.instancePool.pop();return c.call(d,a,b),d}return new c(a,b)},g=function(a,b,c){var d=this;if(d.instancePool.length){var e=d.instancePool.pop();return d.call(e,a,b,c),e}return new d(a,b,c)},h=function(a,b,c,d){var e=this;if(e.instancePool.length){var f=e.instancePool.pop();return e.call(f,a,b,c,d),f}return new e(a,b,c,d)},i=function(a,b,c,d,e){var f=this;if(f.instancePool.length){var g=f.instancePool.pop();return f.call(g,a,b,c,d,e),g}return new f(a,b,c,d,e)},j=function(a){var b=this;a instanceof b?void 0:d(!1),a.destructor(),b.instancePool.length<b.poolSize&&b.instancePool.push(a)},k=10,l=e,m=function(a,b){var c=a;return c.instancePool=[],c.getPooled=b||l,c.poolSize||(c.poolSize=k),c.release=j,c},n={addPoolingTo:m,oneArgumentPooler:e,twoArgumentPooler:f,threeArgumentPooler:g,fourArgumentPooler:h,fiveArgumentPooler:i};c.exports=n}(a("10")),d.define=e,c.exports}),a.registerDynamic("4d",["10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(a){"use strict";function b(a,b,c){return c}var d={enableMeasure:!1,storedMeasure:b,measureMethods:function(a,b,c){},measure:function(a,b,c){return c},injection:{injectMeasure:function(a){d.storedMeasure=a}}};c.exports=d}(a("10")),d.define=e,c.exports}),a.registerDynamic("6",["12","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";var d=a("12"),e={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(a,b,c,e,f,g,h,i){this.isInTransaction()?d(!1):void 0;var j,k;try{this._isInTransaction=!0,j=!0,this.initializeAll(0),k=a.call(b,c,e,f,g,h,i),j=!1}finally{try{if(j)try{this.closeAll(0)}catch(l){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return k},initializeAll:function(a){for(var b=this.transactionWrappers,c=a;c<b.length;c++){var d=b[c];try{this.wrapperInitData[c]=f.OBSERVED_ERROR,this.wrapperInitData[c]=d.initialize?d.initialize.call(this):null}finally{if(this.wrapperInitData[c]===f.OBSERVED_ERROR)try{this.initializeAll(c+1)}catch(e){}}}},closeAll:function(a){this.isInTransaction()?void 0:d(!1);for(var b=this.transactionWrappers,c=a;c<b.length;c++){var e,g=b[c],h=this.wrapperInitData[c];try{e=!0,h!==f.OBSERVED_ERROR&&g.close&&g.close.call(this,h),e=!1}finally{if(e)try{this.closeAll(c+1)}catch(i){}}}this.wrapperInitData.length=0}},f={Mixin:e,OBSERVED_ERROR:{}};c.exports=f}(a("10")),d.define=e,c.exports}),a.registerDynamic("e",["5","4","4d","57","6","7","12","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(){A.ReactReconcileTransaction&&u?void 0:q(!1)}function e(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=k.getPooled(),this.reconcileTransaction=A.ReactReconcileTransaction.getPooled(!1)}function f(a,b,c,e,f,g){d(),u.batchedUpdates(a,b,c,e,f,g)}function g(a,b){return a._mountOrder-b._mountOrder}function h(a){var b=a.dirtyComponentsLength;b!==r.length?q(!1):void 0,r.sort(g);for(var c=0;b>c;c++){var d=r[c],e=d._pendingCallbacks;if(d._pendingCallbacks=null,n.performUpdateIfNecessary(d,a.reconcileTransaction),e)for(var f=0;f<e.length;f++)a.callbackQueue.enqueue(e[f],d.getPublicInstance())}}function i(a){return d(),u.isBatchingUpdates?void r.push(a):void u.batchedUpdates(i,a)}function j(a,b){u.isBatchingUpdates?void 0:q(!1),s.enqueue(a,b),t=!0}var k=a("5"),l=a("4"),m=a("4d"),n=a("57"),o=a("6"),p=a("7"),q=a("12"),r=[],s=k.getPooled(),t=!1,u=null,v={initialize:function(){this.dirtyComponentsLength=r.length},close:function(){this.dirtyComponentsLength!==r.length?(r.splice(0,this.dirtyComponentsLength),y()):r.length=0}},w={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},x=[v,w];p(e.prototype,o.Mixin,{getTransactionWrappers:function(){return x},destructor:function(){this.dirtyComponentsLength=null,k.release(this.callbackQueue),this.callbackQueue=null,A.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(a,b,c){return o.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,a,b,c)}}),l.addPoolingTo(e);var y=function(){for(;r.length||t;){if(r.length){var a=e.getPooled();a.perform(h,null,a),e.release(a)}if(t){t=!1;var b=s;s=k.getPooled(),b.notifyAll(),k.release(b)}}};y=m.measure("ReactUpdates","flushBatchedUpdates",y);var z={injectReconcileTransaction:function(a){a?void 0:q(!1),A.ReactReconcileTransaction=a},injectBatchingStrategy:function(a){a?void 0:q(!1),"function"!=typeof a.batchedUpdates?q(!1):void 0,"boolean"!=typeof a.isBatchingUpdates?q(!1):void 0,u=a}},A={ReactReconcileTransaction:null,batchedUpdates:f,enqueueUpdate:i,flushBatchedUpdates:y,injection:z,asap:j};c.exports=A}(a("10")),d.define=e,c.exports}),a.registerDynamic("61",["1b","b","41","e","7","12","1e","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a){h.enqueueUpdate(a)}function e(a,b){var c=g.get(a);return c?c:null}var f=(a("1b"),a("b")),g=a("41"),h=a("e"),i=a("7"),j=a("12"),k=(a("1e"),{isMounted:function(a){var b=g.get(a);return b?!!b._renderedComponent:!1},enqueueCallback:function(a,b){"function"!=typeof b?j(!1):void 0;var c=e(a);return c?(c._pendingCallbacks?c._pendingCallbacks.push(b):c._pendingCallbacks=[b],void d(c)):null},enqueueCallbackInternal:function(a,b){"function"!=typeof b?j(!1):void 0,a._pendingCallbacks?a._pendingCallbacks.push(b):a._pendingCallbacks=[b],d(a)},enqueueForceUpdate:function(a){var b=e(a,"forceUpdate");b&&(b._pendingForceUpdate=!0,d(b))},enqueueReplaceState:function(a,b){var c=e(a,"replaceState");c&&(c._pendingStateQueue=[b],c._pendingReplaceState=!0,d(c))},enqueueSetState:function(a,b){var c=e(a,"setState");if(c){var f=c._pendingStateQueue||(c._pendingStateQueue=[]);f.push(b),d(c)}},enqueueSetProps:function(a,b){var c=e(a,"setProps");c&&k.enqueueSetPropsInternal(c,b)},enqueueSetPropsInternal:function(a,b){var c=a._topLevelWrapper;c?void 0:j(!1);var e=c._pendingElement||c._currentElement,g=e.props,h=i({},g.props,b);c._pendingElement=f.cloneAndReplaceProps(e,f.cloneAndReplaceProps(g,h)),d(c)},enqueueReplaceProps:function(a,b){var c=e(a,"replaceProps");c&&k.enqueueReplacePropsInternal(c,b)},enqueueReplacePropsInternal:function(a,b){var c=a._topLevelWrapper;c?void 0:j(!1);var e=c._pendingElement||c._currentElement,g=e.props;c._pendingElement=f.cloneAndReplaceProps(e,f.cloneAndReplaceProps(g,b)),d(c)},enqueueElementInternal:function(a,b){a._pendingElement=b,d(a)}});c.exports=k}(a("10")),d.define=e,c.exports}),a.registerDynamic("11",["10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(a){"use strict";var b={};c.exports=b}(a("10")),d.define=e,c.exports}),a.registerDynamic("9b",["5b","1b","b","41","4d","19","1a","57","61","7","11","12","58","1e","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a){var b=a._currentElement._owner||null;if(b){var c=b.getName();if(c)return" Check the render method of `"+c+"`."}return""}function e(a){}var f=a("5b"),g=a("1b"),h=a("b"),i=a("41"),j=a("4d"),k=a("19"),l=(a("1a"),a("57")),m=a("61"),n=a("7"),o=a("11"),p=a("12"),q=a("58");a("1e");e.prototype.render=function(){var a=i.get(this)._currentElement.type;return a(this.props,this.context,this.updater)};var r=1,s={construct:function(a){this._currentElement=a,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null},mountComponent:function(a,b,c){this._context=c,this._mountOrder=r++,this._rootNodeID=a;var d,f,g=this._processProps(this._currentElement.props),j=this._processContext(c),k=this._currentElement.type,n="prototype"in k;n&&(d=new k(g,j,m)),(!n||null===d||d===!1||h.isValidElement(d))&&(f=d,d=new e(k)),d.props=g,d.context=j,d.refs=o,d.updater=m,this._instance=d,i.set(d,this);var q=d.state;void 0===q&&(d.state=q=null),"object"!=typeof q||Array.isArray(q)?p(!1):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,d.componentWillMount&&(d.componentWillMount(),this._pendingStateQueue&&(d.state=this._processPendingState(d.props,d.context))),void 0===f&&(f=this._renderValidatedComponent()),this._renderedComponent=this._instantiateReactComponent(f);var s=l.mountComponent(this._renderedComponent,a,b,this._processChildContext(c));return d.componentDidMount&&b.getReactMountReady().enqueue(d.componentDidMount,d),s},unmountComponent:function(){var a=this._instance;a.componentWillUnmount&&a.componentWillUnmount(),l.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._instance=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,i.remove(a)},_maskContext:function(a){var b=null,c=this._currentElement.type,d=c.contextTypes;if(!d)return o;b={};for(var e in d)b[e]=a[e];return b},_processContext:function(a){var b=this._maskContext(a);return b},_processChildContext:function(a){var b=this._currentElement.type,c=this._instance,d=c.getChildContext&&c.getChildContext();if(d){"object"!=typeof b.childContextTypes?p(!1):void 0;for(var e in d)e in b.childContextTypes?void 0:p(!1);return n({},a,d)}return a},_processProps:function(a){return a},_checkPropTypes:function(a,b,c){var e=this.getName();for(var f in a)if(a.hasOwnProperty(f)){var g;try{"function"!=typeof a[f]?p(!1):void 0,g=a[f](b,f,e,c)}catch(h){g=h}if(g instanceof Error){d(this);c===k.prop}}},receiveComponent:function(a,b,c){var d=this._currentElement,e=this._context;this._pendingElement=null,this.updateComponent(b,d,a,e,c)},performUpdateIfNecessary:function(a){null!=this._pendingElement&&l.receiveComponent(this,this._pendingElement||this._currentElement,a,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(a,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(a,b,c,d,e){var f,g=this._instance,h=this._context===e?g.context:this._processContext(e);b===c?f=c.props:(f=this._processProps(c.props),g.componentWillReceiveProps&&g.componentWillReceiveProps(f,h));var i=this._processPendingState(f,h),j=this._pendingForceUpdate||!g.shouldComponentUpdate||g.shouldComponentUpdate(f,i,h);j?(this._pendingForceUpdate=!1,this._performComponentUpdate(c,f,i,h,a,e)):(this._currentElement=c,this._context=e,g.props=f,g.state=i,g.context=h)},_processPendingState:function(a,b){var c=this._instance,d=this._pendingStateQueue,e=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!d)return c.state;if(e&&1===d.length)return d[0];for(var f=n({},e?d[0]:c.state),g=e?1:0;g<d.length;g++){var h=d[g];n(f,"function"==typeof h?h.call(c,f,a,b):h)}return f},_performComponentUpdate:function(a,b,c,d,e,f){var g,h,i,j=this._instance,k=Boolean(j.componentDidUpdate);k&&(g=j.props,h=j.state,i=j.context),j.componentWillUpdate&&j.componentWillUpdate(b,c,d),this._currentElement=a,this._context=f,j.props=b,j.state=c,j.context=d,this._updateRenderedComponent(e,f),k&&e.getReactMountReady().enqueue(j.componentDidUpdate.bind(j,g,h,i),j)},_updateRenderedComponent:function(a,b){var c=this._renderedComponent,d=c._currentElement,e=this._renderValidatedComponent();if(q(d,e))l.receiveComponent(c,e,a,this._processChildContext(b));else{var f=this._rootNodeID,g=c._rootNodeID;l.unmountComponent(c),this._renderedComponent=this._instantiateReactComponent(e);var h=l.mountComponent(this._renderedComponent,f,a,this._processChildContext(b));this._replaceNodeWithMarkupByID(g,h)}},_replaceNodeWithMarkupByID:function(a,b){f.replaceNodeWithMarkupByID(a,b)},_renderValidatedComponentWithoutOwnerOrContext:function(){var a=this._instance,b=a.render();return b},_renderValidatedComponent:function(){var a;g.current=this;try{a=this._renderValidatedComponentWithoutOwnerOrContext()}finally{g.current=null}return null===a||a===!1||h.isValidElement(a)?void 0:p(!1),a},attachRef:function(a,b){var c=this.getPublicInstance();null==c?p(!1):void 0;var d=b.getPublicInstance(),e=c.refs===o?c.refs={}:c.refs;e[a]=d},detachRef:function(a){var b=this.getPublicInstance().refs;delete b[a]},getName:function(){var a=this._currentElement.type,b=this._instance&&this._instance.constructor;return a.displayName||b&&b.displayName||a.name||b&&b.name||null},getPublicInstance:function(){var a=this._instance;return a instanceof e?null:a},_instantiateReactComponent:null};j.measureMethods(s,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var t={Mixin:s};c.exports=t}(a("10")),d.define=e,c.exports}),a.registerDynamic("1b",[],!0,function(a,b,c){"use strict";var d=this,e=d.define;d.define=void 0;var f={current:null};return c.exports=f,d.define=e,c.exports}),a.registerDynamic("1c",["10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(a){"use strict";var b=!1;c.exports=b}(a("10")),d.define=e,c.exports}),a.registerDynamic("b",["1b","7","1c","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";var d=a("1b"),e=a("7"),f=(a("1c"),"function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103),g={key:!0,ref:!0,__self:!0,__source:!0},h=function(a,b,c,d,e,g,h){var i={$$typeof:f,type:a,key:b,ref:c,props:h,_owner:g};return i};h.createElement=function(a,b,c){var e,f={},i=null,j=null,k=null,l=null;if(null!=b){j=void 0===b.ref?null:b.ref,i=void 0===b.key?null:""+b.key,k=void 0===b.__self?null:b.__self,l=void 0===b.__source?null:b.__source;for(e in b)b.hasOwnProperty(e)&&!g.hasOwnProperty(e)&&(f[e]=b[e])}var m=arguments.length-2;if(1===m)f.children=c;else if(m>1){for(var n=Array(m),o=0;m>o;o++)n[o]=arguments[o+2];f.children=n}if(a&&a.defaultProps){var p=a.defaultProps;for(e in p)"undefined"==typeof f[e]&&(f[e]=p[e])}return h(a,i,j,k,l,d.current,f)},h.createFactory=function(a){var b=h.createElement.bind(null,a);return b.type=a,b},h.cloneAndReplaceKey=function(a,b){var c=h(a.type,b,a.ref,a._self,a._source,a._owner,a.props);return c},h.cloneAndReplaceProps=function(a,b){var c=h(a.type,a.key,a.ref,a._self,a._source,a._owner,b);return c},h.cloneElement=function(a,b,c){var f,i=e({},a.props),j=a.key,k=a.ref,l=a._self,m=a._source,n=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,n=d.current),void 0!==b.key&&(j=""+b.key);for(f in b)b.hasOwnProperty(f)&&!g.hasOwnProperty(f)&&(i[f]=b[f])}var o=arguments.length-2;if(1===o)i.children=c;else if(o>1){for(var p=Array(o),q=0;o>q;q++)p[q]=arguments[q+2];i.children=p}return h(a.type,j,k,l,m,n,i)},h.isValidElement=function(a){return"object"==typeof a&&null!==a&&a.$$typeof===f},c.exports=h}(a("10")),d.define=e,c.exports}),a.registerDynamic("9c",[],!0,function(a,b,c){"use strict";function d(a){return!!i[a]}function e(a){i[a]=!0}function f(a){delete i[a]}var g=this,h=g.define;g.define=void 0;var i={},j={isNullComponentID:d,registerNullComponentID:e,deregisterNullComponentID:f};return c.exports=j,g.define=h,c.exports}),a.registerDynamic("9d",["12","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";var d=a("12"),e={isValidOwner:function(a){return!(!a||"function"!=typeof a.attachRef||"function"!=typeof a.detachRef)},addComponentAsRefTo:function(a,b,c){e.isValidOwner(c)?void 0:d(!1),c.attachRef(b,a)},removeComponentAsRefFrom:function(a,b,c){e.isValidOwner(c)?void 0:d(!1),c.getPublicInstance().refs[b]===a.getPublicInstance()&&c.detachRef(b)}};c.exports=e}(a("10")),d.define=e,c.exports}),a.registerDynamic("9e",["9d","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a,b,c){"function"==typeof a?a(b.getPublicInstance()):f.addComponentAsRefTo(b,a,c)}function e(a,b,c){"function"==typeof a?a(null):f.removeComponentAsRefFrom(b,a,c)}var f=a("9d"),g={};g.attachRefs=function(a,b){if(null!==b&&b!==!1){var c=b.ref;null!=c&&d(c,a,b._owner)}},g.shouldUpdateRefs=function(a,b){var c=null===a||a===!1,d=null===b||b===!1;return c||d||b._owner!==a._owner||b.ref!==a.ref},g.detachRefs=function(a,b){if(null!==b&&b!==!1){var c=b.ref;null!=c&&e(c,a,b._owner)}},c.exports=g}(a("10")),d.define=e,c.exports}),a.registerDynamic("57",["9e"],!0,function(a,b,c){"use strict";function d(){g.attachRefs(this,this._currentElement)}var e=this,f=e.define;e.define=void 0;var g=a("9e"),h={mountComponent:function(a,b,c,e){var f=a.mountComponent(b,c,e);return a._currentElement&&null!=a._currentElement.ref&&c.getReactMountReady().enqueue(d,a),f},unmountComponent:function(a){g.detachRefs(a,a._currentElement),a.unmountComponent()},receiveComponent:function(a,b,c,e){var f=a._currentElement;if(b!==f||e!==a._context){var h=g.shouldUpdateRefs(f,b);h&&g.detachRefs(a,f),a.receiveComponent(b,c,e),h&&a._currentElement&&null!=a._currentElement.ref&&c.getReactMountReady().enqueue(d,a)}},performUpdateIfNecessary:function(a,b){a.performUpdateIfNecessary(b)}};return c.exports=h,e.define=f,c.exports}),a.registerDynamic("75",["b","9c","57","7"],!0,function(a,b,c){"use strict";var d=this,e=d.define;d.define=void 0;var f,g=a("b"),h=a("9c"),i=a("57"),j=a("7"),k={injectEmptyComponent:function(a){f=g.createElement(a)}},l=function(a){this._currentElement=null,this._rootNodeID=null,this._renderedComponent=a(f)};return j(l.prototype,{construct:function(a){},mountComponent:function(a,b,c){return h.registerNullComponentID(a),this._rootNodeID=a,i.mountComponent(this._renderedComponent,a,b,c)},receiveComponent:function(){},unmountComponent:function(a,b,c){i.unmountComponent(this._renderedComponent),h.deregisterNullComponentID(this._rootNodeID),this._rootNodeID=null,this._renderedComponent=null}}),l.injection=k,c.exports=l,d.define=e,c.exports}),a.registerDynamic("76",["7","12","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a){if("function"==typeof a.type)return a.type;var b=a.type,c=l[b];return null==c&&(l[b]=c=j(b)),c}function e(a){return k?void 0:i(!1),new k(a.type,a.props)}function f(a){return new m(a)}function g(a){return a instanceof m}var h=a("7"),i=a("12"),j=null,k=null,l={},m=null,n={injectGenericComponentClass:function(a){k=a},injectTextComponentClass:function(a){m=a},injectComponentClasses:function(a){h(l,a)}},o={getComponentClassForElement:d,createInternalComponent:e,createInstanceForText:f,isTextComponent:g,injection:n};c.exports=o}(a("10")),d.define=e,c.exports}),a.registerDynamic("f",["9b","75","76","7","12","1e","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a){return"function"==typeof a&&"undefined"!=typeof a.prototype&&"function"==typeof a.prototype.mountComponent&&"function"==typeof a.prototype.receiveComponent}function e(a){var b;if(null===a||a===!1)b=new g(e);else if("object"==typeof a){var c=a;!c||"function"!=typeof c.type&&"string"!=typeof c.type?j(!1):void 0,b="string"==typeof c.type?h.createInternalComponent(c):d(c.type)?new c.type(c):new k}else"string"==typeof a||"number"==typeof a?b=h.createInstanceForText(a):j(!1);return b.construct(a),b._mountIndex=0,b._mountImage=null,b}var f=a("9b"),g=a("75"),h=a("76"),i=a("7"),j=a("12"),k=(a("1e"),function(){});i(k.prototype,f.Mixin,{_instantiateReactComponent:e}),c.exports=e}(a("10")),d.define=e,c.exports}),a.registerDynamic("12",["10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(a){"use strict";function b(a,b,c,d,e,f,g,h){if(!a){var i;if(void 0===b)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var j=[c,d,e,f,g,h],k=0;i=new Error(b.replace(/%s/g,function(){return j[k++]})),i.name="Invariant Violation"}throw i.framesToPop=1,i}}c.exports=b}(a("10")),d.define=e,c.exports}),a.registerDynamic("63",["32","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";var d=a("32"),e=/^[ \r\n\t\f]/,f=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,g=function(a,b){a.innerHTML=b};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(g=function(a,b){MSApp.execUnsafeLocalFunction(function(){a.innerHTML=b})}),d.canUseDOM){var h=document.createElement("div");h.innerHTML=" ",""===h.innerHTML&&(g=function(a,b){if(a.parentNode&&a.parentNode.replaceChild(a,a),e.test(b)||"<"===b[0]&&f.test(b)){a.innerHTML=String.fromCharCode(65279)+b;var c=a.firstChild;1===c.data.length?a.removeChild(c):c.deleteData(0,1)}else a.innerHTML=b})}c.exports=g}(a("10")),d.define=e,c.exports}),a.registerDynamic("58",[],!0,function(a,b,c){"use strict";function d(a,b){var c=null===a||a===!1,d=null===b||b===!1;if(c||d)return c===d;var e=typeof a,f=typeof b;return"string"===e||"number"===e?"string"===f||"number"===f:"object"===f&&a.type===b.type&&a.key===b.key}var e=this,f=e.define;return e.define=void 0,c.exports=d,e.define=f,c.exports}),a.registerDynamic("7",[],!0,function(a,b,c){"use strict";function d(a,b){if(null==a)throw new TypeError("Object.assign target cannot be null or undefined");for(var c=Object(a),d=Object.prototype.hasOwnProperty,e=1;e<arguments.length;e++){var f=arguments[e];if(null!=f){var g=Object(f);for(var h in g)d.call(g,h)&&(c[h]=g[h])}}return c}var e=this,f=e.define;return e.define=void 0,c.exports=d,e.define=f,c.exports}),a.registerDynamic("65",["7","8","1e","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";var d=(a("7"),a("8")),e=(a("1e"),d);c.exports=e}(a("10")),d.define=e,c.exports}),a.registerDynamic("3d",["3f","5f","1b","79","b","9c","c","41","d","4d","57","61","e","7","11","7d","f","12","63","58","65","1e","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";function d(a,b){for(var c=Math.min(a.length,b.length),d=0;c>d;d++)if(a.charAt(d)!==b.charAt(d))return d;return a.length===b.length?-1:c}function e(a){return a?a.nodeType===Q?a.documentElement:a.firstChild:null}function f(a){var b=e(a);return b&&Y.getID(b)}function g(a){var b=h(a);if(b)if(O.hasOwnProperty(b)){var c=O[b];c!==a&&(l(c,b)?K(!1):void 0,O[b]=a)}else O[b]=a;return b}function h(a){return a&&a.getAttribute&&a.getAttribute(N)||""}function i(a,b){var c=h(a);c!==b&&delete O[c],a.setAttribute(N,b),O[b]=a}function j(a){return O.hasOwnProperty(a)&&l(O[a],a)||(O[a]=Y.findReactNodeByID(a)),O[a]}function k(a){var b=A.get(a)._rootNodeID;return y.isNullComponentID(b)?null:(O.hasOwnProperty(b)&&l(O[b],b)||(O[b]=Y.findReactNodeByID(b)),O[b])}function l(a,b){if(a){h(a)!==b?K(!1):void 0;var c=Y.findReactContainerForID(b);if(c&&I(c,a))return!0}return!1}function m(a){delete O[a]}function n(a){var b=O[a];return b&&l(b,a)?void(W=b):!1}function o(a){W=null,z.traverseAncestors(a,n);var b=W;return W=null,b}function p(a,b,c,d,e,f){w.useCreateElement&&(f=G({},f),c.nodeType===Q?f[S]=c:f[S]=c.ownerDocument);var g=D.mountComponent(a,b,d,f);a._renderedComponent._topLevelWrapper=a,Y._mountImageIntoNode(g,c,e,d)}function q(a,b,c,d,e){var f=F.ReactReconcileTransaction.getPooled(d);f.perform(p,null,a,b,c,f,d,e),F.ReactReconcileTransaction.release(f)}function r(a,b){for(D.unmountComponent(a),b.nodeType===Q&&(b=b.documentElement);b.lastChild;)b.removeChild(b.lastChild)}function s(a){var b=f(a);return b?b!==z.getReactRootIDFromNodeID(b):!1}function t(a){for(;a&&a.parentNode!==a;a=a.parentNode)if(1===a.nodeType){var b=h(a);if(b){var c,d=z.getReactRootIDFromNodeID(b),e=a;do if(c=h(e),e=e.parentNode,null==e)return null;while(c!==d);if(e===U[d])return a}}return null}var u=a("3f"),v=a("5f"),w=(a("1b"),a("79")),x=a("b"),y=a("9c"),z=a("c"),A=a("41"),B=a("d"),C=a("4d"),D=a("57"),E=a("61"),F=a("e"),G=a("7"),H=a("11"),I=a("7d"),J=a("f"),K=a("12"),L=a("63"),M=a("58"),N=(a("65"),a("1e"),u.ID_ATTRIBUTE_NAME),O={},P=1,Q=9,R=11,S="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),T={},U={},V=[],W=null,X=function(){};X.prototype.isReactComponent={},X.prototype.render=function(){return this.props};var Y={TopLevelWrapper:X,_instancesByReactRootID:T,scrollMonitor:function(a,b){b()},_updateRootComponent:function(a,b,c,d){return Y.scrollMonitor(c,function(){E.enqueueElementInternal(a,b),d&&E.enqueueCallbackInternal(a,d)}),a},_registerComponent:function(a,b){!b||b.nodeType!==P&&b.nodeType!==Q&&b.nodeType!==R?K(!1):void 0,v.ensureScrollValueMonitoring();var c=Y.registerContainer(b);return T[c]=a,c},_renderNewRootComponent:function(a,b,c,d){var e=J(a,null),f=Y._registerComponent(e,b);return F.batchedUpdates(q,e,f,b,c,d),e},renderSubtreeIntoContainer:function(a,b,c,d){return null==a||null==a._reactInternalInstance?K(!1):void 0,Y._renderSubtreeIntoContainer(a,b,c,d)},_renderSubtreeIntoContainer:function(a,b,c,d){x.isValidElement(b)?void 0:K(!1);var g=new x(X,null,null,null,null,null,b),i=T[f(c)];
if(i){var j=i._currentElement,k=j.props;if(M(k,b)){var l=i._renderedComponent.getPublicInstance(),m=d&&function(){d.call(l)};return Y._updateRootComponent(i,g,c,m),l}Y.unmountComponentAtNode(c)}var n=e(c),o=n&&!!h(n),p=s(c),q=o&&!i&&!p,r=Y._renderNewRootComponent(g,c,q,null!=a?a._reactInternalInstance._processChildContext(a._reactInternalInstance._context):H)._renderedComponent.getPublicInstance();return d&&d.call(r),r},render:function(a,b,c){return Y._renderSubtreeIntoContainer(null,a,b,c)},registerContainer:function(a){var b=f(a);return b&&(b=z.getReactRootIDFromNodeID(b)),b||(b=z.createReactRootID()),U[b]=a,b},unmountComponentAtNode:function(a){!a||a.nodeType!==P&&a.nodeType!==Q&&a.nodeType!==R?K(!1):void 0;var b=f(a),c=T[b];if(!c){var d=(s(a),h(a));d&&d===z.getReactRootIDFromNodeID(d);return!1}return F.batchedUpdates(r,c,a),delete T[b],delete U[b],!0},findReactContainerForID:function(a){var b=z.getReactRootIDFromNodeID(a),c=U[b];return c},findReactNodeByID:function(a){var b=Y.findReactContainerForID(a);return Y.findComponentRoot(b,a)},getFirstReactDOM:function(a){return t(a)},findComponentRoot:function(a,b){var c=V,d=0,e=o(b)||a;for(c[0]=e.firstChild,c.length=1;d<c.length;){for(var f,g=c[d++];g;){var h=Y.getID(g);h?b===h?f=g:z.isAncestorIDOf(h,b)&&(c.length=d=0,c.push(g.firstChild)):c.push(g.firstChild),g=g.nextSibling}if(f)return c.length=0,f}c.length=0,K(!1)},_mountImageIntoNode:function(a,b,c,f){if(!b||b.nodeType!==P&&b.nodeType!==Q&&b.nodeType!==R?K(!1):void 0,c){var g=e(b);if(B.canReuseMarkup(a,g))return;var h=g.getAttribute(B.CHECKSUM_ATTR_NAME);g.removeAttribute(B.CHECKSUM_ATTR_NAME);var i=g.outerHTML;g.setAttribute(B.CHECKSUM_ATTR_NAME,h);var j=a,k=d(j,i);" (client) "+j.substring(k-20,k+20)+"\n (server) "+i.substring(k-20,k+20);b.nodeType===Q?K(!1):void 0}if(b.nodeType===Q?K(!1):void 0,f.useCreateElement){for(;b.lastChild;)b.removeChild(b.lastChild);b.appendChild(a)}else L(b,a)},ownerDocumentContextKey:S,getReactRootID:f,getID:g,setID:i,getNode:j,getNodeFromInstance:k,isValid:l,purgeID:m};C.measureMethods(Y,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),c.exports=Y}(a("10")),d.define=e,c.exports}),a.registerDynamic("9f",["3d"],!0,function(a,b,c){"use strict";var d=this,e=d.define;d.define=void 0;var f=a("3d");return c.exports=f.renderSubtreeIntoContainer,d.define=e,c.exports}),a.registerDynamic("8",[],!0,function(a,b,c){"use strict";function d(a){return function(){return a}}function e(){}var f=this,g=f.define;return f.define=void 0,e.thatReturns=d,e.thatReturnsFalse=d(!1),e.thatReturnsTrue=d(!0),e.thatReturnsNull=d(null),e.thatReturnsThis=function(){return this},e.thatReturnsArgument=function(a){return a},c.exports=e,f.define=g,c.exports}),a.registerDynamic("1e",["8","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";var d=a("8"),e=d;c.exports=e}(a("10")),d.define=e,c.exports}),a.registerDynamic("32",[],!0,function(a,b,c){"use strict";var d=this,e=d.define;d.define=void 0;var f=!("undefined"==typeof window||!window.document||!window.document.createElement),g={canUseDOM:f,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:f&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:f&&!!window.screen,isInWorker:!f};return c.exports=g,d.define=e,c.exports}),a.registerDynamic("a0",[],!0,function(a,b,c){function d(){m=!1,j.length?l=j.concat(l):n=-1,l.length&&e()}function e(){if(!m){var a=setTimeout(d);m=!0;for(var b=l.length;b;){for(j=l,l=[];++n<b;)j&&j[n].run();n=-1,b=l.length}j=null,m=!1,clearTimeout(a)}}function f(a,b){this.fun=a,this.array=b}function g(){}var h=this,i=h.define;h.define=void 0;var j,k=c.exports={},l=[],m=!1,n=-1;return k.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];l.push(new f(a,b)),1!==l.length||m||setTimeout(e,0)},f.prototype.run=function(){this.fun.apply(null,this.array)},k.title="browser",k.browser=!0,k.env={},k.argv=[],k.version="",k.versions={},k.on=g,k.addListener=g,k.once=g,k.off=g,k.removeListener=g,k.removeAllListeners=g,k.emit=g,k.binding=function(a){throw new Error("process.binding is not supported")},k.cwd=function(){return"/"},k.chdir=function(a){throw new Error("process.chdir is not supported")},k.umask=function(){return 0},h.define=i,c.exports}),a.registerDynamic("a1",["a0"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,c.exports=a("a0"),d.define=e,c.exports}),a.registerDynamic("a2",["a1"],!0,function(b,c,d){var e=this,f=e.define;return e.define=void 0,d.exports=a._nodeRequire?process:b("a1"),e.define=f,d.exports}),a.registerDynamic("10",["a2"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,c.exports=a("a2"),d.define=e,c.exports}),a.registerDynamic("27",["1b","6f","14","c","3d","4d","57","e","15","42","9f","1e","32","10"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){"use strict";var d=a("1b"),e=a("6f"),f=a("14"),g=a("c"),h=a("3d"),i=a("4d"),j=a("57"),k=a("e"),l=a("15"),m=a("42"),n=a("9f");a("1e");f.inject();var o=i.measure("React","render",h.render),p={findDOMNode:m,render:o,unmountComponentAtNode:h.unmountComponentAtNode,version:l,unstable_batchedUpdates:k.batchedUpdates,unstable_renderSubtreeIntoContainer:n};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:d,InstanceHandles:g,Mount:h,Reconciler:j,TextComponent:e});c.exports=p}(a("10")),d.define=e,c.exports}),a.registerDynamic("a3",["27"],!0,function(a,b,c){"use strict";var d=this,e=d.define;return d.define=void 0,c.exports=a("27"),d.define=e,c.exports}),a.registerDynamic("a4",["a3"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,c.exports=a("a3"),d.define=e,c.exports}),function(){var b=a.get("@@amd-helpers").createDefine();!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b=!!a&&"length"in a&&a.length,c=fa.type(a);return"function"===c||fa.isWindow(a)?!1:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function d(a,b,c){if(fa.isFunction(b))return fa.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return fa.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(pa.test(b))return fa.filter(b,a,c);b=fa.filter(b,a)}return fa.grep(a,function(a){return _.call(b,a)>-1!==c})}function e(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function f(a){var b={};return fa.each(a.match(va)||[],function(a,c){b[c]=!0}),b}function g(){X.removeEventListener("DOMContentLoaded",g),a.removeEventListener("load",g),fa.ready()}function h(){this.expando=fa.expando+h.uid++}function i(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Ca,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:Ba.test(c)?fa.parseJSON(c):c}catch(e){}Aa.set(a,b,c)}else c=void 0;return c}function j(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return fa.css(a,b,"")},i=h(),j=c&&c[3]||(fa.cssNumber[b]?"":"px"),k=(fa.cssNumber[b]||"px"!==j&&+i)&&Ea.exec(fa.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,fa.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}function k(a,b){var c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&fa.nodeName(a,b)?fa.merge([a],c):c}function l(a,b){for(var c=0,d=a.length;d>c;c++)za.set(a[c],"globalEval",!b||za.get(b[c],"globalEval"))}function m(a,b,c,d,e){for(var f,g,h,i,j,m,n=b.createDocumentFragment(),o=[],p=0,q=a.length;q>p;p++)if(f=a[p],f||0===f)if("object"===fa.type(f))fa.merge(o,f.nodeType?[f]:f);else if(La.test(f)){for(g=g||n.appendChild(b.createElement("div")),h=(Ia.exec(f)||["",""])[1].toLowerCase(),i=Ka[h]||Ka._default,g.innerHTML=i[1]+fa.htmlPrefilter(f)+i[2],m=i[0];m--;)g=g.lastChild;fa.merge(o,g.childNodes),g=n.firstChild,g.textContent=""}else o.push(b.createTextNode(f));for(n.textContent="",p=0;f=o[p++];)if(d&&fa.inArray(f,d)>-1)e&&e.push(f);else if(j=fa.contains(f.ownerDocument,f),g=k(n.appendChild(f),"script"),j&&l(g),c)for(m=0;f=g[m++];)Ja.test(f.type||"")&&c.push(f);return n}function n(){return!0}function o(){return!1}function p(){try{return X.activeElement}catch(a){}}function q(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)q(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=o;else if(!e)return this;return 1===f&&(g=e,e=function(a){return fa().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=fa.guid++)),a.each(function(){fa.event.add(this,b,e,d,c)})}function r(a,b){return fa.nodeName(a,"table")&&fa.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a:a}function s(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function t(a){var b=Sa.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function u(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(za.hasData(a)&&(f=za.access(a),g=za.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)fa.event.add(b,e,j[e][c])}Aa.hasData(a)&&(h=Aa.access(a),i=fa.extend({},h),Aa.set(b,i))}}function v(a,b){var c=b.nodeName.toLowerCase();"input"===c&&Ha.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}function w(a,b,c,d){b=Z.apply([],b);var e,f,g,h,i,j,l=0,n=a.length,o=n-1,p=b[0],q=fa.isFunction(p);if(q||n>1&&"string"==typeof p&&!da.checkClone&&Ra.test(p))return a.each(function(e){var f=a.eq(e);q&&(b[0]=p.call(this,e,f.html())),w(f,b,c,d)});if(n&&(e=m(b,a[0].ownerDocument,!1,a,d),f=e.firstChild,1===e.childNodes.length&&(e=f),f||d)){for(g=fa.map(k(e,"script"),s),h=g.length;n>l;l++)i=e,l!==o&&(i=fa.clone(i,!0,!0),h&&fa.merge(g,k(i,"script"))),c.call(a[l],i,l);if(h)for(j=g[g.length-1].ownerDocument,fa.map(g,t),l=0;h>l;l++)i=g[l],Ja.test(i.type||"")&&!za.access(i,"globalEval")&&fa.contains(j,i)&&(i.src?fa._evalUrl&&fa._evalUrl(i.src):fa.globalEval(i.textContent.replace(Ta,"")))}return a}function x(a,b,c){for(var d,e=b?fa.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||fa.cleanData(k(d)),d.parentNode&&(c&&fa.contains(d.ownerDocument,d)&&l(k(d,"script")),d.parentNode.removeChild(d));return a}function y(a,b){var c=fa(b.createElement(a)).appendTo(b.body),d=fa.css(c[0],"display");return c.detach(),d}function z(a){var b=X,c=Va[a];return c||(c=y(a,b),"none"!==c&&c||(Ua=(Ua||fa("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=Ua[0].contentDocument,b.write(),b.close(),c=y(a,b),Ua.detach()),Va[a]=c),c}function A(a,b,c){var d,e,f,g,h=a.style;return c=c||Ya(a),c&&(g=c.getPropertyValue(b)||c[b],""!==g||fa.contains(a.ownerDocument,a)||(g=fa.style(a,b)),!da.pixelMarginRight()&&Xa.test(g)&&Wa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function B(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function C(a){if(a in db)return a;for(var b=a[0].toUpperCase()+a.slice(1),c=cb.length;c--;)if(a=cb[c]+b,a in db)return a}function D(a,b,c){var d=Ea.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function E(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=fa.css(a,c+Fa[f],!0,e)),d?("content"===c&&(g-=fa.css(a,"padding"+Fa[f],!0,e)),"margin"!==c&&(g-=fa.css(a,"border"+Fa[f]+"Width",!0,e))):(g+=fa.css(a,"padding"+Fa[f],!0,e),"padding"!==c&&(g+=fa.css(a,"border"+Fa[f]+"Width",!0,e)));return g}function F(b,c,d){var e=!0,f="width"===c?b.offsetWidth:b.offsetHeight,g=Ya(b),h="border-box"===fa.css(b,"boxSizing",!1,g);if(X.msFullscreenElement&&a.top!==a&&b.getClientRects().length&&(f=Math.round(100*b.getBoundingClientRect()[c])),0>=f||null==f){if(f=A(b,c,g),(0>f||null==f)&&(f=b.style[c]),Xa.test(f))return f;e=h&&(da.boxSizingReliable()||f===b.style[c]),f=parseFloat(f)||0}return f+E(b,c,d||(h?"border":"content"),e,g)+"px"}function G(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=za.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&Ga(d)&&(f[g]=za.access(d,"olddisplay",z(d.nodeName)))):(e=Ga(d),"none"===c&&e||za.set(d,"olddisplay",e?c:fa.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function H(a,b,c,d,e){return new H.prototype.init(a,b,c,d,e)}function I(){return a.setTimeout(function(){eb=void 0}),eb=fa.now()}function J(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=Fa[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function K(a,b,c){for(var d,e=(N.tweeners[b]||[]).concat(N.tweeners["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function L(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},n=a.style,o=a.nodeType&&Ga(a),p=za.get(a,"fxshow");c.queue||(h=fa._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,fa.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],j=fa.css(a,"display"),k="none"===j?za.get(a,"olddisplay")||z(a.nodeName):j,"inline"===k&&"none"===fa.css(a,"float")&&(n.display="inline-block")),c.overflow&&(n.overflow="hidden",l.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],gb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(o?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;o=!0}m[d]=p&&p[d]||fa.style(a,d)}else j=void 0;if(fa.isEmptyObject(m))"inline"===("none"===j?z(a.nodeName):j)&&(n.display=j);else{p?"hidden"in p&&(o=p.hidden):p=za.access(a,"fxshow",{}),f&&(p.hidden=!o),o?fa(a).show():l.done(function(){fa(a).hide()}),l.done(function(){var b;za.remove(a,"fxshow");for(b in m)fa.style(a,b,m[b])});for(d in m)g=K(o?p[d]:0,d,l),d in p||(p[d]=g.start,o&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function M(a,b){var c,d,e,f,g;for(c in a)if(d=fa.camelCase(c),e=b[d],f=a[c],fa.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=fa.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function N(a,b,c){var d,e,f=0,g=N.prefilters.length,h=fa.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=eb||I(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:fa.extend({},b),opts:fa.extend(!0,{specialEasing:{},easing:fa.easing._default},c),originalProperties:b,originalOptions:c,startTime:eb||I(),duration:c.duration,tweens:[],createTween:function(b,c){var d=fa.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(M(k,j.opts.specialEasing);g>f;f++)if(d=N.prefilters[f].call(j,a,k,j.opts))return fa.isFunction(d.stop)&&(fa._queueHooks(j.elem,j.opts.queue).stop=fa.proxy(d.stop,d)),d;return fa.map(k,K,j),fa.isFunction(j.opts.start)&&j.opts.start.call(a,j),fa.fx.timer(fa.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function O(a){return a.getAttribute&&a.getAttribute("class")||""}function P(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(va)||[];if(fa.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Q(a,b,c,d){function e(h){var i;return f[h]=!0,fa.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===zb;return e(b.dataTypes[0])||!f["*"]&&e("*")}function R(a,b){var c,d,e=fa.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&fa.extend(!0,a,d),a}function S(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function T(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function U(a,b,c,d){var e;if(fa.isArray(b))fa.each(b,function(b,e){c||Db.test(a)?d(a,e):U(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==fa.type(b))d(a,b);else for(e in b)U(a+"["+e+"]",b[e],c,d)}function V(a){return fa.isWindow(a)?a:9===a.nodeType&&a.defaultView}var W=[],X=a.document,Y=W.slice,Z=W.concat,$=W.push,_=W.indexOf,aa={},ba=aa.toString,ca=aa.hasOwnProperty,da={},ea="2.2.0",fa=function(a,b){return new fa.fn.init(a,b)},ga=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ha=/^-ms-/,ia=/-([\da-z])/gi,ja=function(a,b){return b.toUpperCase()};fa.fn=fa.prototype={jquery:ea,constructor:fa,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:Y.call(this)},pushStack:function(a){var b=fa.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return fa.each(this,a)},map:function(a){return this.pushStack(fa.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:$,sort:W.sort,splice:W.splice},fa.extend=fa.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||fa.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(fa.isPlainObject(d)||(e=fa.isArray(d)))?(e?(e=!1,f=c&&fa.isArray(c)?c:[]):f=c&&fa.isPlainObject(c)?c:{},g[b]=fa.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},fa.extend({expando:"jQuery"+(ea+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===fa.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!fa.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){return"object"!==fa.type(a)||a.nodeType||fa.isWindow(a)?!1:a.constructor&&!ca.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?aa[ba.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=fa.trim(a),a&&(1===a.indexOf("use strict")?(b=X.createElement("script"),b.text=a,X.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(ha,"ms-").replace(ia,ja)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var d,e=0;if(c(a))for(d=a.length;d>e&&b.call(a[e],e,a[e])!==!1;e++);else for(e in a)if(b.call(a[e],e,a[e])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(ga,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?fa.merge(d,"string"==typeof a?[a]:a):$.call(d,a)),d},inArray:function(a,b,c){return null==b?-1:_.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,d){var e,f,g=0,h=[];if(c(a))for(e=a.length;e>g;g++)f=b(a[g],g,d),null!=f&&h.push(f);else for(g in a)f=b(a[g],g,d),null!=f&&h.push(f);return Z.apply([],h)},guid:1,proxy:function(a,b){var c,d,e;return"string"==typeof b&&(c=a[b],b=a,a=c),fa.isFunction(a)?(d=Y.call(arguments,2),e=function(){return a.apply(b||this,d.concat(Y.call(arguments)))},e.guid=a.guid=a.guid||fa.guid++,e):void 0},now:Date.now,support:da}),"function"==typeof Symbol&&(fa.fn[Symbol.iterator]=W[Symbol.iterator]),fa.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){aa["[object "+b+"]"]=b.toLowerCase()});var ka=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,n,o=b&&b.ownerDocument,p=b?b.nodeType:9;if(c=c||[],"string"!=typeof a||!a||1!==p&&9!==p&&11!==p)return c;if(!d&&((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,I)){if(11!==p&&(j=ra.exec(a)))if(e=j[1]){if(9===p){if(!(g=b.getElementById(e)))return c;if(g.id===e)return c.push(g),c}else if(o&&(g=o.getElementById(e))&&M(b,g)&&g.id===e)return c.push(g),c}else{if(j[2])return $.apply(c,b.getElementsByTagName(a)),c;if((e=j[3])&&v.getElementsByClassName&&b.getElementsByClassName)return $.apply(c,b.getElementsByClassName(e)),c}if(v.qsa&&!T[a+" "]&&(!J||!J.test(a))){if(1!==p)o=b,n=a;else if("object"!==b.nodeName.toLowerCase()){for((h=b.getAttribute("id"))?h=h.replace(ta,"\\$&"):b.setAttribute("id",h=N),l=z(a),f=l.length,i=ma.test(h)?"#"+h:"[id='"+h+"']";f--;)l[f]=i+" "+m(l[f]);n=l.join(","),o=sa.test(a)&&k(b.parentNode)||b}if(n)try{return $.apply(c,o.querySelectorAll(n)),c}catch(q){}finally{h===N&&b.removeAttribute("id")}}}return B(a.replace(ha,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>w.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=c.length;d--;)w.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||V)-(~a.sourceIndex||V);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function l(){}function m(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(j=b[N]||(b[N]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===P&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function o(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,c,d){for(var e=0,f=c.length;f>e;e++)b(a,c[e],d);return d}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,r=d||p(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:q(r,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=q(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?aa(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=q(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):$.apply(g,t)})}function s(a){for(var b,c,d,e=a.length,f=w.relative[a[0].type],g=f||w.relative[" "],h=f?1:0,i=n(function(a){return a===b},g,!0),j=n(function(a){return aa(b,a)>-1},g,!0),k=[function(a,c,d){var e=!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];e>h;h++)if(c=w.relative[a[h].type])k=[n(o(k),c)];else{if(c=w.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!w.relative[a[d].type];d++);return r(h>1&&o(k),h>1&&m(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ha,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&m(a))}k.push(c)}return o(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&w.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g===G||g||j);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0,g||k.ownerDocument===G||(F(k),h=!I);m=a[l++];)if(m(k,g||G,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Y.call(i));r=q(r)}$.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+1*new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V=1<<31,W={}.hasOwnProperty,X=[],Y=X.pop,Z=X.push,$=X.push,_=X.slice,aa=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},ba="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ca="[\\x20\\t\\r\\n\\f]",da="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ea="\\["+ca+"*("+da+")(?:"+ca+"*([*^$|!~]?=)"+ca+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+da+"))|)"+ca+"*\\]",fa=":("+da+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ea+")*)|.*)\\)|)",ga=new RegExp(ca+"+","g"),ha=new RegExp("^"+ca+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ca+"+$","g"),ia=new RegExp("^"+ca+"*,"+ca+"*"),ja=new RegExp("^"+ca+"*([>+~]|"+ca+")"+ca+"*"),ka=new RegExp("="+ca+"*([^\\]'\"]*?)"+ca+"*\\]","g"),la=new RegExp(fa),ma=new RegExp("^"+da+"$"),na={ID:new RegExp("^#("+da+")"),CLASS:new RegExp("^\\.("+da+")"),TAG:new RegExp("^("+da+"|[*])"),ATTR:new RegExp("^"+ea),PSEUDO:new RegExp("^"+fa),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ca+"*(even|odd|(([+-]|)(\\d*)n|)"+ca+"*(?:([+-]|)"+ca+"*(\\d+)|))"+ca+"*\\)|)","i"),bool:new RegExp("^(?:"+ba+")$","i"),needsContext:new RegExp("^"+ca+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ca+"*((?:-\\d)?\\d*)"+ca+"*\\)|)(?=[^-]|$)","i")},oa=/^(?:input|select|textarea|button)$/i,pa=/^h\d$/i,qa=/^[^{]+\{\s*\[native \w/,ra=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,sa=/[+~]/,ta=/'|\\/g,ua=new RegExp("\\\\([\\da-f]{1,6}"+ca+"?|("+ca+")|.)","ig"),va=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},wa=function(){F()};try{$.apply(X=_.call(O.childNodes),O.childNodes),X[O.childNodes.length].nodeType}catch(xa){$={apply:X.length?function(a,b){Z.apply(a,_.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}v=b.support={},y=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},F=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:O;return d!==G&&9===d.nodeType&&d.documentElement?(G=d,H=G.documentElement,I=!y(G),(c=G.defaultView)&&c.top!==c&&(c.addEventListener?c.addEventListener("unload",wa,!1):c.attachEvent&&c.attachEvent("onunload",wa)),v.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),v.getElementsByTagName=e(function(a){return a.appendChild(G.createComment("")),!a.getElementsByTagName("*").length}),v.getElementsByClassName=qa.test(G.getElementsByClassName),v.getById=e(function(a){return H.appendChild(a).id=N,!G.getElementsByName||!G.getElementsByName(N).length}),v.getById?(w.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&I){var c=b.getElementById(a);return c?[c]:[]}},w.filter.ID=function(a){var b=a.replace(ua,va);return function(a){return a.getAttribute("id")===b}}):(delete w.find.ID,w.filter.ID=function(a){var b=a.replace(ua,va);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),w.find.TAG=v.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):v.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},w.find.CLASS=v.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&I?b.getElementsByClassName(a):void 0},K=[],J=[],(v.qsa=qa.test(G.querySelectorAll))&&(e(function(a){H.appendChild(a).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&J.push("[*^$]="+ca+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+ca+"*(?:value|"+ba+")"),a.querySelectorAll("[id~="+N+"-]").length||J.push("~="),a.querySelectorAll(":checked").length||J.push(":checked"),a.querySelectorAll("a#"+N+"+*").length||J.push(".#.+[+~]")}),e(function(a){var b=G.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+ca+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(v.matchesSelector=qa.test(L=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){v.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",fa)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=qa.test(H.compareDocumentPosition),M=b||qa.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c?c:(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!v.sortDetached&&b.compareDocumentPosition(a)===c?a===G||a.ownerDocument===O&&M(O,a)?-1:b===G||b.ownerDocument===O&&M(O,b)?1:D?aa(D,a)-aa(D,b):0:4&c?-1:1)}:function(a,b){if(a===b)return E=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===G?-1:b===G?1:e?-1:f?1:D?aa(D,a)-aa(D,b):0;if(e===f)return g(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)i.unshift(c);for(;h[d]===i[d];)d++;return d?g(h[d],i[d]):h[d]===O?-1:i[d]===O?1:0;
},G):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(ka,"='$1']"),v.matchesSelector&&I&&!T[c+" "]&&(!K||!K.test(c))&&(!J||!J.test(c)))try{var d=L.call(a,c);if(d||v.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=w.attrHandle[b.toLowerCase()],d=c&&W.call(w.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:v.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!v.detectDuplicates,D=!v.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},x=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=x(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=x(b);return c},w=b.selectors={cacheLength:50,createPseudo:d,match:na,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ua,va),a[3]=(a[3]||a[4]||a[5]||"").replace(ua,va),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return na.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&la.test(c)&&(b=z(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ua,va).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+ca+")"+a+"("+ca+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:c?(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(ga," ")+" ").indexOf(d)>-1:"|="===c?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){for(;p;){for(m=b;m=m[p];)if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(m=q,l=m[N]||(m[N]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===P&&j[1],t=n&&j[2],m=n&&q.childNodes[n];m=++n&&m&&m[p]||(t=n=0)||o.pop();)if(1===m.nodeType&&++t&&m===b){k[a]=[P,n,t];break}}else if(s&&(m=b,l=m[N]||(m[N]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===P&&j[1],t=n),t===!1)for(;(m=++n&&m&&m[p]||(t=n=0)||o.pop())&&((h?m.nodeName.toLowerCase()!==r:1!==m.nodeType)||!++t||(s&&(l=m[N]||(m[N]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[P,t]),m!==b)););return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,c){var e,f=w.pseudos[a]||w.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],w.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=aa(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=A(a.replace(ha,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(ua,va),function(b){return(b.textContent||b.innerText||x(b)).indexOf(a)>-1}}),lang:d(function(a){return ma.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(ua,va).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return pa.test(a.nodeName)},input:function(a){return oa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[0>c?c+b:c]}),even:j(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},w.pseudos.nth=w.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[u]=h(u);for(u in{submit:!0,reset:!0})w.pseudos[u]=i(u);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,z=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=w.preFilter;h;){(!d||(e=ia.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ja.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ha," ")}),h=h.slice(d.length));for(g in w.filter)!(e=na[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)},A=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=z(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d)),f.selector=a}return f},B=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,l=!d&&z(a=j.selector||a);if(c=c||[],1===l.length){if(f=l[0]=l[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&v.getById&&9===b.nodeType&&I&&w.relative[f[1].type]){if(b=(w.find.ID(g.matches[0].replace(ua,va),b)||[])[0],!b)return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=na.needsContext.test(a)?0:f.length;e--&&(g=f[e],!w.relative[h=g.type]);)if((i=w.find[h])&&(d=i(g.matches[0].replace(ua,va),sa.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&m(f),!a)return $.apply(c,d),c;break}}return(j||A(a,l))(d,b,!I,c,!b||sa.test(a)&&k(b.parentNode)||b),c},v.sortStable=N.split("").sort(U).join("")===N,v.detectDuplicates=!!E,F(),v.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),v.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(ba,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);fa.find=ka,fa.expr=ka.selectors,fa.expr[":"]=fa.expr.pseudos,fa.uniqueSort=fa.unique=ka.uniqueSort,fa.text=ka.getText,fa.isXMLDoc=ka.isXML,fa.contains=ka.contains;var la=function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&fa(a).is(c))break;d.push(a)}return d},ma=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},na=fa.expr.match.needsContext,oa=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,pa=/^.[^:#\[\.,]*$/;fa.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?fa.find.matchesSelector(d,a)?[d]:[]:fa.find.matches(a,fa.grep(b,function(a){return 1===a.nodeType}))},fa.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(fa(a).filter(function(){for(b=0;c>b;b++)if(fa.contains(e[b],this))return!0}));for(b=0;c>b;b++)fa.find(a,e[b],d);return d=this.pushStack(c>1?fa.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&na.test(a)?fa(a):a||[],!1).length}});var qa,ra=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,sa=fa.fn.init=function(a,b,c){var d,e;if(!a)return this;if(c=c||qa,"string"==typeof a){if(d="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:ra.exec(a),!d||!d[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(d[1]){if(b=b instanceof fa?b[0]:b,fa.merge(this,fa.parseHTML(d[1],b&&b.nodeType?b.ownerDocument||b:X,!0)),oa.test(d[1])&&fa.isPlainObject(b))for(d in b)fa.isFunction(this[d])?this[d](b[d]):this.attr(d,b[d]);return this}return e=X.getElementById(d[2]),e&&e.parentNode&&(this.length=1,this[0]=e),this.context=X,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):fa.isFunction(a)?void 0!==c.ready?c.ready(a):a(fa):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),fa.makeArray(a,this))};sa.prototype=fa.fn,qa=fa(X);var ta=/^(?:parents|prev(?:Until|All))/,ua={children:!0,contents:!0,next:!0,prev:!0};fa.fn.extend({has:function(a){var b=fa(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(fa.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=na.test(a)||"string"!=typeof a?fa(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&fa.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?fa.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?_.call(fa(a),this[0]):_.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(fa.uniqueSort(fa.merge(this.get(),fa(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),fa.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return la(a,"parentNode")},parentsUntil:function(a,b,c){return la(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return la(a,"nextSibling")},prevAll:function(a){return la(a,"previousSibling")},nextUntil:function(a,b,c){return la(a,"nextSibling",c)},prevUntil:function(a,b,c){return la(a,"previousSibling",c)},siblings:function(a){return ma((a.parentNode||{}).firstChild,a)},children:function(a){return ma(a.firstChild)},contents:function(a){return a.contentDocument||fa.merge([],a.childNodes)}},function(a,b){fa.fn[a]=function(c,d){var e=fa.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=fa.filter(d,e)),this.length>1&&(ua[a]||fa.uniqueSort(e),ta.test(a)&&e.reverse()),this.pushStack(e)}});var va=/\S+/g;fa.Callbacks=function(a){a="string"==typeof a?f(a):fa.extend({},a);var b,c,d,e,g=[],h=[],i=-1,j=function(){for(e=a.once,d=b=!0;h.length;i=-1)for(c=h.shift();++i<g.length;)g[i].apply(c[0],c[1])===!1&&a.stopOnFalse&&(i=g.length,c=!1);a.memory||(c=!1),b=!1,e&&(g=c?[]:"")},k={add:function(){return g&&(c&&!b&&(i=g.length-1,h.push(c)),function d(b){fa.each(b,function(b,c){fa.isFunction(c)?a.unique&&k.has(c)||g.push(c):c&&c.length&&"string"!==fa.type(c)&&d(c)})}(arguments),c&&!b&&j()),this},remove:function(){return fa.each(arguments,function(a,b){for(var c;(c=fa.inArray(b,g,c))>-1;)g.splice(c,1),i>=c&&i--}),this},has:function(a){return a?fa.inArray(a,g)>-1:g.length>0},empty:function(){return g&&(g=[]),this},disable:function(){return e=h=[],g=c="",this},disabled:function(){return!g},lock:function(){return e=h=[],c||(g=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],h.push(c),b||j()),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},fa.extend({Deferred:function(a){var b=[["resolve","done",fa.Callbacks("once memory"),"resolved"],["reject","fail",fa.Callbacks("once memory"),"rejected"],["notify","progress",fa.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return fa.Deferred(function(c){fa.each(b,function(b,f){var g=fa.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&fa.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?fa.extend(a,d):d}},e={};return d.pipe=d.then,fa.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=Y.call(arguments),g=f.length,h=1!==g||a&&fa.isFunction(a.promise)?g:0,i=1===h?a:fa.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?Y.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&fa.isFunction(f[e].promise)?f[e].promise().progress(j(e,c,b)).done(j(e,d,f)).fail(i.reject):--h;return h||i.resolveWith(d,f),i.promise()}});var wa;fa.fn.ready=function(a){return fa.ready.promise().done(a),this},fa.extend({isReady:!1,readyWait:1,holdReady:function(a){a?fa.readyWait++:fa.ready(!0)},ready:function(a){(a===!0?--fa.readyWait:fa.isReady)||(fa.isReady=!0,a!==!0&&--fa.readyWait>0||(wa.resolveWith(X,[fa]),fa.fn.triggerHandler&&(fa(X).triggerHandler("ready"),fa(X).off("ready"))))}}),fa.ready.promise=function(b){return wa||(wa=fa.Deferred(),"complete"===X.readyState||"loading"!==X.readyState&&!X.documentElement.doScroll?a.setTimeout(fa.ready):(X.addEventListener("DOMContentLoaded",g),a.addEventListener("load",g))),wa.promise(b)},fa.ready.promise();var xa=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===fa.type(c)){e=!0;for(h in c)xa(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,fa.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(fa(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},ya=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};h.uid=1,h.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!ya(a))return{};var b=a[this.expando];return b||(b={},ya(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[b]=c;else for(d in b)e[d]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,fa.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b)this.register(a);else{fa.isArray(b)?d=b.concat(b.map(fa.camelCase)):(e=fa.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(va)||[])),c=d.length;for(;c--;)delete f[d[c]]}(void 0===b||fa.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!fa.isEmptyObject(b)}};var za=new h,Aa=new h,Ba=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ca=/[A-Z]/g;fa.extend({hasData:function(a){return Aa.hasData(a)||za.hasData(a)},data:function(a,b,c){return Aa.access(a,b,c)},removeData:function(a,b){Aa.remove(a,b)},_data:function(a,b,c){return za.access(a,b,c)},_removeData:function(a,b){za.remove(a,b)}}),fa.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=Aa.get(f),1===f.nodeType&&!za.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=fa.camelCase(d.slice(5)),i(f,d,e[d])));za.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){Aa.set(this,a)}):xa(this,function(b){var c,d;if(f&&void 0===b){if(c=Aa.get(f,a)||Aa.get(f,a.replace(Ca,"-$&").toLowerCase()),void 0!==c)return c;if(d=fa.camelCase(a),c=Aa.get(f,d),void 0!==c)return c;if(c=i(f,d,void 0),void 0!==c)return c}else d=fa.camelCase(a),this.each(function(){var c=Aa.get(this,d);Aa.set(this,d,b),a.indexOf("-")>-1&&void 0!==c&&Aa.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){Aa.remove(this,a)})}}),fa.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=za.get(a,b),c&&(!d||fa.isArray(c)?d=za.access(a,b,fa.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=fa.queue(a,b),d=c.length,e=c.shift(),f=fa._queueHooks(a,b),g=function(){fa.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return za.get(a,c)||za.access(a,c,{empty:fa.Callbacks("once memory").add(function(){za.remove(a,[b+"queue",c])})})}}),fa.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?fa.queue(this[0],a):void 0===b?this:this.each(function(){var c=fa.queue(this,a,b);fa._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&fa.dequeue(this,a)})},dequeue:function(a){return this.each(function(){fa.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=fa.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=za.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Da=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ea=new RegExp("^(?:([+-])=|)("+Da+")([a-z%]*)$","i"),Fa=["Top","Right","Bottom","Left"],Ga=function(a,b){return a=b||a,"none"===fa.css(a,"display")||!fa.contains(a.ownerDocument,a)},Ha=/^(?:checkbox|radio)$/i,Ia=/<([\w:-]+)/,Ja=/^$|\/(?:java|ecma)script/i,Ka={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ka.optgroup=Ka.option,Ka.tbody=Ka.tfoot=Ka.colgroup=Ka.caption=Ka.thead,Ka.th=Ka.td;var La=/<|&#?\w+;/;!function(){var a=X.createDocumentFragment(),b=a.appendChild(X.createElement("div")),c=X.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),da.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",da.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var Ma=/^key/,Na=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Oa=/^([^.]*)(?:\.(.+)|)/;fa.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=za.get(a);if(q)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=fa.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return"undefined"!=typeof fa&&fa.event.triggered!==b.type?fa.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(va)||[""],j=b.length;j--;)h=Oa.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=fa.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=fa.event.special[n]||{},k=fa.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&fa.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),fa.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=za.hasData(a)&&za.get(a);if(q&&(i=q.events)){for(b=(b||"").match(va)||[""],j=b.length;j--;)if(h=Oa.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=fa.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||fa.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)fa.event.remove(a,n+b[j],c,d,!0);fa.isEmptyObject(i)&&za.remove(a,"handle events")}},dispatch:function(a){a=fa.event.fix(a);var b,c,d,e,f,g=[],h=Y.call(arguments),i=(za.get(this,"events")||{})[a.type]||[],j=fa.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||j.preDispatch.call(this,a)!==!1){for(g=fa.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!a.isImmediatePropagationStopped();)(!a.rnamespace||a.rnamespace.test(f.namespace))&&(a.handleObj=f,a.data=f.data,d=((fa.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?fa(e,this).index(i)>-1:fa.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||X,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[fa.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Na.test(e)?this.mouseHooks:Ma.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new fa.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=X),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==p()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===p()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&fa.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return fa.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},fa.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},fa.Event=function(a,b){return this instanceof fa.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?n:o):this.type=a,b&&fa.extend(this,b),this.timeStamp=a&&a.timeStamp||fa.now(),void(this[fa.expando]=!0)):new fa.Event(a,b)},fa.Event.prototype={constructor:fa.Event,isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=n,a&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=n,a&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=n,a&&a.stopImmediatePropagation(),this.stopPropagation()}},fa.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){fa.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!fa.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),fa.fn.extend({on:function(a,b,c,d){return q(this,a,b,c,d)},one:function(a,b,c,d){return q(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,fa(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=o),this.each(function(){fa.event.remove(this,a,c,b)})}});var Pa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Qa=/<script|<style|<link/i,Ra=/checked\s*(?:[^=]|=\s*.checked.)/i,Sa=/^true\/(.*)/,Ta=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;fa.extend({htmlPrefilter:function(a){return a.replace(Pa,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=fa.contains(a.ownerDocument,a);if(!(da.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||fa.isXMLDoc(a)))for(g=k(h),f=k(a),d=0,e=f.length;e>d;d++)v(f[d],g[d]);if(b)if(c)for(f=f||k(a),g=g||k(h),d=0,e=f.length;e>d;d++)u(f[d],g[d]);else u(a,h);return g=k(h,"script"),g.length>0&&l(g,!i&&k(a,"script")),h},cleanData:function(a){for(var b,c,d,e=fa.event.special,f=0;void 0!==(c=a[f]);f++)if(ya(c)){if(b=c[za.expando]){if(b.events)for(d in b.events)e[d]?fa.event.remove(c,d):fa.removeEvent(c,d,b.handle);c[za.expando]=void 0}c[Aa.expando]&&(c[Aa.expando]=void 0)}}}),fa.fn.extend({domManip:w,detach:function(a){return x(this,a,!0)},remove:function(a){return x(this,a)},text:function(a){return xa(this,function(a){return void 0===a?fa.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return w(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=r(this,a);b.appendChild(a)}})},prepend:function(){return w(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=r(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return w(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return w(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(fa.cleanData(k(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return fa.clone(this,a,b)})},html:function(a){return xa(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!Qa.test(a)&&!Ka[(Ia.exec(a)||["",""])[1].toLowerCase()]){a=fa.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(fa.cleanData(k(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return w(this,arguments,function(b){var c=this.parentNode;fa.inArray(this,a)<0&&(fa.cleanData(k(this)),c&&c.replaceChild(b,this))},a)}}),fa.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){fa.fn[a]=function(a){for(var c,d=[],e=fa(a),f=e.length-1,g=0;f>=g;g++)c=g===f?this:this.clone(!0),fa(e[g])[b](c),$.apply(d,c.get());return this.pushStack(d)}});var Ua,Va={HTML:"block",BODY:"block"},Wa=/^margin/,Xa=new RegExp("^("+Da+")(?!px)[a-z%]+$","i"),Ya=function(b){var c=b.ownerDocument.defaultView;return c.opener||(c=a),c.getComputedStyle(b)},Za=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},$a=X.documentElement;!function(){function b(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",$a.appendChild(g);var b=a.getComputedStyle(h);c="1%"!==b.top,f="2px"===b.marginLeft,d="4px"===b.width,h.style.marginRight="50%",e="4px"===b.marginRight,$a.removeChild(g)}var c,d,e,f,g=X.createElement("div"),h=X.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",da.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h),fa.extend(da,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return null==d&&b(),d},pixelMarginRight:function(){return null==d&&b(),e},reliableMarginLeft:function(){return null==d&&b(),f},reliableMarginRight:function(){var b,c=h.appendChild(X.createElement("div"));return c.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",h.style.width="1px",$a.appendChild(g),b=!parseFloat(a.getComputedStyle(c).marginRight),$a.removeChild(g),h.removeChild(c),b}}))}();var _a=/^(none|table(?!-c[ea]).+)/,ab={position:"absolute",visibility:"hidden",display:"block"},bb={letterSpacing:"0",fontWeight:"400"},cb=["Webkit","O","Moz","ms"],db=X.createElement("div").style;fa.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=A(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=fa.camelCase(b),i=a.style;return b=fa.cssProps[h]||(fa.cssProps[h]=C(h)||h),g=fa.cssHooks[b]||fa.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ea.exec(c))&&e[1]&&(c=j(a,b,e),f="number"),
null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(fa.cssNumber[h]?"":"px")),da.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=fa.camelCase(b);return b=fa.cssProps[h]||(fa.cssProps[h]=C(h)||h),g=fa.cssHooks[b]||fa.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=A(a,b,d)),"normal"===e&&b in bb&&(e=bb[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),fa.each(["height","width"],function(a,b){fa.cssHooks[b]={get:function(a,c,d){return c?_a.test(fa.css(a,"display"))&&0===a.offsetWidth?Za(a,ab,function(){return F(a,b,d)}):F(a,b,d):void 0},set:function(a,c,d){var e,f=d&&Ya(a),g=d&&E(a,b,d,"border-box"===fa.css(a,"boxSizing",!1,f),f);return g&&(e=Ea.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=fa.css(a,b)),D(a,c,g)}}}),fa.cssHooks.marginLeft=B(da.reliableMarginLeft,function(a,b){return b?(parseFloat(A(a,"marginLeft"))||a.getBoundingClientRect().left-Za(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px":void 0}),fa.cssHooks.marginRight=B(da.reliableMarginRight,function(a,b){return b?Za(a,{display:"inline-block"},A,[a,"marginRight"]):void 0}),fa.each({margin:"",padding:"",border:"Width"},function(a,b){fa.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+Fa[d]+b]=f[d]||f[d-2]||f[0];return e}},Wa.test(a)||(fa.cssHooks[a+b].set=D)}),fa.fn.extend({css:function(a,b){return xa(this,function(a,b,c){var d,e,f={},g=0;if(fa.isArray(b)){for(d=Ya(a),e=b.length;e>g;g++)f[b[g]]=fa.css(a,b[g],!1,d);return f}return void 0!==c?fa.style(a,b,c):fa.css(a,b)},a,b,arguments.length>1)},show:function(){return G(this,!0)},hide:function(){return G(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Ga(this)?fa(this).show():fa(this).hide()})}}),fa.Tween=H,H.prototype={constructor:H,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||fa.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(fa.cssNumber[c]?"":"px")},cur:function(){var a=H.propHooks[this.prop];return a&&a.get?a.get(this):H.propHooks._default.get(this)},run:function(a){var b,c=H.propHooks[this.prop];return this.options.duration?this.pos=b=fa.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=fa.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){fa.fx.step[a.prop]?fa.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[fa.cssProps[a.prop]]&&!fa.cssHooks[a.prop]?a.elem[a.prop]=a.now:fa.style(a.elem,a.prop,a.now+a.unit)}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},fa.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},fa.fx=H.prototype.init,fa.fx.step={};var eb,fb,gb=/^(?:toggle|show|hide)$/,hb=/queueHooks$/;fa.Animation=fa.extend(N,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return j(c.elem,a,Ea.exec(b),c),c}]},tweener:function(a,b){fa.isFunction(a)?(b=a,a=["*"]):a=a.match(va);for(var c,d=0,e=a.length;e>d;d++)c=a[d],N.tweeners[c]=N.tweeners[c]||[],N.tweeners[c].unshift(b)},prefilters:[L],prefilter:function(a,b){b?N.prefilters.unshift(a):N.prefilters.push(a)}}),fa.speed=function(a,b,c){var d=a&&"object"==typeof a?fa.extend({},a):{complete:c||!c&&b||fa.isFunction(a)&&a,duration:a,easing:c&&b||b&&!fa.isFunction(b)&&b};return d.duration=fa.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in fa.fx.speeds?fa.fx.speeds[d.duration]:fa.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){fa.isFunction(d.old)&&d.old.call(this),d.queue&&fa.dequeue(this,d.queue)},d},fa.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Ga).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=fa.isEmptyObject(a),f=fa.speed(b,c,d),g=function(){var b=N(this,fa.extend({},a),f);(e||za.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=fa.timers,g=za.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&hb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&fa.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=za.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=fa.timers,g=d?d.length:0;for(c.finish=!0,fa.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),fa.each(["toggle","show","hide"],function(a,b){var c=fa.fn[b];fa.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(J(b,!0),a,d,e)}}),fa.each({slideDown:J("show"),slideUp:J("hide"),slideToggle:J("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){fa.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),fa.timers=[],fa.fx.tick=function(){var a,b=0,c=fa.timers;for(eb=fa.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||fa.fx.stop(),eb=void 0},fa.fx.timer=function(a){fa.timers.push(a),a()?fa.fx.start():fa.timers.pop()},fa.fx.interval=13,fa.fx.start=function(){fb||(fb=a.setInterval(fa.fx.tick,fa.fx.interval))},fa.fx.stop=function(){a.clearInterval(fb),fb=null},fa.fx.speeds={slow:600,fast:200,_default:400},fa.fn.delay=function(b,c){return b=fa.fx?fa.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=X.createElement("input"),b=X.createElement("select"),c=b.appendChild(X.createElement("option"));a.type="checkbox",da.checkOn=""!==a.value,da.optSelected=c.selected,b.disabled=!0,da.optDisabled=!c.disabled,a=X.createElement("input"),a.value="t",a.type="radio",da.radioValue="t"===a.value}();var ib,jb=fa.expr.attrHandle;fa.fn.extend({attr:function(a,b){return xa(this,fa.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){fa.removeAttr(this,a)})}}),fa.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?fa.prop(a,b,c):(1===f&&fa.isXMLDoc(a)||(b=b.toLowerCase(),e=fa.attrHooks[b]||(fa.expr.match.bool.test(b)?ib:void 0)),void 0!==c?null===c?void fa.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=fa.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!da.radioValue&&"radio"===b&&fa.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(va);if(f&&1===a.nodeType)for(;c=f[e++];)d=fa.propFix[c]||c,fa.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}),ib={set:function(a,b,c){return b===!1?fa.removeAttr(a,c):a.setAttribute(c,c),c}},fa.each(fa.expr.match.bool.source.match(/\w+/g),function(a,b){var c=jb[b]||fa.find.attr;jb[b]=function(a,b,d){var e,f;return d||(f=jb[b],jb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,jb[b]=f),e}});var kb=/^(?:input|select|textarea|button)$/i,lb=/^(?:a|area)$/i;fa.fn.extend({prop:function(a,b){return xa(this,fa.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[fa.propFix[a]||a]})}}),fa.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&fa.isXMLDoc(a)||(b=fa.propFix[b]||b,e=fa.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=fa.find.attr(a,"tabindex");return b?parseInt(b,10):kb.test(a.nodeName)||lb.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),da.optSelected||(fa.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),fa.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){fa.propFix[this.toLowerCase()]=this});var mb=/[\t\r\n\f]/g;fa.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(fa.isFunction(a))return this.each(function(b){fa(this).addClass(a.call(this,b,O(this)))});if("string"==typeof a&&a)for(b=a.match(va)||[];c=this[i++];)if(e=O(c),d=1===c.nodeType&&(" "+e+" ").replace(mb," ")){for(g=0;f=b[g++];)d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=fa.trim(d),e!==h&&c.setAttribute("class",h)}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(fa.isFunction(a))return this.each(function(b){fa(this).removeClass(a.call(this,b,O(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a)for(b=a.match(va)||[];c=this[i++];)if(e=O(c),d=1===c.nodeType&&(" "+e+" ").replace(mb," ")){for(g=0;f=b[g++];)for(;d.indexOf(" "+f+" ")>-1;)d=d.replace(" "+f+" "," ");h=fa.trim(d),e!==h&&c.setAttribute("class",h)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):fa.isFunction(a)?this.each(function(c){fa(this).toggleClass(a.call(this,c,O(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c)for(d=0,e=fa(this),f=a.match(va)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(void 0===a||"boolean"===c)&&(b=O(this),b&&za.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":za.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;for(b=" "+a+" ";c=this[d++];)if(1===c.nodeType&&(" "+O(c)+" ").replace(mb," ").indexOf(b)>-1)return!0;return!1}});var nb=/\r/g;fa.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=fa.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,fa(this).val()):a,null==e?e="":"number"==typeof e?e+="":fa.isArray(e)&&(e=fa.map(e,function(a){return null==a?"":a+""})),b=fa.valHooks[this.type]||fa.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=fa.valHooks[e.type]||fa.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(nb,""):null==c?"":c)}}}),fa.extend({valHooks:{option:{get:function(a){return fa.trim(a.value)}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(da.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!fa.nodeName(c.parentNode,"optgroup"))){if(b=fa(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=fa.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=fa.inArray(fa.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),fa.each(["radio","checkbox"],function(){fa.valHooks[this]={set:function(a,b){return fa.isArray(b)?a.checked=fa.inArray(fa(a).val(),b)>-1:void 0}},da.checkOn||(fa.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var ob=/^(?:focusinfocus|focusoutblur)$/;fa.extend(fa.event,{trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||X],n=ca.call(b,"type")?b.type:b,o=ca.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||X,3!==d.nodeType&&8!==d.nodeType&&!ob.test(n+fa.event.triggered)&&(n.indexOf(".")>-1&&(o=n.split("."),n=o.shift(),o.sort()),j=n.indexOf(":")<0&&"on"+n,b=b[fa.expando]?b:new fa.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:fa.makeArray(c,[b]),l=fa.event.special[n]||{},e||!l.trigger||l.trigger.apply(d,c)!==!1)){if(!e&&!l.noBubble&&!fa.isWindow(d)){for(i=l.delegateType||n,ob.test(i+n)||(g=g.parentNode);g;g=g.parentNode)m.push(g),h=g;h===(d.ownerDocument||X)&&m.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=m[f++])&&!b.isPropagationStopped();)b.type=f>1?i:l.bindType||n,k=(za.get(g,"events")||{})[b.type]&&za.get(g,"handle"),k&&k.apply(g,c),k=j&&g[j],k&&k.apply&&ya(g)&&(b.result=k.apply(g,c),b.result===!1&&b.preventDefault());return b.type=n,e||b.isDefaultPrevented()||l._default&&l._default.apply(m.pop(),c)!==!1||!ya(d)||j&&fa.isFunction(d[n])&&!fa.isWindow(d)&&(h=d[j],h&&(d[j]=null),fa.event.triggered=n,d[n](),fa.event.triggered=void 0,h&&(d[j]=h)),b.result}},simulate:function(a,b,c){var d=fa.extend(new fa.Event,c,{type:a,isSimulated:!0});fa.event.trigger(d,null,b),d.isDefaultPrevented()&&c.preventDefault()}}),fa.fn.extend({trigger:function(a,b){return this.each(function(){fa.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?fa.event.trigger(a,b,c,!0):void 0}}),fa.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){fa.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),fa.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),da.focusin="onfocusin"in a,da.focusin||fa.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){fa.event.simulate(b,a.target,fa.event.fix(a))};fa.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=za.access(d,b);e||d.addEventListener(a,c,!0),za.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=za.access(d,b)-1;e?za.access(d,b,e):(d.removeEventListener(a,c,!0),za.remove(d,b))}}});var pb=a.location,qb=fa.now(),rb=/\?/;fa.parseJSON=function(a){return JSON.parse(a+"")},fa.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return(!c||c.getElementsByTagName("parsererror").length)&&fa.error("Invalid XML: "+b),c};var sb=/#.*$/,tb=/([?&])_=[^&]*/,ub=/^(.*?):[ \t]*([^\r\n]*)$/gm,vb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,wb=/^(?:GET|HEAD)$/,xb=/^\/\//,yb={},zb={},Ab="*/".concat("*"),Bb=X.createElement("a");Bb.href=pb.href,fa.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:pb.href,type:"GET",isLocal:vb.test(pb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ab,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":fa.parseJSON,"text xml":fa.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?R(R(a,fa.ajaxSettings),b):R(fa.ajaxSettings,a)},ajaxPrefilter:P(yb),ajaxTransport:P(zb),ajax:function(b,c){function d(b,c,d,h){var j,l,s,t,v,x=c;2!==u&&(u=2,i&&a.clearTimeout(i),e=void 0,g=h||"",w.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(t=S(m,w,d)),t=T(m,t,w,j),j?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&(fa.lastModified[f]=v),v=w.getResponseHeader("etag"),v&&(fa.etag[f]=v)),204===b||"HEAD"===m.type?x="nocontent":304===b?x="notmodified":(x=t.state,l=t.data,s=t.error,j=!s)):(s=x,(b||!x)&&(x="error",0>b&&(b=0))),w.status=b,w.statusText=(c||x)+"",j?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=void 0,k&&o.trigger(j?"ajaxSuccess":"ajaxError",[w,m,j?l:s]),q.fireWith(n,[w,x]),k&&(o.trigger("ajaxComplete",[w,m]),--fa.active||fa.event.trigger("ajaxStop")))}"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=fa.ajaxSetup({},c),n=m.context||m,o=m.context&&(n.nodeType||n.jquery)?fa(n):fa.event,p=fa.Deferred(),q=fa.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!h)for(h={};b=ub.exec(g);)h[b[1].toLowerCase()]=b[2];b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>u)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return e&&e.abort(b),d(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,m.url=((b||m.url||pb.href)+"").replace(sb,"").replace(xb,pb.protocol+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=fa.trim(m.dataType||"*").toLowerCase().match(va)||[""],null==m.crossDomain){j=X.createElement("a");try{j.href=m.url,j.href=j.href,m.crossDomain=Bb.protocol+"//"+Bb.host!=j.protocol+"//"+j.host}catch(x){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=fa.param(m.data,m.traditional)),Q(yb,m,c,w),2===u)return w;k=fa.event&&m.global,k&&0===fa.active++&&fa.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!wb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(rb.test(f)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=tb.test(f)?f.replace(tb,"$1_="+qb++):f+(rb.test(f)?"&":"?")+"_="+qb++)),m.ifModified&&(fa.lastModified[f]&&w.setRequestHeader("If-Modified-Since",fa.lastModified[f]),fa.etag[f]&&w.setRequestHeader("If-None-Match",fa.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Ab+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)w.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(n,w,m)===!1||2===u))return w.abort();v="abort";for(l in{success:1,error:1,complete:1})w[l](m[l]);if(e=Q(zb,m,c,w)){if(w.readyState=1,k&&o.trigger("ajaxSend",[w,m]),2===u)return w;m.async&&m.timeout>0&&(i=a.setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,e.send(s,d)}catch(x){if(!(2>u))throw x;d(-1,x)}}else d(-1,"No Transport");return w},getJSON:function(a,b,c){return fa.get(a,b,c,"json")},getScript:function(a,b){return fa.get(a,void 0,b,"script")}}),fa.each(["get","post"],function(a,b){fa[b]=function(a,c,d,e){return fa.isFunction(c)&&(e=e||d,d=c,c=void 0),fa.ajax(fa.extend({url:a,type:b,dataType:e,data:c,success:d},fa.isPlainObject(a)&&a))}}),fa._evalUrl=function(a){return fa.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},fa.fn.extend({wrapAll:function(a){var b;return fa.isFunction(a)?this.each(function(b){fa(this).wrapAll(a.call(this,b))}):(this[0]&&(b=fa(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return fa.isFunction(a)?this.each(function(b){fa(this).wrapInner(a.call(this,b))}):this.each(function(){var b=fa(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=fa.isFunction(a);return this.each(function(c){fa(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){fa.nodeName(this,"body")||fa(this).replaceWith(this.childNodes)}).end()}}),fa.expr.filters.hidden=function(a){return!fa.expr.filters.visible(a)},fa.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Cb=/%20/g,Db=/\[\]$/,Eb=/\r?\n/g,Fb=/^(?:submit|button|image|reset|file)$/i,Gb=/^(?:input|select|textarea|keygen)/i;fa.param=function(a,b){var c,d=[],e=function(a,b){b=fa.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=fa.ajaxSettings&&fa.ajaxSettings.traditional),fa.isArray(a)||a.jquery&&!fa.isPlainObject(a))fa.each(a,function(){e(this.name,this.value)});else for(c in a)U(c,a[c],b,e);return d.join("&").replace(Cb,"+")},fa.fn.extend({serialize:function(){return fa.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=fa.prop(this,"elements");return a?fa.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!fa(this).is(":disabled")&&Gb.test(this.nodeName)&&!Fb.test(a)&&(this.checked||!Ha.test(a))}).map(function(a,b){var c=fa(this).val();return null==c?null:fa.isArray(c)?fa.map(c,function(a){return{name:b.name,value:a.replace(Eb,"\r\n")}}):{name:b.name,value:c.replace(Eb,"\r\n")}}).get()}}),fa.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Hb={0:200,1223:204},Ib=fa.ajaxSettings.xhr();da.cors=!!Ib&&"withCredentials"in Ib,da.ajax=Ib=!!Ib,fa.ajaxTransport(function(b){var c,d;return da.cors||Ib&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Hb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}:void 0}),fa.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return fa.globalEval(a),a}}}),fa.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),fa.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=fa("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),X.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Jb=[],Kb=/(=)\?(?=&|$)|\?\?/;fa.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Jb.pop()||fa.expando+"_"+qb++;return this[a]=!0,a}}),fa.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Kb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=fa.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Kb,"$1"+e):b.jsonp!==!1&&(b.url+=(rb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||fa.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?fa(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Jb.push(e)),g&&fa.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),da.createHTMLDocument=function(){var a=X.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",2===a.childNodes.length}(),fa.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||(da.createHTMLDocument?X.implementation.createHTMLDocument(""):X);var d=oa.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m([a],b,e),e&&e.length&&fa(e).remove(),fa.merge([],d.childNodes))};var Lb=fa.fn.load;fa.fn.load=function(a,b,c){if("string"!=typeof a&&Lb)return Lb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=fa.trim(a.slice(h)),a=a.slice(0,h)),fa.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&fa.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?fa("<div>").append(fa.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(g,f||[a.responseText,b,a])})}),this},fa.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){fa.fn[b]=function(a){return this.on(b,a)}}),fa.expr.filters.animated=function(a){return fa.grep(fa.timers,function(b){return a===b.elem}).length},fa.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=fa.css(a,"position"),l=fa(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=fa.css(a,"top"),i=fa.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),fa.isFunction(b)&&(b=b.call(a,c,fa.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},fa.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){fa.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,fa.contains(b,d)?(e=d.getBoundingClientRect(),c=V(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===fa.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),fa.nodeName(a[0],"html")||(d=a.offset()),d.top+=fa.css(a[0],"borderTopWidth",!0)-a.scrollTop(),d.left+=fa.css(a[0],"borderLeftWidth",!0)-a.scrollLeft()),{top:b.top-d.top-fa.css(c,"marginTop",!0),left:b.left-d.left-fa.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===fa.css(a,"position");)a=a.offsetParent;return a||$a})}}),fa.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;fa.fn[a]=function(d){return xa(this,function(a,d,e){var f=V(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),fa.each(["top","left"],function(a,b){fa.cssHooks[b]=B(da.pixelPosition,function(a,c){return c?(c=A(a,b),Xa.test(c)?fa(a).position()[b]+"px":c):void 0})}),fa.each({Height:"height",Width:"width"},function(a,b){fa.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){fa.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return xa(this,function(b,c,d){var e;return fa.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?fa.css(b,c,g):fa.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),fa.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},size:function(){return this.length}}),fa.fn.andSelf=fa.fn.addBack,"function"==typeof define&&define.amd&&define("a5",[],function(){return fa});var Mb=a.jQuery,Nb=a.$;return fa.noConflict=function(b){return a.$===fa&&(a.$=Nb),b&&a.jQuery===fa&&(a.jQuery=Mb),fa},b||(a.jQuery=a.$=fa),fa}),b()}(),function(){var b=a.get("@@amd-helpers").createDefine();define("a6",["a5"],function(a){return a}),b()}(),a.registerDynamic("a7",["a6"],!1,function(b,c,d){var e=a.get("@@global-helpers").prepareGlobal(d.id,"$",null);return function(){"format global";"deps jquery";"exports $";if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||b[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.6",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a(f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.6",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")?(c.prop("checked")&&(a=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==c.prop("type")&&(c.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),a&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target);d.hasClass("btn")||(d=d.closest(".btn")),b.call(d,"toggle"),a(c.target).is('input[type="radio"]')||a(c.target).is('input[type="checkbox"]')||c.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){
a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.6",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d="prev"==a&&0===c||"next"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.6",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery),+function(a){"use strict";function b(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function c(c){c&&3===c.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass("open")&&(c&&"click"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event("hide.bs.dropdown",f)),c.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",f)))))}))}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.6",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=b(e),g=f.hasClass("open");if(c(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",c);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger(a.Event("shown.bs.dropdown",h))}return!1}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var e=b(d),g=e.hasClass("open");if(!g&&27!=c.which||g&&27==c.which)return 27==c.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.disabled):visible a",i=e.find(".dropdown-menu"+h);if(i.length){var j=i.index(c.target);38==c.which&&j>0&&j--,40==c.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.6",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in"),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+e).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",a,b)};c.VERSION="3.3.6",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusin"==b.type?"focus":"hover"]=!0),c.tip().hasClass("in")||"in"==c.hoverState?void(c.hoverState="in"):(clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusout"==b.type?"focus":"hover"]=!1),c.isInStateTrue()?void 0:(clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide())},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.getPosition(this.$viewport);h="bottom"==h&&k.bottom+m>o.bottom?"top":"top"==h&&k.top-m<o.top?"bottom":"right"==h&&k.right+l>o.width?"left":"left"==h&&k.left-l<o.left?"right":h,f.removeClass(n).addClass(h)}var p=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(p,h);var q=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",q).emulateTransitionEnd(c.TRANSITION_DURATION):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=a(this.$tip),g=a.Event("hide.bs."+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=d?{top:0,left:0}:b.offset(),g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,g,h,f)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.6",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.6",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.6",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.6",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return c>e?"top":!1;if("bottom"==this.affixed)return null!=c?e+this.unpin<=f.top?!1:"bottom":a-d>=e+g?!1:"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&c>=e?"top":null!=d&&i+j>=a-d?"bottom":!1},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=Math.max(a(document).height(),a(document.body).height());
"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery)}(),e()}),a.registerDynamic("a8",["a7"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,c.exports=a("a7"),d.define=e,c.exports}),a.register("a9",[],function(){return{setters:[],execute:function(){}}}),function(){var b=a.get("@@amd-helpers").createDefine();!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define("aa",[],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.Plotly=a()}}(function(){var a;return function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(require,a,b){"use strict";var c=require("../src/plotly"),d={"X,X div":"font-family:'Open Sans', verdana, arial, sans-serif;margin:0;padding:0;","X input,X button":"font-family:'Open Sans', verdana, arial, sans-serif;","X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .modebar":"position:absolute;top:2px;right:2px;z-index:1001;background:rgba(255,255,255,0.7);","X .modebar--hover":"opacity:0;-webkit-transition:opacity 0.3s ease 0s;-moz-transition:opacity 0.3s ease 0s;-ms-transition:opacity 0.3s ease 0s;-o-transition:opacity 0.3s ease 0s;transition:opacity 0.3s ease 0s;","X:hover .modebar--hover":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;margin-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-group:first-child":"margin-left:0px;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar-btn path":"fill:rgba(0,31,95,0.3);","X .modebar-btn.active path,X .modebar-btn:hover path":"fill:rgba(0,22,72,0.5);","X .modebar-btn.modebar-btn--logo":"padding:3px 1px;","X .modebar-btn.modebar-btn--logo path":"fill:#447adb !important;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":"content:'';position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;","X [data-title]:after":"content:attr(data-title);background:#69738a;color:white;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:white;","X .select-outline-2":"stroke:black;stroke-dasharray:2px 2px;",Y:"font-family:'Open Sans';position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;","Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,0.9);color:#fff;padding:10px;","Y .notifier-close":"color:#fff;opacity:0.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var e in d){var f=e.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");c.Lib.addStyleRule(f,d[e])}},{"../src/plotly":365}],2:[function(require,a,b){"use strict";a.exports={undo:{width:857.1,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",ascent:850,descent:-150},home:{width:928.6,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",ascent:850,descent:-150},"camera-retro":{width:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",ascent:850,descent:-150},zoombox:{width:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",ascent:850,descent:-150},pan:{width:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",ascent:850,descent:-150},zoom_plus:{width:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",ascent:850,descent:-150},zoom_minus:{width:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",ascent:850,descent:-150},autoscale:{width:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",ascent:850,descent:-150},tooltip_basic:{width:1500,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",ascent:850,descent:-150},tooltip_compare:{width:1125,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",ascent:850,descent:-150},plotlylogo:{width:1542,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",ascent:850,descent:-150},"z-axis":{width:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",ascent:850,descent:-150},"3d_rotate":{width:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",ascent:850,descent:-150},camera:{width:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",ascent:850,descent:-150},movie:{width:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",ascent:850,descent:-150},question:{width:857.1,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",ascent:850,descent:-150},disk:{width:857.1,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",ascent:850,descent:-150},lasso:{width:1031,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",ascent:850,descent:-150},selectbox:{width:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",ascent:850,descent:-150}}},{}],3:[function(require,a,b){a.exports=require("../src/traces/bar")},{"../src/traces/bar":420}],4:[function(require,a,b){a.exports=require("../src/traces/box")},{"../src/traces/box":431}],5:[function(require,a,b){a.exports=require("../src/traces/choropleth")},{"../src/traces/choropleth":439}],6:[function(require,a,b){a.exports=require("../src/traces/contour")},{"../src/traces/contour":446}],7:[function(require,a,b){a.exports=require("../src/core")},{"../src/core":338}],8:[function(require,a,b){a.exports=require("../src/traces/heatmap")},{"../src/traces/heatmap":457}],9:[function(require,a,b){a.exports=require("../src/traces/histogram")},{"../src/traces/histogram":468}],10:[function(require,a,b){a.exports=require("../src/traces/histogram2d")},{"../src/traces/histogram2d":473}],11:[function(require,a,b){a.exports=require("../src/traces/histogram2dcontour")},{"../src/traces/histogram2dcontour":477}],12:[function(require,a,b){"use strict";var c=require("./core");c.register([require("./bar"),require("./box"),require("./heatmap"),require("./histogram"),require("./histogram2d"),require("./histogram2dcontour"),require("./pie"),require("./contour"),require("./scatter3d"),require("./surface"),require("./mesh3d"),require("./scattergeo"),require("./choropleth"),require("./scattergl")]),a.exports=c},{"./bar":3,"./box":4,"./choropleth":5,"./contour":6,"./core":7,"./heatmap":8,"./histogram":9,"./histogram2d":10,"./histogram2dcontour":11,"./mesh3d":13,"./pie":14,"./scatter3d":15,"./scattergeo":16,"./scattergl":17,"./surface":18}],13:[function(require,a,b){a.exports=require("../src/traces/mesh3d")},{"../src/traces/mesh3d":481}],14:[function(require,a,b){a.exports=require("../src/traces/pie")},{"../src/traces/pie":486}],15:[function(require,a,b){a.exports=require("../src/traces/scatter3d")},{"../src/traces/scatter3d":519}],16:[function(require,a,b){a.exports=require("../src/traces/scattergeo")},{"../src/traces/scattergeo":523}],17:[function(require,a,b){a.exports=require("../src/traces/scattergl")},{"../src/traces/scattergl":528}],18:[function(require,a,b){a.exports=require("../src/traces/surface")},{"../src/traces/surface":533}],19:[function(require,a,b){"use strict";function c(a,b,c){return Math.min(b,Math.max(a,c))}function d(a,b,c){this.dimension=a.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var d=0;d<this.dimension;++d)this.bounds[0][d]=-(1/0),this.bounds[1][d]=1/0;this._state=a.slice().reverse(),this._velocity=b.slice().reverse(),this._time=[c],this._scratch=[a.slice(),a.slice(),a.slice(),a.slice(),a.slice()]}function e(a){for(var b=new Array(a),c=0;a>c;++c)b[c]=0;return b}function f(a,b,c){switch(arguments.length){case 0:return new d([0],[0],0);case 1:if("number"==typeof a){var f=e(a);return new d(f,f,0)}return new d(a,e(a.length),0);case 2:if("number"==typeof b){var f=e(a.length);return new d(a,f,+b)}c=0;case 3:if(a.length!==b.length)throw new Error("state and velocity lengths must match");return new d(a,b,c)}}a.exports=f;var g=require("cubic-hermite"),h=require("binary-search-bounds"),i=d.prototype;i.flush=function(a){var b=h.gt(this._time,a)-1;0>=b||(this._time.splice(0,b),this._state.splice(0,b*this.dimension),this._velocity.splice(0,b*this.dimension))},i.curve=function(a){var b=this._time,d=b.length,e=h.le(b,a),f=this._scratch[0],i=this._state,j=this._velocity,k=this.dimension,l=this.bounds;if(0>e)for(var m=k-1,n=0;k>n;++n,--m)f[n]=i[m];else if(e>=d-1)for(var m=i.length-1,o=a-b[d-1],n=0;k>n;++n,--m)f[n]=i[m]+o*j[m];else{for(var m=k*(e+1)-1,p=b[e],q=b[e+1],r=q-p||1,s=this._scratch[1],t=this._scratch[2],u=this._scratch[3],v=this._scratch[4],w=!0,n=0;k>n;++n,--m)s[n]=i[m],u[n]=j[m]*r,t[n]=i[m+k],v[n]=j[m+k]*r,w=w&&s[n]===t[n]&&u[n]===v[n]&&0===u[n];if(w)for(var n=0;k>n;++n)f[n]=s[n];else g(s,u,t,v,(a-p)/r,f)}for(var x=l[0],y=l[1],n=0;k>n;++n)f[n]=c(x[n],y[n],f[n]);return f},i.dcurve=function(a){var b=this._time,c=b.length,d=h.le(b,a),e=this._scratch[0],f=this._state,i=this._velocity,j=this.dimension;if(d>=c-1)for(var k=f.length-1,l=(a-b[c-1],0);j>l;++l,--k)e[l]=i[k];else{for(var k=j*(d+1)-1,m=b[d],n=b[d+1],o=n-m||1,p=this._scratch[1],q=this._scratch[2],r=this._scratch[3],s=this._scratch[4],t=!0,l=0;j>l;++l,--k)p[l]=f[k],r[l]=i[k]*o,q[l]=f[k+j],s[l]=i[k+j]*o,t=t&&p[l]===q[l]&&r[l]===s[l]&&0===r[l];if(t)for(var l=0;j>l;++l)e[l]=0;else{g.derivative(p,r,q,s,(a-m)/o,e);for(var l=0;j>l;++l)e[l]/=o}}return e},i.lastT=function(){var a=this._time;return a[a.length-1]},i.stable=function(){for(var a=this._velocity,b=a.length,c=this.dimension-1;c>=0;--c)if(a[--b])return!1;return!0},i.jump=function(a){var b=this.lastT(),d=this.dimension;if(!(b>a||arguments.length!==d+1)){var e=this._state,f=this._velocity,g=e.length-this.dimension,h=this.bounds,i=h[0],j=h[1];this._time.push(b,a);for(var k=0;2>k;++k)for(var l=0;d>l;++l)e.push(e[g++]),f.push(0);this._time.push(a);for(var l=d;l>0;--l)e.push(c(i[l-1],j[l-1],arguments[l])),f.push(0)}},i.push=function(a){var b=this.lastT(),d=this.dimension;if(!(b>a||arguments.length!==d+1)){var e=this._state,f=this._velocity,g=e.length-this.dimension,h=a-b,i=this.bounds,j=i[0],k=i[1],l=h>1e-6?1/h:0;this._time.push(a);for(var m=d;m>0;--m){var n=c(j[m-1],k[m-1],arguments[m]);e.push(n),f.push((n-e[g++])*l)}}},i.set=function(a){var b=this.dimension;if(!(a<this.lastT()||arguments.length!==b+1)){var d=this._state,e=this._velocity,f=this.bounds,g=f[0],h=f[1];this._time.push(a);for(var i=b;i>0;--i)d.push(c(g[i-1],h[i-1],arguments[i])),e.push(0)}},i.move=function(a){var b=this.lastT(),d=this.dimension;if(!(b>=a||arguments.length!==d+1)){var e=this._state,f=this._velocity,g=e.length-this.dimension,h=this.bounds,i=h[0],j=h[1],k=a-b,l=k>1e-6?1/k:0;this._time.push(a);for(var m=d;m>0;--m){var n=arguments[m];e.push(c(i[m-1],j[m-1],e[g++]+n)),f.push(n*l)}}},i.idle=function(a){var b=this.lastT();if(!(b>a)){var d=this.dimension,e=this._state,f=this._velocity,g=e.length-d,h=this.bounds,i=h[0],j=h[1],k=a-b;this._time.push(a);for(var l=d-1;l>=0;--l)e.push(c(i[l],j[l],e[g]+k*f[g])),f.push(0),g+=1}}},{"binary-search-bounds":20,"cubic-hermite":21}],20:[function(require,a,b){"use strict";function c(a,b,c,d,e,f){var g=["function ",a,"(a,l,h,",d.join(","),"){",f?"":"var i=",c?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a",e?".get(m)":"[m]"];return f?b.indexOf("c")<0?g.push(";if(x===y){return m}else if(x<=y){"):g.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):g.push(";if(",b,"){i=m;"),c?g.push("l=m+1}else{h=m-1}"):g.push("h=m-1}else{l=m+1}"),g.push("}"),f?g.push("return -1};"):g.push("return i};"),g.join("")}function d(a,b,d,e){var f=new Function([c("A","x"+a+"y",b,["y"],!1,e),c("B","x"+a+"y",b,["y"],!0,e),c("P","c(x,y)"+a+"0",b,["y","c"],!1,e),c("Q","c(x,y)"+a+"0",b,["y","c"],!0,e),"function dispatchBsearch",d,"(a,y,c,l,h){if(a.shape){if(typeof(c)==='function'){return Q(a,(l===undefined)?0:l|0,(h===undefined)?a.shape[0]-1:h|0,y,c)}else{return B(a,(c===undefined)?0:c|0,(l===undefined)?a.shape[0]-1:l|0,y)}}else{if(typeof(c)==='function'){return P(a,(l===undefined)?0:l|0,(h===undefined)?a.length-1:h|0,y,c)}else{return A(a,(c===undefined)?0:c|0,(l===undefined)?a.length-1:l|0,y)}}}return dispatchBsearch",d].join(""));return f()}a.exports={ge:d(">=",!1,"GE"),gt:d(">",!1,"GT"),lt:d("<",!0,"LT"),le:d("<=",!0,"LE"),eq:d("-",!0,"EQ",!0)}},{}],21:[function(require,a,b){"use strict";function c(a,b,c,d,e,f){var g=6*e*e-6*e,h=3*e*e-4*e+1,i=-6*e*e+6*e,j=3*e*e-2*e;if(a.length){f||(f=new Array(a.length));for(var k=a.length-1;k>=0;--k)f[k]=g*a[k]+h*b[k]+i*c[k]+j*d[k];return f}return g*a+h*b+i*c[k]+j*d}function d(a,b,c,d,e,f){var g=e-1,h=e*e,i=g*g,j=(1+2*e)*i,k=e*i,l=h*(3-2*e),m=h*g;if(a.length){f||(f=new Array(a.length));for(var n=a.length-1;n>=0;--n)f[n]=j*a[n]+k*b[n]+l*c[n]+m*d[n];return f}return j*a+k*b+l*c+m*d}a.exports=d,a.exports.derivative=c},{}],22:[function(require,a,b){function c(a,b,c){var d=b[0],e=b[1],f=b[2],g=c[0],h=c[1],i=c[2];return a[0]=e*i-f*h,a[1]=f*g-d*i,a[2]=d*h-e*g,a}a.exports=c},{}],23:[function(require,a,b){function c(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}a.exports=c},{}],24:[function(require,a,b){function c(a){var b=a[0],c=a[1],d=a[2];return Math.sqrt(b*b+c*c+d*d)}a.exports=c},{}],25:[function(require,a,b){function c(a,b,c,d){var e=b[0],f=b[1],g=b[2];return a[0]=e+d*(c[0]-e),a[1]=f+d*(c[1]-f),a[2]=g+d*(c[2]-g),a}a.exports=c},{}],26:[function(require,a,b){function c(a,b){var c=b[0],d=b[1],e=b[2],f=c*c+d*d+e*e;return f>0&&(f=1/Math.sqrt(f),a[0]=b[0]*f,a[1]=b[1]*f,a[2]=b[2]*f),a}a.exports=c},{}],27:[function(require,a,b){"use strict";function c(a){this._components=a.slice(),this._time=[0],this.prevMatrix=a.slice(),this.nextMatrix=a.slice(),this.computedMatrix=a.slice(),this.computedInverse=a.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-(1/0),1/0]}function d(a){a=a||{};var b=a.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new c(b)}var e=require("binary-search-bounds"),f=require("mat4-interpolate"),g=require("gl-mat4/invert"),h=require("gl-mat4/rotateX"),i=require("gl-mat4/rotateY"),j=require("gl-mat4/rotateZ"),k=require("gl-mat4/lookAt"),l=require("gl-mat4/translate"),m=(require("gl-mat4/scale"),require("gl-vec3/normalize")),n=[0,0,0];a.exports=d;var o=c.prototype;o.recalcMatrix=function(a){var b=this._time,c=e.le(b,a),d=this.computedMatrix;if(!(0>c)){var h=this._components;if(c===b.length-1)for(var i=16*c,j=0;16>j;++j)d[j]=h[i++];else{for(var k=b[c+1]-b[c],i=16*c,l=this.prevMatrix,n=!0,j=0;16>j;++j)l[j]=h[i++];for(var o=this.nextMatrix,j=0;16>j;++j)o[j]=h[i++],n=n&&l[j]===o[j];if(1e-6>k||n)for(var j=0;16>j;++j)d[j]=l[j];else f(d,l,o,(a-b[c])/k)}var p=this.computedUp;p[0]=d[1],p[1]=d[5],p[2]=d[6],m(p,p);var q=this.computedInverse;g(q,d);var r=this.computedEye,s=q[15];r[0]=q[12]/s,r[1]=q[13]/s,r[2]=q[14]/s;for(var t=this.computedCenter,u=Math.exp(this.computedRadius[0]),j=0;3>j;++j)t[j]=r[j]-d[2+4*j]*u}},o.idle=function(a){if(!(a<this.lastT())){for(var b=this._components,c=b.length-16,d=0;16>d;++d)b.push(b[c++]);this._time.push(a)}},o.flush=function(a){var b=e.gt(this._time,a)-2;0>b||(this._time.slice(0,b),this._components.slice(0,16*b))},o.lastT=function(){return this._time[this._time.length-1]},o.lookAt=function(a,b,c,d){this.recalcMatrix(a),b=b||this.computedEye,c=c||n,d=d||this.computedUp,this.setMatrix(a,k(this.computedMatrix,b,c,d));for(var e=0,f=0;3>f;++f)e+=Math.pow(c[f]-b[f],2);e=Math.log(Math.sqrt(e)),this.computedRadius[0]=e},o.rotate=function(a,b,c,d){this.recalcMatrix(a);var e=this.computedInverse;b&&i(e,e,b),c&&h(e,e,c),d&&j(e,e,d),this.setMatrix(a,g(this.computedMatrix,e))};var p=[0,0,0];o.pan=function(a,b,c,d){p[0]=-(b||0),p[1]=-(c||0),p[2]=-(d||0),this.recalcMatrix(a);var e=this.computedInverse;l(e,e,p),this.setMatrix(a,g(e,e))},o.translate=function(a,b,c,d){p[0]=b||0,p[1]=c||0,p[2]=d||0,this.recalcMatrix(a);var e=this.computedMatrix;l(e,e,p),this.setMatrix(a,e)},o.setMatrix=function(a,b){if(!(a<this.lastT())){this._time.push(a);for(var c=0;16>c;++c)this._components.push(b[c])}},o.setDistance=function(a,b){this.computedRadius[0]=b},o.setDistanceLimits=function(a,b){var c=this._limits;c[0]=a,c[1]=b},o.getDistanceLimits=function(a){var b=this._limits;return a?(a[0]=b[0],a[1]=b[1],a):b}},{"binary-search-bounds":28,"gl-mat4/invert":94,"gl-mat4/lookAt":95,"gl-mat4/rotateX":99,"gl-mat4/rotateY":100,"gl-mat4/rotateZ":101,"gl-mat4/scale":102,"gl-mat4/translate":103,"gl-vec3/normalize":26,"mat4-interpolate":29}],28:[function(require,a,b){arguments[4][20][0].apply(b,arguments)},{dup:20}],29:[function(require,a,b){function c(a,b,c,d){if(0===j(b)||0===j(c))return!1;var e=i(b,l.translate,l.scale,l.skew,l.perspective,l.quaternion),f=i(c,m.translate,m.scale,m.skew,m.perspective,m.quaternion);return e&&f?(g(n.translate,l.translate,m.translate,d),g(n.skew,l.skew,m.skew,d),g(n.scale,l.scale,m.scale,d),g(n.perspective,l.perspective,m.perspective,d),k(n.quaternion,l.quaternion,m.quaternion,d),h(a,n.translate,n.scale,n.skew,n.perspective,n.quaternion),!0):!1}function d(){return{translate:e(),scale:e(1),skew:e(),perspective:f(),quaternion:f()}}function e(a){return[a||0,a||0,a||0]}function f(){return[0,0,0,1]}var g=require("gl-vec3/lerp"),h=require("mat4-recompose"),i=require("mat4-decompose"),j=require("gl-mat4/determinant"),k=require("quat-slerp"),l=d(),m=d(),n=d();a.exports=c},{"gl-mat4/determinant":90,"gl-vec3/lerp":25,"mat4-decompose":30,"mat4-recompose":32,"quat-slerp":33}],30:[function(require,a,b){function c(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3];return a[0]=c[0]*d+c[4]*e+c[8]*f+c[12]*g,a[1]=c[1]*d+c[5]*e+c[9]*f+c[13]*g,a[2]=c[2]*d+c[6]*e+c[10]*f+c[14]*g,a[3]=c[3]*d+c[7]*e+c[11]*f+c[15]*g,a}function d(a,b){a[0][0]=b[0],a[0][1]=b[1],a[0][2]=b[2],a[1][0]=b[4],a[1][1]=b[5],a[1][2]=b[6],a[2][0]=b[8],a[2][1]=b[9],a[2][2]=b[10]}function e(a,b,c,d,e){a[0]=b[0]*d+c[0]*e,a[1]=b[1]*d+c[1]*e,a[2]=b[2]*d+c[2]*e}var f=require("./normalize"),g=require("gl-mat4/create"),h=require("gl-mat4/clone"),i=require("gl-mat4/determinant"),j=require("gl-mat4/invert"),k=require("gl-mat4/transpose"),l={length:require("gl-vec3/length"),normalize:require("gl-vec3/normalize"),dot:require("gl-vec3/dot"),cross:require("gl-vec3/cross")},m=g(),n=g(),o=[0,0,0,0],p=[[0,0,0],[0,0,0],[0,0,0]],q=[0,0,0];a.exports=function(a,b,g,r,s,t){if(b||(b=[0,0,0]),g||(g=[0,0,0]),r||(r=[0,0,0]),s||(s=[0,0,0,1]),t||(t=[0,0,0,1]),!f(m,a))return!1;if(h(n,m),n[3]=0,n[7]=0,n[11]=0,n[15]=1,Math.abs(i(n)<1e-8))return!1;var u=m[3],v=m[7],w=m[11],x=m[12],y=m[13],z=m[14],A=m[15];if(0!==u||0!==v||0!==w){o[0]=u,o[1]=v,o[2]=w,o[3]=A;var B=j(n,n);if(!B)return!1;k(n,n),c(s,o,n)}else s[0]=s[1]=s[2]=0,s[3]=1;if(b[0]=x,b[1]=y,b[2]=z,d(p,m),g[0]=l.length(p[0]),l.normalize(p[0],p[0]),r[0]=l.dot(p[0],p[1]),e(p[1],p[1],p[0],1,-r[0]),g[1]=l.length(p[1]),l.normalize(p[1],p[1]),r[0]/=g[1],r[1]=l.dot(p[0],p[2]),e(p[2],p[2],p[0],1,-r[1]),r[2]=l.dot(p[1],p[2]),e(p[2],p[2],p[1],1,-r[2]),g[2]=l.length(p[2]),l.normalize(p[2],p[2]),r[1]/=g[2],r[2]/=g[2],l.cross(q,p[1],p[2]),l.dot(p[0],q)<0)for(var C=0;3>C;C++)g[C]*=-1,p[C][0]*=-1,p[C][1]*=-1,p[C][2]*=-1;return t[0]=.5*Math.sqrt(Math.max(1+p[0][0]-p[1][1]-p[2][2],0)),t[1]=.5*Math.sqrt(Math.max(1-p[0][0]+p[1][1]-p[2][2],0)),t[2]=.5*Math.sqrt(Math.max(1-p[0][0]-p[1][1]+p[2][2],0)),t[3]=.5*Math.sqrt(Math.max(1+p[0][0]+p[1][1]+p[2][2],0)),p[2][1]>p[1][2]&&(t[0]=-t[0]),p[0][2]>p[2][0]&&(t[1]=-t[1]),p[1][0]>p[0][1]&&(t[2]=-t[2]),!0}},{"./normalize":31,"gl-mat4/clone":88,"gl-mat4/create":89,"gl-mat4/determinant":90,"gl-mat4/invert":94,"gl-mat4/transpose":104,"gl-vec3/cross":22,"gl-vec3/dot":23,"gl-vec3/length":24,"gl-vec3/normalize":26}],31:[function(require,a,b){a.exports=function(a,b){var c=b[15];if(0===c)return!1;for(var d=1/c,e=0;16>e;e++)a[e]=b[e]*d;return!0}},{}],32:[function(require,a,b){var c={identity:require("gl-mat4/identity"),translate:require("gl-mat4/translate"),multiply:require("gl-mat4/multiply"),create:require("gl-mat4/create"),scale:require("gl-mat4/scale"),fromRotationTranslation:require("gl-mat4/fromRotationTranslation")},d=(c.create(),c.create());a.exports=function(a,b,e,f,g,h){return c.identity(a),c.fromRotationTranslation(a,h,b),a[3]=g[0],a[7]=g[1],a[11]=g[2],a[15]=g[3],c.identity(d),0!==f[2]&&(d[9]=f[2],c.multiply(a,a,d)),0!==f[1]&&(d[9]=0,d[8]=f[1],c.multiply(a,a,d)),0!==f[0]&&(d[8]=0,d[4]=f[0],c.multiply(a,a,d)),c.scale(a,a,e),a}},{"gl-mat4/create":89,"gl-mat4/fromRotationTranslation":92,"gl-mat4/identity":93,"gl-mat4/multiply":96,"gl-mat4/scale":102,"gl-mat4/translate":103}],33:[function(require,a,b){a.exports=require("gl-quat/slerp")},{"gl-quat/slerp":34}],34:[function(require,a,b){function c(a,b,c,d){var e,f,g,h,i,j=b[0],k=b[1],l=b[2],m=b[3],n=c[0],o=c[1],p=c[2],q=c[3];return f=j*n+k*o+l*p+m*q,0>f&&(f=-f,n=-n,o=-o,p=-p,q=-q),1-f>1e-6?(e=Math.acos(f),g=Math.sin(e),h=Math.sin((1-d)*e)/g,i=Math.sin(d*e)/g):(h=1-d,i=d),a[0]=h*j+i*n,a[1]=h*k+i*o,a[2]=h*l+i*p,a[3]=h*m+i*q,a}a.exports=c},{}],35:[function(require,a,b){"use strict";function c(a,b,c,d,e,f,g,h,i,j){var k=b+f+j;if(l>0){var l=Math.sqrt(k+1);a[0]=.5*(g-i)/l,a[1]=.5*(h-d)/l,a[2]=.5*(c-f)/l,a[3]=.5*l}else{var m=Math.max(b,f,j),l=Math.sqrt(2*m-k+1);b>=m?(a[0]=.5*l,a[1]=.5*(e+c)/l,a[2]=.5*(h+d)/l,a[3]=.5*(g-i)/l):f>=m?(a[0]=.5*(c+e)/l,a[1]=.5*l,a[2]=.5*(i+g)/l,a[3]=.5*(h-d)/l):(a[0]=.5*(d+h)/l,a[1]=.5*(g+i)/l,a[2]=.5*l,a[3]=.5*(c-e)/l)}return a}a.exports=c},{}],36:[function(require,a,b){"use strict";function c(a,b,c){return Math.sqrt(Math.pow(a,2)+Math.pow(b,2)+Math.pow(c,2))}function d(a,b,c,d){return Math.sqrt(Math.pow(a,2)+Math.pow(b,2)+Math.pow(c,2)+Math.pow(d,2))}function e(a,b){var c=b[0],e=b[1],f=b[2],g=b[3],h=d(c,e,f,g);h>1e-6?(a[0]=c/h,a[1]=e/h,a[2]=f/h,a[3]=g/h):(a[0]=a[1]=a[2]=0,a[3]=1)}function f(a,b,c){this.radius=h([c]),this.center=h(b),this.rotation=h(a),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}function g(a){a=a||{};var b=a.center||[0,0,0],c=a.rotation||[0,0,0,1],d=a.radius||1;b=[].slice.call(b,0,3),c=[].slice.call(c,0,4),e(c,c);var g=new f(c,b,Math.log(d));return g.setDistanceLimits(a.zoomMin,a.zoomMax),("eye"in a||"up"in a)&&g.lookAt(0,a.eye,a.center,a.up),g}a.exports=g;var h=require("filtered-vector"),i=require("gl-mat4/lookAt"),j=require("gl-mat4/fromQuat"),k=require("gl-mat4/invert"),l=require("./lib/quatFromFrame"),m=f.prototype;m.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},m.recalcMatrix=function(a){this.radius.curve(a),this.center.curve(a),this.rotation.curve(a);var b=this.computedRotation;e(b,b);var c=this.computedMatrix;j(c,b);var d=this.computedCenter,f=this.computedEye,g=this.computedUp,h=Math.exp(this.computedRadius[0]);f[0]=d[0]+h*c[2],f[1]=d[1]+h*c[6],f[2]=d[2]+h*c[10],g[0]=c[1],g[1]=c[5],g[2]=c[9];for(var i=0;3>i;++i){for(var k=0,l=0;3>l;++l)k+=c[i+4*l]*f[l];c[12+i]=-k}},m.getMatrix=function(a,b){this.recalcMatrix(a);var c=this.computedMatrix;if(b){for(var d=0;16>d;++d)b[d]=c[d];return b}return c},m.idle=function(a){this.center.idle(a),this.radius.idle(a),this.rotation.idle(a)},m.flush=function(a){this.center.flush(a),this.radius.flush(a),this.rotation.flush(a)},m.pan=function(a,b,d,e){b=b||0,d=d||0,e=e||0,this.recalcMatrix(a);var f=this.computedMatrix,g=f[1],h=f[5],i=f[9],j=c(g,h,i);g/=j,h/=j,i/=j;var k=f[0],l=f[4],m=f[8],n=k*g+l*h+m*i;k-=g*n,l-=h*n,m-=i*n;var o=c(k,l,m);k/=o,l/=o,m/=o;var p=f[2],q=f[6],r=f[10],s=p*g+q*h+r*i,t=p*k+q*l+r*m;p-=s*g+t*k,q-=s*h+t*l,r-=s*i+t*m;var u=c(p,q,r);p/=u,q/=u,r/=u;var v=k*b+g*d,w=l*b+h*d,x=m*b+i*d;this.center.move(a,v,w,x);var y=Math.exp(this.computedRadius[0]);y=Math.max(1e-4,y+e),this.radius.set(a,Math.log(y))},m.rotate=function(a,b,e,f){this.recalcMatrix(a),b=b||0,e=e||0;var g=this.computedMatrix,h=g[0],i=g[4],j=g[8],k=g[1],l=g[5],m=g[9],n=g[2],o=g[6],p=g[10],q=b*h+e*k,r=b*i+e*l,s=b*j+e*m,t=-(o*s-p*r),u=-(p*q-n*s),v=-(n*r-o*q),w=Math.sqrt(Math.max(0,1-Math.pow(t,2)-Math.pow(u,2)-Math.pow(v,2))),x=d(t,u,v,w);x>1e-6?(t/=x,u/=x,v/=x,w/=x):(t=u=v=0,w=1);var y=this.computedRotation,z=y[0],A=y[1],B=y[2],C=y[3],D=z*w+C*t+A*v-B*u,E=A*w+C*u+B*t-z*v,F=B*w+C*v+z*u-A*t,G=C*w-z*t-A*u-B*v;
if(f){t=n,u=o,v=p;var H=Math.sin(f)/c(t,u,v);t*=H,u*=H,v*=H,w=Math.cos(b),D=D*w+G*t+E*v-F*u,E=E*w+G*u+F*t-D*v,F=F*w+G*v+D*u-E*t,G=G*w-D*t-E*u-F*v}var I=d(D,E,F,G);I>1e-6?(D/=I,E/=I,F/=I,G/=I):(D=E=F=0,G=1),this.rotation.set(a,D,E,F,G)},m.lookAt=function(a,b,c,d){this.recalcMatrix(a),c=c||this.computedCenter,b=b||this.computedEye,d=d||this.computedUp;var f=this.computedMatrix;i(f,b,c,d);var g=this.computedRotation;l(g,f[0],f[1],f[2],f[4],f[5],f[6],f[8],f[9],f[10]),e(g,g),this.rotation.set(a,g[0],g[1],g[2],g[3]);for(var h=0,j=0;3>j;++j)h+=Math.pow(c[j]-b[j],2);this.radius.set(a,.5*Math.log(Math.max(h,1e-6))),this.center.set(a,c[0],c[1],c[2])},m.translate=function(a,b,c,d){this.center.move(a,b||0,c||0,d||0)},m.setMatrix=function(a,b){var c=this.computedRotation;l(c,b[0],b[1],b[2],b[4],b[5],b[6],b[8],b[9],b[10]),e(c,c),this.rotation.set(a,c[0],c[1],c[2],c[3]);var d=this.computedMatrix;k(d,b);var f=d[15];if(Math.abs(f)>1e-6){var g=d[12]/f,h=d[13]/f,i=d[14]/f;this.recalcMatrix(a);var j=Math.exp(this.computedRadius[0]);this.center.set(a,g-d[2]*j,h-d[6]*j,i-d[10]*j),this.radius.idle(a)}else this.center.idle(a),this.radius.idle(a)},m.setDistance=function(a,b){b>0&&this.radius.set(a,Math.log(b))},m.setDistanceLimits=function(a,b){a=a>0?Math.log(a):-(1/0),b=b>0?Math.log(b):1/0,b=Math.max(b,a),this.radius.bounds[0][0]=a,this.radius.bounds[1][0]=b},m.getDistanceLimits=function(a){var b=this.radius.bounds;return a?(a[0]=Math.exp(b[0][0]),a[1]=Math.exp(b[1][0]),a):[Math.exp(b[0][0]),Math.exp(b[1][0])]},m.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},m.fromJSON=function(a){var b=this.lastT(),c=a.center;c&&this.center.set(b,c[0],c[1],c[2]);var d=a.rotation;d&&this.rotation.set(b,d[0],d[1],d[2],d[3]);var e=a.distance;e&&e>0&&this.radius.set(b,Math.log(e)),this.setDistanceLimits(a.zoomMin,a.zoomMax)}},{"./lib/quatFromFrame":35,"filtered-vector":19,"gl-mat4/fromQuat":91,"gl-mat4/invert":94,"gl-mat4/lookAt":95}],37:[function(require,a,b){"use strict";function c(a,b,c){return Math.sqrt(Math.pow(a,2)+Math.pow(b,2)+Math.pow(c,2))}function d(a){return Math.min(1,Math.max(-1,a))}function e(a){var b=Math.abs(a[0]),c=Math.abs(a[1]),d=Math.abs(a[2]),e=[0,0,0];b>Math.max(c,d)?e[2]=1:c>Math.max(b,d)?e[0]=1:e[1]=1;for(var f=0,g=0,h=0;3>h;++h)f+=a[h]*a[h],g+=e[h]*a[h];for(var h=0;3>h;++h)e[h]-=g/f*a[h];return l(e,e),e}function f(a,b,c,d,e,f,g,i){this.center=h(c),this.up=h(d),this.right=h(e),this.radius=h([f]),this.angle=h([g,i]),this.angle.bounds=[[-(1/0),-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(a,b),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var j=0;16>j;++j)this.computedMatrix[j]=.5;this.recalcMatrix(0)}function g(a){a=a||{};var b=a.center||[0,0,0],d=a.up||[0,1,0],g=a.right||e(d),h=a.radius||1,i=a.theta||0,j=a.phi||0;if(b=[].slice.call(b,0,3),d=[].slice.call(d,0,3),l(d,d),g=[].slice.call(g,0,3),l(g,g),"eye"in a){var n=a.eye,o=[n[0]-b[0],n[1]-b[1],n[2]-b[2]];k(g,o,d),c(g[0],g[1],g[2])<1e-6?g=e(d):l(g,g),h=c(o[0],o[1],o[2]);var p=m(d,o)/h,q=m(g,o)/h;j=Math.acos(p),i=Math.acos(q)}return h=Math.log(h),new f(a.zoomMin,a.zoomMax,b,d,g,h,i,j)}a.exports=g;var h=require("filtered-vector"),i=require("gl-mat4/invert"),j=require("gl-mat4/rotate"),k=require("gl-vec3/cross"),l=require("gl-vec3/normalize"),m=require("gl-vec3/dot"),n=f.prototype;n.setDistanceLimits=function(a,b){a=a>0?Math.log(a):-(1/0),b=b>0?Math.log(b):1/0,b=Math.max(b,a),this.radius.bounds[0][0]=a,this.radius.bounds[1][0]=b},n.getDistanceLimits=function(a){var b=this.radius.bounds[0];return a?(a[0]=Math.exp(b[0][0]),a[1]=Math.exp(b[1][0]),a):[Math.exp(b[0][0]),Math.exp(b[1][0])]},n.recalcMatrix=function(a){this.center.curve(a),this.up.curve(a),this.right.curve(a),this.radius.curve(a),this.angle.curve(a);for(var b=this.computedUp,d=this.computedRight,e=0,f=0,g=0;3>g;++g)f+=b[g]*d[g],e+=b[g]*b[g];for(var h=Math.sqrt(e),i=0,g=0;3>g;++g)d[g]-=b[g]*f/e,i+=d[g]*d[g],b[g]/=h;for(var j=Math.sqrt(i),g=0;3>g;++g)d[g]/=j;var m=this.computedToward;k(m,b,d),l(m,m);for(var n=Math.exp(this.computedRadius[0]),o=this.computedAngle[0],p=this.computedAngle[1],q=Math.cos(o),r=Math.sin(o),s=Math.cos(p),t=Math.sin(p),u=this.computedCenter,v=q*s,w=r*s,x=t,y=-q*t,z=-r*t,A=s,B=this.computedEye,C=this.computedMatrix,g=0;3>g;++g){var D=v*d[g]+w*m[g]+x*b[g];C[4*g+1]=y*d[g]+z*m[g]+A*b[g],C[4*g+2]=D,C[4*g+3]=0}var E=C[1],F=C[5],G=C[9],H=C[2],I=C[6],J=C[10],K=F*J-G*I,L=G*H-E*J,M=E*I-F*H,N=c(K,L,M);K/=N,L/=N,M/=N,C[0]=K,C[4]=L,C[8]=M;for(var g=0;3>g;++g)B[g]=u[g]+C[2+4*g]*n;for(var g=0;3>g;++g){for(var i=0,O=0;3>O;++O)i+=C[g+4*O]*B[O];C[12+g]=-i}C[15]=1},n.getMatrix=function(a,b){this.recalcMatrix(a);var c=this.computedMatrix;if(b){for(var d=0;16>d;++d)b[d]=c[d];return b}return c};var o=[0,0,0];n.rotate=function(a,b,c,d){if(this.angle.move(a,b,c),d){this.recalcMatrix(a);var e=this.computedMatrix;o[0]=e[2],o[1]=e[6],o[2]=e[10];for(var f=this.computedUp,g=this.computedRight,h=this.computedToward,i=0;3>i;++i)e[4*i]=f[i],e[4*i+1]=g[i],e[4*i+2]=h[i];j(e,e,d,o);for(var i=0;3>i;++i)f[i]=e[4*i],g[i]=e[4*i+1];this.up.set(a,f[0],f[1],f[2]),this.right.set(a,g[0],g[1],g[2])}},n.pan=function(a,b,d,e){b=b||0,d=d||0,e=e||0,this.recalcMatrix(a);var f=this.computedMatrix,g=(Math.exp(this.computedRadius[0]),f[1]),h=f[5],i=f[9],j=c(g,h,i);g/=j,h/=j,i/=j;var k=f[0],l=f[4],m=f[8],n=k*g+l*h+m*i;k-=g*n,l-=h*n,m-=i*n;var o=c(k,l,m);k/=o,l/=o,m/=o;var p=k*b+g*d,q=l*b+h*d,r=m*b+i*d;this.center.move(a,p,q,r);var s=Math.exp(this.computedRadius[0]);s=Math.max(1e-4,s+e),this.radius.set(a,Math.log(s))},n.translate=function(a,b,c,d){this.center.move(a,b||0,c||0,d||0)},n.setMatrix=function(a,b,e,f){var g=1;"number"==typeof e&&(g=0|e),(0>g||g>3)&&(g=1);var h=(g+2)%3;b||(this.recalcMatrix(a),b=this.computedMatrix);var j=b[g],k=b[g+4],l=b[g+8];if(f){var m=Math.abs(j),n=Math.abs(k),o=Math.abs(l),p=Math.max(m,n,o);m===p?(j=0>j?-1:1,k=l=0):o===p?(l=0>l?-1:1,j=k=0):(k=0>k?-1:1,j=l=0)}else{var q=c(j,k,l);j/=q,k/=q,l/=q}var r=b[h],s=b[h+4],t=b[h+8],u=r*j+s*k+t*l;r-=j*u,s-=k*u,t-=l*u;var v=c(r,s,t);r/=v,s/=v,t/=v;var w=k*t-l*s,x=l*r-j*t,y=j*s-k*r,z=c(w,x,y);w/=z,x/=z,y/=z,this.center.jump(a,S,T,U),this.radius.idle(a),this.up.jump(a,j,k,l),this.right.jump(a,r,s,t);var A,B;if(2===g){var C=b[1],D=b[5],E=b[9],F=C*r+D*s+E*t,G=C*w+D*x+E*y;A=0>K?-Math.PI/2:Math.PI/2,B=Math.atan2(G,F)}else{var H=b[2],I=b[6],J=b[10],K=H*j+I*k+J*l,L=H*r+I*s+J*t,M=H*w+I*x+J*y;A=Math.asin(d(K)),B=Math.atan2(M,L)}this.angle.jump(a,B,A),this.recalcMatrix(a);var N=b[2],O=b[6],P=b[10],Q=this.computedMatrix;i(Q,b);var R=Q[15],S=Q[12]/R,T=Q[13]/R,U=Q[14]/R,V=Math.exp(this.computedRadius[0]);this.center.jump(a,S-N*V,T-O*V,U-P*V)},n.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},n.idle=function(a){this.center.idle(a),this.up.idle(a),this.right.idle(a),this.radius.idle(a),this.angle.idle(a)},n.flush=function(a){this.center.flush(a),this.up.flush(a),this.right.flush(a),this.radius.flush(a),this.angle.flush(a)},n.setDistance=function(a,b){b>0&&this.radius.set(a,Math.log(b))},n.lookAt=function(a,b,e,f){this.recalcMatrix(a),b=b||this.computedEye,e=e||this.computedCenter,f=f||this.computedUp;var g=f[0],h=f[1],i=f[2],j=c(g,h,i);if(!(1e-6>j)){g/=j,h/=j,i/=j;var k=b[0]-e[0],l=b[1]-e[1],m=b[2]-e[2],n=c(k,l,m);if(!(1e-6>n)){k/=n,l/=n,m/=n;var o=this.computedRight,p=o[0],q=o[1],r=o[2],s=g*p+h*q+i*r;p-=s*g,q-=s*h,r-=s*i;var t=c(p,q,r);if(!(.01>t&&(p=h*m-i*l,q=i*k-g*m,r=g*l-h*k,t=c(p,q,r),1e-6>t))){p/=t,q/=t,r/=t,this.up.set(a,g,h,i),this.right.set(a,p,q,r),this.center.set(a,e[0],e[1],e[2]),this.radius.set(a,Math.log(n));var u=h*r-i*q,v=i*p-g*r,w=g*q-h*p,x=c(u,v,w);u/=x,v/=x,w/=x;var y=g*k+h*l+i*m,z=p*k+q*l+r*m,A=u*k+v*l+w*m,B=Math.asin(d(y)),C=Math.atan2(A,z),D=this.angle._state,E=D[D.length-1],F=D[D.length-2];E%=2*Math.PI;var G=Math.abs(E+2*Math.PI-C),H=Math.abs(E-C),I=Math.abs(E-2*Math.PI-C);H>G&&(E+=2*Math.PI),H>I&&(E-=2*Math.PI),this.angle.jump(this.angle.lastT(),E,F),this.angle.set(a,C,B)}}}}},{"filtered-vector":19,"gl-mat4/invert":94,"gl-mat4/rotate":98,"gl-vec3/cross":22,"gl-vec3/dot":23,"gl-vec3/normalize":26}],38:[function(require,a,b){"use strict";function c(a,b){this._controllerNames=Object.keys(a),this._controllerList=this._controllerNames.map(function(b){return a[b]}),this._mode=b,this._active=a[b],this._active||(this._mode="turntable",this._active=a.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}function d(a){a=a||{};var b=a.eye||[0,0,1],d=a.center||[0,0,0],h=a.up||[0,1,0],i=a.distanceLimits||[0,1/0],j=a.mode||"turntable",k=e(),l=f(),m=g();return k.setDistanceLimits(i[0],i[1]),k.lookAt(0,b,d,h),l.setDistanceLimits(i[0],i[1]),l.lookAt(0,b,d,h),m.setDistanceLimits(i[0],i[1]),m.lookAt(0,b,d,h),new c({turntable:k,orbit:l,matrix:m},j)}a.exports=d;var e=require("turntable-camera-controller"),f=require("orbit-camera-controller"),g=require("matrix-camera-controller"),h=c.prototype,i=[["flush",1],["idle",1],["lookAt",4],["rotate",4],["pan",4],["translate",4],["setMatrix",2],["setDistanceLimits",2],["setDistance",2]];i.forEach(function(a){for(var b=a[0],c=[],d=0;d<a[1];++d)c.push("a"+d);var e="var cc=this._controllerList;for(var i=0;i<cc.length;++i){cc[i]."+a[0]+"("+c.join()+")}";h[b]=Function.apply(null,c.concat(e))}),h.recalcMatrix=function(a){this._active.recalcMatrix(a)},h.getDistance=function(a){return this._active.getDistance(a)},h.getDistanceLimits=function(a){return this._active.getDistanceLimits(a)},h.lastT=function(){return this._active.lastT()},h.setMode=function(a){if(a!==this._mode){var b=this._controllerNames.indexOf(a);if(!(0>b)){var c=this._active,d=this._controllerList[b],e=Math.max(c.lastT(),d.lastT());c.recalcMatrix(e),d.setMatrix(e,c.computedMatrix),this._active=d,this._mode=a,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},h.getMode=function(){return this._mode}},{"matrix-camera-controller":27,"orbit-camera-controller":36,"turntable-camera-controller":37}],39:[function(require,a,b){function c(a,b){return e(d(a,b))}a.exports=c;var d=require("alpha-complex"),e=require("simplicial-complex-boundary")},{"alpha-complex":40,"simplicial-complex-boundary":43}],40:[function(require,a,b){"use strict";function c(a,b){return d(b).filter(function(c){for(var d=new Array(c.length),f=0;f<c.length;++f)d[f]=b[c[f]];return e(d)*a<1})}a.exports=c;var d=require("delaunay-triangulate"),e=require("circumradius")},{circumradius:41,"delaunay-triangulate":71}],41:[function(require,a,b){function c(a){for(var b=d(a),c=0,e=0;e<a.length;++e)for(var f=a[e],g=0;g<b.length;++g)c+=Math.pow(f[g]-b[g],2);return Math.sqrt(c/a.length)}a.exports=c;var d=require("circumcenter")},{circumcenter:42}],42:[function(require,a,b){"use strict";function c(a,b){for(var c=0,d=a.length,e=0;d>e;++e)c+=a[e]*b[e];return c}function d(a){var b=a.length;if(0===b)return[];var d=(a[0].length,f([a.length+1,a.length+1],1)),e=f([a.length+1],1);d[b][b]=0;for(var h=0;b>h;++h){for(var i=0;h>=i;++i)d[i][h]=d[h][i]=2*c(a[h],a[i]);e[h]=c(a[h],a[h])}for(var j=g(d,e),k=0,l=j[b+1],h=0;h<l.length;++h)k+=l[h];for(var m=new Array(b),h=0;b>h;++h){for(var l=j[h],n=0,i=0;i<l.length;++i)n+=l[i];m[h]=n/k}return m}function e(a){if(0===a.length)return[];for(var b=a[0].length,c=f([b]),e=d(a),g=0;g<a.length;++g)for(var h=0;b>h;++h)c[h]+=a[g][h]*e[g];return c}var f=require("dup"),g=require("robust-linear-solve");e.barycenetric=d,a.exports=e},{dup:72,"robust-linear-solve":211}],43:[function(require,a,b){"use strict";function c(a){return e(d(a))}a.exports=c;var d=require("boundary-cells"),e=require("reduce-simplicial-complex")},{"boundary-cells":44,"reduce-simplicial-complex":47}],44:[function(require,a,b){"use strict";function c(a){for(var b=a.length,c=0,d=0;b>d;++d)c+=a[d].length;for(var e=new Array(c),f=0,d=0;b>d;++d)for(var g=a[d],h=g.length,i=0;h>i;++i)for(var j=e[f++]=new Array(h-1),k=1;h>k;++k)j[k-1]=g[(i+k)%h];return e}a.exports=c},{}],45:[function(require,a,b){"use strict";function c(a){for(var b=1,c=1;c<a.length;++c)for(var d=0;c>d;++d)if(a[c]<a[d])b=-b;else if(a[d]===a[c])return 0;return b}a.exports=c},{}],46:[function(require,a,b){"use strict";function c(a,b){return d(a,b)||e(a)-e(b)}var d=require("compare-cell"),e=require("cell-orientation");a.exports=c},{"cell-orientation":45,"compare-cell":59}],47:[function(require,a,b){"use strict";function c(a){a.sort(e);for(var b=a.length,c=0,g=0;b>g;++g){var h=a[g],i=f(h);if(0!==i){if(c>0){var j=a[c-1];if(0===d(h,j)&&f(j)!==i){c-=1;continue}}a[c++]=h}}return a.length=c,a}var d=require("compare-cell"),e=require("compare-oriented-cell"),f=require("cell-orientation");a.exports=c},{"cell-orientation":45,"compare-cell":59,"compare-oriented-cell":46}],48:[function(require,a,b){"use strict";var c=function(){function a(a){return!Array.isArray(a)&&null!==a&&"object"==typeof a}function b(a,b,c){for(var d=(b-a)/Math.max(c-1,1),e=[],f=0;c>f;f++)e.push(a+f*d);return e}function c(){for(var a=[].slice.call(arguments),b=a.map(function(a){return a.length}),c=Math.min.apply(null,b),d=[],e=0;c>e;e++){d[e]=[];for(var f=0;f<a.length;++f)d[e][f]=a[f][e]}return d}function d(a,b,c){for(var d=Math.min.apply(null,[a.length,b.length,c.length]),e=[],f=0;d>f;f++)e.push([a[f],b[f],c[f]]);return e}function e(a){function b(a){for(var d=0;d<a.length;d++)Array.isArray(a[d])?b(a[d],c):c+=a[d]}var c=0;return b(a,c),c}function f(a){for(var b=[],c=0;c<a.length;++c){b[c]=[];for(var d=0;d<a[c].length;++d)b[c][d]=a[c][d]}return b}function g(a){for(var b=[],c=0;c<a.length;++c)b[c]=a[c];return b}function h(a,b){if(a.length!==b.length)return!1;for(var c=a.length;c--;)if(a[c]!==b[c])return!1;return!0}function i(a,b){var c,d;if("string"!=typeof a)return a;if(c=[],"#"===a[0]?(a=a.substr(1),3===a.length&&(a+=a),d=parseInt(a,16),c[0]=d>>16&255,c[1]=d>>8&255,c[2]=255&d):l.test(a)&&(d=a.match(m),c[0]=parseInt(d[1]),c[1]=parseInt(d[2]),c[2]=parseInt(d[3])),!b)for(var e=0;3>e;++e)c[e]=c[e]/255;return c}function j(a,b){var c,d;if("string"!=typeof a)return a;if(c=[],"#"===a[0]?(a=a.substr(1),3===a.length&&(a+=a),d=parseInt(a,16),c[0]=d>>16&255,c[1]=d>>8&255,c[2]=255&d):l.test(a)&&(d=a.match(m),c[0]=parseInt(d[1]),c[1]=parseInt(d[2]),c[2]=parseInt(d[3]),d[4]?c[3]=parseFloat(d[4]):c[3]=1),!b)for(var e=0;3>e;++e)c[e]=c[e]/255;return c}var k={},l=/^rgba?\(\s*\d{1,3}\s*,\s*\d{1,3}\s*,\s*\d{1,3}\s*(,.*)?\)$/,m=/^rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,?\s*(.*)?\)$/;return k.isPlainObject=a,k.linspace=b,k.zip3=d,k.sum=e,k.zip=c,k.isEqual=h,k.copy2D=f,k.copy1D=g,k.str2RgbArray=i,k.str2RgbaArray=j,k};a.exports=c()},{}],49:[function(require,a,b){"use strict";"use restrict";function c(a){var b=32;return a&=-a,a&&b--,65535&a&&(b-=16),16711935&a&&(b-=8),252645135&a&&(b-=4),858993459&a&&(b-=2),1431655765&a&&(b-=1),b}var d=32;b.INT_BITS=d,b.INT_MAX=2147483647,b.INT_MIN=-1<<d-1,b.sign=function(a){return(a>0)-(0>a)},b.abs=function(a){var b=a>>d-1;return(a^b)-b},b.min=function(a,b){return b^(a^b)&-(b>a)},b.max=function(a,b){return a^(a^b)&-(b>a)},b.isPow2=function(a){return!(a&a-1||!a)},b.log2=function(a){var b,c;return b=(a>65535)<<4,a>>>=b,c=(a>255)<<3,a>>>=c,b|=c,c=(a>15)<<2,a>>>=c,b|=c,c=(a>3)<<1,a>>>=c,b|=c,b|a>>1},b.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},b.popCount=function(a){return a-=a>>>1&1431655765,a=(858993459&a)+(a>>>2&858993459),16843009*(a+(a>>>4)&252645135)>>>24},b.countTrailingZeros=c,b.nextPow2=function(a){return a+=0===a,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a+1},b.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a-(a>>>1)},b.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,a&=15,27030>>>a&1};var e=new Array(256);!function(a){for(var b=0;256>b;++b){var c=b,d=b,e=7;for(c>>>=1;c;c>>>=1)d<<=1,d|=1&c,--e;a[b]=d<<e&255}}(e),b.reverse=function(a){return e[255&a]<<24|e[a>>>8&255]<<16|e[a>>>16&255]<<8|e[a>>>24&255]},b.interleave2=function(a,b){return a&=65535,a=16711935&(a|a<<8),a=252645135&(a|a<<4),a=858993459&(a|a<<2),a=1431655765&(a|a<<1),b&=65535,b=16711935&(b|b<<8),b=252645135&(b|b<<4),b=858993459&(b|b<<2),b=1431655765&(b|b<<1),a|b<<1},b.deinterleave2=function(a,b){return a=a>>>b&1431655765,a=858993459&(a|a>>>1),a=252645135&(a|a>>>2),a=16711935&(a|a>>>4),a=65535&(a|a>>>16),a<<16>>16},b.interleave3=function(a,b,c){return a&=1023,a=4278190335&(a|a<<16),a=251719695&(a|a<<8),a=3272356035&(a|a<<4),a=1227133513&(a|a<<2),b&=1023,b=4278190335&(b|b<<16),b=251719695&(b|b<<8),b=3272356035&(b|b<<4),b=1227133513&(b|b<<2),a|=b<<1,c&=1023,c=4278190335&(c|c<<16),c=251719695&(c|c<<8),c=3272356035&(c|c<<4),c=1227133513&(c|c<<2),a|c<<2},b.deinterleave3=function(a,b){return a=a>>>b&1227133513,a=3272356035&(a|a>>>2),a=251719695&(a|a>>>4),a=4278190335&(a|a>>>8),a=1023&(a|a>>>16),a<<22>>22},b.nextCombination=function(a){var b=a|a-1;return b+1|(~b&-~b)-1>>>c(a)+1}},{}],50:[function(require,a,b){(function(a){"use strict";function c(){try{var a=new Uint8Array(1);return a.foo=function(){return 42},42===a.foo()&&"function"==typeof a.subarray&&0===a.subarray(1,1).byteLength}catch(b){return!1}}function d(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function e(a){return this instanceof e?(e.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof a?f(this,a):"string"==typeof a?g(this,a,arguments.length>1?arguments[1]:"utf8"):h(this,a)):arguments.length>1?new e(a,arguments[1]):new e(a)}function f(a,b){if(a=o(a,0>b?0:0|p(b)),!e.TYPED_ARRAY_SUPPORT)for(var c=0;b>c;c++)a[c]=0;return a}function g(a,b,c){("string"!=typeof c||""===c)&&(c="utf8");var d=0|r(b,c);return a=o(a,d),a.write(b,c),a}function h(a,b){if(e.isBuffer(b))return i(a,b);if(X(b))return j(a,b);if(null==b)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(b.buffer instanceof ArrayBuffer)return k(a,b);if(b instanceof ArrayBuffer)return l(a,b)}return b.length?m(a,b):n(a,b)}function i(a,b){var c=0|p(b.length);return a=o(a,c),b.copy(a,0,0,c),a}function j(a,b){var c=0|p(b.length);a=o(a,c);for(var d=0;c>d;d+=1)a[d]=255&b[d];return a}function k(a,b){var c=0|p(b.length);a=o(a,c);for(var d=0;c>d;d+=1)a[d]=255&b[d];return a}function l(a,b){return b.byteLength,e.TYPED_ARRAY_SUPPORT?(a=new Uint8Array(b),a.__proto__=e.prototype):a=k(a,new Uint8Array(b)),a}function m(a,b){var c=0|p(b.length);a=o(a,c);for(var d=0;c>d;d+=1)a[d]=255&b[d];return a}function n(a,b){var c,d=0;"Buffer"===b.type&&X(b.data)&&(c=b.data,d=0|p(c.length)),a=o(a,d);for(var e=0;d>e;e+=1)a[e]=255&c[e];return a}function o(a,b){e.TYPED_ARRAY_SUPPORT?(a=new Uint8Array(b),a.__proto__=e.prototype):a.length=b;var c=0!==b&&b<=e.poolSize>>>1;return c&&(a.parent=Y),a}function p(a){if(a>=d())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d().toString(16)+" bytes");return 0|a}function q(a,b){if(!(this instanceof q))return new q(a,b);var c=new e(a,b);return delete c.parent,c}function r(a,b){"string"!=typeof a&&(a=""+a);var c=a.length;if(0===c)return 0;for(var d=!1;;)switch(b){case"ascii":case"binary":case"raw":case"raws":return c;case"utf8":case"utf-8":return Q(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return T(a).length;default:if(d)return Q(a).length;b=(""+b).toLowerCase(),d=!0}}function s(a,b,c){var d=!1;if(b=0|b,c=void 0===c||c===1/0?this.length:0|c,a||(a="utf8"),0>b&&(b=0),c>this.length&&(c=this.length),b>=c)return"";for(;;)switch(a){case"hex":return E(this,b,c);case"utf8":case"utf-8":return A(this,b,c);case"ascii":return C(this,b,c);case"binary":return D(this,b,c);case"base64":return z(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}}function t(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d),d>e&&(d=e)):d=e;var f=b.length;if(f%2!==0)throw new Error("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;d>g;g++){var h=parseInt(b.substr(2*g,2),16);if(isNaN(h))throw new Error("Invalid hex string");a[c+g]=h}return g}function u(a,b,c,d){return U(Q(b,a.length-c),a,c,d)}function v(a,b,c,d){return U(R(b),a,c,d)}function w(a,b,c,d){return v(a,b,c,d)}function x(a,b,c,d){return U(T(b),a,c,d)}function y(a,b,c,d){return U(S(b,a.length-c),a,c,d)}function z(a,b,c){return 0===b&&c===a.length?V.fromByteArray(a):V.fromByteArray(a.slice(b,c))}function A(a,b,c){c=Math.min(a.length,c);for(var d=[],e=b;c>e;){var f=a[e],g=null,h=f>239?4:f>223?3:f>191?2:1;if(c>=e+h){var i,j,k,l;switch(h){case 1:128>f&&(g=f);break;case 2:i=a[e+1],128===(192&i)&&(l=(31&f)<<6|63&i,l>127&&(g=l));break;case 3:i=a[e+1],j=a[e+2],128===(192&i)&&128===(192&j)&&(l=(15&f)<<12|(63&i)<<6|63&j,l>2047&&(55296>l||l>57343)&&(g=l));break;case 4:i=a[e+1],j=a[e+2],k=a[e+3],128===(192&i)&&128===(192&j)&&128===(192&k)&&(l=(15&f)<<18|(63&i)<<12|(63&j)<<6|63&k,l>65535&&1114112>l&&(g=l))}}null===g?(g=65533,h=1):g>65535&&(g-=65536,d.push(g>>>10&1023|55296),g=56320|1023&g),d.push(g),e+=h}return B(d)}function B(a){var b=a.length;if(Z>=b)return String.fromCharCode.apply(String,a);for(var c="",d=0;b>d;)c+=String.fromCharCode.apply(String,a.slice(d,d+=Z));return c}function C(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;c>e;e++)d+=String.fromCharCode(127&a[e]);return d}function D(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;c>e;e++)d+=String.fromCharCode(a[e]);return d}function E(a,b,c){var d=a.length;(!b||0>b)&&(b=0),(!c||0>c||c>d)&&(c=d);for(var e="",f=b;c>f;f++)e+=P(a[f]);return e}function F(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function G(a,b,c){if(a%1!==0||0>a)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function H(a,b,c,d,f,g){if(!e.isBuffer(a))throw new TypeError("buffer must be a Buffer instance");if(b>f||g>b)throw new RangeError("value is out of bounds");if(c+d>a.length)throw new RangeError("index out of range")}function I(a,b,c,d){0>b&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);f>e;e++)a[c+e]=(b&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function J(a,b,c,d){0>b&&(b=4294967295+b+1);for(var e=0,f=Math.min(a.length-c,4);f>e;e++)a[c+e]=b>>>8*(d?e:3-e)&255}function K(a,b,c,d,e,f){if(b>e||f>b)throw new RangeError("value is out of bounds");if(c+d>a.length)throw new RangeError("index out of range");if(0>c)throw new RangeError("index out of range")}function L(a,b,c,d,e){return e||K(a,b,c,4,3.4028234663852886e38,-3.4028234663852886e38),W.write(a,b,c,d,23,4),c+4}function M(a,b,c,d,e){return e||K(a,b,c,8,1.7976931348623157e308,-1.7976931348623157e308),W.write(a,b,c,d,52,8),c+8}function N(a){if(a=O(a).replace($,""),a.length<2)return"";for(;a.length%4!==0;)a+="=";return a}function O(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function P(a){return 16>a?"0"+a.toString(16):a.toString(16)}function Q(a,b){b=b||1/0;for(var c,d=a.length,e=null,f=[],g=0;d>g;g++){if(c=a.charCodeAt(g),c>55295&&57344>c){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(56320>c){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=(e-55296<<10|c-56320)+65536}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,128>c){if((b-=1)<0)break;f.push(c)}else if(2048>c){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(65536>c){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(1114112>c))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function R(a){for(var b=[],c=0;c<a.length;c++)b.push(255&a.charCodeAt(c));return b}function S(a,b){for(var c,d,e,f=[],g=0;g<a.length&&!((b-=2)<0);g++)c=a.charCodeAt(g),d=c>>8,e=c%256,f.push(e),f.push(d);return f}function T(a){return V.toByteArray(N(a))}function U(a,b,c,d){for(var e=0;d>e&&!(e+c>=b.length||e>=a.length);e++)b[e+c]=a[e];return e}var V=require("base64-js"),W=require("ieee754"),X=require("isarray");b.Buffer=e,b.SlowBuffer=q,b.INSPECT_MAX_BYTES=50,e.poolSize=8192;var Y={};e.TYPED_ARRAY_SUPPORT=void 0!==a.TYPED_ARRAY_SUPPORT?a.TYPED_ARRAY_SUPPORT:c(),e.TYPED_ARRAY_SUPPORT?(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array):(e.prototype.length=void 0,e.prototype.parent=void 0),e.isBuffer=function(a){return!(null==a||!a._isBuffer)},e.compare=function(a,b){if(!e.isBuffer(a)||!e.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var c=a.length,d=b.length,f=0,g=Math.min(c,d);g>f&&a[f]===b[f];)++f;return f!==g&&(c=a[f],d=b[f]),d>c?-1:c>d?1:0},e.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(a,b){if(!X(a))throw new TypeError("list argument must be an Array of Buffers.");if(0===a.length)return new e(0);var c;if(void 0===b)for(b=0,c=0;c<a.length;c++)b+=a[c].length;var d=new e(b),f=0;for(c=0;c<a.length;c++){var g=a[c];g.copy(d,f),f+=g.length}return d},e.byteLength=r,e.prototype._isBuffer=!0,e.prototype.toString=function(){var a=0|this.length;return 0===a?"":0===arguments.length?A(this,0,a):s.apply(this,arguments)},e.prototype.equals=function(a){if(!e.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?!0:0===e.compare(this,a)},e.prototype.inspect=function(){var a="",c=b.INSPECT_MAX_BYTES;return this.length>0&&(a=this.toString("hex",0,c).match(/.{2}/g).join(" "),this.length>c&&(a+=" ... ")),"<Buffer "+a+">"},e.prototype.compare=function(a){if(!e.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?0:e.compare(this,a)},e.prototype.indexOf=function(a,b){function c(a,b,c){for(var d=-1,e=0;c+e<a.length;e++)if(a[c+e]===b[-1===d?0:e-d]){if(-1===d&&(d=e),e-d+1===b.length)return c+d}else d=-1;return-1}if(b>2147483647?b=2147483647:-2147483648>b&&(b=-2147483648),b>>=0,0===this.length)return-1;if(b>=this.length)return-1;if(0>b&&(b=Math.max(this.length+b,0)),"string"==typeof a)return 0===a.length?-1:String.prototype.indexOf.call(this,a,b);if(e.isBuffer(a))return c(this,a,b);if("number"==typeof a)return e.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,a,b):c(this,[a],b);throw new TypeError("val must be string, number or Buffer")},e.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else if(isFinite(b))b=0|b,isFinite(c)?(c=0|c,void 0===d&&(d="utf8")):(d=c,c=void 0);else{var e=d;d=b,b=0|c,c=e}var f=this.length-b;if((void 0===c||c>f)&&(c=f),a.length>0&&(0>c||0>b)||b>this.length)throw new RangeError("attempt to write outside buffer bounds");d||(d="utf8");for(var g=!1;;)switch(d){case"hex":return t(this,a,b,c);case"utf8":case"utf-8":return u(this,a,b,c);case"ascii":return v(this,a,b,c);case"binary":return w(this,a,b,c);case"base64":return x(this,a,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y(this,a,b,c);default:if(g)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),g=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;e.prototype.slice=function(a,b){var c=this.length;a=~~a,b=void 0===b?c:~~b,0>a?(a+=c,0>a&&(a=0)):a>c&&(a=c),0>b?(b+=c,0>b&&(b=0)):b>c&&(b=c),a>b&&(b=a);var d;if(e.TYPED_ARRAY_SUPPORT)d=this.subarray(a,b),d.__proto__=e.prototype;else{var f=b-a;d=new e(f,void 0);for(var g=0;f>g;g++)d[g]=this[g+a]}return d.length&&(d.parent=this.parent||this),d},e.prototype.readUIntLE=function(a,b,c){a=0|a,b=0|b,c||G(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d},e.prototype.readUIntBE=function(a,b,c){a=0|a,b=0|b,c||G(a,b,this.length);for(var d=this[a+--b],e=1;b>0&&(e*=256);)d+=this[a+--b]*e;return d},e.prototype.readUInt8=function(a,b){return b||G(a,1,this.length),this[a]},e.prototype.readUInt16LE=function(a,b){return b||G(a,2,this.length),this[a]|this[a+1]<<8},e.prototype.readUInt16BE=function(a,b){return b||G(a,2,this.length),this[a]<<8|this[a+1]},e.prototype.readUInt32LE=function(a,b){return b||G(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},e.prototype.readUInt32BE=function(a,b){return b||G(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},e.prototype.readIntLE=function(a,b,c){a=0|a,b=0|b,c||G(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return e*=128,d>=e&&(d-=Math.pow(2,8*b)),d},e.prototype.readIntBE=function(a,b,c){a=0|a,b=0|b,c||G(a,b,this.length);for(var d=b,e=1,f=this[a+--d];d>0&&(e*=256);)f+=this[a+--d]*e;return e*=128,f>=e&&(f-=Math.pow(2,8*b)),f},e.prototype.readInt8=function(a,b){return b||G(a,1,this.length),128&this[a]?-1*(255-this[a]+1):this[a]},e.prototype.readInt16LE=function(a,b){b||G(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?4294901760|c:c},e.prototype.readInt16BE=function(a,b){b||G(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?4294901760|c:c},e.prototype.readInt32LE=function(a,b){return b||G(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},e.prototype.readInt32BE=function(a,b){return b||G(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},e.prototype.readFloatLE=function(a,b){return b||G(a,4,this.length),W.read(this,a,!0,23,4)},e.prototype.readFloatBE=function(a,b){return b||G(a,4,this.length),W.read(this,a,!1,23,4)},e.prototype.readDoubleLE=function(a,b){return b||G(a,8,this.length),W.read(this,a,!0,52,8)},e.prototype.readDoubleBE=function(a,b){return b||G(a,8,this.length),W.read(this,a,!1,52,8)},e.prototype.writeUIntLE=function(a,b,c,d){a=+a,b=0|b,c=0|c,d||H(this,a,b,c,Math.pow(2,8*c),0);var e=1,f=0;for(this[b]=255&a;++f<c&&(e*=256);)this[b+f]=a/e&255;return b+c},e.prototype.writeUIntBE=function(a,b,c,d){a=+a,b=0|b,c=0|c,d||H(this,a,b,c,Math.pow(2,8*c),0);var e=c-1,f=1;for(this[b+e]=255&a;--e>=0&&(f*=256);)this[b+e]=a/f&255;return b+c},e.prototype.writeUInt8=function(a,b,c){return a=+a,b=0|b,c||H(this,a,b,1,255,0),e.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),this[b]=255&a,b+1},e.prototype.writeUInt16LE=function(a,b,c){return a=+a,b=0|b,c||H(this,a,b,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):I(this,a,b,!0),b+2},e.prototype.writeUInt16BE=function(a,b,c){return a=+a,b=0|b,c||H(this,a,b,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):I(this,a,b,!1),b+2},e.prototype.writeUInt32LE=function(a,b,c){return a=+a,b=0|b,c||H(this,a,b,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a):J(this,a,b,!0),b+4},e.prototype.writeUInt32BE=function(a,b,c){return a=+a,b=0|b,c||H(this,a,b,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):J(this,a,b,!1),b+4},e.prototype.writeIntLE=function(a,b,c,d){if(a=+a,b=0|b,!d){var e=Math.pow(2,8*c-1);H(this,a,b,c,e-1,-e)}var f=0,g=1,h=0>a?1:0;for(this[b]=255&a;++f<c&&(g*=256);)this[b+f]=(a/g>>0)-h&255;return b+c},e.prototype.writeIntBE=function(a,b,c,d){if(a=+a,b=0|b,!d){var e=Math.pow(2,8*c-1);H(this,a,b,c,e-1,-e)}var f=c-1,g=1,h=0>a?1:0;for(this[b+f]=255&a;--f>=0&&(g*=256);)this[b+f]=(a/g>>0)-h&255;return b+c},e.prototype.writeInt8=function(a,b,c){return a=+a,b=0|b,
c||H(this,a,b,1,127,-128),e.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),0>a&&(a=255+a+1),this[b]=255&a,b+1},e.prototype.writeInt16LE=function(a,b,c){return a=+a,b=0|b,c||H(this,a,b,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):I(this,a,b,!0),b+2},e.prototype.writeInt16BE=function(a,b,c){return a=+a,b=0|b,c||H(this,a,b,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):I(this,a,b,!1),b+2},e.prototype.writeInt32LE=function(a,b,c){return a=+a,b=0|b,c||H(this,a,b,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):J(this,a,b,!0),b+4},e.prototype.writeInt32BE=function(a,b,c){return a=+a,b=0|b,c||H(this,a,b,4,2147483647,-2147483648),0>a&&(a=4294967295+a+1),e.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):J(this,a,b,!1),b+4},e.prototype.writeFloatLE=function(a,b,c){return L(this,a,b,!0,c)},e.prototype.writeFloatBE=function(a,b,c){return L(this,a,b,!1,c)},e.prototype.writeDoubleLE=function(a,b,c){return M(this,a,b,!0,c)},e.prototype.writeDoubleBE=function(a,b,c){return M(this,a,b,!1,c)},e.prototype.copy=function(a,b,c,d){if(c||(c=0),d||0===d||(d=this.length),b>=a.length&&(b=a.length),b||(b=0),d>0&&c>d&&(d=c),d===c)return 0;if(0===a.length||0===this.length)return 0;if(0>b)throw new RangeError("targetStart out of bounds");if(0>c||c>=this.length)throw new RangeError("sourceStart out of bounds");if(0>d)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);var f,g=d-c;if(this===a&&b>c&&d>b)for(f=g-1;f>=0;f--)a[f+b]=this[f+c];else if(1e3>g||!e.TYPED_ARRAY_SUPPORT)for(f=0;g>f;f++)a[f+b]=this[f+c];else Uint8Array.prototype.set.call(a,this.subarray(c,c+g),b);return g},e.prototype.fill=function(a,b,c){if(a||(a=0),b||(b=0),c||(c=this.length),b>c)throw new RangeError("end < start");if(c!==b&&0!==this.length){if(0>b||b>=this.length)throw new RangeError("start out of bounds");if(0>c||c>this.length)throw new RangeError("end out of bounds");var d;if("number"==typeof a)for(d=b;c>d;d++)this[d]=a;else{var e=Q(a.toString()),f=e.length;for(d=b;c>d;d++)this[d]=e[d%f]}return this}};var $=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":51,ieee754:52,isarray:53}],51:[function(require,a,b){!function(a){"use strict";function b(a){var b=a.charCodeAt(0);return b===g||b===l?62:b===h||b===m?63:i>b?-1:i+10>b?b-i+26+26:k+26>b?b-k:j+26>b?b-j+26:void 0}function c(a){function c(a){j[l++]=a}var d,e,g,h,i,j;if(a.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=a.length;i="="===a.charAt(k-2)?2:"="===a.charAt(k-1)?1:0,j=new f(3*a.length/4-i),g=i>0?a.length-4:a.length;var l=0;for(d=0,e=0;g>d;d+=4,e+=3)h=b(a.charAt(d))<<18|b(a.charAt(d+1))<<12|b(a.charAt(d+2))<<6|b(a.charAt(d+3)),c((16711680&h)>>16),c((65280&h)>>8),c(255&h);return 2===i?(h=b(a.charAt(d))<<2|b(a.charAt(d+1))>>4,c(255&h)):1===i&&(h=b(a.charAt(d))<<10|b(a.charAt(d+1))<<4|b(a.charAt(d+2))>>2,c(h>>8&255),c(255&h)),j}function d(a){function b(a){return e.charAt(a)}function c(a){return b(a>>18&63)+b(a>>12&63)+b(a>>6&63)+b(63&a)}var d,f,g,h=a.length%3,i="";for(d=0,g=a.length-h;g>d;d+=3)f=(a[d]<<16)+(a[d+1]<<8)+a[d+2],i+=c(f);switch(h){case 1:f=a[a.length-1],i+=b(f>>2),i+=b(f<<4&63),i+="==";break;case 2:f=(a[a.length-2]<<8)+a[a.length-1],i+=b(f>>10),i+=b(f>>4&63),i+=b(f<<2&63),i+="="}return i}var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f="undefined"!=typeof Uint8Array?Uint8Array:Array,g="+".charCodeAt(0),h="/".charCodeAt(0),i="0".charCodeAt(0),j="a".charCodeAt(0),k="A".charCodeAt(0),l="-".charCodeAt(0),m="_".charCodeAt(0);a.toByteArray=c,a.fromByteArray=d}("undefined"==typeof b?this.base64js={}:b)},{}],52:[function(require,a,b){b.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:(n?-1:1)*(1/0);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},b.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=0>b||0===b&&0>1/b?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],53:[function(require,a,b){var c={}.toString;a.exports=Array.isArray||function(a){return"[object Array]"==c.call(a)}},{}],54:[function(require,a,b){function c(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function d(a){return"function"==typeof a}function e(a){return"number"==typeof a}function f(a){return"object"==typeof a&&null!==a}function g(a){return void 0===a}a.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0,c.defaultMaxListeners=10,c.prototype.setMaxListeners=function(a){if(!e(a)||0>a||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},c.prototype.emit=function(a){var b,c,e,h,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||f(this._events.error)&&!this._events.error.length)){if(b=arguments[1],b instanceof Error)throw b;throw TypeError('Uncaught, unspecified "error" event.')}if(c=this._events[a],g(c))return!1;if(d(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:h=Array.prototype.slice.call(arguments,1),c.apply(this,h)}else if(f(c))for(h=Array.prototype.slice.call(arguments,1),j=c.slice(),e=j.length,i=0;e>i;i++)j[i].apply(this,h);return!0},c.prototype.addListener=function(a,b){var e;if(!d(b))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,d(b.listener)?b.listener:b),this._events[a]?f(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,f(this._events[a])&&!this._events[a].warned&&(e=g(this._maxListeners)?c.defaultMaxListeners:this._maxListeners,e&&e>0&&this._events[a].length>e&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())),this},c.prototype.on=c.prototype.addListener,c.prototype.once=function(a,b){function c(){this.removeListener(a,c),e||(e=!0,b.apply(this,arguments))}if(!d(b))throw TypeError("listener must be a function");var e=!1;return c.listener=b,this.on(a,c),this},c.prototype.removeListener=function(a,b){var c,e,g,h;if(!d(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],g=c.length,e=-1,c===b||d(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(f(c)){for(h=g;h-- >0;)if(c[h]===b||c[h].listener&&c[h].listener===b){e=h;break}if(0>e)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(e,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},c.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],d(c))this.removeListener(a,c);else if(c)for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},c.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?d(this._events[a])?[this._events[a]]:this._events[a].slice():[]},c.prototype.listenerCount=function(a){if(this._events){var b=this._events[a];if(d(b))return 1;if(b)return b.length}return 0},c.listenerCount=function(a,b){return a.listenerCount(b)}},{}],55:[function(require,a,b){function c(){j=!1,g.length?i=g.concat(i):k=-1,i.length&&d()}function d(){if(!j){var a=setTimeout(c);j=!0;for(var b=i.length;b;){for(g=i,i=[];++k<b;)g&&g[k].run();k=-1,b=i.length}g=null,j=!1,clearTimeout(a)}}function e(a,b){this.fun=a,this.array=b}function f(){}var g,h=a.exports={},i=[],j=!1,k=-1;h.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];i.push(new e(a,b)),1!==i.length||j||setTimeout(d,0)},e.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=f,h.addListener=f,h.once=f,h.off=f,h.removeListener=f,h.removeAllListeners=f,h.emit=f,h.binding=function(a){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(a){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],56:[function(require,a,b){a.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],cool:[{index:0,rgb:[0,255,255]},{index:1,rgb:[255,0,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:0,rgb:[255,255,255,1]}]}},{}],57:[function(require,a,b){"use strict";function c(a){for(var b,c="#",d=0;3>d;++d)b=a[d],b=b.toString(16),c+=("00"+b).substr(b.length);return c}function d(a){return"rgba("+a.join(",")+")"}var e=require("arraytools"),f=require("clone"),g=require("./colorScales");a.exports=function(a){var b,h,i,j,k,l,m,n,o,p,q,r,s,t=[],u=[],v=[],w=[];if(e.isPlainObject(a)||(a={}),o=a.nshades||72,n=a.format||"hex",m=a.colormap,m||(m="jet"),"string"==typeof m){if(m=m.toLowerCase(),!g[m])throw Error(m+" not a supported colorscale");l=f(g[m])}else{if(!Array.isArray(m))throw Error("unsupported colormap option",m);l=f(m)}if(l.length>o)throw new Error(m+" map requires nshades to be at least size "+l.length);for(q=Array.isArray(a.alpha)?2!==a.alpha.length?[1,1]:f(a.alpha):"number"==typeof a.alpha?[a.alpha,a.alpha]:[1,1],b=l.map(function(a){return Math.round(a.index*o)}),q[0]<0&&(q[0]=0),q[1]<0&&(q[0]=0),q[0]>1&&(q[0]=1),q[1]>1&&(q[0]=1),s=0;s<b.length;++s)r=l[s].index,h=l[s].rgb,4===h.length&&h[3]>=0&&h[3]<=1||(h[3]=q[0]+(q[1]-q[0])*r);for(s=0;s<b.length-1;++s)k=b[s+1]-b[s],i=l[s].rgb,j=l[s+1].rgb,t=t.concat(e.linspace(i[0],j[0],k)),u=u.concat(e.linspace(i[1],j[1],k)),v=v.concat(e.linspace(i[2],j[2],k)),w=w.concat(e.linspace(i[3],j[3],k));return t=t.map(Math.round),u=u.map(Math.round),v=v.map(Math.round),p=e.zip(t,u,v,w),"hex"===n&&(p=p.map(c)),"rgbaString"===n&&(p=p.map(d)),p}},{"./colorScales":56,arraytools:48,clone:58}],58:[function(require,a,b){(function(b){var c=function(){"use strict";function a(c,d,e,f){function h(c,e){if(null===c)return null;if(0==e)return c;var i,m;if("object"!=typeof c)return c;if(a.__isArray(c))i=[];else if(a.__isRegExp(c))i=new RegExp(c.source,g(c)),c.lastIndex&&(i.lastIndex=c.lastIndex);else if(a.__isDate(c))i=new Date(c.getTime());else{if(l&&b.isBuffer(c))return i=new b(c.length),c.copy(i),i;"undefined"==typeof f?(m=Object.getPrototypeOf(c),i=Object.create(m)):(i=Object.create(f),m=f)}if(d){var n=j.indexOf(c);if(-1!=n)return k[n];j.push(c),k.push(i)}for(var o in c){var p;m&&(p=Object.getOwnPropertyDescriptor(m,o)),p&&null==p.set||(i[o]=h(c[o],e-1))}return i}var i;"object"==typeof d&&(e=d.depth,f=d.prototype,i=d.filter,d=d.circular);var j=[],k=[],l="undefined"!=typeof b;return"undefined"==typeof d&&(d=!0),"undefined"==typeof e&&(e=1/0),h(c,e)}function c(a){return Object.prototype.toString.call(a)}function d(a){return"object"==typeof a&&"[object Date]"===c(a)}function e(a){return"object"==typeof a&&"[object Array]"===c(a)}function f(a){return"object"==typeof a&&"[object RegExp]"===c(a)}function g(a){var b="";return a.global&&(b+="g"),a.ignoreCase&&(b+="i"),a.multiline&&(b+="m"),b}return a.clonePrototype=function(a){if(null===a)return null;var b=function(){};return b.prototype=a,new b},a.__objToStr=c,a.__isDate=d,a.__isArray=e,a.__isRegExp=f,a.__getRegExpFlags=g,a}();"object"==typeof a&&a.exports&&(a.exports=c)}).call(this,require("buffer").Buffer)},{buffer:50}],59:[function(require,a,b){function c(a,b){return a-b}function d(a,b){var d=a.length,f=a.length-b.length;if(f)return f;switch(d){case 0:return 0;case 1:return a[0]-b[0];case 2:return a[0]+a[1]-b[0]-b[1]||e(a[0],a[1])-e(b[0],b[1]);case 3:var g=a[0]+a[1],h=b[0]+b[1];if(f=g+a[2]-(h+b[2]))return f;var i=e(a[0],a[1]),j=e(b[0],b[1]);return e(i,a[2])-e(j,b[2])||e(i+a[2],g)-e(j+b[2],h);case 4:var k=a[0],l=a[1],m=a[2],n=a[3],o=b[0],p=b[1],q=b[2],r=b[3];return k+l+m+n-(o+p+q+r)||e(k,l,m,n)-e(o,p,q,r,o)||e(k+l,k+m,k+n,l+m,l+n,m+n)-e(o+p,o+q,o+r,p+q,p+r,q+r)||e(k+l+m,k+l+n,k+m+n,l+m+n)-e(o+p+q,o+p+r,o+q+r,p+q+r);default:for(var s=a.slice().sort(c),t=b.slice().sort(c),u=0;d>u;++u)if(f=s[u]-t[u])return f;return 0}}a.exports=d;var e=Math.min},{}],60:[function(require,a,b){"use strict";function c(a){var b=a.length;if(0===b)return[];if(1===b)return[[0]];var c=a[0].length;return 0===c?[]:1===c?d(a):2===c?e(a):f(a,c)}var d=require("./lib/ch1d"),e=require("./lib/ch2d"),f=require("./lib/chnd");a.exports=c},{"./lib/ch1d":61,"./lib/ch2d":62,"./lib/chnd":63}],61:[function(require,a,b){"use strict";function c(a){for(var b=0,c=0,d=1;d<a.length;++d)a[d][0]<a[b][0]&&(b=d),a[d][0]>a[c][0]&&(c=d);return c>b?[[b],[c]]:b>c?[[c],[b]]:[[b]]}a.exports=c},{}],62:[function(require,a,b){"use strict";function c(a){var b=d(a),c=b.length;if(2>=c)return[];for(var e=new Array(c),f=b[c-1],g=0;c>g;++g){var h=b[g];e[g]=[f,h],f=h}return e}a.exports=c;var d=require("monotone-convex-hull-2d")},{"monotone-convex-hull-2d":65}],63:[function(require,a,b){"use strict";function c(a,b){for(var c=a.length,d=new Array(c),e=0;e<b.length;++e)d[e]=a[b[e]];for(var f=b.length,e=0;c>e;++e)b.indexOf(e)<0&&(d[f++]=a[e]);return d}function d(a,b){for(var c=a.length,d=b.length,e=0;c>e;++e)for(var f=a[e],g=0;g<f.length;++g){var h=f[g];if(d>h)f[g]=b[h];else{h-=d;for(var i=0;d>i;++i)h>=b[i]&&(h+=1);f[g]=h}}return a}function e(a,b){try{return f(a,!0)}catch(e){var h=g(a);if(h.length<=b)return[];var i=c(a,h),j=f(i,!0);return d(j,h)}}a.exports=e;var f=require("incremental-convex-hull"),g=require("affine-hull")},{"affine-hull":64,"incremental-convex-hull":191}],64:[function(require,a,b){"use strict";function c(a,b){for(var c=new Array(b+1),d=0;d<a.length;++d)c[d]=a[d];for(var d=0;d<=a.length;++d){for(var f=a.length;b>=f;++f){for(var g=new Array(b),h=0;b>h;++h)g[h]=Math.pow(f+1-d,h);c[f]=g}var i=e.apply(void 0,c);if(i)return!0}return!1}function d(a){var b=a.length;if(0===b)return[];if(1===b)return[0];for(var d=a[0].length,e=[a[0]],f=[0],g=1;b>g;++g)if(e.push(a[g]),c(e,d)){if(f.push(g),f.length===d+1)return f}else e.pop();return f}a.exports=d;var e=require("robust-orientation")},{"robust-orientation":214}],65:[function(require,a,b){"use strict";function c(a){var b=a.length;if(3>b){for(var c=new Array(b),e=0;b>e;++e)c[e]=e;return 2===b&&a[0][0]===a[1][0]&&a[0][1]===a[1][1]?[0]:c}for(var f=new Array(b),e=0;b>e;++e)f[e]=e;f.sort(function(b,c){var d=a[b][0]-a[c][0];return d?d:a[b][1]-a[c][1]});for(var g=[f[0],f[1]],h=[f[0],f[1]],e=2;b>e;++e){for(var i=f[e],j=a[i],k=g.length;k>1&&d(a[g[k-2]],a[g[k-1]],j)<=0;)k-=1,g.pop();for(g.push(i),k=h.length;k>1&&d(a[h[k-2]],a[h[k-1]],j)>=0;)k-=1,h.pop();h.push(i)}for(var c=new Array(h.length+g.length-2),l=0,e=0,m=g.length;m>e;++e)c[l++]=g[e];for(var n=h.length-2;n>0;--n)c[l++]=h[n];return c}a.exports=c;var d=require("robust-orientation")[3]},{"robust-orientation":214}],66:[function(require,a,b){"use strict";function c(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function d(a){var b=new c;b.pre=a.pre,b.body=a.body,b.post=a.post;var d=a.args.slice(0);b.argTypes=d;for(var f=0;f<d.length;++f){var g=d[f];if("array"===g||"object"==typeof g&&g.blockIndices){if(b.argTypes[f]="array",b.arrayArgs.push(f),b.arrayBlockIndices.push(g.blockIndices?g.blockIndices:0),b.shimArgs.push("array"+f),f<b.pre.args.length&&b.pre.args[f].count>0)throw new Error("cwise: pre() block may not reference array args");if(f<b.post.args.length&&b.post.args[f].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===g)b.scalarArgs.push(f),b.shimArgs.push("scalar"+f);else if("index"===g){if(b.indexArgs.push(f),f<b.pre.args.length&&b.pre.args[f].count>0)throw new Error("cwise: pre() block may not reference array index");if(f<b.body.args.length&&b.body.args[f].lvalue)throw new Error("cwise: body() block may not write to array index");if(f<b.post.args.length&&b.post.args[f].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===g){if(b.shapeArgs.push(f),f<b.pre.args.length&&b.pre.args[f].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(f<b.body.args.length&&b.body.args[f].lvalue)throw new Error("cwise: body() block may not write to array shape");if(f<b.post.args.length&&b.post.args[f].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof g||!g.offset)throw new Error("cwise: Unknown argument type "+d[f]);b.argTypes[f]="offset",b.offsetArgs.push({array:g.array,offset:g.offset}),b.offsetArgIndex.push(f)}}if(b.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(b.pre.args.length>d.length)throw new Error("cwise: Too many arguments in pre() block");if(b.body.args.length>d.length)throw new Error("cwise: Too many arguments in body() block");if(b.post.args.length>d.length)throw new Error("cwise: Too many arguments in post() block");return b.debug=!!a.printCode||!!a.debug,b.funcName=a.funcName||"cwise",b.blockSize=a.blockSize||64,e(b)}var e=require("./lib/thunk.js");a.exports=d},{"./lib/thunk.js":68}],67:[function(require,a,b){"use strict";function c(a,b,c){var d,e,f=a.length,g=b.arrayArgs.length,h=b.indexArgs.length>0,i=[],j=[],k=0,l=0;for(d=0;f>d;++d)j.push(["i",d,"=0"].join(""));for(e=0;g>e;++e)for(d=0;f>d;++d)l=k,k=a[d],0===d?j.push(["d",e,"s",d,"=t",e,"p",k].join("")):j.push(["d",e,"s",d,"=(t",e,"p",k,"-s",l,"*t",e,"p",l,")"].join(""));for(i.push("var "+j.join(",")),d=f-1;d>=0;--d)k=a[d],i.push(["for(i",d,"=0;i",d,"<s",k,";++i",d,"){"].join(""));for(i.push(c),d=0;f>d;++d){for(l=k,k=a[d],e=0;g>e;++e)i.push(["p",e,"+=d",e,"s",d].join(""));h&&(d>0&&i.push(["index[",l,"]-=s",l].join("")),i.push(["++index[",k,"]"].join(""))),i.push("}")}return i.join("\n")}function d(a,b,d,e){for(var f=b.length,g=d.arrayArgs.length,h=d.blockSize,i=d.indexArgs.length>0,j=[],k=0;g>k;++k)j.push(["var offset",k,"=p",k].join(""));for(var k=a;f>k;++k)j.push(["for(var j"+k+"=SS[",b[k],"]|0;j",k,">0;){"].join("")),j.push(["if(j",k,"<",h,"){"].join("")),j.push(["s",b[k],"=j",k].join("")),j.push(["j",k,"=0"].join("")),j.push(["}else{s",b[k],"=",h].join("")),j.push(["j",k,"-=",h,"}"].join("")),i&&j.push(["index[",b[k],"]=j",k].join(""));for(var k=0;g>k;++k){for(var l=["offset"+k],m=a;f>m;++m)l.push(["j",m,"*t",k,"p",b[m]].join(""));j.push(["p",k,"=(",l.join("+"),")"].join(""))}j.push(c(b,d,e));for(var k=a;f>k;++k)j.push("}");return j.join("\n")}function e(a){for(var b=0,c=a[0].length;c>b;){for(var d=1;d<a.length;++d)if(a[d][b]!==a[0][b])return b;++b}return b}function f(a,b,c){for(var d=a.body,e=[],f=[],g=0;g<a.args.length;++g){var h=a.args[g];if(!(h.count<=0)){var i=new RegExp(h.name,"g"),j="",k=b.arrayArgs.indexOf(g);switch(b.argTypes[g]){case"offset":var l=b.offsetArgIndex.indexOf(g),m=b.offsetArgs[l];k=m.array,j="+q"+l;case"array":j="p"+k+j;var n="l"+g,o="a"+k;if(0===b.arrayBlockIndices[k])1===h.count?"generic"===c[k]?h.lvalue?(e.push(["var ",n,"=",o,".get(",j,")"].join("")),d=d.replace(i,n),f.push([o,".set(",j,",",n,")"].join(""))):d=d.replace(i,[o,".get(",j,")"].join("")):d=d.replace(i,[o,"[",j,"]"].join("")):"generic"===c[k]?(e.push(["var ",n,"=",o,".get(",j,")"].join("")),d=d.replace(i,n),h.lvalue&&f.push([o,".set(",j,",",n,")"].join(""))):(e.push(["var ",n,"=",o,"[",j,"]"].join("")),d=d.replace(i,n),h.lvalue&&f.push([o,"[",j,"]=",n].join("")));else{for(var p=[h.name],q=[j],r=0;r<Math.abs(b.arrayBlockIndices[k]);r++)p.push("\\s*\\[([^\\]]+)\\]"),q.push("$"+(r+1)+"*t"+k+"b"+r);if(i=new RegExp(p.join(""),"g"),j=q.join("+"),"generic"===c[k])throw new Error("cwise: Generic arrays not supported in combination with blocks!");d=d.replace(i,[o,"[",j,"]"].join(""))}break;case"scalar":d=d.replace(i,"Y"+b.scalarArgs.indexOf(g));break;case"index":d=d.replace(i,"index");break;case"shape":d=d.replace(i,"shape")}}}return[e.join("\n"),d,f.join("\n")].join("\n").trim()}function g(a){for(var b=new Array(a.length),c=!0,d=0;d<a.length;++d){var e=a[d],f=e.match(/\d+/);f=f?f[0]:"",0===e.charAt(0)?b[d]="u"+e.charAt(1)+f:b[d]=e.charAt(0)+f,d>0&&(c=c&&b[d]===b[d-1])}return c?b[0]:b.join("")}function h(a,b){for(var h=b[1].length-Math.abs(a.arrayBlockIndices[0])|0,j=new Array(a.arrayArgs.length),k=new Array(a.arrayArgs.length),l=0;l<a.arrayArgs.length;++l)k[l]=b[2*l],j[l]=b[2*l+1];for(var m=[],n=[],o=[],p=[],q=[],l=0;l<a.arrayArgs.length;++l){a.arrayBlockIndices[l]<0?(o.push(0),p.push(h),m.push(h),n.push(h+a.arrayBlockIndices[l])):(o.push(a.arrayBlockIndices[l]),p.push(a.arrayBlockIndices[l]+h),m.push(0),n.push(a.arrayBlockIndices[l]));for(var r=[],s=0;s<j[l].length;s++)o[l]<=j[l][s]&&j[l][s]<p[l]&&r.push(j[l][s]-o[l]);q.push(r)}for(var t=["SS"],u=["'use strict'"],v=[],s=0;h>s;++s)v.push(["s",s,"=SS[",s,"]"].join(""));for(var l=0;l<a.arrayArgs.length;++l){t.push("a"+l),t.push("t"+l),t.push("p"+l);for(var s=0;h>s;++s)v.push(["t",l,"p",s,"=t",l,"[",o[l]+s,"]"].join(""));for(var s=0;s<Math.abs(a.arrayBlockIndices[l]);++s)v.push(["t",l,"b",s,"=t",l,"[",m[l]+s,"]"].join(""))}for(var l=0;l<a.scalarArgs.length;++l)t.push("Y"+l);if(a.shapeArgs.length>0&&v.push("shape=SS.slice(0)"),a.indexArgs.length>0){for(var w=new Array(h),l=0;h>l;++l)w[l]="0";v.push(["index=[",w.join(","),"]"].join(""))}for(var l=0;l<a.offsetArgs.length;++l){for(var x=a.offsetArgs[l],y=[],s=0;s<x.offset.length;++s)0!==x.offset[s]&&(1===x.offset[s]?y.push(["t",x.array,"p",s].join("")):y.push([x.offset[s],"*t",x.array,"p",s].join("")));0===y.length?v.push("q"+l+"=0"):v.push(["q",l,"=",y.join("+")].join(""))}var z=i([].concat(a.pre.thisVars).concat(a.body.thisVars).concat(a.post.thisVars));v=v.concat(z),u.push("var "+v.join(","));for(var l=0;l<a.arrayArgs.length;++l)u.push("p"+l+"|=0");a.pre.body.length>3&&u.push(f(a.pre,a,k));var A=f(a.body,a,k),B=e(q);h>B?u.push(d(B,q[0],a,A)):u.push(c(q[0],a,A)),a.post.body.length>3&&u.push(f(a.post,a,k)),a.debug&&console.log("-----Generated cwise routine for ",b,":\n"+u.join("\n")+"\n----------");var C=[a.funcName||"unnamed","_cwise_loop_",j[0].join("s"),"m",B,g(k)].join(""),D=new Function(["function ",C,"(",t.join(","),"){",u.join("\n"),"} return ",C].join(""));return D()}var i=require("uniq");a.exports=h},{uniq:234}],68:[function(require,a,b){"use strict";function c(a){var b=["'use strict'","var CACHED={}"],c=[],e=a.funcName+"_cwise_thunk";b.push(["return function ",e,"(",a.shimArgs.join(","),"){"].join(""));for(var f=[],g=[],h=[["array",a.arrayArgs[0],".shape.slice(",Math.max(0,a.arrayBlockIndices[0]),a.arrayBlockIndices[0]<0?","+a.arrayBlockIndices[0]+")":")"].join("")],i=[],j=[],k=0;k<a.arrayArgs.length;++k){var l=a.arrayArgs[k];c.push(["t",l,"=array",l,".dtype,","r",l,"=array",l,".order"].join("")),f.push("t"+l),f.push("r"+l),g.push("t"+l),g.push("r"+l+".join()"),h.push("array"+l+".data"),h.push("array"+l+".stride"),h.push("array"+l+".offset|0"),k>0&&(i.push("array"+a.arrayArgs[0]+".shape.length===array"+l+".shape.length+"+(Math.abs(a.arrayBlockIndices[0])-Math.abs(a.arrayBlockIndices[k]))),j.push("array"+a.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,a.arrayBlockIndices[0])+"]===array"+l+".shape[shapeIndex+"+Math.max(0,a.arrayBlockIndices[k])+"]"))}a.arrayArgs.length>1&&(b.push("if (!("+i.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),b.push("for(var shapeIndex=array"+a.arrayArgs[0]+".shape.length-"+Math.abs(a.arrayBlockIndices[0])+"; shapeIndex-->0;) {"),b.push("if (!("+j.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),b.push("}"));for(var k=0;k<a.scalarArgs.length;++k)h.push("scalar"+a.scalarArgs[k]);c.push(["type=[",g.join(","),"].join()"].join("")),c.push("proc=CACHED[type]"),b.push("var "+c.join(",")),b.push(["if(!proc){","CACHED[type]=proc=compile([",f.join(","),"])}","return proc(",h.join(","),")}"].join("")),a.debug&&console.log("-----Generated thunk:\n"+b.join("\n")+"\n----------");var m=new Function("compile",b.join("\n"));return m(d.bind(void 0,a))}var d=require("./compile.js");a.exports=c},{"./compile.js":67}],69:[function(require,a,b){a.exports=require("cwise-compiler")},{"cwise-compiler":66}],70:[function(require,b,c){!function(){function c(a){return a&&(a.ownerDocument||a.document||a).documentElement}function d(a){return a&&(a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView)}function e(a,b){return b>a?-1:a>b?1:a>=b?0:NaN}function f(a){return null===a?NaN:+a}function g(a){return!isNaN(a)}function h(a){return{left:function(b,c,d,e){for(arguments.length<3&&(d=0),arguments.length<4&&(e=b.length);e>d;){var f=d+e>>>1;a(b[f],c)<0?d=f+1:e=f}return d},right:function(b,c,d,e){for(arguments.length<3&&(d=0),arguments.length<4&&(e=b.length);e>d;){var f=d+e>>>1;a(b[f],c)>0?e=f:d=f+1}return d}}}function i(a){return a.length}function j(a){for(var b=1;a*b%1;)b*=10;return b}function k(a,b){for(var c in b)Object.defineProperty(a.prototype,c,{value:b[c],enumerable:!1})}function l(){this._=Object.create(null)}function m(a){return(a+="")===wg||a[0]===xg?xg+a:a}function n(a){return(a+="")[0]===xg?a.slice(1):a}function o(a){return m(a)in this._}function p(a){return(a=m(a))in this._&&delete this._[a]}function q(){var a=[];for(var b in this._)a.push(n(b));return a}function r(){var a=0;for(var b in this._)++a;return a}function s(){for(var a in this._)return!1;return!0}function t(){this._=Object.create(null)}function u(a){return a}function v(a,b,c){return function(){var d=c.apply(b,arguments);return d===b?a:d}}function w(a,b){if(b in a)return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(var c=0,d=yg.length;d>c;++c){var e=yg[c]+b;if(e in a)return e}}function x(){}function y(){}function z(a){function b(){for(var b,d=c,e=-1,f=d.length;++e<f;)(b=d[e].on)&&b.apply(this,arguments);return a}var c=[],d=new l;return b.on=function(b,e){var f,g=d.get(b);return arguments.length<2?g&&g.on:(g&&(g.on=null,c=c.slice(0,f=c.indexOf(g)).concat(c.slice(f+1)),d.remove(b)),e&&c.push(d.set(b,{on:e})),a)},b}function A(){jg.event.preventDefault()}function B(){for(var a,b=jg.event;a=b.sourceEvent;)b=a;return b}function C(a){for(var b=new y,c=0,d=arguments.length;++c<d;)b[arguments[c]]=z(b);return b.of=function(c,d){return function(e){try{var f=e.sourceEvent=jg.event;e.target=a,jg.event=e,b[e.type].apply(c,d)}finally{jg.event=f}}},b}function D(a){return Ag(a,Eg),a}function E(a){return"function"==typeof a?a:function(){return Bg(a,this)}}function F(a){return"function"==typeof a?a:function(){return Cg(a,this)}}function G(a,b){function c(){this.removeAttribute(a)}function d(){this.removeAttributeNS(a.space,a.local)}function e(){this.setAttribute(a,b)}function f(){this.setAttributeNS(a.space,a.local,b)}function g(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}function h(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}return a=jg.ns.qualify(a),null==b?a.local?d:c:"function"==typeof b?a.local?h:g:a.local?f:e}function H(a){return a.trim().replace(/\s+/g," ")}function I(a){return new RegExp("(?:^|\\s+)"+jg.requote(a)+"(?:\\s+|$)","g")}function J(a){return(a+"").trim().split(/^|\s+/)}function K(a,b){function c(){for(var c=-1;++c<e;)a[c](this,b)}function d(){for(var c=-1,d=b.apply(this,arguments);++c<e;)a[c](this,d)}a=J(a).map(L);var e=a.length;return"function"==typeof b?d:c}function L(a){var b=I(a);return function(c,d){if(e=c.classList)return d?e.add(a):e.remove(a);var e=c.getAttribute("class")||"";d?(b.lastIndex=0,b.test(e)||c.setAttribute("class",H(e+" "+a))):c.setAttribute("class",H(e.replace(b," ")))}}function M(a,b,c){
function d(){this.style.removeProperty(a)}function e(){this.style.setProperty(a,b,c)}function f(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}return null==b?d:"function"==typeof b?f:e}function N(a,b){function c(){delete this[a]}function d(){this[a]=b}function e(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}return null==b?c:"function"==typeof b?e:d}function O(a){function b(){var b=this.ownerDocument,c=this.namespaceURI;return c?b.createElementNS(c,a):b.createElement(a)}function c(){return this.ownerDocument.createElementNS(a.space,a.local)}return"function"==typeof a?a:(a=jg.ns.qualify(a)).local?c:b}function P(){var a=this.parentNode;a&&a.removeChild(this)}function Q(a){return{__data__:a}}function R(a){return function(){return Dg(this,a)}}function S(a){return arguments.length||(a=e),function(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}}function T(a,b){for(var c=0,d=a.length;d>c;c++)for(var e,f=a[c],g=0,h=f.length;h>g;g++)(e=f[g])&&b(e,g,c);return a}function U(a){return Ag(a,Gg),a}function V(a){var b,c;return function(d,e,f){var g,h=a[f].update,i=h.length;for(f!=c&&(c=f,b=0),e>=b&&(b=e+1);!(g=h[b])&&++b<i;);return g}}function W(a,b,c){function d(){var b=this[g];b&&(this.removeEventListener(a,b,b.$),delete this[g])}function e(){var e=i(b,lg(arguments));d.call(this),this.addEventListener(a,this[g]=e,e.$=c),e._=b}function f(){var b,c=new RegExp("^__on([^.]+)"+jg.requote(a)+"$");for(var d in this)if(b=d.match(c)){var e=this[d];this.removeEventListener(b[1],e,e.$),delete this[d]}}var g="__on"+a,h=a.indexOf("."),i=X;h>0&&(a=a.slice(0,h));var j=Hg.get(a);return j&&(a=j,i=Y),h?b?e:d:b?x:f}function X(a,b){return function(c){var d=jg.event;jg.event=c,b[0]=this.__data__;try{a.apply(this,b)}finally{jg.event=d}}}function Y(a,b){var c=X(a,b);return function(a){var b=this,d=a.relatedTarget;d&&(d===b||8&d.compareDocumentPosition(b))||c.call(b,a)}}function Z(a){var b=".dragsuppress-"+ ++Jg,e="click"+b,f=jg.select(d(a)).on("touchmove"+b,A).on("dragstart"+b,A).on("selectstart"+b,A);if(null==Ig&&(Ig="onselectstart"in a?!1:w(a.style,"userSelect")),Ig){var g=c(a).style,h=g[Ig];g[Ig]="none"}return function(a){if(f.on(b,null),Ig&&(g[Ig]=h),a){var c=function(){f.on(e,null)};f.on(e,function(){A(),c()},!0),setTimeout(c,0)}}}function $(a,b){b.changedTouches&&(b=b.changedTouches[0]);var c=a.ownerSVGElement||a;if(c.createSVGPoint){var e=c.createSVGPoint();if(0>Kg){var f=d(a);if(f.scrollX||f.scrollY){c=jg.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var g=c[0][0].getScreenCTM();Kg=!(g.f||g.e),c.remove()}}return Kg?(e.x=b.pageX,e.y=b.pageY):(e.x=b.clientX,e.y=b.clientY),e=e.matrixTransform(a.getScreenCTM().inverse()),[e.x,e.y]}var h=a.getBoundingClientRect();return[b.clientX-h.left-a.clientLeft,b.clientY-h.top-a.clientTop]}function _(){return jg.event.changedTouches[0].identifier}function aa(a){return a>0?1:0>a?-1:0}function ba(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function ca(a){return a>1?0:-1>a?Ng:Math.acos(a)}function da(a){return a>1?Qg:-1>a?-Qg:Math.asin(a)}function ea(a){return((a=Math.exp(a))-1/a)/2}function fa(a){return((a=Math.exp(a))+1/a)/2}function ga(a){return((a=Math.exp(2*a))-1)/(a+1)}function ha(a){return(a=Math.sin(a/2))*a}function ia(){}function ja(a,b,c){return this instanceof ja?(this.h=+a,this.s=+b,void(this.l=+c)):arguments.length<2?a instanceof ja?new ja(a.h,a.s,a.l):xa(""+a,ya,ja):new ja(a,b,c)}function ka(a,b,c){function d(a){return a>360?a-=360:0>a&&(a+=360),60>a?f+(g-f)*a/60:180>a?g:240>a?f+(g-f)*(240-a)/60:f}function e(a){return Math.round(255*d(a))}var f,g;return a=isNaN(a)?0:(a%=360)<0?a+360:a,b=isNaN(b)?0:0>b?0:b>1?1:b,c=0>c?0:c>1?1:c,g=.5>=c?c*(1+b):c+b-c*b,f=2*c-g,new ta(e(a+120),e(a),e(a-120))}function la(a,b,c){return this instanceof la?(this.h=+a,this.c=+b,void(this.l=+c)):arguments.length<2?a instanceof la?new la(a.h,a.c,a.l):a instanceof na?pa(a.l,a.a,a.b):pa((a=za((a=jg.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new la(a,b,c)}function ma(a,b,c){return isNaN(a)&&(a=0),isNaN(b)&&(b=0),new na(c,Math.cos(a*=Rg)*b,Math.sin(a)*b)}function na(a,b,c){return this instanceof na?(this.l=+a,this.a=+b,void(this.b=+c)):arguments.length<2?a instanceof na?new na(a.l,a.a,a.b):a instanceof la?ma(a.h,a.c,a.l):za((a=ta(a)).r,a.g,a.b):new na(a,b,c)}function oa(a,b,c){var d=(a+16)/116,e=d+b/500,f=d-c/200;return e=qa(e)*ah,d=qa(d)*bh,f=qa(f)*ch,new ta(sa(3.2404542*e-1.5371385*d-.4985314*f),sa(-.969266*e+1.8760108*d+.041556*f),sa(.0556434*e-.2040259*d+1.0572252*f))}function pa(a,b,c){return a>0?new la(Math.atan2(c,b)*Sg,Math.sqrt(b*b+c*c),a):new la(NaN,NaN,a)}function qa(a){return a>.206893034?a*a*a:(a-4/29)/7.787037}function ra(a){return a>.008856?Math.pow(a,1/3):7.787037*a+4/29}function sa(a){return Math.round(255*(.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055))}function ta(a,b,c){return this instanceof ta?(this.r=~~a,this.g=~~b,void(this.b=~~c)):arguments.length<2?a instanceof ta?new ta(a.r,a.g,a.b):xa(""+a,ta,ka):new ta(a,b,c)}function ua(a){return new ta(a>>16,a>>8&255,255&a)}function va(a){return ua(a)+""}function wa(a){return 16>a?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function xa(a,b,c){var d,e,f,g=0,h=0,i=0;if(d=/([a-z]+)\((.*)\)/.exec(a=a.toLowerCase()))switch(e=d[2].split(","),d[1]){case"hsl":return c(parseFloat(e[0]),parseFloat(e[1])/100,parseFloat(e[2])/100);case"rgb":return b(Ba(e[0]),Ba(e[1]),Ba(e[2]))}return(f=fh.get(a))?b(f.r,f.g,f.b):(null==a||"#"!==a.charAt(0)||isNaN(f=parseInt(a.slice(1),16))||(4===a.length?(g=(3840&f)>>4,g=g>>4|g,h=240&f,h=h>>4|h,i=15&f,i=i<<4|i):7===a.length&&(g=(16711680&f)>>16,h=(65280&f)>>8,i=255&f)),b(g,h,i))}function ya(a,b,c){var d,e,f=Math.min(a/=255,b/=255,c/=255),g=Math.max(a,b,c),h=g-f,i=(g+f)/2;return h?(e=.5>i?h/(g+f):h/(2-g-f),d=a==g?(b-c)/h+(c>b?6:0):b==g?(c-a)/h+2:(a-b)/h+4,d*=60):(d=NaN,e=i>0&&1>i?0:d),new ja(d,e,i)}function za(a,b,c){a=Aa(a),b=Aa(b),c=Aa(c);var d=ra((.4124564*a+.3575761*b+.1804375*c)/ah),e=ra((.2126729*a+.7151522*b+.072175*c)/bh),f=ra((.0193339*a+.119192*b+.9503041*c)/ch);return na(116*e-16,500*(d-e),200*(e-f))}function Aa(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function Ba(a){var b=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*b):b}function Ca(a){return"function"==typeof a?a:function(){return a}}function Da(a){return function(b,c,d){return 2===arguments.length&&"function"==typeof c&&(d=c,c=null),Ea(b,c,a,d)}}function Ea(a,b,c,d){function e(){var a,b=i.status;if(!b&&Ga(i)||b>=200&&300>b||304===b){try{a=c.call(f,i)}catch(d){return void g.error.call(f,d)}g.load.call(f,a)}else g.error.call(f,i)}var f={},g=jg.dispatch("beforesend","progress","load","error"),h={},i=new XMLHttpRequest,j=null;return!this.XDomainRequest||"withCredentials"in i||!/^(http(s)?:)?\/\//.test(a)||(i=new XDomainRequest),"onload"in i?i.onload=i.onerror=e:i.onreadystatechange=function(){i.readyState>3&&e()},i.onprogress=function(a){var b=jg.event;jg.event=a;try{g.progress.call(f,i)}finally{jg.event=b}},f.header=function(a,b){return a=(a+"").toLowerCase(),arguments.length<2?h[a]:(null==b?delete h[a]:h[a]=b+"",f)},f.mimeType=function(a){return arguments.length?(b=null==a?null:a+"",f):b},f.responseType=function(a){return arguments.length?(j=a,f):j},f.response=function(a){return c=a,f},["get","post"].forEach(function(a){f[a]=function(){return f.send.apply(f,[a].concat(lg(arguments)))}}),f.send=function(c,d,e){if(2===arguments.length&&"function"==typeof d&&(e=d,d=null),i.open(c,a,!0),null==b||"accept"in h||(h.accept=b+",*/*"),i.setRequestHeader)for(var k in h)i.setRequestHeader(k,h[k]);return null!=b&&i.overrideMimeType&&i.overrideMimeType(b),null!=j&&(i.responseType=j),null!=e&&f.on("error",e).on("load",function(a){e(null,a)}),g.beforesend.call(f,i),i.send(null==d?null:d),f},f.abort=function(){return i.abort(),f},jg.rebind(f,g,"on"),null==d?f:f.get(Fa(d))}function Fa(a){return 1===a.length?function(b,c){a(null==b?c:null)}:a}function Ga(a){var b=a.responseType;return b&&"text"!==b?a.response:a.responseText}function Ha(a,b,c){var d=arguments.length;2>d&&(b=0),3>d&&(c=Date.now());var e=c+b,f={c:a,t:e,n:null};return hh?hh.n=f:gh=f,hh=f,ih||(jh=clearTimeout(jh),ih=1,kh(Ia)),f}function Ia(){var a=Ja(),b=Ka()-a;b>24?(isFinite(b)&&(clearTimeout(jh),jh=setTimeout(Ia,b)),ih=0):(ih=1,kh(Ia))}function Ja(){for(var a=Date.now(),b=gh;b;)a>=b.t&&b.c(a-b.t)&&(b.c=null),b=b.n;return a}function Ka(){for(var a,b=gh,c=1/0;b;)b.c?(b.t<c&&(c=b.t),b=(a=b).n):b=a?a.n=b.n:gh=b.n;return hh=a,c}function La(a,b){return b-(a?Math.ceil(Math.log(a)/Math.LN10):1)}function Ma(a,b){var c=Math.pow(10,3*vg(8-b));return{scale:b>8?function(a){return a/c}:function(a){return a*c},symbol:a}}function Na(a){var b=a.decimal,c=a.thousands,d=a.grouping,e=a.currency,f=d&&c?function(a,b){for(var e=a.length,f=[],g=0,h=d[0],i=0;e>0&&h>0&&(i+h+1>b&&(h=Math.max(1,b-i)),f.push(a.substring(e-=h,e+h)),!((i+=h+1)>b));)h=d[g=(g+1)%d.length];return f.reverse().join(c)}:u;return function(a){var c=mh.exec(a),d=c[1]||" ",g=c[2]||">",h=c[3]||"-",i=c[4]||"",j=c[5],k=+c[6],l=c[7],m=c[8],n=c[9],o=1,p="",q="",r=!1,s=!0;switch(m&&(m=+m.substring(1)),(j||"0"===d&&"="===g)&&(j=d="0",g="="),n){case"n":l=!0,n="g";break;case"%":o=100,q="%",n="f";break;case"p":o=100,q="%",n="r";break;case"b":case"o":case"x":case"X":"#"===i&&(p="0"+n.toLowerCase());case"c":s=!1;case"d":r=!0,m=0;break;case"s":o=-1,n="r"}"$"===i&&(p=e[0],q=e[1]),"r"!=n||m||(n="g"),null!=m&&("g"==n?m=Math.max(1,Math.min(21,m)):("e"==n||"f"==n)&&(m=Math.max(0,Math.min(20,m)))),n=nh.get(n)||Oa;var t=j&&l;return function(a){var c=q;if(r&&a%1)return"";var e=0>a||0===a&&0>1/a?(a=-a,"-"):"-"===h?"":h;if(0>o){var i=jg.formatPrefix(a,m);a=i.scale(a),c=i.symbol+q}else a*=o;a=n(a,m);var u,v,w=a.lastIndexOf(".");if(0>w){var x=s?a.lastIndexOf("e"):-1;0>x?(u=a,v=""):(u=a.substring(0,x),v=a.substring(x))}else u=a.substring(0,w),v=b+a.substring(w+1);!j&&l&&(u=f(u,1/0));var y=p.length+u.length+v.length+(t?0:e.length),z=k>y?new Array(y=k-y+1).join(d):"";return t&&(u=f(z+u,z.length?k-v.length:1/0)),e+=p,a=u+v,("<"===g?e+a+z:">"===g?z+e+a:"^"===g?z.substring(0,y>>=1)+e+a+z.substring(y):e+(t?a:z+a))+c}}}function Oa(a){return a+""}function Pa(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Qa(a,b,c){function d(b){var c=a(b),d=f(c,1);return d-b>b-c?c:d}function e(c){return b(c=a(new ph(c-1)),1),c}function f(a,c){return b(a=new ph(+a),c),a}function g(a,d,f){var g=e(a),h=[];if(f>1)for(;d>g;)c(g)%f||h.push(new Date(+g)),b(g,1);else for(;d>g;)h.push(new Date(+g)),b(g,1);return h}function h(a,b,c){try{ph=Pa;var d=new Pa;return d._=a,g(d,b,c)}finally{ph=Date}}a.floor=a,a.round=d,a.ceil=e,a.offset=f,a.range=g;var i=a.utc=Ra(a);return i.floor=i,i.round=Ra(d),i.ceil=Ra(e),i.offset=Ra(f),i.range=h,a}function Ra(a){return function(b,c){try{ph=Pa;var d=new Pa;return d._=b,a(d,c)._}finally{ph=Date}}}function Sa(a){function b(a){function b(b){for(var c,e,f,g=[],h=-1,i=0;++h<d;)37===a.charCodeAt(h)&&(g.push(a.slice(i,h)),null!=(e=rh[c=a.charAt(++h)])&&(c=a.charAt(++h)),(f=C[c])&&(c=f(b,null==e?"e"===c?" ":"0":e)),g.push(c),i=h+1);return g.push(a.slice(i,h)),g.join("")}var d=a.length;return b.parse=function(b){var d={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},e=c(d,a,b,0);if(e!=b.length)return null;"p"in d&&(d.H=d.H%12+12*d.p);var f=null!=d.Z&&ph!==Pa,g=new(f?Pa:ph);return"j"in d?g.setFullYear(d.y,0,d.j):"W"in d||"U"in d?("w"in d||(d.w="W"in d?1:0),g.setFullYear(d.y,0,1),g.setFullYear(d.y,0,"W"in d?(d.w+6)%7+7*d.W-(g.getDay()+5)%7:d.w+7*d.U-(g.getDay()+6)%7)):g.setFullYear(d.y,d.m,d.d),g.setHours(d.H+(d.Z/100|0),d.M+d.Z%100,d.S,d.L),f?g._:g},b.toString=function(){return a},b}function c(a,b,c,d){for(var e,f,g,h=0,i=b.length,j=c.length;i>h;){if(d>=j)return-1;if(e=b.charCodeAt(h++),37===e){if(g=b.charAt(h++),f=D[g in rh?b.charAt(h++):g],!f||(d=f(a,c,d))<0)return-1}else if(e!=c.charCodeAt(d++))return-1}return d}function d(a,b,c){w.lastIndex=0;var d=w.exec(b.slice(c));return d?(a.w=x.get(d[0].toLowerCase()),c+d[0].length):-1}function e(a,b,c){u.lastIndex=0;var d=u.exec(b.slice(c));return d?(a.w=v.get(d[0].toLowerCase()),c+d[0].length):-1}function f(a,b,c){A.lastIndex=0;var d=A.exec(b.slice(c));return d?(a.m=B.get(d[0].toLowerCase()),c+d[0].length):-1}function g(a,b,c){y.lastIndex=0;var d=y.exec(b.slice(c));return d?(a.m=z.get(d[0].toLowerCase()),c+d[0].length):-1}function h(a,b,d){return c(a,C.c.toString(),b,d)}function i(a,b,d){return c(a,C.x.toString(),b,d)}function j(a,b,d){return c(a,C.X.toString(),b,d)}function k(a,b,c){var d=t.get(b.slice(c,c+=2).toLowerCase());return null==d?-1:(a.p=d,c)}var l=a.dateTime,m=a.date,n=a.time,o=a.periods,p=a.days,q=a.shortDays,r=a.months,s=a.shortMonths;b.utc=function(a){function c(a){try{ph=Pa;var b=new ph;return b._=a,d(b)}finally{ph=Date}}var d=b(a);return c.parse=function(a){try{ph=Pa;var b=d.parse(a);return b&&b._}finally{ph=Date}},c.toString=d.toString,c},b.multi=b.utc.multi=kb;var t=jg.map(),u=Ua(p),v=Va(p),w=Ua(q),x=Va(q),y=Ua(r),z=Va(r),A=Ua(s),B=Va(s);o.forEach(function(a,b){t.set(a.toLowerCase(),b)});var C={a:function(a){return q[a.getDay()]},A:function(a){return p[a.getDay()]},b:function(a){return s[a.getMonth()]},B:function(a){return r[a.getMonth()]},c:b(l),d:function(a,b){return Ta(a.getDate(),b,2)},e:function(a,b){return Ta(a.getDate(),b,2)},H:function(a,b){return Ta(a.getHours(),b,2)},I:function(a,b){return Ta(a.getHours()%12||12,b,2)},j:function(a,b){return Ta(1+oh.dayOfYear(a),b,3)},L:function(a,b){return Ta(a.getMilliseconds(),b,3)},m:function(a,b){return Ta(a.getMonth()+1,b,2)},M:function(a,b){return Ta(a.getMinutes(),b,2)},p:function(a){return o[+(a.getHours()>=12)]},S:function(a,b){return Ta(a.getSeconds(),b,2)},U:function(a,b){return Ta(oh.sundayOfYear(a),b,2)},w:function(a){return a.getDay()},W:function(a,b){return Ta(oh.mondayOfYear(a),b,2)},x:b(m),X:b(n),y:function(a,b){return Ta(a.getFullYear()%100,b,2)},Y:function(a,b){return Ta(a.getFullYear()%1e4,b,4)},Z:ib,"%":function(){return"%"}},D={a:d,A:e,b:f,B:g,c:h,d:cb,e:cb,H:eb,I:eb,j:db,L:hb,m:bb,M:fb,p:k,S:gb,U:Xa,w:Wa,W:Ya,x:i,X:j,y:$a,Y:Za,Z:_a,"%":jb};return b}function Ta(a,b,c){var d=0>a?"-":"",e=(d?-a:a)+"",f=e.length;return d+(c>f?new Array(c-f+1).join(b)+e:e)}function Ua(a){return new RegExp("^(?:"+a.map(jg.requote).join("|")+")","i")}function Va(a){for(var b=new l,c=-1,d=a.length;++c<d;)b.set(a[c].toLowerCase(),c);return b}function Wa(a,b,c){sh.lastIndex=0;var d=sh.exec(b.slice(c,c+1));return d?(a.w=+d[0],c+d[0].length):-1}function Xa(a,b,c){sh.lastIndex=0;var d=sh.exec(b.slice(c));return d?(a.U=+d[0],c+d[0].length):-1}function Ya(a,b,c){sh.lastIndex=0;var d=sh.exec(b.slice(c));return d?(a.W=+d[0],c+d[0].length):-1}function Za(a,b,c){sh.lastIndex=0;var d=sh.exec(b.slice(c,c+4));return d?(a.y=+d[0],c+d[0].length):-1}function $a(a,b,c){sh.lastIndex=0;var d=sh.exec(b.slice(c,c+2));return d?(a.y=ab(+d[0]),c+d[0].length):-1}function _a(a,b,c){return/^[+-]\d{4}$/.test(b=b.slice(c,c+5))?(a.Z=-b,c+5):-1}function ab(a){return a+(a>68?1900:2e3)}function bb(a,b,c){sh.lastIndex=0;var d=sh.exec(b.slice(c,c+2));return d?(a.m=d[0]-1,c+d[0].length):-1}function cb(a,b,c){sh.lastIndex=0;var d=sh.exec(b.slice(c,c+2));return d?(a.d=+d[0],c+d[0].length):-1}function db(a,b,c){sh.lastIndex=0;var d=sh.exec(b.slice(c,c+3));return d?(a.j=+d[0],c+d[0].length):-1}function eb(a,b,c){sh.lastIndex=0;var d=sh.exec(b.slice(c,c+2));return d?(a.H=+d[0],c+d[0].length):-1}function fb(a,b,c){sh.lastIndex=0;var d=sh.exec(b.slice(c,c+2));return d?(a.M=+d[0],c+d[0].length):-1}function gb(a,b,c){sh.lastIndex=0;var d=sh.exec(b.slice(c,c+2));return d?(a.S=+d[0],c+d[0].length):-1}function hb(a,b,c){sh.lastIndex=0;var d=sh.exec(b.slice(c,c+3));return d?(a.L=+d[0],c+d[0].length):-1}function ib(a){var b=a.getTimezoneOffset(),c=b>0?"-":"+",d=vg(b)/60|0,e=vg(b)%60;return c+Ta(d,"0",2)+Ta(e,"0",2)}function jb(a,b,c){th.lastIndex=0;var d=th.exec(b.slice(c,c+1));return d?c+d[0].length:-1}function kb(a){for(var b=a.length,c=-1;++c<b;)a[c][0]=this(a[c][0]);return function(b){for(var c=0,d=a[c];!d[1](b);)d=a[++c];return d[0](b)}}function lb(){}function mb(a,b,c){var d=c.s=a+b,e=d-a,f=d-e;c.t=a-f+(b-e)}function nb(a,b){a&&xh.hasOwnProperty(a.type)&&xh[a.type](a,b)}function ob(a,b,c){var d,e=-1,f=a.length-c;for(b.lineStart();++e<f;)d=a[e],b.point(d[0],d[1],d[2]);b.lineEnd()}function pb(a,b){var c=-1,d=a.length;for(b.polygonStart();++c<d;)ob(a[c],b,1);b.polygonEnd()}function qb(){function a(a,b){a*=Rg,b=b*Rg/2+Ng/4;var c=a-d,g=c>=0?1:-1,h=g*c,i=Math.cos(b),j=Math.sin(b),k=f*j,l=e*i+k*Math.cos(h),m=k*g*Math.sin(h);zh.add(Math.atan2(m,l)),d=a,e=i,f=j}var b,c,d,e,f;Ah.point=function(g,h){Ah.point=a,d=(b=g)*Rg,e=Math.cos(h=(c=h)*Rg/2+Ng/4),f=Math.sin(h)},Ah.lineEnd=function(){a(b,c)}}function rb(a){var b=a[0],c=a[1],d=Math.cos(c);return[d*Math.cos(b),d*Math.sin(b),Math.sin(c)]}function sb(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function tb(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function ub(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function vb(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function wb(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b,a[1]/=b,a[2]/=b}function xb(a){return[Math.atan2(a[1],a[0]),da(a[2])]}function yb(a,b){return vg(a[0]-b[0])<Lg&&vg(a[1]-b[1])<Lg}function zb(a,b){a*=Rg;var c=Math.cos(b*=Rg);Ab(c*Math.cos(a),c*Math.sin(a),Math.sin(b))}function Ab(a,b,c){++Bh,Dh+=(a-Dh)/Bh,Eh+=(b-Eh)/Bh,Fh+=(c-Fh)/Bh}function Bb(){function a(a,e){a*=Rg;var f=Math.cos(e*=Rg),g=f*Math.cos(a),h=f*Math.sin(a),i=Math.sin(e),j=Math.atan2(Math.sqrt((j=c*i-d*h)*j+(j=d*g-b*i)*j+(j=b*h-c*g)*j),b*g+c*h+d*i);Ch+=j,Gh+=j*(b+(b=g)),Hh+=j*(c+(c=h)),Ih+=j*(d+(d=i)),Ab(b,c,d)}var b,c,d;Mh.point=function(e,f){e*=Rg;var g=Math.cos(f*=Rg);b=g*Math.cos(e),c=g*Math.sin(e),d=Math.sin(f),Mh.point=a,Ab(b,c,d)}}function Cb(){Mh.point=zb}function Db(){function a(a,b){a*=Rg;var c=Math.cos(b*=Rg),g=c*Math.cos(a),h=c*Math.sin(a),i=Math.sin(b),j=e*i-f*h,k=f*g-d*i,l=d*h-e*g,m=Math.sqrt(j*j+k*k+l*l),n=d*g+e*h+f*i,o=m&&-ca(n)/m,p=Math.atan2(m,n);Jh+=o*j,Kh+=o*k,Lh+=o*l,Ch+=p,Gh+=p*(d+(d=g)),Hh+=p*(e+(e=h)),Ih+=p*(f+(f=i)),Ab(d,e,f)}var b,c,d,e,f;Mh.point=function(g,h){b=g,c=h,Mh.point=a,g*=Rg;var i=Math.cos(h*=Rg);d=i*Math.cos(g),e=i*Math.sin(g),f=Math.sin(h),Ab(d,e,f)},Mh.lineEnd=function(){a(b,c),Mh.lineEnd=Cb,Mh.point=zb}}function Eb(a,b){function c(c,d){return c=a(c,d),b(c[0],c[1])}return a.invert&&b.invert&&(c.invert=function(c,d){return c=b.invert(c,d),c&&a.invert(c[0],c[1])}),c}function Fb(){return!0}function Gb(a,b,c,d,e){var f=[],g=[];if(a.forEach(function(a){if(!((b=a.length-1)<=0)){var b,c=a[0],d=a[b];if(yb(c,d)){e.lineStart();for(var h=0;b>h;++h)e.point((c=a[h])[0],c[1]);return void e.lineEnd()}var i=new Ib(c,a,null,!0),j=new Ib(c,null,i,!1);i.o=j,f.push(i),g.push(j),i=new Ib(d,a,null,!1),j=new Ib(d,null,i,!0),i.o=j,f.push(i),g.push(j)}}),g.sort(b),Hb(f),Hb(g),f.length){for(var h=0,i=c,j=g.length;j>h;++h)g[h].e=i=!i;for(var k,l,m=f[0];;){for(var n=m,o=!0;n.v;)if((n=n.n)===m)return;k=n.z,e.lineStart();do{if(n.v=n.o.v=!0,n.e){if(o)for(var h=0,j=k.length;j>h;++h)e.point((l=k[h])[0],l[1]);else d(n.x,n.n.x,1,e);n=n.n}else{if(o){k=n.p.z;for(var h=k.length-1;h>=0;--h)e.point((l=k[h])[0],l[1])}else d(n.x,n.p.x,-1,e);n=n.p}n=n.o,k=n.z,o=!o}while(!n.v);e.lineEnd()}}}function Hb(a){if(b=a.length){for(var b,c,d=0,e=a[0];++d<b;)e.n=c=a[d],c.p=e,e=c;e.n=c=a[0],c.p=e}}function Ib(a,b,c,d){this.x=a,this.z=b,this.o=c,this.e=d,this.v=!1,this.n=this.p=null}function Jb(a,b,c,d){return function(e,f){function g(b,c){var d=e(b,c);a(b=d[0],c=d[1])&&f.point(b,c)}function h(a,b){var c=e(a,b);q.point(c[0],c[1])}function i(){s.point=h,q.lineStart()}function j(){s.point=g,q.lineEnd()}function k(a,b){p.push([a,b]);var c=e(a,b);u.point(c[0],c[1])}function l(){u.lineStart(),p=[]}function m(){k(p[0][0],p[0][1]),u.lineEnd();var a,b=u.clean(),c=t.buffer(),d=c.length;if(p.pop(),o.push(p),p=null,d)if(1&b){a=c[0];var e,d=a.length-1,g=-1;if(d>0){for(v||(f.polygonStart(),v=!0),f.lineStart();++g<d;)f.point((e=a[g])[0],e[1]);f.lineEnd()}}else d>1&&2&b&&c.push(c.pop().concat(c.shift())),n.push(c.filter(Kb))}var n,o,p,q=b(f),r=e.invert(d[0],d[1]),s={point:g,lineStart:i,lineEnd:j,polygonStart:function(){s.point=k,s.lineStart=l,s.lineEnd=m,n=[],o=[]},polygonEnd:function(){s.point=g,s.lineStart=i,s.lineEnd=j,n=jg.merge(n);var a=Qb(r,o);n.length?(v||(f.polygonStart(),v=!0),Gb(n,Mb,a,c,f)):a&&(v||(f.polygonStart(),v=!0),f.lineStart(),c(null,null,1,f),f.lineEnd()),v&&(f.polygonEnd(),v=!1),n=o=null},sphere:function(){f.polygonStart(),f.lineStart(),c(null,null,1,f),f.lineEnd(),f.polygonEnd()}},t=Lb(),u=b(t),v=!1;return s}}function Kb(a){return a.length>1}function Lb(){var a,b=[];return{lineStart:function(){b.push(a=[])},point:function(b,c){a.push([b,c])},lineEnd:x,buffer:function(){var c=b;return b=[],a=null,c},rejoin:function(){b.length>1&&b.push(b.pop().concat(b.shift()))}}}function Mb(a,b){return((a=a.x)[0]<0?a[1]-Qg-Lg:Qg-a[1])-((b=b.x)[0]<0?b[1]-Qg-Lg:Qg-b[1])}function Nb(a){var b,c=NaN,d=NaN,e=NaN;return{lineStart:function(){a.lineStart(),b=1},point:function(f,g){var h=f>0?Ng:-Ng,i=vg(f-c);vg(i-Ng)<Lg?(a.point(c,d=(d+g)/2>0?Qg:-Qg),a.point(e,d),a.lineEnd(),a.lineStart(),a.point(h,d),a.point(f,d),b=0):e!==h&&i>=Ng&&(vg(c-e)<Lg&&(c-=e*Lg),vg(f-h)<Lg&&(f-=h*Lg),d=Ob(c,d,f,g),a.point(e,d),a.lineEnd(),a.lineStart(),a.point(h,d),b=0),a.point(c=f,d=g),e=h},lineEnd:function(){a.lineEnd(),c=d=NaN},clean:function(){return 2-b}}}function Ob(a,b,c,d){var e,f,g=Math.sin(a-c);return vg(g)>Lg?Math.atan((Math.sin(b)*(f=Math.cos(d))*Math.sin(c)-Math.sin(d)*(e=Math.cos(b))*Math.sin(a))/(e*f*g)):(b+d)/2}function Pb(a,b,c,d){var e;if(null==a)e=c*Qg,d.point(-Ng,e),d.point(0,e),d.point(Ng,e),d.point(Ng,0),d.point(Ng,-e),d.point(0,-e),d.point(-Ng,-e),d.point(-Ng,0),d.point(-Ng,e);else if(vg(a[0]-b[0])>Lg){var f=a[0]<b[0]?Ng:-Ng;e=c*f/2,d.point(-f,e),d.point(0,e),d.point(f,e)}else d.point(b[0],b[1])}function Qb(a,b){var c=a[0],d=a[1],e=[Math.sin(c),-Math.cos(c),0],f=0,g=0;zh.reset();for(var h=0,i=b.length;i>h;++h){var j=b[h],k=j.length;if(k)for(var l=j[0],m=l[0],n=l[1]/2+Ng/4,o=Math.sin(n),p=Math.cos(n),q=1;;){q===k&&(q=0),a=j[q];var r=a[0],s=a[1]/2+Ng/4,t=Math.sin(s),u=Math.cos(s),v=r-m,w=v>=0?1:-1,x=w*v,y=x>Ng,z=o*t;if(zh.add(Math.atan2(z*w*Math.sin(x),p*u+z*Math.cos(x))),f+=y?v+w*Og:v,y^m>=c^r>=c){var A=tb(rb(l),rb(a));wb(A);var B=tb(e,A);wb(B);var C=(y^v>=0?-1:1)*da(B[2]);(d>C||d===C&&(A[0]||A[1]))&&(g+=y^v>=0?1:-1)}if(!q++)break;m=r,o=t,p=u,l=a}}return(-Lg>f||Lg>f&&0>zh)^1&g}function Rb(a){function b(a,b){return Math.cos(a)*Math.cos(b)>f}function c(a){var c,f,i,j,k;return{lineStart:function(){j=i=!1,k=1},point:function(l,m){var n,o=[l,m],p=b(l,m),q=g?p?0:e(l,m):p?e(l+(0>l?Ng:-Ng),m):0;if(!c&&(j=i=p)&&a.lineStart(),p!==i&&(n=d(c,o),(yb(c,n)||yb(o,n))&&(o[0]+=Lg,o[1]+=Lg,p=b(o[0],o[1]))),p!==i)k=0,p?(a.lineStart(),n=d(o,c),a.point(n[0],n[1])):(n=d(c,o),a.point(n[0],n[1]),a.lineEnd()),c=n;else if(h&&c&&g^p){var r;q&f||!(r=d(o,c,!0))||(k=0,g?(a.lineStart(),a.point(r[0][0],r[0][1]),a.point(r[1][0],r[1][1]),a.lineEnd()):(a.point(r[1][0],r[1][1]),a.lineEnd(),a.lineStart(),a.point(r[0][0],r[0][1])))}!p||c&&yb(c,o)||a.point(o[0],o[1]),c=o,i=p,f=q},lineEnd:function(){i&&a.lineEnd(),c=null},clean:function(){return k|(j&&i)<<1}}}function d(a,b,c){var d=rb(a),e=rb(b),g=[1,0,0],h=tb(d,e),i=sb(h,h),j=h[0],k=i-j*j;if(!k)return!c&&a;var l=f*i/k,m=-f*j/k,n=tb(g,h),o=vb(g,l),p=vb(h,m);ub(o,p);var q=n,r=sb(o,q),s=sb(q,q),t=r*r-s*(sb(o,o)-1);if(!(0>t)){var u=Math.sqrt(t),v=vb(q,(-r-u)/s);if(ub(v,o),v=xb(v),!c)return v;var w,x=a[0],y=b[0],z=a[1],A=b[1];x>y&&(w=x,x=y,y=w);var B=y-x,C=vg(B-Ng)<Lg,D=C||Lg>B;if(!C&&z>A&&(w=z,z=A,A=w),D?C?z+A>0^v[1]<(vg(v[0]-x)<Lg?z:A):z<=v[1]&&v[1]<=A:B>Ng^(x<=v[0]&&v[0]<=y)){var E=vb(q,(-r+u)/s);return ub(E,o),[v,xb(E)]}}}function e(b,c){var d=g?a:Ng-a,e=0;return-d>b?e|=1:b>d&&(e|=2),-d>c?e|=4:c>d&&(e|=8),e}var f=Math.cos(a),g=f>0,h=vg(f)>Lg,i=qc(a,6*Rg);return Jb(b,c,i,g?[0,-a]:[-Ng,a-Ng])}function Sb(a,b,c,d){return function(e){var f,g=e.a,h=e.b,i=g.x,j=g.y,k=h.x,l=h.y,m=0,n=1,o=k-i,p=l-j;if(f=a-i,o||!(f>0)){if(f/=o,0>o){if(m>f)return;n>f&&(n=f)}else if(o>0){if(f>n)return;f>m&&(m=f)}if(f=c-i,o||!(0>f)){if(f/=o,0>o){if(f>n)return;f>m&&(m=f)}else if(o>0){if(m>f)return;n>f&&(n=f)}if(f=b-j,p||!(f>0)){if(f/=p,0>p){if(m>f)return;n>f&&(n=f)}else if(p>0){if(f>n)return;f>m&&(m=f)}if(f=d-j,p||!(0>f)){if(f/=p,0>p){if(f>n)return;f>m&&(m=f)}else if(p>0){if(m>f)return;n>f&&(n=f)}return m>0&&(e.a={x:i+m*o,y:j+m*p}),1>n&&(e.b={x:i+n*o,y:j+n*p}),e}}}}}}function Tb(a,b,c,d){function e(d,e){return vg(d[0]-a)<Lg?e>0?0:3:vg(d[0]-c)<Lg?e>0?2:1:vg(d[1]-b)<Lg?e>0?1:0:e>0?3:2}function f(a,b){return g(a.x,b.x)}function g(a,b){var c=e(a,1),d=e(b,1);return c!==d?c-d:0===c?b[1]-a[1]:1===c?a[0]-b[0]:2===c?a[1]-b[1]:b[0]-a[0]}return function(h){function i(a){for(var b=0,c=q.length,d=a[1],e=0;c>e;++e)for(var f,g=1,h=q[e],i=h.length,j=h[0];i>g;++g)f=h[g],j[1]<=d?f[1]>d&&ba(j,f,a)>0&&++b:f[1]<=d&&ba(j,f,a)<0&&--b,j=f;return 0!==b}function j(f,h,i,j){var k=0,l=0;if(null==f||(k=e(f,i))!==(l=e(h,i))||g(f,h)<0^i>0){do j.point(0===k||3===k?a:c,k>1?d:b);while((k=(k+i+4)%4)!==l)}else j.point(h[0],h[1])}function k(e,f){return e>=a&&c>=e&&f>=b&&d>=f}function l(a,b){k(a,b)&&h.point(a,b)}function m(){D.point=o,q&&q.push(r=[]),y=!0,x=!1,v=w=NaN}function n(){p&&(o(s,t),u&&x&&B.rejoin(),p.push(B.buffer())),D.point=l,x&&h.lineEnd()}function o(a,b){a=Math.max(-Oh,Math.min(Oh,a)),b=Math.max(-Oh,Math.min(Oh,b));var c=k(a,b);if(q&&r.push([a,b]),y)s=a,t=b,u=c,y=!1,c&&(h.lineStart(),h.point(a,b));else if(c&&x)h.point(a,b);else{var d={a:{x:v,y:w},b:{x:a,y:b}};C(d)?(x||(h.lineStart(),h.point(d.a.x,d.a.y)),h.point(d.b.x,d.b.y),c||h.lineEnd(),z=!1):c&&(h.lineStart(),h.point(a,b),z=!1)}v=a,w=b,x=c}var p,q,r,s,t,u,v,w,x,y,z,A=h,B=Lb(),C=Sb(a,b,c,d),D={point:l,lineStart:m,lineEnd:n,polygonStart:function(){h=B,p=[],q=[],z=!0},polygonEnd:function(){h=A,p=jg.merge(p);var b=i([a,d]),c=z&&b,e=p.length;(c||e)&&(h.polygonStart(),c&&(h.lineStart(),j(null,null,1,h),h.lineEnd()),e&&Gb(p,f,b,j,h),h.polygonEnd()),p=q=r=null}};return D}}function Ub(a){var b=0,c=Ng/3,d=ic(a),e=d(b,c);return e.parallels=function(a){return arguments.length?d(b=a[0]*Ng/180,c=a[1]*Ng/180):[b/Ng*180,c/Ng*180]},e}function Vb(a,b){function c(a,b){var c=Math.sqrt(f-2*e*Math.sin(b))/e;return[c*Math.sin(a*=e),g-c*Math.cos(a)]}var d=Math.sin(a),e=(d+Math.sin(b))/2,f=1+d*(2*e-d),g=Math.sqrt(f)/e;return c.invert=function(a,b){var c=g-b;return[Math.atan2(a,c)/e,da((f-(a*a+c*c)*e*e)/(2*e))]},c}function Wb(){function a(a,b){Qh+=e*a-d*b,d=a,e=b}var b,c,d,e;Vh.point=function(f,g){Vh.point=a,b=d=f,c=e=g},Vh.lineEnd=function(){a(b,c)}}function Xb(a,b){Rh>a&&(Rh=a),a>Th&&(Th=a),Sh>b&&(Sh=b),b>Uh&&(Uh=b)}function Yb(){function a(a,b){g.push("M",a,",",b,f)}function b(a,b){g.push("M",a,",",b),h.point=c}function c(a,b){g.push("L",a,",",b)}function d(){h.point=a}function e(){g.push("Z")}var f=Zb(4.5),g=[],h={point:a,lineStart:function(){h.point=b},lineEnd:d,polygonStart:function(){h.lineEnd=e},polygonEnd:function(){h.lineEnd=d,h.point=a},pointRadius:function(a){return f=Zb(a),h},result:function(){if(g.length){var a=g.join("");return g=[],a}}};return h}function Zb(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function $b(a,b){Dh+=a,Eh+=b,++Fh}function _b(){function a(a,d){var e=a-b,f=d-c,g=Math.sqrt(e*e+f*f);Gh+=g*(b+a)/2,Hh+=g*(c+d)/2,Ih+=g,$b(b=a,c=d)}var b,c;Xh.point=function(d,e){Xh.point=a,$b(b=d,c=e)}}function ac(){Xh.point=$b}function bc(){function a(a,b){var c=a-d,f=b-e,g=Math.sqrt(c*c+f*f);Gh+=g*(d+a)/2,Hh+=g*(e+b)/2,Ih+=g,g=e*a-d*b,Jh+=g*(d+a),Kh+=g*(e+b),Lh+=3*g,$b(d=a,e=b)}var b,c,d,e;Xh.point=function(f,g){Xh.point=a,$b(b=d=f,c=e=g)},Xh.lineEnd=function(){a(b,c)}}function cc(a){function b(b,c){a.moveTo(b+g,c),a.arc(b,c,g,0,Og)}function c(b,c){a.moveTo(b,c),h.point=d}function d(b,c){a.lineTo(b,c)}function e(){h.point=b}function f(){a.closePath()}var g=4.5,h={point:b,lineStart:function(){h.point=c},lineEnd:e,polygonStart:function(){h.lineEnd=f},polygonEnd:function(){h.lineEnd=e,h.point=b},pointRadius:function(a){return g=a,h},result:x};return h}function dc(a){function b(a){return(h?d:c)(a)}function c(b){return gc(b,function(c,d){c=a(c,d),b.point(c[0],c[1])})}function d(b){function c(c,d){c=a(c,d),b.point(c[0],c[1])}function d(){t=NaN,y.point=f,b.lineStart()}function f(c,d){var f=rb([c,d]),g=a(c,d);e(t,u,s,v,w,x,t=g[0],u=g[1],s=c,v=f[0],w=f[1],x=f[2],h,b),b.point(t,u)}function g(){y.point=c,b.lineEnd()}function i(){d(),y.point=j,y.lineEnd=k}function j(a,b){f(l=a,m=b),n=t,o=u,p=v,q=w,r=x,y.point=f}function k(){e(t,u,s,v,w,x,n,o,l,p,q,r,h,b),y.lineEnd=g,g()}var l,m,n,o,p,q,r,s,t,u,v,w,x,y={point:c,lineStart:d,lineEnd:g,polygonStart:function(){b.polygonStart(),y.lineStart=i},polygonEnd:function(){b.polygonEnd(),y.lineStart=d}};return y}function e(b,c,d,h,i,j,k,l,m,n,o,p,q,r){var s=k-b,t=l-c,u=s*s+t*t;if(u>4*f&&q--){var v=h+n,w=i+o,x=j+p,y=Math.sqrt(v*v+w*w+x*x),z=Math.asin(x/=y),A=vg(vg(x)-1)<Lg||vg(d-m)<Lg?(d+m)/2:Math.atan2(w,v),B=a(A,z),C=B[0],D=B[1],E=C-b,F=D-c,G=t*E-s*F;(G*G/u>f||vg((s*E+t*F)/u-.5)>.3||g>h*n+i*o+j*p)&&(e(b,c,d,h,i,j,C,D,A,v/=y,w/=y,x,q,r),r.point(C,D),e(C,D,A,v,w,x,k,l,m,n,o,p,q,r))}}var f=.5,g=Math.cos(30*Rg),h=16;return b.precision=function(a){return arguments.length?(h=(f=a*a)>0&&16,b):Math.sqrt(f)},b}function ec(a){var b=dc(function(b,c){return a([b*Sg,c*Sg])});return function(a){return jc(b(a))}}function fc(a){this.stream=a}function gc(a,b){return{point:b,sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}function hc(a){return ic(function(){return a})()}function ic(a){function b(a){return a=h(a[0]*Rg,a[1]*Rg),[a[0]*m+i,j-a[1]*m]}function c(a){return a=h.invert((a[0]-i)/m,(j-a[1])/m),a&&[a[0]*Sg,a[1]*Sg]}function d(){h=Eb(g=mc(r,s,t),f);var a=f(p,q);return i=n-a[0]*m,j=o+a[1]*m,e()}function e(){return k&&(k.valid=!1,k=null),b}var f,g,h,i,j,k,l=dc(function(a,b){return a=f(a,b),[a[0]*m+i,j-a[1]*m]}),m=150,n=480,o=250,p=0,q=0,r=0,s=0,t=0,v=Nh,w=u,x=null,y=null;return b.stream=function(a){return k&&(k.valid=!1),k=jc(v(g,l(w(a)))),k.valid=!0,k},b.clipAngle=function(a){return arguments.length?(v=null==a?(x=a,Nh):Rb((x=+a)*Rg),e()):x},b.clipExtent=function(a){return arguments.length?(y=a,w=a?Tb(a[0][0],a[0][1],a[1][0],a[1][1]):u,e()):y},b.scale=function(a){return arguments.length?(m=+a,d()):m},b.translate=function(a){return arguments.length?(n=+a[0],o=+a[1],d()):[n,o]},b.center=function(a){return arguments.length?(p=a[0]%360*Rg,q=a[1]%360*Rg,d()):[p*Sg,q*Sg]},b.rotate=function(a){return arguments.length?(r=a[0]%360*Rg,s=a[1]%360*Rg,t=a.length>2?a[2]%360*Rg:0,d()):[r*Sg,s*Sg,t*Sg]},jg.rebind(b,l,"precision"),function(){return f=a.apply(this,arguments),b.invert=f.invert&&c,d()}}function jc(a){return gc(a,function(b,c){a.point(b*Rg,c*Rg)})}function kc(a,b){return[a,b]}function lc(a,b){return[a>Ng?a-Og:-Ng>a?a+Og:a,b]}function mc(a,b,c){return a?b||c?Eb(oc(a),pc(b,c)):oc(a):b||c?pc(b,c):lc}function nc(a){return function(b,c){return b+=a,[b>Ng?b-Og:-Ng>b?b+Og:b,c]}}function oc(a){var b=nc(a);return b.invert=nc(-a),b}function pc(a,b){function c(a,b){var c=Math.cos(b),h=Math.cos(a)*c,i=Math.sin(a)*c,j=Math.sin(b),k=j*d+h*e;return[Math.atan2(i*f-k*g,h*d-j*e),da(k*f+i*g)]}var d=Math.cos(a),e=Math.sin(a),f=Math.cos(b),g=Math.sin(b);return c.invert=function(a,b){var c=Math.cos(b),h=Math.cos(a)*c,i=Math.sin(a)*c,j=Math.sin(b),k=j*f-i*g;return[Math.atan2(i*f+j*g,h*d+k*e),da(k*d-h*e)]},c}function qc(a,b){var c=Math.cos(a),d=Math.sin(a);return function(e,f,g,h){var i=g*b;null!=e?(e=rc(c,e),f=rc(c,f),(g>0?f>e:e>f)&&(e+=g*Og)):(e=a+g*Og,f=a-.5*i);for(var j,k=e;g>0?k>f:f>k;k-=i)h.point((j=xb([c,-d*Math.cos(k),-d*Math.sin(k)]))[0],j[1])}}function rc(a,b){var c=rb(b);c[0]-=a,wb(c);var d=ca(-c[1]);return((-c[2]<0?-d:d)+2*Math.PI-Lg)%(2*Math.PI)}function sc(a,b,c){var d=jg.range(a,b-Lg,c).concat(b);return function(a){
return d.map(function(b){return[a,b]})}}function tc(a,b,c){var d=jg.range(a,b-Lg,c).concat(b);return function(a){return d.map(function(b){return[b,a]})}}function uc(a){return a.source}function vc(a){return a.target}function wc(a,b,c,d){var e=Math.cos(b),f=Math.sin(b),g=Math.cos(d),h=Math.sin(d),i=e*Math.cos(a),j=e*Math.sin(a),k=g*Math.cos(c),l=g*Math.sin(c),m=2*Math.asin(Math.sqrt(ha(d-b)+e*g*ha(c-a))),n=1/Math.sin(m),o=m?function(a){var b=Math.sin(a*=m)*n,c=Math.sin(m-a)*n,d=c*i+b*k,e=c*j+b*l,g=c*f+b*h;return[Math.atan2(e,d)*Sg,Math.atan2(g,Math.sqrt(d*d+e*e))*Sg]}:function(){return[a*Sg,b*Sg]};return o.distance=m,o}function xc(){function a(a,e){var f=Math.sin(e*=Rg),g=Math.cos(e),h=vg((a*=Rg)-b),i=Math.cos(h);Yh+=Math.atan2(Math.sqrt((h=g*Math.sin(h))*h+(h=d*f-c*g*i)*h),c*f+d*g*i),b=a,c=f,d=g}var b,c,d;Zh.point=function(e,f){b=e*Rg,c=Math.sin(f*=Rg),d=Math.cos(f),Zh.point=a},Zh.lineEnd=function(){Zh.point=Zh.lineEnd=x}}function yc(a,b){function c(b,c){var d=Math.cos(b),e=Math.cos(c),f=a(d*e);return[f*e*Math.sin(b),f*Math.sin(c)]}return c.invert=function(a,c){var d=Math.sqrt(a*a+c*c),e=b(d),f=Math.sin(e),g=Math.cos(e);return[Math.atan2(a*f,d*g),Math.asin(d&&c*f/d)]},c}function zc(a,b){function c(a,b){g>0?-Qg+Lg>b&&(b=-Qg+Lg):b>Qg-Lg&&(b=Qg-Lg);var c=g/Math.pow(e(b),f);return[c*Math.sin(f*a),g-c*Math.cos(f*a)]}var d=Math.cos(a),e=function(a){return Math.tan(Ng/4+a/2)},f=a===b?Math.sin(a):Math.log(d/Math.cos(b))/Math.log(e(b)/e(a)),g=d*Math.pow(e(a),f)/f;return f?(c.invert=function(a,b){var c=g-b,d=aa(f)*Math.sqrt(a*a+c*c);return[Math.atan2(a,c)/f,2*Math.atan(Math.pow(g/d,1/f))-Qg]},c):Bc}function Ac(a,b){function c(a,b){var c=f-b;return[c*Math.sin(e*a),f-c*Math.cos(e*a)]}var d=Math.cos(a),e=a===b?Math.sin(a):(d-Math.cos(b))/(b-a),f=d/e+a;return vg(e)<Lg?kc:(c.invert=function(a,b){var c=f-b;return[Math.atan2(a,c)/e,f-aa(e)*Math.sqrt(a*a+c*c)]},c)}function Bc(a,b){return[a,Math.log(Math.tan(Ng/4+b/2))]}function Cc(a){var b,c=hc(a),d=c.scale,e=c.translate,f=c.clipExtent;return c.scale=function(){var a=d.apply(c,arguments);return a===c?b?c.clipExtent(null):c:a},c.translate=function(){var a=e.apply(c,arguments);return a===c?b?c.clipExtent(null):c:a},c.clipExtent=function(a){var g=f.apply(c,arguments);if(g===c){if(b=null==a){var h=Ng*d(),i=e();f([[i[0]-h,i[1]-h],[i[0]+h,i[1]+h]])}}else b&&(g=null);return g},c.clipExtent(null)}function Dc(a,b){return[Math.log(Math.tan(Ng/4+b/2)),-a]}function Ec(a){return a[0]}function Fc(a){return a[1]}function Gc(a){for(var b=a.length,c=[0,1],d=2,e=2;b>e;e++){for(;d>1&&ba(a[c[d-2]],a[c[d-1]],a[e])<=0;)--d;c[d++]=e}return c.slice(0,d)}function Hc(a,b){return a[0]-b[0]||a[1]-b[1]}function Ic(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function Jc(a,b,c,d){var e=a[0],f=c[0],g=b[0]-e,h=d[0]-f,i=a[1],j=c[1],k=b[1]-i,l=d[1]-j,m=(h*(i-j)-l*(e-f))/(l*g-h*k);return[e+m*g,i+m*k]}function Kc(a){var b=a[0],c=a[a.length-1];return!(b[0]-c[0]||b[1]-c[1])}function Lc(){ed(this),this.edge=this.site=this.circle=null}function Mc(a){var b=ji.pop()||new Lc;return b.site=a,b}function Nc(a){Xc(a),gi.remove(a),ji.push(a),ed(a)}function Oc(a){var b=a.circle,c=b.x,d=b.cy,e={x:c,y:d},f=a.P,g=a.N,h=[a];Nc(a);for(var i=f;i.circle&&vg(c-i.circle.x)<Lg&&vg(d-i.circle.cy)<Lg;)f=i.P,h.unshift(i),Nc(i),i=f;h.unshift(i),Xc(i);for(var j=g;j.circle&&vg(c-j.circle.x)<Lg&&vg(d-j.circle.cy)<Lg;)g=j.N,h.push(j),Nc(j),j=g;h.push(j),Xc(j);var k,l=h.length;for(k=1;l>k;++k)j=h[k],i=h[k-1],bd(j.edge,i.site,j.site,e);i=h[0],j=h[l-1],j.edge=_c(i.site,j.site,null,e),Wc(i),Wc(j)}function Pc(a){for(var b,c,d,e,f=a.x,g=a.y,h=gi._;h;)if(d=Qc(h,g)-f,d>Lg)h=h.L;else{if(e=f-Rc(h,g),!(e>Lg)){d>-Lg?(b=h.P,c=h):e>-Lg?(b=h,c=h.N):b=c=h;break}if(!h.R){b=h;break}h=h.R}var i=Mc(a);if(gi.insert(b,i),b||c){if(b===c)return Xc(b),c=Mc(b.site),gi.insert(i,c),i.edge=c.edge=_c(b.site,i.site),Wc(b),void Wc(c);if(!c)return void(i.edge=_c(b.site,i.site));Xc(b),Xc(c);var j=b.site,k=j.x,l=j.y,m=a.x-k,n=a.y-l,o=c.site,p=o.x-k,q=o.y-l,r=2*(m*q-n*p),s=m*m+n*n,t=p*p+q*q,u={x:(q*s-n*t)/r+k,y:(m*t-p*s)/r+l};bd(c.edge,j,o,u),i.edge=_c(j,a,null,u),c.edge=_c(a,o,null,u),Wc(b),Wc(c)}}function Qc(a,b){var c=a.site,d=c.x,e=c.y,f=e-b;if(!f)return d;var g=a.P;if(!g)return-(1/0);c=g.site;var h=c.x,i=c.y,j=i-b;if(!j)return h;var k=h-d,l=1/f-1/j,m=k/j;return l?(-m+Math.sqrt(m*m-2*l*(k*k/(-2*j)-i+j/2+e-f/2)))/l+d:(d+h)/2}function Rc(a,b){var c=a.N;if(c)return Qc(c,b);var d=a.site;return d.y===b?d.x:1/0}function Sc(a){this.site=a,this.edges=[]}function Tc(a){for(var b,c,d,e,f,g,h,i,j,k,l=a[0][0],m=a[1][0],n=a[0][1],o=a[1][1],p=fi,q=p.length;q--;)if(f=p[q],f&&f.prepare())for(h=f.edges,i=h.length,g=0;i>g;)k=h[g].end(),d=k.x,e=k.y,j=h[++g%i].start(),b=j.x,c=j.y,(vg(d-b)>Lg||vg(e-c)>Lg)&&(h.splice(g,0,new cd(ad(f.site,k,vg(d-l)<Lg&&o-e>Lg?{x:l,y:vg(b-l)<Lg?c:o}:vg(e-o)<Lg&&m-d>Lg?{x:vg(c-o)<Lg?b:m,y:o}:vg(d-m)<Lg&&e-n>Lg?{x:m,y:vg(b-m)<Lg?c:n}:vg(e-n)<Lg&&d-l>Lg?{x:vg(c-n)<Lg?b:l,y:n}:null),f.site,null)),++i)}function Uc(a,b){return b.angle-a.angle}function Vc(){ed(this),this.x=this.y=this.arc=this.site=this.cy=null}function Wc(a){var b=a.P,c=a.N;if(b&&c){var d=b.site,e=a.site,f=c.site;if(d!==f){var g=e.x,h=e.y,i=d.x-g,j=d.y-h,k=f.x-g,l=f.y-h,m=2*(i*l-j*k);if(!(m>=-Mg)){var n=i*i+j*j,o=k*k+l*l,p=(l*n-j*o)/m,q=(i*o-k*n)/m,l=q+h,r=ki.pop()||new Vc;r.arc=a,r.site=e,r.x=p+g,r.y=l+Math.sqrt(p*p+q*q),r.cy=l,a.circle=r;for(var s=null,t=ii._;t;)if(r.y<t.y||r.y===t.y&&r.x<=t.x){if(!t.L){s=t.P;break}t=t.L}else{if(!t.R){s=t;break}t=t.R}ii.insert(s,r),s||(hi=r)}}}}function Xc(a){var b=a.circle;b&&(b.P||(hi=b.N),ii.remove(b),ki.push(b),ed(b),a.circle=null)}function Yc(a){for(var b,c=ei,d=Sb(a[0][0],a[0][1],a[1][0],a[1][1]),e=c.length;e--;)b=c[e],(!Zc(b,a)||!d(b)||vg(b.a.x-b.b.x)<Lg&&vg(b.a.y-b.b.y)<Lg)&&(b.a=b.b=null,c.splice(e,1))}function Zc(a,b){var c=a.b;if(c)return!0;var d,e,f=a.a,g=b[0][0],h=b[1][0],i=b[0][1],j=b[1][1],k=a.l,l=a.r,m=k.x,n=k.y,o=l.x,p=l.y,q=(m+o)/2,r=(n+p)/2;if(p===n){if(g>q||q>=h)return;if(m>o){if(f){if(f.y>=j)return}else f={x:q,y:i};c={x:q,y:j}}else{if(f){if(f.y<i)return}else f={x:q,y:j};c={x:q,y:i}}}else if(d=(m-o)/(p-n),e=r-d*q,-1>d||d>1)if(m>o){if(f){if(f.y>=j)return}else f={x:(i-e)/d,y:i};c={x:(j-e)/d,y:j}}else{if(f){if(f.y<i)return}else f={x:(j-e)/d,y:j};c={x:(i-e)/d,y:i}}else if(p>n){if(f){if(f.x>=h)return}else f={x:g,y:d*g+e};c={x:h,y:d*h+e}}else{if(f){if(f.x<g)return}else f={x:h,y:d*h+e};c={x:g,y:d*g+e}}return a.a=f,a.b=c,!0}function $c(a,b){this.l=a,this.r=b,this.a=this.b=null}function _c(a,b,c,d){var e=new $c(a,b);return ei.push(e),c&&bd(e,a,b,c),d&&bd(e,b,a,d),fi[a.i].edges.push(new cd(e,a,b)),fi[b.i].edges.push(new cd(e,b,a)),e}function ad(a,b,c){var d=new $c(a,null);return d.a=b,d.b=c,ei.push(d),d}function bd(a,b,c,d){a.a||a.b?a.l===c?a.b=d:a.a=d:(a.a=d,a.l=b,a.r=c)}function cd(a,b,c){var d=a.a,e=a.b;this.edge=a,this.site=b,this.angle=c?Math.atan2(c.y-b.y,c.x-b.x):a.l===b?Math.atan2(e.x-d.x,d.y-e.y):Math.atan2(d.x-e.x,e.y-d.y)}function dd(){this._=null}function ed(a){a.U=a.C=a.L=a.R=a.P=a.N=null}function fd(a,b){var c=b,d=b.R,e=c.U;e?e.L===c?e.L=d:e.R=d:a._=d,d.U=e,c.U=d,c.R=d.L,c.R&&(c.R.U=c),d.L=c}function gd(a,b){var c=b,d=b.L,e=c.U;e?e.L===c?e.L=d:e.R=d:a._=d,d.U=e,c.U=d,c.L=d.R,c.L&&(c.L.U=c),d.R=c}function hd(a){for(;a.L;)a=a.L;return a}function id(a,b){var c,d,e,f=a.sort(jd).pop();for(ei=[],fi=new Array(a.length),gi=new dd,ii=new dd;;)if(e=hi,f&&(!e||f.y<e.y||f.y===e.y&&f.x<e.x))(f.x!==c||f.y!==d)&&(fi[f.i]=new Sc(f),Pc(f),c=f.x,d=f.y),f=a.pop();else{if(!e)break;Oc(e.arc)}b&&(Yc(b),Tc(b));var g={cells:fi,edges:ei};return gi=ii=ei=fi=null,g}function jd(a,b){return b.y-a.y||b.x-a.x}function kd(a,b,c){return(a.x-c.x)*(b.y-a.y)-(a.x-b.x)*(c.y-a.y)}function ld(a){return a.x}function md(a){return a.y}function nd(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function od(a,b,c,d,e,f){if(!a(b,c,d,e,f)){var g=.5*(c+e),h=.5*(d+f),i=b.nodes;i[0]&&od(a,i[0],c,d,g,h),i[1]&&od(a,i[1],g,d,e,h),i[2]&&od(a,i[2],c,h,g,f),i[3]&&od(a,i[3],g,h,e,f)}}function pd(a,b,c,d,e,f,g){var h,i=1/0;return function j(a,k,l,m,n){if(!(k>f||l>g||d>m||e>n)){if(o=a.point){var o,p=b-a.x,q=c-a.y,r=p*p+q*q;if(i>r){var s=Math.sqrt(i=r);d=b-s,e=c-s,f=b+s,g=c+s,h=o}}for(var t=a.nodes,u=.5*(k+m),v=.5*(l+n),w=b>=u,x=c>=v,y=x<<1|w,z=y+4;z>y;++y)if(a=t[3&y])switch(3&y){case 0:j(a,k,l,u,v);break;case 1:j(a,u,l,m,v);break;case 2:j(a,k,v,u,n);break;case 3:j(a,u,v,m,n)}}}(a,d,e,f,g),h}function qd(a,b){a=jg.rgb(a),b=jg.rgb(b);var c=a.r,d=a.g,e=a.b,f=b.r-c,g=b.g-d,h=b.b-e;return function(a){return"#"+wa(Math.round(c+f*a))+wa(Math.round(d+g*a))+wa(Math.round(e+h*a))}}function rd(a,b){var c,d={},e={};for(c in a)c in b?d[c]=ud(a[c],b[c]):e[c]=a[c];for(c in b)c in a||(e[c]=b[c]);return function(a){for(c in d)e[c]=d[c](a);return e}}function sd(a,b){return a=+a,b=+b,function(c){return a*(1-c)+b*c}}function td(a,b){var c,d,e,f=mi.lastIndex=ni.lastIndex=0,g=-1,h=[],i=[];for(a+="",b+="";(c=mi.exec(a))&&(d=ni.exec(b));)(e=d.index)>f&&(e=b.slice(f,e),h[g]?h[g]+=e:h[++g]=e),(c=c[0])===(d=d[0])?h[g]?h[g]+=d:h[++g]=d:(h[++g]=null,i.push({i:g,x:sd(c,d)})),f=ni.lastIndex;return f<b.length&&(e=b.slice(f),h[g]?h[g]+=e:h[++g]=e),h.length<2?i[0]?(b=i[0].x,function(a){return b(a)+""}):function(){return b}:(b=i.length,function(a){for(var c,d=0;b>d;++d)h[(c=i[d]).i]=c.x(a);return h.join("")})}function ud(a,b){for(var c,d=jg.interpolators.length;--d>=0&&!(c=jg.interpolators[d](a,b)););return c}function vd(a,b){var c,d=[],e=[],f=a.length,g=b.length,h=Math.min(a.length,b.length);for(c=0;h>c;++c)d.push(ud(a[c],b[c]));for(;f>c;++c)e[c]=a[c];for(;g>c;++c)e[c]=b[c];return function(a){for(c=0;h>c;++c)e[c]=d[c](a);return e}}function wd(a){return function(b){return 0>=b?0:b>=1?1:a(b)}}function xd(a){return function(b){return 1-a(1-b)}}function yd(a){return function(b){return.5*(.5>b?a(2*b):2-a(2-2*b))}}function zd(a){return a*a}function Ad(a){return a*a*a}function Bd(a){if(0>=a)return 0;if(a>=1)return 1;var b=a*a,c=b*a;return 4*(.5>a?c:3*(a-b)+c-.75)}function Cd(a){return function(b){return Math.pow(b,a)}}function Dd(a){return 1-Math.cos(a*Qg)}function Ed(a){return Math.pow(2,10*(a-1))}function Fd(a){return 1-Math.sqrt(1-a*a)}function Gd(a,b){var c;return arguments.length<2&&(b=.45),arguments.length?c=b/Og*Math.asin(1/a):(a=1,c=b/4),function(d){return 1+a*Math.pow(2,-10*d)*Math.sin((d-c)*Og/b)}}function Hd(a){return a||(a=1.70158),function(b){return b*b*((a+1)*b-a)}}function Id(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}function Jd(a,b){a=jg.hcl(a),b=jg.hcl(b);var c=a.h,d=a.c,e=a.l,f=b.h-c,g=b.c-d,h=b.l-e;return isNaN(g)&&(g=0,d=isNaN(d)?b.c:d),isNaN(f)?(f=0,c=isNaN(c)?b.h:c):f>180?f-=360:-180>f&&(f+=360),function(a){return ma(c+f*a,d+g*a,e+h*a)+""}}function Kd(a,b){a=jg.hsl(a),b=jg.hsl(b);var c=a.h,d=a.s,e=a.l,f=b.h-c,g=b.s-d,h=b.l-e;return isNaN(g)&&(g=0,d=isNaN(d)?b.s:d),isNaN(f)?(f=0,c=isNaN(c)?b.h:c):f>180?f-=360:-180>f&&(f+=360),function(a){return ka(c+f*a,d+g*a,e+h*a)+""}}function Ld(a,b){a=jg.lab(a),b=jg.lab(b);var c=a.l,d=a.a,e=a.b,f=b.l-c,g=b.a-d,h=b.b-e;return function(a){return oa(c+f*a,d+g*a,e+h*a)+""}}function Md(a,b){return b-=a,function(c){return Math.round(a+b*c)}}function Nd(a){var b=[a.a,a.b],c=[a.c,a.d],d=Pd(b),e=Od(b,c),f=Pd(Qd(c,b,-e))||0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,b[1]*=-1,d*=-1,e*=-1),this.rotate=(d?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*Sg,this.translate=[a.e,a.f],this.scale=[d,f],this.skew=f?Math.atan2(e,f)*Sg:0}function Od(a,b){return a[0]*b[0]+a[1]*b[1]}function Pd(a){var b=Math.sqrt(Od(a,a));return b&&(a[0]/=b,a[1]/=b),b}function Qd(a,b,c){return a[0]+=c*b[0],a[1]+=c*b[1],a}function Rd(a){return a.length?a.pop()+",":""}function Sd(a,b,c,d){if(a[0]!==b[0]||a[1]!==b[1]){var e=c.push("translate(",null,",",null,")");d.push({i:e-4,x:sd(a[0],b[0])},{i:e-2,x:sd(a[1],b[1])})}else(b[0]||b[1])&&c.push("translate("+b+")")}function Td(a,b,c,d){a!==b?(a-b>180?b+=360:b-a>180&&(a+=360),d.push({i:c.push(Rd(c)+"rotate(",null,")")-2,x:sd(a,b)})):b&&c.push(Rd(c)+"rotate("+b+")")}function Ud(a,b,c,d){a!==b?d.push({i:c.push(Rd(c)+"skewX(",null,")")-2,x:sd(a,b)}):b&&c.push(Rd(c)+"skewX("+b+")")}function Vd(a,b,c,d){if(a[0]!==b[0]||a[1]!==b[1]){var e=c.push(Rd(c)+"scale(",null,",",null,")");d.push({i:e-4,x:sd(a[0],b[0])},{i:e-2,x:sd(a[1],b[1])})}else(1!==b[0]||1!==b[1])&&c.push(Rd(c)+"scale("+b+")")}function Wd(a,b){var c=[],d=[];return a=jg.transform(a),b=jg.transform(b),Sd(a.translate,b.translate,c,d),Td(a.rotate,b.rotate,c,d),Ud(a.skew,b.skew,c,d),Vd(a.scale,b.scale,c,d),a=b=null,function(a){for(var b,e=-1,f=d.length;++e<f;)c[(b=d[e]).i]=b.x(a);return c.join("")}}function Xd(a,b){return b=(b-=a=+a)||1/b,function(c){return(c-a)/b}}function Yd(a,b){return b=(b-=a=+a)||1/b,function(c){return Math.max(0,Math.min(1,(c-a)/b))}}function Zd(a){for(var b=a.source,c=a.target,d=_d(b,c),e=[b];b!==d;)b=b.parent,e.push(b);for(var f=e.length;c!==d;)e.splice(f,0,c),c=c.parent;return e}function $d(a){for(var b=[],c=a.parent;null!=c;)b.push(a),a=c,c=c.parent;return b.push(a),b}function _d(a,b){if(a===b)return a;for(var c=$d(a),d=$d(b),e=c.pop(),f=d.pop(),g=null;e===f;)g=e,e=c.pop(),f=d.pop();return g}function ae(a){a.fixed|=2}function be(a){a.fixed&=-7}function ce(a){a.fixed|=4,a.px=a.x,a.py=a.y}function de(a){a.fixed&=-5}function ee(a,b,c){var d=0,e=0;if(a.charge=0,!a.leaf)for(var f,g=a.nodes,h=g.length,i=-1;++i<h;)f=g[i],null!=f&&(ee(f,b,c),a.charge+=f.charge,d+=f.charge*f.cx,e+=f.charge*f.cy);if(a.point){a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5);var j=b*c[a.point.index];a.charge+=a.pointCharge=j,d+=j*a.point.x,e+=j*a.point.y}a.cx=d/a.charge,a.cy=e/a.charge}function fe(a,b){return jg.rebind(a,b,"sort","children","value"),a.nodes=a,a.links=le,a}function ge(a,b){for(var c=[a];null!=(a=c.pop());)if(b(a),(e=a.children)&&(d=e.length))for(var d,e;--d>=0;)c.push(e[d])}function he(a,b){for(var c=[a],d=[];null!=(a=c.pop());)if(d.push(a),(f=a.children)&&(e=f.length))for(var e,f,g=-1;++g<e;)c.push(f[g]);for(;null!=(a=d.pop());)b(a)}function ie(a){return a.children}function je(a){return a.value}function ke(a,b){return b.value-a.value}function le(a){return jg.merge(a.map(function(a){return(a.children||[]).map(function(b){return{source:a,target:b}})}))}function me(a){return a.x}function ne(a){return a.y}function oe(a,b,c){a.y0=b,a.y=c}function pe(a){return jg.range(a.length)}function qe(a){for(var b=-1,c=a[0].length,d=[];++b<c;)d[b]=0;return d}function re(a){for(var b,c=1,d=0,e=a[0][1],f=a.length;f>c;++c)(b=a[c][1])>e&&(d=c,e=b);return d}function se(a){return a.reduce(te,0)}function te(a,b){return a+b[1]}function ue(a,b){return ve(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function ve(a,b){for(var c=-1,d=+a[0],e=(a[1]-d)/b,f=[];++c<=b;)f[c]=e*c+d;return f}function we(a){return[jg.min(a),jg.max(a)]}function xe(a,b){return a.value-b.value}function ye(a,b){var c=a._pack_next;a._pack_next=b,b._pack_prev=a,b._pack_next=c,c._pack_prev=b}function ze(a,b){a._pack_next=b,b._pack_prev=a}function Ae(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.r+b.r;return.999*e*e>c*c+d*d}function Be(a){function b(a){k=Math.min(a.x-a.r,k),l=Math.max(a.x+a.r,l),m=Math.min(a.y-a.r,m),n=Math.max(a.y+a.r,n)}if((c=a.children)&&(j=c.length)){var c,d,e,f,g,h,i,j,k=1/0,l=-(1/0),m=1/0,n=-(1/0);if(c.forEach(Ce),d=c[0],d.x=-d.r,d.y=0,b(d),j>1&&(e=c[1],e.x=e.r,e.y=0,b(e),j>2))for(f=c[2],Fe(d,e,f),b(f),ye(d,f),d._pack_prev=f,ye(f,e),e=d._pack_next,g=3;j>g;g++){Fe(d,e,f=c[g]);var o=0,p=1,q=1;for(h=e._pack_next;h!==e;h=h._pack_next,p++)if(Ae(h,f)){o=1;break}if(1==o)for(i=d._pack_prev;i!==h._pack_prev&&!Ae(i,f);i=i._pack_prev,q++);o?(q>p||p==q&&e.r<d.r?ze(d,e=h):ze(d=i,e),g--):(ye(d,f),e=f,b(f))}var r=(k+l)/2,s=(m+n)/2,t=0;for(g=0;j>g;g++)f=c[g],f.x-=r,f.y-=s,t=Math.max(t,f.r+Math.sqrt(f.x*f.x+f.y*f.y));a.r=t,c.forEach(De)}}function Ce(a){a._pack_next=a._pack_prev=a}function De(a){delete a._pack_next,delete a._pack_prev}function Ee(a,b,c,d){var e=a.children;if(a.x=b+=d*a.x,a.y=c+=d*a.y,a.r*=d,e)for(var f=-1,g=e.length;++f<g;)Ee(e[f],b,c,d)}function Fe(a,b,c){var d=a.r+c.r,e=b.x-a.x,f=b.y-a.y;if(d&&(e||f)){var g=b.r+c.r,h=e*e+f*f;g*=g,d*=d;var i=.5+(d-g)/(2*h),j=Math.sqrt(Math.max(0,2*g*(d+h)-(d-=h)*d-g*g))/(2*h);c.x=a.x+i*e+j*f,c.y=a.y+i*f-j*e}else c.x=a.x+d,c.y=a.y}function Ge(a,b){return a.parent==b.parent?1:2}function He(a){var b=a.children;return b.length?b[0]:a.t}function Ie(a){var b,c=a.children;return(b=c.length)?c[b-1]:a.t}function Je(a,b,c){var d=c/(b.i-a.i);b.c-=d,b.s+=c,a.c+=d,b.z+=c,b.m+=c}function Ke(a){for(var b,c=0,d=0,e=a.children,f=e.length;--f>=0;)b=e[f],b.z+=c,b.m+=c,c+=b.s+(d+=b.c)}function Le(a,b,c){return a.a.parent===b.parent?a.a:c}function Me(a){return 1+jg.max(a,function(a){return a.y})}function Ne(a){return a.reduce(function(a,b){return a+b.x},0)/a.length}function Oe(a){var b=a.children;return b&&b.length?Oe(b[0]):a}function Pe(a){var b,c=a.children;return c&&(b=c.length)?Pe(c[b-1]):a}function Qe(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function Re(a,b){var c=a.x+b[3],d=a.y+b[0],e=a.dx-b[1]-b[3],f=a.dy-b[0]-b[2];return 0>e&&(c+=e/2,e=0),0>f&&(d+=f/2,f=0),{x:c,y:d,dx:e,dy:f}}function Se(a){var b=a[0],c=a[a.length-1];return c>b?[b,c]:[c,b]}function Te(a){return a.rangeExtent?a.rangeExtent():Se(a.range())}function Ue(a,b,c,d){var e=c(a[0],a[1]),f=d(b[0],b[1]);return function(a){return f(e(a))}}function Ve(a,b){var c,d=0,e=a.length-1,f=a[d],g=a[e];return f>g&&(c=d,d=e,e=c,c=f,f=g,g=c),a[d]=b.floor(f),a[e]=b.ceil(g),a}function We(a){return a?{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}:yi}function Xe(a,b,c,d){var e=[],f=[],g=0,h=Math.min(a.length,b.length)-1;for(a[h]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());++g<=h;)e.push(c(a[g-1],a[g])),f.push(d(b[g-1],b[g]));return function(b){var c=jg.bisect(a,b,1,h)-1;return f[c](e[c](b))}}function Ye(a,b,c,d){function e(){var e=Math.min(a.length,b.length)>2?Xe:Ue,i=d?Yd:Xd;return g=e(a,b,i,c),h=e(b,a,i,ud),f}function f(a){return g(a)}var g,h;return f.invert=function(a){return h(a)},f.domain=function(b){return arguments.length?(a=b.map(Number),e()):a},f.range=function(a){return arguments.length?(b=a,e()):b},f.rangeRound=function(a){return f.range(a).interpolate(Md)},f.clamp=function(a){return arguments.length?(d=a,e()):d},f.interpolate=function(a){return arguments.length?(c=a,e()):c},f.ticks=function(b){return af(a,b)},f.tickFormat=function(b,c){return bf(a,b,c)},f.nice=function(b){return $e(a,b),e()},f.copy=function(){return Ye(a,b,c,d)},e()}function Ze(a,b){return jg.rebind(a,b,"range","rangeRound","interpolate","clamp")}function $e(a,b){return Ve(a,We(_e(a,b)[2])),Ve(a,We(_e(a,b)[2])),a}function _e(a,b){null==b&&(b=10);var c=Se(a),d=c[1]-c[0],e=Math.pow(10,Math.floor(Math.log(d/b)/Math.LN10)),f=b/d*e;return.15>=f?e*=10:.35>=f?e*=5:.75>=f&&(e*=2),c[0]=Math.ceil(c[0]/e)*e,c[1]=Math.floor(c[1]/e)*e+.5*e,c[2]=e,c}function af(a,b){return jg.range.apply(jg,_e(a,b))}function bf(a,b,c){var d=_e(a,b);if(c){var e=mh.exec(c);if(e.shift(),"s"===e[8]){var f=jg.formatPrefix(Math.max(vg(d[0]),vg(d[1])));return e[7]||(e[7]="."+cf(f.scale(d[2]))),e[8]="f",c=jg.format(e.join("")),function(a){return c(f.scale(a))+f.symbol}}e[7]||(e[7]="."+df(e[8],d)),c=e.join("")}else c=",."+cf(d[2])+"f";return jg.format(c)}function cf(a){return-Math.floor(Math.log(a)/Math.LN10+.01)}function df(a,b){var c=cf(b[2]);return a in zi?Math.abs(c-cf(Math.max(vg(b[0]),vg(b[1]))))+ +("e"!==a):c-2*("%"===a)}function ef(a,b,c,d){function e(a){return(c?Math.log(0>a?0:a):-Math.log(a>0?0:-a))/Math.log(b)}function f(a){return c?Math.pow(b,a):-Math.pow(b,-a)}function g(b){return a(e(b))}return g.invert=function(b){return f(a.invert(b))},g.domain=function(b){return arguments.length?(c=b[0]>=0,a.domain((d=b.map(Number)).map(e)),g):d},g.base=function(c){return arguments.length?(b=+c,a.domain(d.map(e)),g):b},g.nice=function(){var b=Ve(d.map(e),c?Math:Bi);return a.domain(b),d=b.map(f),g},g.ticks=function(){var a=Se(d),g=[],h=a[0],i=a[1],j=Math.floor(e(h)),k=Math.ceil(e(i)),l=b%1?2:b;if(isFinite(k-j)){if(c){for(;k>j;j++)for(var m=1;l>m;m++)g.push(f(j)*m);g.push(f(j))}else for(g.push(f(j));j++<k;)for(var m=l-1;m>0;m--)g.push(f(j)*m);for(j=0;g[j]<h;j++);for(k=g.length;g[k-1]>i;k--);g=g.slice(j,k)}return g},g.tickFormat=function(a,c){if(!arguments.length)return Ai;arguments.length<2?c=Ai:"function"!=typeof c&&(c=jg.format(c));var d=Math.max(1,b*a/g.ticks().length);return function(a){var g=a/f(Math.round(e(a)));return b-.5>g*b&&(g*=b),d>=g?c(a):""}},g.copy=function(){return ef(a.copy(),b,c,d)},Ze(g,a)}function ff(a,b,c){function d(b){return a(e(b))}var e=gf(b),f=gf(1/b);return d.invert=function(b){return f(a.invert(b))},d.domain=function(b){return arguments.length?(a.domain((c=b.map(Number)).map(e)),d):c},d.ticks=function(a){return af(c,a)},d.tickFormat=function(a,b){return bf(c,a,b)},d.nice=function(a){return d.domain($e(c,a))},d.exponent=function(g){return arguments.length?(e=gf(b=g),f=gf(1/b),a.domain(c.map(e)),d):b},d.copy=function(){return ff(a.copy(),b,c)},Ze(d,a)}function gf(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function hf(a,b){function c(c){return f[((e.get(c)||("range"===b.t?e.set(c,a.push(c)):NaN))-1)%f.length]}function d(b,c){return jg.range(a.length).map(function(a){return b+c*a})}var e,f,g;return c.domain=function(d){if(!arguments.length)return a;a=[],e=new l;for(var f,g=-1,h=d.length;++g<h;)e.has(f=d[g])||e.set(f,a.push(f));return c[b.t].apply(c,b.a)},c.range=function(a){return arguments.length?(f=a,g=0,b={t:"range",a:arguments},c):f},c.rangePoints=function(e,h){arguments.length<2&&(h=0);var i=e[0],j=e[1],k=a.length<2?(i=(i+j)/2,0):(j-i)/(a.length-1+h);return f=d(i+k*h/2,k),g=0,b={t:"rangePoints",a:arguments},c},c.rangeRoundPoints=function(e,h){arguments.length<2&&(h=0);var i=e[0],j=e[1],k=a.length<2?(i=j=Math.round((i+j)/2),0):(j-i)/(a.length-1+h)|0;return f=d(i+Math.round(k*h/2+(j-i-(a.length-1+h)*k)/2),k),g=0,b={t:"rangeRoundPoints",a:arguments},c},c.rangeBands=function(e,h,i){arguments.length<2&&(h=0),arguments.length<3&&(i=h);var j=e[1]<e[0],k=e[j-0],l=e[1-j],m=(l-k)/(a.length-h+2*i);return f=d(k+m*i,m),j&&f.reverse(),g=m*(1-h),b={t:"rangeBands",a:arguments},c},c.rangeRoundBands=function(e,h,i){arguments.length<2&&(h=0),arguments.length<3&&(i=h);var j=e[1]<e[0],k=e[j-0],l=e[1-j],m=Math.floor((l-k)/(a.length-h+2*i));return f=d(k+Math.round((l-k-(a.length-h)*m)/2),m),j&&f.reverse(),g=Math.round(m*(1-h)),b={t:"rangeRoundBands",a:arguments},c},c.rangeBand=function(){return g},c.rangeExtent=function(){return Se(b.a[0])},c.copy=function(){return hf(a,b)},c.domain(a)}function jf(a,b){function c(){var c=0,e=b.length;for(h=[];++c<e;)h[c-1]=jg.quantile(a,c/e);return d}function d(a){return isNaN(a=+a)?void 0:b[jg.bisect(h,a)]}var h;return d.domain=function(b){return arguments.length?(a=b.map(f).filter(g).sort(e),c()):a},d.range=function(a){return arguments.length?(b=a,c()):b},d.quantiles=function(){return h},d.invertExtent=function(c){return c=b.indexOf(c),0>c?[NaN,NaN]:[c>0?h[c-1]:a[0],c<h.length?h[c]:a[a.length-1]]},d.copy=function(){return jf(a,b)},c()}function kf(a,b,c){function d(b){return c[Math.max(0,Math.min(g,Math.floor(f*(b-a))))]}function e(){return f=c.length/(b-a),g=c.length-1,d}var f,g;return d.domain=function(c){return arguments.length?(a=+c[0],b=+c[c.length-1],e()):[a,b]},d.range=function(a){return arguments.length?(c=a,e()):c},d.invertExtent=function(b){return b=c.indexOf(b),b=0>b?NaN:b/f+a,[b,b+1/f]},d.copy=function(){return kf(a,b,c)},e()}function lf(a,b){function c(c){return c>=c?b[jg.bisect(a,c)]:void 0}return c.domain=function(b){return arguments.length?(a=b,c):a},c.range=function(a){return arguments.length?(b=a,c):b},c.invertExtent=function(c){return c=b.indexOf(c),[a[c-1],a[c]]},c.copy=function(){return lf(a,b)},c}function mf(a){function b(a){return+a}return b.invert=b,b.domain=b.range=function(c){return arguments.length?(a=c.map(b),b):a},b.ticks=function(b){return af(a,b)},b.tickFormat=function(b,c){return bf(a,b,c)},b.copy=function(){return mf(a)},b}function nf(){return 0}function of(a){return a.innerRadius}function pf(a){return a.outerRadius}function qf(a){return a.startAngle}function rf(a){return a.endAngle}function sf(a){return a&&a.padAngle}function tf(a,b,c,d){return(a-c)*b-(b-d)*a>0?0:1}function uf(a,b,c,d,e){var f=a[0]-b[0],g=a[1]-b[1],h=(e?d:-d)/Math.sqrt(f*f+g*g),i=h*g,j=-h*f,k=a[0]+i,l=a[1]+j,m=b[0]+i,n=b[1]+j,o=(k+m)/2,p=(l+n)/2,q=m-k,r=n-l,s=q*q+r*r,t=c-d,u=k*n-m*l,v=(0>r?-1:1)*Math.sqrt(Math.max(0,t*t*s-u*u)),w=(u*r-q*v)/s,x=(-u*q-r*v)/s,y=(u*r+q*v)/s,z=(-u*q+r*v)/s,A=w-o,B=x-p,C=y-o,D=z-p;return A*A+B*B>C*C+D*D&&(w=y,x=z),[[w-i,x-j],[w*c/t,x*c/t]]}function vf(a){function b(b){function g(){j.push("M",f(a(k),h))}for(var i,j=[],k=[],l=-1,m=b.length,n=Ca(c),o=Ca(d);++l<m;)e.call(this,i=b[l],l)?k.push([+n.call(this,i,l),+o.call(this,i,l)]):k.length&&(g(),k=[]);return k.length&&g(),j.length?j.join(""):null}var c=Ec,d=Fc,e=Fb,f=wf,g=f.key,h=.7;return b.x=function(a){return arguments.length?(c=a,b):c},b.y=function(a){return arguments.length?(d=a,b):d},b.defined=function(a){return arguments.length?(e=a,b):e},b.interpolate=function(a){return arguments.length?(g="function"==typeof a?f=a:(f=Hi.get(a)||wf).key,b):g},b.tension=function(a){return arguments.length?(h=a,b):h},b}function wf(a){return a.length>1?a.join("L"):a+"Z"}function xf(a){return a.join("L")+"Z"}function yf(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d[0]+(d=a[b])[0])/2,"V",d[1]);return c>1&&e.push("H",d[0]),e.join("")}function zf(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("V",(d=a[b])[1],"H",d[0]);return e.join("")}function Af(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d=a[b])[0],"V",d[1]);return e.join("")}function Bf(a,b){return a.length<4?wf(a):a[1]+Ef(a.slice(1,-1),Ff(a,b))}function Cf(a,b){return a.length<3?xf(a):a[0]+Ef((a.push(a[0]),a),Ff([a[a.length-2]].concat(a,[a[1]]),b))}function Df(a,b){return a.length<3?wf(a):a[0]+Ef(a,Ff(a,b))}function Ef(a,b){if(b.length<1||a.length!=b.length&&a.length!=b.length+2)return wf(a);var c=a.length!=b.length,d="",e=a[0],f=a[1],g=b[0],h=g,i=1;if(c&&(d+="Q"+(f[0]-2*g[0]/3)+","+(f[1]-2*g[1]/3)+","+f[0]+","+f[1],e=a[1],i=2),b.length>1){h=b[1],f=a[i],i++,d+="C"+(e[0]+g[0])+","+(e[1]+g[1])+","+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1];for(var j=2;j<b.length;j++,i++)f=a[i],h=b[j],d+="S"+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1]}if(c){var k=a[i];d+="Q"+(f[0]+2*h[0]/3)+","+(f[1]+2*h[1]/3)+","+k[0]+","+k[1]}return d}function Ff(a,b){for(var c,d=[],e=(1-b)/2,f=a[0],g=a[1],h=1,i=a.length;++h<i;)c=f,f=g,g=a[h],d.push([e*(g[0]-c[0]),e*(g[1]-c[1])]);return d}function Gf(a){if(a.length<3)return wf(a);var b=1,c=a.length,d=a[0],e=d[0],f=d[1],g=[e,e,e,(d=a[1])[0]],h=[f,f,f,d[1]],i=[e,",",f,"L",Kf(Ki,g),",",Kf(Ki,h)];for(a.push(a[c-1]);++b<=c;)d=a[b],g.shift(),g.push(d[0]),h.shift(),h.push(d[1]),Lf(i,g,h);return a.pop(),i.push("L",d),i.join("")}function Hf(a){if(a.length<4)return wf(a);for(var b,c=[],d=-1,e=a.length,f=[0],g=[0];++d<3;)b=a[d],f.push(b[0]),g.push(b[1]);for(c.push(Kf(Ki,f)+","+Kf(Ki,g)),--d;++d<e;)b=a[d],f.shift(),f.push(b[0]),g.shift(),g.push(b[1]),Lf(c,f,g);return c.join("")}function If(a){for(var b,c,d=-1,e=a.length,f=e+4,g=[],h=[];++d<4;)c=a[d%e],g.push(c[0]),h.push(c[1]);for(b=[Kf(Ki,g),",",Kf(Ki,h)],--d;++d<f;)c=a[d%e],g.shift(),g.push(c[0]),h.shift(),h.push(c[1]),Lf(b,g,h);return b.join("")}function Jf(a,b){var c=a.length-1;if(c)for(var d,e,f=a[0][0],g=a[0][1],h=a[c][0]-f,i=a[c][1]-g,j=-1;++j<=c;)d=a[j],e=j/c,d[0]=b*d[0]+(1-b)*(f+e*h),d[1]=b*d[1]+(1-b)*(g+e*i);return Gf(a)}function Kf(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function Lf(a,b,c){a.push("C",Kf(Ii,b),",",Kf(Ii,c),",",Kf(Ji,b),",",Kf(Ji,c),",",Kf(Ki,b),",",Kf(Ki,c))}function Mf(a,b){return(b[1]-a[1])/(b[0]-a[0])}function Nf(a){for(var b=0,c=a.length-1,d=[],e=a[0],f=a[1],g=d[0]=Mf(e,f);++b<c;)d[b]=(g+(g=Mf(e=f,f=a[b+1])))/2;return d[b]=g,d}function Of(a){for(var b,c,d,e,f=[],g=Nf(a),h=-1,i=a.length-1;++h<i;)b=Mf(a[h],a[h+1]),vg(b)<Lg?g[h]=g[h+1]=0:(c=g[h]/b,d=g[h+1]/b,e=c*c+d*d,e>9&&(e=3*b/Math.sqrt(e),g[h]=e*c,g[h+1]=e*d));for(h=-1;++h<=i;)e=(a[Math.min(i,h+1)][0]-a[Math.max(0,h-1)][0])/(6*(1+g[h]*g[h])),f.push([e||0,g[h]*e||0]);return f}function Pf(a){return a.length<3?wf(a):a[0]+Ef(a,Of(a))}function Qf(a){for(var b,c,d,e=-1,f=a.length;++e<f;)b=a[e],c=b[0],d=b[1]-Qg,b[0]=c*Math.cos(d),b[1]=c*Math.sin(d);return a}function Rf(a){function b(b){function i(){p.push("M",h(a(r),l),k,j(a(q.reverse()),l),"Z")}for(var m,n,o,p=[],q=[],r=[],s=-1,t=b.length,u=Ca(c),v=Ca(e),w=c===d?function(){return n}:Ca(d),x=e===f?function(){return o}:Ca(f);++s<t;)g.call(this,m=b[s],s)?(q.push([n=+u.call(this,m,s),o=+v.call(this,m,s)]),r.push([+w.call(this,m,s),+x.call(this,m,s)])):q.length&&(i(),q=[],r=[]);return q.length&&i(),p.length?p.join(""):null}var c=Ec,d=Ec,e=0,f=Fc,g=Fb,h=wf,i=h.key,j=h,k="L",l=.7;return b.x=function(a){return arguments.length?(c=d=a,b):d},b.x0=function(a){return arguments.length?(c=a,b):c},b.x1=function(a){return arguments.length?(d=a,b):d},b.y=function(a){return arguments.length?(e=f=a,b):f},b.y0=function(a){return arguments.length?(e=a,b):e},b.y1=function(a){return arguments.length?(f=a,b):f},b.defined=function(a){return arguments.length?(g=a,b):g},b.interpolate=function(a){return arguments.length?(i="function"==typeof a?h=a:(h=Hi.get(a)||wf).key,j=h.reverse||h,k=h.closed?"M":"L",b):i},b.tension=function(a){return arguments.length?(l=a,b):l},b}function Sf(a){return a.radius}function Tf(a){return[a.x,a.y]}function Uf(a){return function(){var b=a.apply(this,arguments),c=b[0],d=b[1]-Qg;return[c*Math.cos(d),c*Math.sin(d)]}}function Vf(){return 64}function Wf(){return"circle"}function Xf(a){var b=Math.sqrt(a/Ng);return"M0,"+b+"A"+b+","+b+" 0 1,1 0,"+-b+"A"+b+","+b+" 0 1,1 0,"+b+"Z"}function Yf(a){return function(){var b,c,d;(b=this[a])&&(d=b[c=b.active])&&(d.timer.c=null,d.timer.t=NaN,--b.count?delete b[c]:delete this[a],b.active+=.5,d.event&&d.event.interrupt.call(this,this.__data__,d.index))}}function Zf(a,b,c){return Ag(a,Ri),a.namespace=b,a.id=c,a}function $f(a,b,c,d){var e=a.id,f=a.namespace;return T(a,"function"==typeof c?function(a,g,h){a[f][e].tween.set(b,d(c.call(a,a.__data__,g,h)))}:(c=d(c),function(a){a[f][e].tween.set(b,c)}))}function _f(a){return null==a&&(a=""),function(){this.textContent=a}}function ag(a){return null==a?"__transition__":"__transition_"+a+"__"}function bg(a,b,c,d,e){function f(a){var b=p.delay;return j.t=b+i,a>=b?g(a-b):void(j.c=g)}function g(c){var e=o.active,f=o[e];f&&(f.timer.c=null,f.timer.t=NaN,--o.count,delete o[e],f.event&&f.event.interrupt.call(a,a.__data__,f.index));for(var g in o)if(d>+g){var l=o[g];l.timer.c=null,l.timer.t=NaN,--o.count,delete o[g]}j.c=h,Ha(function(){return j.c&&h(c||1)&&(j.c=null,j.t=NaN),1},0,i),o.active=d,p.event&&p.event.start.call(a,a.__data__,b),n=[],p.tween.forEach(function(c,d){(d=d.call(a,a.__data__,b))&&n.push(d)}),m=p.ease,k=p.duration}function h(e){for(var f=e/k,g=m(f),h=n.length;h>0;)n[--h].call(a,g);return f>=1?(p.event&&p.event.end.call(a,a.__data__,b),--o.count?delete o[d]:delete a[c],1):void 0}var i,j,k,m,n,o=a[c]||(a[c]={active:0,count:0}),p=o[d];p||(i=e.time,j=Ha(f,0,i),p=o[d]={tween:new l,time:i,timer:j,delay:e.delay,duration:e.duration,ease:e.ease,index:b},e=null,++o.count)}function cg(a,b,c){a.attr("transform",function(a){var d=b(a);return"translate("+(isFinite(d)?d:c(a))+",0)"})}function dg(a,b,c){a.attr("transform",function(a){var d=b(a);return"translate(0,"+(isFinite(d)?d:c(a))+")"})}function eg(a){return a.toISOString()}function fg(a,b,c){function d(b){return a(b)}function e(a,c){var d=a[1]-a[0],e=d/c,f=jg.bisect($i,e);return f==$i.length?[b.year,_e(a.map(function(a){return a/31536e6}),c)[2]]:f?b[e/$i[f-1]<$i[f]/e?f-1:f]:[bj,_e(a,c)[2]]}return d.invert=function(b){return gg(a.invert(b))},d.domain=function(b){return arguments.length?(a.domain(b),d):a.domain().map(gg)},d.nice=function(a,b){function c(c){return!isNaN(c)&&!a.range(c,gg(+c+1),b).length}var f=d.domain(),g=Se(f),h=null==a?e(g,10):"number"==typeof a&&e(g,a);
return h&&(a=h[0],b=h[1]),d.domain(Ve(f,b>1?{floor:function(b){for(;c(b=a.floor(b));)b=gg(b-1);return b},ceil:function(b){for(;c(b=a.ceil(b));)b=gg(+b+1);return b}}:a))},d.ticks=function(a,b){var c=Se(d.domain()),f=null==a?e(c,10):"number"==typeof a?e(c,a):!a.range&&[{range:a},b];return f&&(a=f[0],b=f[1]),a.range(c[0],gg(+c[1]+1),1>b?1:b)},d.tickFormat=function(){return c},d.copy=function(){return fg(a.copy(),b,c)},Ze(d,a)}function gg(a){return new Date(a)}function hg(a){return JSON.parse(a.responseText)}function ig(a){var b=mg.createRange();return b.selectNode(mg.body),b.createContextualFragment(a.responseText)}var jg={version:"3.5.13"},kg=[].slice,lg=function(a){return kg.call(a)},mg=this.document;if(mg)try{lg(mg.documentElement.childNodes)[0].nodeType}catch(ng){lg=function(a){for(var b=a.length,c=new Array(b);b--;)c[b]=a[b];return c}}if(Date.now||(Date.now=function(){return+new Date}),mg)try{mg.createElement("DIV").style.setProperty("opacity",0,"")}catch(og){var pg=this.Element.prototype,qg=pg.setAttribute,rg=pg.setAttributeNS,sg=this.CSSStyleDeclaration.prototype,tg=sg.setProperty;pg.setAttribute=function(a,b){qg.call(this,a,b+"")},pg.setAttributeNS=function(a,b,c){rg.call(this,a,b,c+"")},sg.setProperty=function(a,b,c){tg.call(this,a,b+"",c)}}jg.ascending=e,jg.descending=function(a,b){return a>b?-1:b>a?1:b>=a?0:NaN},jg.min=function(a,b){var c,d,e=-1,f=a.length;if(1===arguments.length){for(;++e<f;)if(null!=(d=a[e])&&d>=d){c=d;break}for(;++e<f;)null!=(d=a[e])&&c>d&&(c=d)}else{for(;++e<f;)if(null!=(d=b.call(a,a[e],e))&&d>=d){c=d;break}for(;++e<f;)null!=(d=b.call(a,a[e],e))&&c>d&&(c=d)}return c},jg.max=function(a,b){var c,d,e=-1,f=a.length;if(1===arguments.length){for(;++e<f;)if(null!=(d=a[e])&&d>=d){c=d;break}for(;++e<f;)null!=(d=a[e])&&d>c&&(c=d)}else{for(;++e<f;)if(null!=(d=b.call(a,a[e],e))&&d>=d){c=d;break}for(;++e<f;)null!=(d=b.call(a,a[e],e))&&d>c&&(c=d)}return c},jg.extent=function(a,b){var c,d,e,f=-1,g=a.length;if(1===arguments.length){for(;++f<g;)if(null!=(d=a[f])&&d>=d){c=e=d;break}for(;++f<g;)null!=(d=a[f])&&(c>d&&(c=d),d>e&&(e=d))}else{for(;++f<g;)if(null!=(d=b.call(a,a[f],f))&&d>=d){c=e=d;break}for(;++f<g;)null!=(d=b.call(a,a[f],f))&&(c>d&&(c=d),d>e&&(e=d))}return[c,e]},jg.sum=function(a,b){var c,d=0,e=a.length,f=-1;if(1===arguments.length)for(;++f<e;)g(c=+a[f])&&(d+=c);else for(;++f<e;)g(c=+b.call(a,a[f],f))&&(d+=c);return d},jg.mean=function(a,b){var c,d=0,e=a.length,h=-1,i=e;if(1===arguments.length)for(;++h<e;)g(c=f(a[h]))?d+=c:--i;else for(;++h<e;)g(c=f(b.call(a,a[h],h)))?d+=c:--i;return i?d/i:void 0},jg.quantile=function(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=+a[d-1],f=c-d;return f?e+f*(a[d]-e):e},jg.median=function(a,b){var c,d=[],h=a.length,i=-1;if(1===arguments.length)for(;++i<h;)g(c=f(a[i]))&&d.push(c);else for(;++i<h;)g(c=f(b.call(a,a[i],i)))&&d.push(c);return d.length?jg.quantile(d.sort(e),.5):void 0},jg.variance=function(a,b){var c,d,e=a.length,h=0,i=0,j=-1,k=0;if(1===arguments.length)for(;++j<e;)g(c=f(a[j]))&&(d=c-h,h+=d/++k,i+=d*(c-h));else for(;++j<e;)g(c=f(b.call(a,a[j],j)))&&(d=c-h,h+=d/++k,i+=d*(c-h));return k>1?i/(k-1):void 0},jg.deviation=function(){var a=jg.variance.apply(this,arguments);return a?Math.sqrt(a):a};var ug=h(e);jg.bisectLeft=ug.left,jg.bisect=jg.bisectRight=ug.right,jg.bisector=function(a){return h(1===a.length?function(b,c){return e(a(b),c)}:a)},jg.shuffle=function(a,b,c){(f=arguments.length)<3&&(c=a.length,2>f&&(b=0));for(var d,e,f=c-b;f;)e=Math.random()*f--|0,d=a[f+b],a[f+b]=a[e+b],a[e+b]=d;return a},jg.permute=function(a,b){for(var c=b.length,d=new Array(c);c--;)d[c]=a[b[c]];return d},jg.pairs=function(a){for(var b,c=0,d=a.length-1,e=a[0],f=new Array(0>d?0:d);d>c;)f[c]=[b=e,e=a[++c]];return f},jg.zip=function(){if(!(d=arguments.length))return[];for(var a=-1,b=jg.min(arguments,i),c=new Array(b);++a<b;)for(var d,e=-1,f=c[a]=new Array(d);++e<d;)f[e]=arguments[e][a];return c},jg.transpose=function(a){return jg.zip.apply(jg,a)},jg.keys=function(a){var b=[];for(var c in a)b.push(c);return b},jg.values=function(a){var b=[];for(var c in a)b.push(a[c]);return b},jg.entries=function(a){var b=[];for(var c in a)b.push({key:c,value:a[c]});return b},jg.merge=function(a){for(var b,c,d,e=a.length,f=-1,g=0;++f<e;)g+=a[f].length;for(c=new Array(g);--e>=0;)for(d=a[e],b=d.length;--b>=0;)c[--g]=d[b];return c};var vg=Math.abs;jg.range=function(a,b,c){if(arguments.length<3&&(c=1,arguments.length<2&&(b=a,a=0)),(b-a)/c===1/0)throw new Error("infinite range");var d,e=[],f=j(vg(c)),g=-1;if(a*=f,b*=f,c*=f,0>c)for(;(d=a+c*++g)>b;)e.push(d/f);else for(;(d=a+c*++g)<b;)e.push(d/f);return e},jg.map=function(a,b){var c=new l;if(a instanceof l)a.forEach(function(a,b){c.set(a,b)});else if(Array.isArray(a)){var d,e=-1,f=a.length;if(1===arguments.length)for(;++e<f;)c.set(e,a[e]);else for(;++e<f;)c.set(b.call(a,d=a[e],e),d)}else for(var g in a)c.set(g,a[g]);return c};var wg="__proto__",xg="\x00";k(l,{has:o,get:function(a){return this._[m(a)]},set:function(a,b){return this._[m(a)]=b},remove:p,keys:q,values:function(){var a=[];for(var b in this._)a.push(this._[b]);return a},entries:function(){var a=[];for(var b in this._)a.push({key:n(b),value:this._[b]});return a},size:r,empty:s,forEach:function(a){for(var b in this._)a.call(this,n(b),this._[b])}}),jg.nest=function(){function a(b,g,h){if(h>=f.length)return d?d.call(e,g):c?g.sort(c):g;for(var i,j,k,m,n=-1,o=g.length,p=f[h++],q=new l;++n<o;)(m=q.get(i=p(j=g[n])))?m.push(j):q.set(i,[j]);return b?(j=b(),k=function(c,d){j.set(c,a(b,d,h))}):(j={},k=function(c,d){j[c]=a(b,d,h)}),q.forEach(k),j}function b(a,c){if(c>=f.length)return a;var d=[],e=g[c++];return a.forEach(function(a,e){d.push({key:a,values:b(e,c)})}),e?d.sort(function(a,b){return e(a.key,b.key)}):d}var c,d,e={},f=[],g=[];return e.map=function(b,c){return a(c,b,0)},e.entries=function(c){return b(a(jg.map,c,0),0)},e.key=function(a){return f.push(a),e},e.sortKeys=function(a){return g[f.length-1]=a,e},e.sortValues=function(a){return c=a,e},e.rollup=function(a){return d=a,e},e},jg.set=function(a){var b=new t;if(a)for(var c=0,d=a.length;d>c;++c)b.add(a[c]);return b},k(t,{has:o,add:function(a){return this._[m(a+="")]=!0,a},remove:p,values:q,size:r,empty:s,forEach:function(a){for(var b in this._)a.call(this,n(b))}}),jg.behavior={},jg.rebind=function(a,b){for(var c,d=1,e=arguments.length;++d<e;)a[c=arguments[d]]=v(a,b,b[c]);return a};var yg=["webkit","ms","moz","Moz","o","O"];jg.dispatch=function(){for(var a=new y,b=-1,c=arguments.length;++b<c;)a[arguments[b]]=z(a);return a},y.prototype.on=function(a,b){var c=a.indexOf("."),d="";if(c>=0&&(d=a.slice(c+1),a=a.slice(0,c)),a)return arguments.length<2?this[a].on(d):this[a].on(d,b);if(2===arguments.length){if(null==b)for(a in this)this.hasOwnProperty(a)&&this[a].on(d,null);return this}},jg.event=null,jg.requote=function(a){return a.replace(zg,"\\$&")};var zg=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Ag={}.__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=b[c]},Bg=function(a,b){return b.querySelector(a)},Cg=function(a,b){return b.querySelectorAll(a)},Dg=function(a,b){var c=a.matches||a[w(a,"matchesSelector")];return(Dg=function(a,b){return c.call(a,b)})(a,b)};"function"==typeof Sizzle&&(Bg=function(a,b){return Sizzle(a,b)[0]||null},Cg=Sizzle,Dg=Sizzle.matchesSelector),jg.selection=function(){return jg.select(mg.documentElement)};var Eg=jg.selection.prototype=[];Eg.select=function(a){var b,c,d,e,f=[];a=E(a);for(var g=-1,h=this.length;++g<h;){f.push(b=[]),b.parentNode=(d=this[g]).parentNode;for(var i=-1,j=d.length;++i<j;)(e=d[i])?(b.push(c=a.call(e,e.__data__,i,g)),c&&"__data__"in e&&(c.__data__=e.__data__)):b.push(null)}return D(f)},Eg.selectAll=function(a){var b,c,d=[];a=F(a);for(var e=-1,f=this.length;++e<f;)for(var g=this[e],h=-1,i=g.length;++h<i;)(c=g[h])&&(d.push(b=lg(a.call(c,c.__data__,h,e))),b.parentNode=c);return D(d)};var Fg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};jg.ns={prefix:Fg,qualify:function(a){var b=a.indexOf(":"),c=a;return b>=0&&"xmlns"!==(c=a.slice(0,b))&&(a=a.slice(b+1)),Fg.hasOwnProperty(c)?{space:Fg[c],local:a}:a}},Eg.attr=function(a,b){if(arguments.length<2){if("string"==typeof a){var c=this.node();return a=jg.ns.qualify(a),a.local?c.getAttributeNS(a.space,a.local):c.getAttribute(a)}for(b in a)this.each(G(b,a[b]));return this}return this.each(G(a,b))},Eg.classed=function(a,b){if(arguments.length<2){if("string"==typeof a){var c=this.node(),d=(a=J(a)).length,e=-1;if(b=c.classList){for(;++e<d;)if(!b.contains(a[e]))return!1}else for(b=c.getAttribute("class");++e<d;)if(!I(a[e]).test(b))return!1;return!0}for(b in a)this.each(K(b,a[b]));return this}return this.each(K(a,b))},Eg.style=function(a,b,c){var e=arguments.length;if(3>e){if("string"!=typeof a){2>e&&(b="");for(c in a)this.each(M(c,a[c],b));return this}if(2>e){var f=this.node();return d(f).getComputedStyle(f,null).getPropertyValue(a)}c=""}return this.each(M(a,b,c))},Eg.property=function(a,b){if(arguments.length<2){if("string"==typeof a)return this.node()[a];for(b in a)this.each(N(b,a[b]));return this}return this.each(N(a,b))},Eg.text=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}:null==a?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent},Eg.html=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}:null==a?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML},Eg.append=function(a){return a=O(a),this.select(function(){return this.appendChild(a.apply(this,arguments))})},Eg.insert=function(a,b){return a=O(a),b=E(b),this.select(function(){return this.insertBefore(a.apply(this,arguments),b.apply(this,arguments)||null)})},Eg.remove=function(){return this.each(P)},Eg.data=function(a,b){function c(a,c){var d,e,f,g=a.length,k=c.length,m=Math.min(g,k),n=new Array(k),o=new Array(k),p=new Array(g);if(b){var q,r=new l,s=new Array(g);for(d=-1;++d<g;)(e=a[d])&&(r.has(q=b.call(e,e.__data__,d))?p[d]=e:r.set(q,e),s[d]=q);for(d=-1;++d<k;)(e=r.get(q=b.call(c,f=c[d],d)))?e!==!0&&(n[d]=e,e.__data__=f):o[d]=Q(f),r.set(q,!0);for(d=-1;++d<g;)d in s&&r.get(s[d])!==!0&&(p[d]=a[d])}else{for(d=-1;++d<m;)e=a[d],f=c[d],e?(e.__data__=f,n[d]=e):o[d]=Q(f);for(;k>d;++d)o[d]=Q(c[d]);for(;g>d;++d)p[d]=a[d]}o.update=n,o.parentNode=n.parentNode=p.parentNode=a.parentNode,h.push(o),i.push(n),j.push(p)}var d,e,f=-1,g=this.length;if(!arguments.length){for(a=new Array(g=(d=this[0]).length);++f<g;)(e=d[f])&&(a[f]=e.__data__);return a}var h=U([]),i=D([]),j=D([]);if("function"==typeof a)for(;++f<g;)c(d=this[f],a.call(d,d.parentNode.__data__,f));else for(;++f<g;)c(d=this[f],a);return i.enter=function(){return h},i.exit=function(){return j},i},Eg.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")},Eg.filter=function(a){var b,c,d,e=[];"function"!=typeof a&&(a=R(a));for(var f=0,g=this.length;g>f;f++){e.push(b=[]),b.parentNode=(c=this[f]).parentNode;for(var h=0,i=c.length;i>h;h++)(d=c[h])&&a.call(d,d.__data__,h,f)&&b.push(d)}return D(e)},Eg.order=function(){for(var a=-1,b=this.length;++a<b;)for(var c,d=this[a],e=d.length-1,f=d[e];--e>=0;)(c=d[e])&&(f&&f!==c.nextSibling&&f.parentNode.insertBefore(c,f),f=c);return this},Eg.sort=function(a){a=S.apply(this,arguments);for(var b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()},Eg.each=function(a){return T(this,function(b,c,d){a.call(b,b.__data__,c,d)})},Eg.call=function(a){var b=lg(arguments);return a.apply(b[0]=this,b),this},Eg.empty=function(){return!this.node()},Eg.node=function(){for(var a=0,b=this.length;b>a;a++)for(var c=this[a],d=0,e=c.length;e>d;d++){var f=c[d];if(f)return f}return null},Eg.size=function(){var a=0;return T(this,function(){++a}),a};var Gg=[];jg.selection.enter=U,jg.selection.enter.prototype=Gg,Gg.append=Eg.append,Gg.empty=Eg.empty,Gg.node=Eg.node,Gg.call=Eg.call,Gg.size=Eg.size,Gg.select=function(a){for(var b,c,d,e,f,g=[],h=-1,i=this.length;++h<i;){d=(e=this[h]).update,g.push(b=[]),b.parentNode=e.parentNode;for(var j=-1,k=e.length;++j<k;)(f=e[j])?(b.push(d[j]=c=a.call(e.parentNode,f.__data__,j,h)),c.__data__=f.__data__):b.push(null)}return D(g)},Gg.insert=function(a,b){return arguments.length<2&&(b=V(this)),Eg.insert.call(this,a,b)},jg.select=function(a){var b;return"string"==typeof a?(b=[Bg(a,mg)],b.parentNode=mg.documentElement):(b=[a],b.parentNode=c(a)),D([b])},jg.selectAll=function(a){var b;return"string"==typeof a?(b=lg(Cg(a,mg)),b.parentNode=mg.documentElement):(b=lg(a),b.parentNode=null),D([b])},Eg.on=function(a,b,c){var d=arguments.length;if(3>d){if("string"!=typeof a){2>d&&(b=!1);for(c in a)this.each(W(c,a[c],b));return this}if(2>d)return(d=this.node()["__on"+a])&&d._;c=!1}return this.each(W(a,b,c))};var Hg=jg.map({mouseenter:"mouseover",mouseleave:"mouseout"});mg&&Hg.forEach(function(a){"on"+a in mg&&Hg.remove(a)});var Ig,Jg=0;jg.mouse=function(a){return $(a,B())};var Kg=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;jg.touch=function(a,b,c){if(arguments.length<3&&(c=b,b=B().changedTouches),b)for(var d,e=0,f=b.length;f>e;++e)if((d=b[e]).identifier===c)return $(a,d)},jg.behavior.drag=function(){function a(){this.on("mousedown.drag",f).on("touchstart.drag",g)}function b(a,b,d,f,g){return function(){function h(){var a,c,d=b(m,p);d&&(a=d[0]-t[0],c=d[1]-t[1],o|=a|c,t=d,n({type:"drag",x:d[0]+j[0],y:d[1]+j[1],dx:a,dy:c}))}function i(){b(m,p)&&(r.on(f+q,null).on(g+q,null),s(o),n({type:"dragend"}))}var j,k=this,l=jg.event.target,m=k.parentNode,n=c.of(k,arguments),o=0,p=a(),q=".drag"+(null==p?"":"-"+p),r=jg.select(d(l)).on(f+q,h).on(g+q,i),s=Z(l),t=b(m,p);e?(j=e.apply(k,arguments),j=[j.x-t[0],j.y-t[1]]):j=[0,0],n({type:"dragstart"})}}var c=C(a,"drag","dragstart","dragend"),e=null,f=b(x,jg.mouse,d,"mousemove","mouseup"),g=b(_,jg.touch,u,"touchmove","touchend");return a.origin=function(b){return arguments.length?(e=b,a):e},jg.rebind(a,c,"on")},jg.touches=function(a,b){return arguments.length<2&&(b=B().touches),b?lg(b).map(function(b){var c=$(a,b);return c.identifier=b.identifier,c}):[]};var Lg=1e-6,Mg=Lg*Lg,Ng=Math.PI,Og=2*Ng,Pg=Og-Lg,Qg=Ng/2,Rg=Ng/180,Sg=180/Ng,Tg=Math.SQRT2,Ug=2,Vg=4;jg.interpolateZoom=function(a,b){var c,d,e=a[0],f=a[1],g=a[2],h=b[0],i=b[1],j=b[2],k=h-e,l=i-f,m=k*k+l*l;if(Mg>m)d=Math.log(j/g)/Tg,c=function(a){return[e+a*k,f+a*l,g*Math.exp(Tg*a*d)]};else{var n=Math.sqrt(m),o=(j*j-g*g+Vg*m)/(2*g*Ug*n),p=(j*j-g*g-Vg*m)/(2*j*Ug*n),q=Math.log(Math.sqrt(o*o+1)-o),r=Math.log(Math.sqrt(p*p+1)-p);d=(r-q)/Tg,c=function(a){var b=a*d,c=fa(q),h=g/(Ug*n)*(c*ga(Tg*b+q)-ea(q));return[e+h*k,f+h*l,g*c/fa(Tg*b+q)]}}return c.duration=1e3*d,c},jg.behavior.zoom=function(){function a(a){a.on(F,l).on(Xg+".zoom",n).on("dblclick.zoom",o).on(I,m)}function b(a){return[(a[0]-y.x)/y.k,(a[1]-y.y)/y.k]}function c(a){return[a[0]*y.k+y.x,a[1]*y.k+y.y]}function e(a){y.k=Math.max(B[0],Math.min(B[1],a))}function f(a,b){b=c(b),y.x+=a[0]-b[0],y.y+=a[1]-b[1]}function g(b,c,d,g){b.__chart__={x:y.x,y:y.y,k:y.k},e(Math.pow(2,g)),f(q=c,d),b=jg.select(b),D>0&&(b=b.transition().duration(D)),b.call(a.event)}function h(){v&&v.domain(u.range().map(function(a){return(a-y.x)/y.k}).map(u.invert)),x&&x.domain(w.range().map(function(a){return(a-y.y)/y.k}).map(w.invert))}function i(a){E++||a({type:"zoomstart"})}function j(a){h(),a({type:"zoom",scale:y.k,translate:[y.x,y.y]})}function k(a){--E||(a({type:"zoomend"}),q=null)}function l(){function a(){h=1,f(jg.mouse(e),m),j(g)}function c(){l.on(G,null).on(H,null),n(h),k(g)}var e=this,g=J.of(e,arguments),h=0,l=jg.select(d(e)).on(G,a).on(H,c),m=b(jg.mouse(e)),n=Z(e);Qi.call(e),i(g)}function m(){function a(){var a=jg.touches(o);return n=y.k,a.forEach(function(a){a.identifier in q&&(q[a.identifier]=b(a))}),a}function c(){var b=jg.event.target;jg.select(b).on(u,d).on(v,h),w.push(b);for(var c=jg.event.changedTouches,e=0,f=c.length;f>e;++e)q[c[e].identifier]=null;var i=a(),j=Date.now();if(1===i.length){if(500>j-t){var k=i[0];g(o,k,q[k.identifier],Math.floor(Math.log(y.k)/Math.LN2)+1),A()}t=j}else if(i.length>1){var k=i[0],l=i[1],m=k[0]-l[0],n=k[1]-l[1];r=m*m+n*n}}function d(){var a,b,c,d,g=jg.touches(o);Qi.call(o);for(var h=0,i=g.length;i>h;++h,d=null)if(c=g[h],d=q[c.identifier]){if(b)break;a=c,b=d}if(d){var k=(k=c[0]-a[0])*k+(k=c[1]-a[1])*k,l=r&&Math.sqrt(k/r);a=[(a[0]+c[0])/2,(a[1]+c[1])/2],b=[(b[0]+d[0])/2,(b[1]+d[1])/2],e(l*n)}t=null,f(a,b),j(p)}function h(){if(jg.event.touches.length){for(var b=jg.event.changedTouches,c=0,d=b.length;d>c;++c)delete q[b[c].identifier];for(var e in q)return void a()}jg.selectAll(w).on(s,null),x.on(F,l).on(I,m),z(),k(p)}var n,o=this,p=J.of(o,arguments),q={},r=0,s=".zoom-"+jg.event.changedTouches[0].identifier,u="touchmove"+s,v="touchend"+s,w=[],x=jg.select(o),z=Z(o);c(),i(p),x.on(F,null).on(I,c)}function n(){var a=J.of(this,arguments);s?clearTimeout(s):(Qi.call(this),p=b(q=r||jg.mouse(this)),i(a)),s=setTimeout(function(){s=null,k(a)},50),A(),e(Math.pow(2,.002*Wg())*y.k),f(q,p),j(a)}function o(){var a=jg.mouse(this),c=Math.log(y.k)/Math.LN2;g(this,a,b(a),jg.event.shiftKey?Math.ceil(c)-1:Math.floor(c)+1)}var p,q,r,s,t,u,v,w,x,y={x:0,y:0,k:1},z=[960,500],B=Yg,D=250,E=0,F="mousedown.zoom",G="mousemove.zoom",H="mouseup.zoom",I="touchstart.zoom",J=C(a,"zoomstart","zoom","zoomend");return Xg||(Xg="onwheel"in mg?(Wg=function(){return-jg.event.deltaY*(jg.event.deltaMode?120:1)},"wheel"):"onmousewheel"in mg?(Wg=function(){return jg.event.wheelDelta},"mousewheel"):(Wg=function(){return-jg.event.detail},"MozMousePixelScroll")),a.event=function(a){a.each(function(){var a=J.of(this,arguments),b=y;Oi?jg.select(this).transition().each("start.zoom",function(){y=this.__chart__||{x:0,y:0,k:1},i(a)}).tween("zoom:zoom",function(){var c=z[0],d=z[1],e=q?q[0]:c/2,f=q?q[1]:d/2,g=jg.interpolateZoom([(e-y.x)/y.k,(f-y.y)/y.k,c/y.k],[(e-b.x)/b.k,(f-b.y)/b.k,c/b.k]);return function(b){var d=g(b),h=c/d[2];this.__chart__=y={x:e-d[0]*h,y:f-d[1]*h,k:h},j(a)}}).each("interrupt.zoom",function(){k(a)}).each("end.zoom",function(){k(a)}):(this.__chart__=y,i(a),j(a),k(a))})},a.translate=function(b){return arguments.length?(y={x:+b[0],y:+b[1],k:y.k},h(),a):[y.x,y.y]},a.scale=function(b){return arguments.length?(y={x:y.x,y:y.y,k:null},e(+b),h(),a):y.k},a.scaleExtent=function(b){return arguments.length?(B=null==b?Yg:[+b[0],+b[1]],a):B},a.center=function(b){return arguments.length?(r=b&&[+b[0],+b[1]],a):r},a.size=function(b){return arguments.length?(z=b&&[+b[0],+b[1]],a):z},a.duration=function(b){return arguments.length?(D=+b,a):D},a.x=function(b){return arguments.length?(v=b,u=b.copy(),y={x:0,y:0,k:1},a):v},a.y=function(b){return arguments.length?(x=b,w=b.copy(),y={x:0,y:0,k:1},a):x},jg.rebind(a,J,"on")};var Wg,Xg,Yg=[0,1/0];jg.color=ia,ia.prototype.toString=function(){return this.rgb()+""},jg.hsl=ja;var Zg=ja.prototype=new ia;Zg.brighter=function(a){return a=Math.pow(.7,arguments.length?a:1),new ja(this.h,this.s,this.l/a)},Zg.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new ja(this.h,this.s,a*this.l)},Zg.rgb=function(){return ka(this.h,this.s,this.l)},jg.hcl=la;var $g=la.prototype=new ia;$g.brighter=function(a){return new la(this.h,this.c,Math.min(100,this.l+_g*(arguments.length?a:1)))},$g.darker=function(a){return new la(this.h,this.c,Math.max(0,this.l-_g*(arguments.length?a:1)))},$g.rgb=function(){return ma(this.h,this.c,this.l).rgb()},jg.lab=na;var _g=18,ah=.95047,bh=1,ch=1.08883,dh=na.prototype=new ia;dh.brighter=function(a){return new na(Math.min(100,this.l+_g*(arguments.length?a:1)),this.a,this.b)},dh.darker=function(a){return new na(Math.max(0,this.l-_g*(arguments.length?a:1)),this.a,this.b)},dh.rgb=function(){return oa(this.l,this.a,this.b)},jg.rgb=ta;var eh=ta.prototype=new ia;eh.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var b=this.r,c=this.g,d=this.b,e=30;return b||c||d?(b&&e>b&&(b=e),c&&e>c&&(c=e),d&&e>d&&(d=e),new ta(Math.min(255,b/a),Math.min(255,c/a),Math.min(255,d/a))):new ta(e,e,e)},eh.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new ta(a*this.r,a*this.g,a*this.b)},eh.hsl=function(){return ya(this.r,this.g,this.b)},eh.toString=function(){return"#"+wa(this.r)+wa(this.g)+wa(this.b)};var fh=jg.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});fh.forEach(function(a,b){fh.set(a,ua(b))}),jg.functor=Ca,jg.xhr=Da(u),jg.dsv=function(a,b){function c(a,c,f){arguments.length<3&&(f=c,c=null);var g=Ea(a,b,null==c?d:e(c),f);return g.row=function(a){return arguments.length?g.response(null==(c=a)?d:e(a)):c},g}function d(a){return c.parse(a.responseText)}function e(a){return function(b){return c.parse(b.responseText,a)}}function f(b){return b.map(g).join(a)}function g(a){return h.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var h=new RegExp('["'+a+"\n]"),i=a.charCodeAt(0);return c.parse=function(a,b){var d;return c.parseRows(a,function(a,c){if(d)return d(a,c-1);var e=new Function("d","return {"+a.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}");d=b?function(a,c){return b(e(a),c)}:e})},c.parseRows=function(a,b){function c(){if(k>=j)return g;if(e)return e=!1,f;var b=k;if(34===a.charCodeAt(b)){for(var c=b;c++<j;)if(34===a.charCodeAt(c)){if(34!==a.charCodeAt(c+1))break;++c}k=c+2;var d=a.charCodeAt(c+1);return 13===d?(e=!0,10===a.charCodeAt(c+2)&&++k):10===d&&(e=!0),a.slice(b+1,c).replace(/""/g,'"')}for(;j>k;){var d=a.charCodeAt(k++),h=1;if(10===d)e=!0;else if(13===d)e=!0,10===a.charCodeAt(k)&&(++k,++h);else if(d!==i)continue;return a.slice(b,k-h)}return a.slice(b)}for(var d,e,f={},g={},h=[],j=a.length,k=0,l=0;(d=c())!==g;){for(var m=[];d!==f&&d!==g;)m.push(d),d=c();b&&null==(m=b(m,l++))||h.push(m)}return h},c.format=function(b){if(Array.isArray(b[0]))return c.formatRows(b);var d=new t,e=[];return b.forEach(function(a){for(var b in a)d.has(b)||e.push(d.add(b))}),[e.map(g).join(a)].concat(b.map(function(b){return e.map(function(a){return g(b[a])}).join(a)})).join("\n")},c.formatRows=function(a){return a.map(f).join("\n")},c},jg.csv=jg.dsv(",","text/csv"),jg.tsv=jg.dsv("	","text/tab-separated-values");var gh,hh,ih,jh,kh=this[w(this,"requestAnimationFrame")]||function(a){setTimeout(a,17)};jg.timer=function(){Ha.apply(this,arguments)},jg.timer.flush=function(){Ja(),Ka()},jg.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)};var lh=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(Ma);jg.formatPrefix=function(a,b){var c=0;return(a=+a)&&(0>a&&(a*=-1),b&&(a=jg.round(a,La(a,b))),c=1+Math.floor(1e-12+Math.log(a)/Math.LN10),c=Math.max(-24,Math.min(24,3*Math.floor((c-1)/3)))),lh[8+c/3]};var mh=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,nh=jg.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,b){return(a=jg.round(a,La(a,b))).toFixed(Math.max(0,Math.min(20,La(a*(1+1e-15),b))))}}),oh=jg.time={},ph=Date;Pa.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){qh.setUTCDate.apply(this._,arguments)},setDay:function(){qh.setUTCDay.apply(this._,arguments)},setFullYear:function(){qh.setUTCFullYear.apply(this._,arguments)},setHours:function(){qh.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){qh.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){qh.setUTCMinutes.apply(this._,arguments)},setMonth:function(){qh.setUTCMonth.apply(this._,arguments)},setSeconds:function(){qh.setUTCSeconds.apply(this._,arguments)},setTime:function(){qh.setTime.apply(this._,arguments)}};var qh=Date.prototype;oh.year=Qa(function(a){return a=oh.day(a),a.setMonth(0,1),a},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a){return a.getFullYear()}),oh.years=oh.year.range,oh.years.utc=oh.year.utc.range,oh.day=Qa(function(a){var b=new ph(2e3,0);return b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),b},function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1}),oh.days=oh.day.range,oh.days.utc=oh.day.utc.range,oh.dayOfYear=function(a){var b=oh.year(a);return Math.floor((a-b-6e4*(a.getTimezoneOffset()-b.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(a,b){b=7-b;var c=oh[a]=Qa(function(a){return(a=oh.day(a)).setDate(a.getDate()-(a.getDay()+b)%7),a},function(a,b){a.setDate(a.getDate()+7*Math.floor(b))},function(a){var c=oh.year(a).getDay();return Math.floor((oh.dayOfYear(a)+(c+b)%7)/7)-(c!==b)});oh[a+"s"]=c.range,oh[a+"s"].utc=c.utc.range,oh[a+"OfYear"]=function(a){var c=oh.year(a).getDay();return Math.floor((oh.dayOfYear(a)+(c+b)%7)/7)}}),oh.week=oh.sunday,oh.weeks=oh.sunday.range,oh.weeks.utc=oh.sunday.utc.range,oh.weekOfYear=oh.sundayOfYear;var rh={"-":"",_:" ",0:"0"},sh=/^\s*\d+/,th=/^%/;jg.locale=function(a){return{numberFormat:Na(a),timeFormat:Sa(a)}};var uh=jg.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});jg.format=uh.numberFormat,jg.geo={},lb.prototype={s:0,t:0,add:function(a){mb(a,this.t,vh),mb(vh.s,this.s,this),this.s?this.t+=vh.t:this.s=vh.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var vh=new lb;jg.geo.stream=function(a,b){a&&wh.hasOwnProperty(a.type)?wh[a.type](a,b):nb(a,b)};var wh={Feature:function(a,b){nb(a.geometry,b)},FeatureCollection:function(a,b){for(var c=a.features,d=-1,e=c.length;++d<e;)nb(c[d].geometry,b)}},xh={Sphere:function(a,b){b.sphere()},Point:function(a,b){a=a.coordinates,b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)a=c[d],b.point(a[0],a[1],a[2])},LineString:function(a,b){ob(a.coordinates,b,0)},MultiLineString:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)ob(c[d],b,0)},Polygon:function(a,b){pb(a.coordinates,b)},MultiPolygon:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)pb(c[d],b)},GeometryCollection:function(a,b){for(var c=a.geometries,d=-1,e=c.length;++d<e;)nb(c[d],b)}};jg.geo.area=function(a){return yh=0,jg.geo.stream(a,Ah),yh};var yh,zh=new lb,Ah={sphere:function(){yh+=4*Ng},point:x,lineStart:x,lineEnd:x,polygonStart:function(){zh.reset(),Ah.lineStart=qb},polygonEnd:function(){var a=2*zh;yh+=0>a?4*Ng+a:a,Ah.lineStart=Ah.lineEnd=Ah.point=x}};jg.geo.bounds=function(){function a(a,b){t.push(u=[k=a,m=a]),l>b&&(l=b),b>n&&(n=b)}function b(b,c){var d=rb([b*Rg,c*Rg]);if(r){var e=tb(r,d),f=[e[1],-e[0],0],g=tb(f,e);wb(g),g=xb(g);var i=b-o,j=i>0?1:-1,p=g[0]*Sg*j,q=vg(i)>180;if(q^(p>j*o&&j*b>p)){var s=g[1]*Sg;s>n&&(n=s)}else if(p=(p+360)%360-180,q^(p>j*o&&j*b>p)){var s=-g[1]*Sg;l>s&&(l=s)}else l>c&&(l=c),c>n&&(n=c);q?o>b?h(k,b)>h(k,m)&&(m=b):h(b,m)>h(k,m)&&(k=b):m>=k?(k>b&&(k=b),b>m&&(m=b)):b>o?h(k,b)>h(k,m)&&(m=b):h(b,m)>h(k,m)&&(k=b)}else a(b,c);r=d,o=b}function c(){v.point=b}function d(){u[0]=k,u[1]=m,v.point=a,r=null}function e(a,c){if(r){var d=a-o;s+=vg(d)>180?d+(d>0?360:-360):d}else p=a,q=c;Ah.point(a,c),b(a,c)}function f(){Ah.lineStart()}function g(){e(p,q),Ah.lineEnd(),vg(s)>Lg&&(k=-(m=180)),u[0]=k,u[1]=m,r=null}function h(a,b){return(b-=a)<0?b+360:b}function i(a,b){return a[0]-b[0]}function j(a,b){return b[0]<=b[1]?b[0]<=a&&a<=b[1]:a<b[0]||b[1]<a}var k,l,m,n,o,p,q,r,s,t,u,v={point:a,lineStart:c,lineEnd:d,polygonStart:function(){v.point=e,v.lineStart=f,v.lineEnd=g,s=0,Ah.polygonStart()},polygonEnd:function(){Ah.polygonEnd(),v.point=a,v.lineStart=c,v.lineEnd=d,0>zh?(k=-(m=180),l=-(n=90)):s>Lg?n=90:-Lg>s&&(l=-90),u[0]=k,u[1]=m}};return function(a){n=m=-(k=l=1/0),t=[],jg.geo.stream(a,v);var b=t.length;if(b){t.sort(i);for(var c,d=1,e=t[0],f=[e];b>d;++d)c=t[d],j(c[0],e)||j(c[1],e)?(h(e[0],c[1])>h(e[0],e[1])&&(e[1]=c[1]),h(c[0],e[1])>h(e[0],e[1])&&(e[0]=c[0])):f.push(e=c);for(var g,c,o=-(1/0),b=f.length-1,d=0,e=f[b];b>=d;e=c,++d)c=f[d],(g=h(e[1],c[0]))>o&&(o=g,k=c[0],m=e[1])}return t=u=null,k===1/0||l===1/0?[[NaN,NaN],[NaN,NaN]]:[[k,l],[m,n]]}}(),jg.geo.centroid=function(a){Bh=Ch=Dh=Eh=Fh=Gh=Hh=Ih=Jh=Kh=Lh=0,jg.geo.stream(a,Mh);var b=Jh,c=Kh,d=Lh,e=b*b+c*c+d*d;return Mg>e&&(b=Gh,c=Hh,d=Ih,Lg>Ch&&(b=Dh,c=Eh,d=Fh),e=b*b+c*c+d*d,Mg>e)?[NaN,NaN]:[Math.atan2(c,b)*Sg,da(d/Math.sqrt(e))*Sg]};var Bh,Ch,Dh,Eh,Fh,Gh,Hh,Ih,Jh,Kh,Lh,Mh={
sphere:x,point:zb,lineStart:Bb,lineEnd:Cb,polygonStart:function(){Mh.lineStart=Db},polygonEnd:function(){Mh.lineStart=Bb}},Nh=Jb(Fb,Nb,Pb,[-Ng,-Ng/2]),Oh=1e9;jg.geo.clipExtent=function(){var a,b,c,d,e,f,g={stream:function(a){return e&&(e.valid=!1),e=f(a),e.valid=!0,e},extent:function(h){return arguments.length?(f=Tb(a=+h[0][0],b=+h[0][1],c=+h[1][0],d=+h[1][1]),e&&(e.valid=!1,e=null),g):[[a,b],[c,d]]}};return g.extent([[0,0],[960,500]])},(jg.geo.conicEqualArea=function(){return Ub(Vb)}).raw=Vb,jg.geo.albers=function(){return jg.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},jg.geo.albersUsa=function(){function a(a){var f=a[0],g=a[1];return b=null,c(f,g),b||(d(f,g),b)||e(f,g),b}var b,c,d,e,f=jg.geo.albers(),g=jg.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),h=jg.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),i={point:function(a,c){b=[a,c]}};return a.invert=function(a){var b=f.scale(),c=f.translate(),d=(a[0]-c[0])/b,e=(a[1]-c[1])/b;return(e>=.12&&.234>e&&d>=-.425&&-.214>d?g:e>=.166&&.234>e&&d>=-.214&&-.115>d?h:f).invert(a)},a.stream=function(a){var b=f.stream(a),c=g.stream(a),d=h.stream(a);return{point:function(a,e){b.point(a,e),c.point(a,e),d.point(a,e)},sphere:function(){b.sphere(),c.sphere(),d.sphere()},lineStart:function(){b.lineStart(),c.lineStart(),d.lineStart()},lineEnd:function(){b.lineEnd(),c.lineEnd(),d.lineEnd()},polygonStart:function(){b.polygonStart(),c.polygonStart(),d.polygonStart()},polygonEnd:function(){b.polygonEnd(),c.polygonEnd(),d.polygonEnd()}}},a.precision=function(b){return arguments.length?(f.precision(b),g.precision(b),h.precision(b),a):f.precision()},a.scale=function(b){return arguments.length?(f.scale(b),g.scale(.35*b),h.scale(b),a.translate(f.translate())):f.scale()},a.translate=function(b){if(!arguments.length)return f.translate();var j=f.scale(),k=+b[0],l=+b[1];return c=f.translate(b).clipExtent([[k-.455*j,l-.238*j],[k+.455*j,l+.238*j]]).stream(i).point,d=g.translate([k-.307*j,l+.201*j]).clipExtent([[k-.425*j+Lg,l+.12*j+Lg],[k-.214*j-Lg,l+.234*j-Lg]]).stream(i).point,e=h.translate([k-.205*j,l+.212*j]).clipExtent([[k-.214*j+Lg,l+.166*j+Lg],[k-.115*j-Lg,l+.234*j-Lg]]).stream(i).point,a},a.scale(1070)};var Ph,Qh,Rh,Sh,Th,Uh,Vh={point:x,lineStart:x,lineEnd:x,polygonStart:function(){Qh=0,Vh.lineStart=Wb},polygonEnd:function(){Vh.lineStart=Vh.lineEnd=Vh.point=x,Ph+=vg(Qh/2)}},Wh={point:Xb,lineStart:x,lineEnd:x,polygonStart:x,polygonEnd:x},Xh={point:$b,lineStart:_b,lineEnd:ac,polygonStart:function(){Xh.lineStart=bc},polygonEnd:function(){Xh.point=$b,Xh.lineStart=_b,Xh.lineEnd=ac}};jg.geo.path=function(){function a(a){return a&&("function"==typeof h&&f.pointRadius(+h.apply(this,arguments)),g&&g.valid||(g=e(f)),jg.geo.stream(a,g)),f.result()}function b(){return g=null,a}var c,d,e,f,g,h=4.5;return a.area=function(a){return Ph=0,jg.geo.stream(a,e(Vh)),Ph},a.centroid=function(a){return Dh=Eh=Fh=Gh=Hh=Ih=Jh=Kh=Lh=0,jg.geo.stream(a,e(Xh)),Lh?[Jh/Lh,Kh/Lh]:Ih?[Gh/Ih,Hh/Ih]:Fh?[Dh/Fh,Eh/Fh]:[NaN,NaN]},a.bounds=function(a){return Th=Uh=-(Rh=Sh=1/0),jg.geo.stream(a,e(Wh)),[[Rh,Sh],[Th,Uh]]},a.projection=function(a){return arguments.length?(e=(c=a)?a.stream||ec(a):u,b()):c},a.context=function(a){return arguments.length?(f=null==(d=a)?new Yb:new cc(a),"function"!=typeof h&&f.pointRadius(h),b()):d},a.pointRadius=function(b){return arguments.length?(h="function"==typeof b?b:(f.pointRadius(+b),+b),a):h},a.projection(jg.geo.albersUsa()).context(null)},jg.geo.transform=function(a){return{stream:function(b){var c=new fc(b);for(var d in a)c[d]=a[d];return c}}},fc.prototype={point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},jg.geo.projection=hc,jg.geo.projectionMutator=ic,(jg.geo.equirectangular=function(){return hc(kc)}).raw=kc.invert=kc,jg.geo.rotation=function(a){function b(b){return b=a(b[0]*Rg,b[1]*Rg),b[0]*=Sg,b[1]*=Sg,b}return a=mc(a[0]%360*Rg,a[1]*Rg,a.length>2?a[2]*Rg:0),b.invert=function(b){return b=a.invert(b[0]*Rg,b[1]*Rg),b[0]*=Sg,b[1]*=Sg,b},b},lc.invert=kc,jg.geo.circle=function(){function a(){var a="function"==typeof d?d.apply(this,arguments):d,b=mc(-a[0]*Rg,-a[1]*Rg,0).invert,e=[];return c(null,null,1,{point:function(a,c){e.push(a=b(a,c)),a[0]*=Sg,a[1]*=Sg}}),{type:"Polygon",coordinates:[e]}}var b,c,d=[0,0],e=6;return a.origin=function(b){return arguments.length?(d=b,a):d},a.angle=function(d){return arguments.length?(c=qc((b=+d)*Rg,e*Rg),a):b},a.precision=function(d){return arguments.length?(c=qc(b*Rg,(e=+d)*Rg),a):e},a.angle(90)},jg.geo.distance=function(a,b){var c,d=(b[0]-a[0])*Rg,e=a[1]*Rg,f=b[1]*Rg,g=Math.sin(d),h=Math.cos(d),i=Math.sin(e),j=Math.cos(e),k=Math.sin(f),l=Math.cos(f);return Math.atan2(Math.sqrt((c=l*g)*c+(c=j*k-i*l*h)*c),i*k+j*l*h)},jg.geo.graticule=function(){function a(){return{type:"MultiLineString",coordinates:b()}}function b(){return jg.range(Math.ceil(f/q)*q,e,q).map(m).concat(jg.range(Math.ceil(j/r)*r,i,r).map(n)).concat(jg.range(Math.ceil(d/o)*o,c,o).filter(function(a){return vg(a%q)>Lg}).map(k)).concat(jg.range(Math.ceil(h/p)*p,g,p).filter(function(a){return vg(a%r)>Lg}).map(l))}var c,d,e,f,g,h,i,j,k,l,m,n,o=10,p=o,q=90,r=360,s=2.5;return a.lines=function(){return b().map(function(a){return{type:"LineString",coordinates:a}})},a.outline=function(){return{type:"Polygon",coordinates:[m(f).concat(n(i).slice(1),m(e).reverse().slice(1),n(j).reverse().slice(1))]}},a.extent=function(b){return arguments.length?a.majorExtent(b).minorExtent(b):a.minorExtent()},a.majorExtent=function(b){return arguments.length?(f=+b[0][0],e=+b[1][0],j=+b[0][1],i=+b[1][1],f>e&&(b=f,f=e,e=b),j>i&&(b=j,j=i,i=b),a.precision(s)):[[f,j],[e,i]]},a.minorExtent=function(b){return arguments.length?(d=+b[0][0],c=+b[1][0],h=+b[0][1],g=+b[1][1],d>c&&(b=d,d=c,c=b),h>g&&(b=h,h=g,g=b),a.precision(s)):[[d,h],[c,g]]},a.step=function(b){return arguments.length?a.majorStep(b).minorStep(b):a.minorStep()},a.majorStep=function(b){return arguments.length?(q=+b[0],r=+b[1],a):[q,r]},a.minorStep=function(b){return arguments.length?(o=+b[0],p=+b[1],a):[o,p]},a.precision=function(b){return arguments.length?(s=+b,k=sc(h,g,90),l=tc(d,c,s),m=sc(j,i,90),n=tc(f,e,s),a):s},a.majorExtent([[-180,-90+Lg],[180,90-Lg]]).minorExtent([[-180,-80-Lg],[180,80+Lg]])},jg.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[b||d.apply(this,arguments),c||e.apply(this,arguments)]}}var b,c,d=uc,e=vc;return a.distance=function(){return jg.geo.distance(b||d.apply(this,arguments),c||e.apply(this,arguments))},a.source=function(c){return arguments.length?(d=c,b="function"==typeof c?null:c,a):d},a.target=function(b){return arguments.length?(e=b,c="function"==typeof b?null:b,a):e},a.precision=function(){return arguments.length?a:0},a},jg.geo.interpolate=function(a,b){return wc(a[0]*Rg,a[1]*Rg,b[0]*Rg,b[1]*Rg)},jg.geo.length=function(a){return Yh=0,jg.geo.stream(a,Zh),Yh};var Yh,Zh={sphere:x,point:x,lineStart:xc,lineEnd:x,polygonStart:x,polygonEnd:x},$h=yc(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(jg.geo.azimuthalEqualArea=function(){return hc($h)}).raw=$h;var _h=yc(function(a){var b=Math.acos(a);return b&&b/Math.sin(b)},u);(jg.geo.azimuthalEquidistant=function(){return hc(_h)}).raw=_h,(jg.geo.conicConformal=function(){return Ub(zc)}).raw=zc,(jg.geo.conicEquidistant=function(){return Ub(Ac)}).raw=Ac;var ai=yc(function(a){return 1/a},Math.atan);(jg.geo.gnomonic=function(){return hc(ai)}).raw=ai,Bc.invert=function(a,b){return[a,2*Math.atan(Math.exp(b))-Qg]},(jg.geo.mercator=function(){return Cc(Bc)}).raw=Bc;var bi=yc(function(){return 1},Math.asin);(jg.geo.orthographic=function(){return hc(bi)}).raw=bi;var ci=yc(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(jg.geo.stereographic=function(){return hc(ci)}).raw=ci,Dc.invert=function(a,b){return[-b,2*Math.atan(Math.exp(a))-Qg]},(jg.geo.transverseMercator=function(){var a=Cc(Dc),b=a.center,c=a.rotate;return a.center=function(a){return a?b([-a[1],a[0]]):(a=b(),[a[1],-a[0]])},a.rotate=function(a){return a?c([a[0],a[1],a.length>2?a[2]+90:90]):(a=c(),[a[0],a[1],a[2]-90])},c([0,0,90])}).raw=Dc,jg.geom={},jg.geom.hull=function(a){function b(a){if(a.length<3)return[];var b,e=Ca(c),f=Ca(d),g=a.length,h=[],i=[];for(b=0;g>b;b++)h.push([+e.call(this,a[b],b),+f.call(this,a[b],b),b]);for(h.sort(Hc),b=0;g>b;b++)i.push([h[b][0],-h[b][1]]);var j=Gc(h),k=Gc(i),l=k[0]===j[0],m=k[k.length-1]===j[j.length-1],n=[];for(b=j.length-1;b>=0;--b)n.push(a[h[j[b]][2]]);for(b=+l;b<k.length-m;++b)n.push(a[h[k[b]][2]]);return n}var c=Ec,d=Fc;return arguments.length?b(a):(b.x=function(a){return arguments.length?(c=a,b):c},b.y=function(a){return arguments.length?(d=a,b):d},b)},jg.geom.polygon=function(a){return Ag(a,di),a};var di=jg.geom.polygon.prototype=[];di.area=function(){for(var a,b=-1,c=this.length,d=this[c-1],e=0;++b<c;)a=d,d=this[b],e+=a[1]*d[0]-a[0]*d[1];return.5*e},di.centroid=function(a){var b,c,d=-1,e=this.length,f=0,g=0,h=this[e-1];for(arguments.length||(a=-1/(6*this.area()));++d<e;)b=h,h=this[d],c=b[0]*h[1]-h[0]*b[1],f+=(b[0]+h[0])*c,g+=(b[1]+h[1])*c;return[f*a,g*a]},di.clip=function(a){for(var b,c,d,e,f,g,h=Kc(a),i=-1,j=this.length-Kc(this),k=this[j-1];++i<j;){for(b=a.slice(),a.length=0,e=this[i],f=b[(d=b.length-h)-1],c=-1;++c<d;)g=b[c],Ic(g,k,e)?(Ic(f,k,e)||a.push(Jc(f,g,k,e)),a.push(g)):Ic(f,k,e)&&a.push(Jc(f,g,k,e)),f=g;h&&a.push(a[0]),k=e}return a};var ei,fi,gi,hi,ii,ji=[],ki=[];Sc.prototype.prepare=function(){for(var a,b=this.edges,c=b.length;c--;)a=b[c].edge,a.b&&a.a||b.splice(c,1);return b.sort(Uc),b.length},cd.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},dd.prototype={insert:function(a,b){var c,d,e;if(a){if(b.P=a,b.N=a.N,a.N&&(a.N.P=b),a.N=b,a.R){for(a=a.R;a.L;)a=a.L;a.L=b}else a.R=b;c=a}else this._?(a=hd(this._),b.P=null,b.N=a,a.P=a.L=b,c=a):(b.P=b.N=null,this._=b,c=null);for(b.L=b.R=null,b.U=c,b.C=!0,a=b;c&&c.C;)d=c.U,c===d.L?(e=d.R,e&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.R&&(fd(this,c),a=c,c=a.U),c.C=!1,d.C=!0,gd(this,d))):(e=d.L,e&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.L&&(gd(this,c),a=c,c=a.U),c.C=!1,d.C=!0,fd(this,d))),c=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P),a.P&&(a.P.N=a.N),a.N=a.P=null;var b,c,d,e=a.U,f=a.L,g=a.R;if(c=f?g?hd(g):f:g,e?e.L===a?e.L=c:e.R=c:this._=c,f&&g?(d=c.C,c.C=a.C,c.L=f,f.U=c,c!==g?(e=c.U,c.U=a.U,a=c.R,e.L=a,c.R=g,g.U=c):(c.U=e,e=c,a=c.R)):(d=a.C,a=c),a&&(a.U=e),!d){if(a&&a.C)return void(a.C=!1);do{if(a===this._)break;if(a===e.L){if(b=e.R,b.C&&(b.C=!1,e.C=!0,fd(this,e),b=e.R),b.L&&b.L.C||b.R&&b.R.C){b.R&&b.R.C||(b.L.C=!1,b.C=!0,gd(this,b),b=e.R),b.C=e.C,e.C=b.R.C=!1,fd(this,e),a=this._;break}}else if(b=e.L,b.C&&(b.C=!1,e.C=!0,gd(this,e),b=e.L),b.L&&b.L.C||b.R&&b.R.C){b.L&&b.L.C||(b.R.C=!1,b.C=!0,fd(this,b),b=e.L),b.C=e.C,e.C=b.L.C=!1,gd(this,e),a=this._;break}b.C=!0,a=e,e=e.U}while(!a.C);a&&(a.C=!1)}}},jg.geom.voronoi=function(a){function b(a){var b=new Array(a.length),d=h[0][0],e=h[0][1],f=h[1][0],g=h[1][1];return id(c(a),h).cells.forEach(function(c,h){var i=c.edges,j=c.site,k=b[h]=i.length?i.map(function(a){var b=a.start();return[b.x,b.y]}):j.x>=d&&j.x<=f&&j.y>=e&&j.y<=g?[[d,g],[f,g],[f,e],[d,e]]:[];k.point=a[h]}),b}function c(a){return a.map(function(a,b){return{x:Math.round(f(a,b)/Lg)*Lg,y:Math.round(g(a,b)/Lg)*Lg,i:b}})}var d=Ec,e=Fc,f=d,g=e,h=li;return a?b(a):(b.links=function(a){return id(c(a)).edges.filter(function(a){return a.l&&a.r}).map(function(b){return{source:a[b.l.i],target:a[b.r.i]}})},b.triangles=function(a){var b=[];return id(c(a)).cells.forEach(function(c,d){for(var e,f,g=c.site,h=c.edges.sort(Uc),i=-1,j=h.length,k=h[j-1].edge,l=k.l===g?k.r:k.l;++i<j;)e=k,f=l,k=h[i].edge,l=k.l===g?k.r:k.l,d<f.i&&d<l.i&&kd(g,f,l)<0&&b.push([a[d],a[f.i],a[l.i]])}),b},b.x=function(a){return arguments.length?(f=Ca(d=a),b):d},b.y=function(a){return arguments.length?(g=Ca(e=a),b):e},b.clipExtent=function(a){return arguments.length?(h=null==a?li:a,b):h===li?null:h},b.size=function(a){return arguments.length?b.clipExtent(a&&[[0,0],a]):h===li?null:h&&h[1]},b)};var li=[[-1e6,-1e6],[1e6,1e6]];jg.geom.delaunay=function(a){return jg.geom.voronoi().triangles(a)},jg.geom.quadtree=function(a,b,c,d,e){function f(a){function f(a,b,c,d,e,f,g,h){if(!isNaN(c)&&!isNaN(d))if(a.leaf){var i=a.x,k=a.y;if(null!=i)if(vg(i-c)+vg(k-d)<.01)j(a,b,c,d,e,f,g,h);else{var l=a.point;a.x=a.y=a.point=null,j(a,l,i,k,e,f,g,h),j(a,b,c,d,e,f,g,h)}else a.x=c,a.y=d,a.point=b}else j(a,b,c,d,e,f,g,h)}function j(a,b,c,d,e,g,h,i){var j=.5*(e+h),k=.5*(g+i),l=c>=j,m=d>=k,n=m<<1|l;a.leaf=!1,a=a.nodes[n]||(a.nodes[n]=nd()),l?e=j:h=j,m?g=k:i=k,f(a,b,c,d,e,g,h,i)}var k,l,m,n,o,p,q,r,s,t=Ca(h),u=Ca(i);if(null!=b)p=b,q=c,r=d,s=e;else if(r=s=-(p=q=1/0),l=[],m=[],o=a.length,g)for(n=0;o>n;++n)k=a[n],k.x<p&&(p=k.x),k.y<q&&(q=k.y),k.x>r&&(r=k.x),k.y>s&&(s=k.y),l.push(k.x),m.push(k.y);else for(n=0;o>n;++n){var v=+t(k=a[n],n),w=+u(k,n);p>v&&(p=v),q>w&&(q=w),v>r&&(r=v),w>s&&(s=w),l.push(v),m.push(w)}var x=r-p,y=s-q;x>y?s=q+x:r=p+y;var z=nd();if(z.add=function(a){f(z,a,+t(a,++n),+u(a,n),p,q,r,s)},z.visit=function(a){od(a,z,p,q,r,s)},z.find=function(a){return pd(z,a[0],a[1],p,q,r,s)},n=-1,null==b){for(;++n<o;)f(z,a[n],l[n],m[n],p,q,r,s);--n}else a.forEach(z.add);return l=m=a=k=null,z}var g,h=Ec,i=Fc;return(g=arguments.length)?(h=ld,i=md,3===g&&(e=c,d=b,c=b=0),f(a)):(f.x=function(a){return arguments.length?(h=a,f):h},f.y=function(a){return arguments.length?(i=a,f):i},f.extent=function(a){return arguments.length?(null==a?b=c=d=e=null:(b=+a[0][0],c=+a[0][1],d=+a[1][0],e=+a[1][1]),f):null==b?null:[[b,c],[d,e]]},f.size=function(a){return arguments.length?(null==a?b=c=d=e=null:(b=c=0,d=+a[0],e=+a[1]),f):null==b?null:[d-b,e-c]},f)},jg.interpolateRgb=qd,jg.interpolateObject=rd,jg.interpolateNumber=sd,jg.interpolateString=td;var mi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ni=new RegExp(mi.source,"g");jg.interpolate=ud,jg.interpolators=[function(a,b){var c=typeof b;return("string"===c?fh.has(b.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(b)?qd:td:b instanceof ia?qd:Array.isArray(b)?vd:"object"===c&&isNaN(b)?rd:sd)(a,b)}],jg.interpolateArray=vd;var oi=function(){return u},pi=jg.map({linear:oi,poly:Cd,quad:function(){return zd},cubic:function(){return Ad},sin:function(){return Dd},exp:function(){return Ed},circle:function(){return Fd},elastic:Gd,back:Hd,bounce:function(){return Id}}),qi=jg.map({"in":u,out:xd,"in-out":yd,"out-in":function(a){return yd(xd(a))}});jg.ease=function(a){var b=a.indexOf("-"),c=b>=0?a.slice(0,b):a,d=b>=0?a.slice(b+1):"in";return c=pi.get(c)||oi,d=qi.get(d)||u,wd(d(c.apply(null,kg.call(arguments,1))))},jg.interpolateHcl=Jd,jg.interpolateHsl=Kd,jg.interpolateLab=Ld,jg.interpolateRound=Md,jg.transform=function(a){var b=mg.createElementNS(jg.ns.prefix.svg,"g");return(jg.transform=function(a){if(null!=a){b.setAttribute("transform",a);var c=b.transform.baseVal.consolidate()}return new Nd(c?c.matrix:ri)})(a)},Nd.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ri={a:1,b:0,c:0,d:1,e:0,f:0};jg.interpolateTransform=Wd,jg.layout={},jg.layout.bundle=function(){return function(a){for(var b=[],c=-1,d=a.length;++c<d;)b.push(Zd(a[c]));return b}},jg.layout.chord=function(){function a(){var a,j,l,m,n,o={},p=[],q=jg.range(f),r=[];for(c=[],d=[],a=0,m=-1;++m<f;){for(j=0,n=-1;++n<f;)j+=e[m][n];p.push(j),r.push(jg.range(f)),a+=j}for(g&&q.sort(function(a,b){return g(p[a],p[b])}),h&&r.forEach(function(a,b){a.sort(function(a,c){return h(e[b][a],e[b][c])})}),a=(Og-k*f)/a,j=0,m=-1;++m<f;){for(l=j,n=-1;++n<f;){var s=q[m],t=r[s][n],u=e[s][t],v=j,w=j+=u*a;o[s+"-"+t]={index:s,subindex:t,startAngle:v,endAngle:w,value:u}}d[s]={index:s,startAngle:l,endAngle:j,value:p[s]},j+=k}for(m=-1;++m<f;)for(n=m-1;++n<f;){var x=o[m+"-"+n],y=o[n+"-"+m];(x.value||y.value)&&c.push(x.value<y.value?{source:y,target:x}:{source:x,target:y})}i&&b()}function b(){c.sort(function(a,b){return i((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var c,d,e,f,g,h,i,j={},k=0;return j.matrix=function(a){return arguments.length?(f=(e=a)&&e.length,c=d=null,j):e},j.padding=function(a){return arguments.length?(k=a,c=d=null,j):k},j.sortGroups=function(a){return arguments.length?(g=a,c=d=null,j):g},j.sortSubgroups=function(a){return arguments.length?(h=a,c=null,j):h},j.sortChords=function(a){return arguments.length?(i=a,c&&b(),j):i},j.chords=function(){return c||a(),c},j.groups=function(){return d||a(),d},j},jg.layout.force=function(){function a(a){return function(b,c,d,e){if(b.point!==a){var f=b.cx-a.x,g=b.cy-a.y,h=e-c,i=f*f+g*g;if(i>h*h/r){if(p>i){var j=b.charge/i;a.px-=f*j,a.py-=g*j}return!0}if(b.point&&i&&p>i){var j=b.pointCharge/i;a.px-=f*j,a.py-=g*j}}return!b.charge}}function b(a){a.px=jg.event.x,a.py=jg.event.y,i.resume()}var c,d,e,f,g,h,i={},j=jg.dispatch("start","tick","end"),k=[1,1],l=.9,m=si,n=ti,o=-30,p=ui,q=.1,r=.64,s=[],t=[];return i.tick=function(){if((e*=.99)<.005)return c=null,j.end({type:"end",alpha:e=0}),!0;var b,d,i,m,n,p,r,u,v,w=s.length,x=t.length;for(d=0;x>d;++d)i=t[d],m=i.source,n=i.target,u=n.x-m.x,v=n.y-m.y,(p=u*u+v*v)&&(p=e*g[d]*((p=Math.sqrt(p))-f[d])/p,u*=p,v*=p,n.x-=u*(r=m.weight+n.weight?m.weight/(m.weight+n.weight):.5),n.y-=v*r,m.x+=u*(r=1-r),m.y+=v*r);if((r=e*q)&&(u=k[0]/2,v=k[1]/2,d=-1,r))for(;++d<w;)i=s[d],i.x+=(u-i.x)*r,i.y+=(v-i.y)*r;if(o)for(ee(b=jg.geom.quadtree(s),e,h),d=-1;++d<w;)(i=s[d]).fixed||b.visit(a(i));for(d=-1;++d<w;)i=s[d],i.fixed?(i.x=i.px,i.y=i.py):(i.x-=(i.px-(i.px=i.x))*l,i.y-=(i.py-(i.py=i.y))*l);j.tick({type:"tick",alpha:e})},i.nodes=function(a){return arguments.length?(s=a,i):s},i.links=function(a){return arguments.length?(t=a,i):t},i.size=function(a){return arguments.length?(k=a,i):k},i.linkDistance=function(a){return arguments.length?(m="function"==typeof a?a:+a,i):m},i.distance=i.linkDistance,i.linkStrength=function(a){return arguments.length?(n="function"==typeof a?a:+a,i):n},i.friction=function(a){return arguments.length?(l=+a,i):l},i.charge=function(a){return arguments.length?(o="function"==typeof a?a:+a,i):o},i.chargeDistance=function(a){return arguments.length?(p=a*a,i):Math.sqrt(p)},i.gravity=function(a){return arguments.length?(q=+a,i):q},i.theta=function(a){return arguments.length?(r=a*a,i):Math.sqrt(r)},i.alpha=function(a){return arguments.length?(a=+a,e?a>0?e=a:(c.c=null,c.t=NaN,c=null,j.end({type:"end",alpha:e=0})):a>0&&(j.start({type:"start",alpha:e=a}),c=Ha(i.tick)),i):e},i.start=function(){function a(a,d){if(!c){for(c=new Array(e),i=0;e>i;++i)c[i]=[];for(i=0;j>i;++i){var f=t[i];c[f.source.index].push(f.target),c[f.target.index].push(f.source)}}for(var g,h=c[b],i=-1,k=h.length;++i<k;)if(!isNaN(g=h[i][a]))return g;return Math.random()*d}var b,c,d,e=s.length,j=t.length,l=k[0],p=k[1];for(b=0;e>b;++b)(d=s[b]).index=b,d.weight=0;for(b=0;j>b;++b)d=t[b],"number"==typeof d.source&&(d.source=s[d.source]),"number"==typeof d.target&&(d.target=s[d.target]),++d.source.weight,++d.target.weight;for(b=0;e>b;++b)d=s[b],isNaN(d.x)&&(d.x=a("x",l)),isNaN(d.y)&&(d.y=a("y",p)),isNaN(d.px)&&(d.px=d.x),isNaN(d.py)&&(d.py=d.y);if(f=[],"function"==typeof m)for(b=0;j>b;++b)f[b]=+m.call(this,t[b],b);else for(b=0;j>b;++b)f[b]=m;if(g=[],"function"==typeof n)for(b=0;j>b;++b)g[b]=+n.call(this,t[b],b);else for(b=0;j>b;++b)g[b]=n;if(h=[],"function"==typeof o)for(b=0;e>b;++b)h[b]=+o.call(this,s[b],b);else for(b=0;e>b;++b)h[b]=o;return i.resume()},i.resume=function(){return i.alpha(.1)},i.stop=function(){return i.alpha(0)},i.drag=function(){return d||(d=jg.behavior.drag().origin(u).on("dragstart.force",ae).on("drag.force",b).on("dragend.force",be)),arguments.length?void this.on("mouseover.force",ce).on("mouseout.force",de).call(d):d},jg.rebind(i,j,"on")};var si=20,ti=1,ui=1/0;jg.layout.hierarchy=function(){function a(e){var f,g=[e],h=[];for(e.depth=0;null!=(f=g.pop());)if(h.push(f),(j=c.call(a,f,f.depth))&&(i=j.length)){for(var i,j,k;--i>=0;)g.push(k=j[i]),k.parent=f,k.depth=f.depth+1;d&&(f.value=0),f.children=j}else d&&(f.value=+d.call(a,f,f.depth)||0),delete f.children;return he(e,function(a){var c,e;b&&(c=a.children)&&c.sort(b),d&&(e=a.parent)&&(e.value+=a.value)}),h}var b=ke,c=ie,d=je;return a.sort=function(c){return arguments.length?(b=c,a):b},a.children=function(b){return arguments.length?(c=b,a):c},a.value=function(b){return arguments.length?(d=b,a):d},a.revalue=function(b){return d&&(ge(b,function(a){a.children&&(a.value=0)}),he(b,function(b){var c;b.children||(b.value=+d.call(a,b,b.depth)||0),(c=b.parent)&&(c.value+=b.value)})),b},a},jg.layout.partition=function(){function a(b,c,d,e){var f=b.children;if(b.x=c,b.y=b.depth*e,b.dx=d,b.dy=e,f&&(g=f.length)){var g,h,i,j=-1;for(d=b.value?d/b.value:0;++j<g;)a(h=f[j],c,i=h.value*d,e),c+=i}}function b(a){var c=a.children,d=0;if(c&&(e=c.length))for(var e,f=-1;++f<e;)d=Math.max(d,b(c[f]));return 1+d}function c(c,f){var g=d.call(this,c,f);return a(g[0],0,e[0],e[1]/b(g[0])),g}var d=jg.layout.hierarchy(),e=[1,1];return c.size=function(a){return arguments.length?(e=a,c):e},fe(c,d)},jg.layout.pie=function(){function a(g){var h,i=g.length,j=g.map(function(c,d){return+b.call(a,c,d)}),k=+("function"==typeof d?d.apply(this,arguments):d),l=("function"==typeof e?e.apply(this,arguments):e)-k,m=Math.min(Math.abs(l)/i,+("function"==typeof f?f.apply(this,arguments):f)),n=m*(0>l?-1:1),o=jg.sum(j),p=o?(l-i*n)/o:0,q=jg.range(i),r=[];return null!=c&&q.sort(c===vi?function(a,b){return j[b]-j[a]}:function(a,b){return c(g[a],g[b])}),q.forEach(function(a){r[a]={data:g[a],value:h=j[a],startAngle:k,endAngle:k+=h*p+n,padAngle:m}}),r}var b=Number,c=vi,d=0,e=Og,f=0;return a.value=function(c){return arguments.length?(b=c,a):b},a.sort=function(b){return arguments.length?(c=b,a):c},a.startAngle=function(b){return arguments.length?(d=b,a):d},a.endAngle=function(b){return arguments.length?(e=b,a):e},a.padAngle=function(b){return arguments.length?(f=b,a):f},a};var vi={};jg.layout.stack=function(){function a(h,i){if(!(m=h.length))return h;var j=h.map(function(c,d){return b.call(a,c,d)}),k=j.map(function(b){return b.map(function(b,c){return[f.call(a,b,c),g.call(a,b,c)]})}),l=c.call(a,k,i);j=jg.permute(j,l),k=jg.permute(k,l);var m,n,o,p,q=d.call(a,k,i),r=j[0].length;for(o=0;r>o;++o)for(e.call(a,j[0][o],p=q[o],k[0][o][1]),n=1;m>n;++n)e.call(a,j[n][o],p+=k[n-1][o][1],k[n][o][1]);return h}var b=u,c=pe,d=qe,e=oe,f=me,g=ne;return a.values=function(c){return arguments.length?(b=c,a):b},a.order=function(b){return arguments.length?(c="function"==typeof b?b:wi.get(b)||pe,a):c},a.offset=function(b){return arguments.length?(d="function"==typeof b?b:xi.get(b)||qe,a):d},a.x=function(b){return arguments.length?(f=b,a):f},a.y=function(b){return arguments.length?(g=b,a):g},a.out=function(b){return arguments.length?(e=b,a):e},a};var wi=jg.map({"inside-out":function(a){var b,c,d=a.length,e=a.map(re),f=a.map(se),g=jg.range(d).sort(function(a,b){return e[a]-e[b]}),h=0,i=0,j=[],k=[];for(b=0;d>b;++b)c=g[b],i>h?(h+=f[c],j.push(c)):(i+=f[c],k.push(c));return k.reverse().concat(j)},reverse:function(a){return jg.range(a.length).reverse()},"default":pe}),xi=jg.map({silhouette:function(a){var b,c,d,e=a.length,f=a[0].length,g=[],h=0,i=[];for(c=0;f>c;++c){for(b=0,d=0;e>b;b++)d+=a[b][c][1];d>h&&(h=d),g.push(d)}for(c=0;f>c;++c)i[c]=(h-g[c])/2;return i},wiggle:function(a){var b,c,d,e,f,g,h,i,j,k=a.length,l=a[0],m=l.length,n=[];for(n[0]=i=j=0,c=1;m>c;++c){for(b=0,e=0;k>b;++b)e+=a[b][c][1];for(b=0,f=0,h=l[c][0]-l[c-1][0];k>b;++b){for(d=0,g=(a[b][c][1]-a[b][c-1][1])/(2*h);b>d;++d)g+=(a[d][c][1]-a[d][c-1][1])/h;f+=g*a[b][c][1]}n[c]=i-=e?f/e*h:0,j>i&&(j=i)}for(c=0;m>c;++c)n[c]-=j;return n},expand:function(a){var b,c,d,e=a.length,f=a[0].length,g=1/e,h=[];for(c=0;f>c;++c){for(b=0,d=0;e>b;b++)d+=a[b][c][1];if(d)for(b=0;e>b;b++)a[b][c][1]/=d;else for(b=0;e>b;b++)a[b][c][1]=g}for(c=0;f>c;++c)h[c]=0;return h},zero:qe});jg.layout.histogram=function(){function a(a,f){for(var g,h,i=[],j=a.map(c,this),k=d.call(this,j,f),l=e.call(this,k,j,f),f=-1,m=j.length,n=l.length-1,o=b?1:1/m;++f<n;)g=i[f]=[],g.dx=l[f+1]-(g.x=l[f]),g.y=0;if(n>0)for(f=-1;++f<m;)h=j[f],h>=k[0]&&h<=k[1]&&(g=i[jg.bisect(l,h,1,n)-1],g.y+=o,g.push(a[f]));return i}var b=!0,c=Number,d=we,e=ue;return a.value=function(b){return arguments.length?(c=b,a):c},a.range=function(b){return arguments.length?(d=Ca(b),a):d},a.bins=function(b){return arguments.length?(e="number"==typeof b?function(a){return ve(a,b)}:Ca(b),a):e},a.frequency=function(c){return arguments.length?(b=!!c,a):b},a},jg.layout.pack=function(){function a(a,f){var g=c.call(this,a,f),h=g[0],i=e[0],j=e[1],k=null==b?Math.sqrt:"function"==typeof b?b:function(){return b};if(h.x=h.y=0,he(h,function(a){a.r=+k(a.value)}),he(h,Be),d){var l=d*(b?1:Math.max(2*h.r/i,2*h.r/j))/2;he(h,function(a){a.r+=l}),he(h,Be),he(h,function(a){a.r-=l})}return Ee(h,i/2,j/2,b?1:1/Math.max(2*h.r/i,2*h.r/j)),g}var b,c=jg.layout.hierarchy().sort(xe),d=0,e=[1,1];return a.size=function(b){return arguments.length?(e=b,a):e},a.radius=function(c){return arguments.length?(b=null==c||"function"==typeof c?c:+c,a):b},a.padding=function(b){return arguments.length?(d=+b,a):d},fe(a,c)},jg.layout.tree=function(){function a(a,e){var k=g.call(this,a,e),l=k[0],m=b(l);if(he(m,c),m.parent.m=-m.z,ge(m,d),j)ge(l,f);else{var n=l,o=l,p=l;ge(l,function(a){a.x<n.x&&(n=a),a.x>o.x&&(o=a),a.depth>p.depth&&(p=a)});var q=h(n,o)/2-n.x,r=i[0]/(o.x+h(o,n)/2+q),s=i[1]/(p.depth||1);ge(l,function(a){a.x=(a.x+q)*r,a.y=a.depth*s})}return k}function b(a){for(var b,c={A:null,children:[a]},d=[c];null!=(b=d.pop());)for(var e,f=b.children,g=0,h=f.length;h>g;++g)d.push((f[g]=e={_:f[g],parent:b,children:(e=f[g].children)&&e.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:g}).a=e);return c.children[0]}function c(a){var b=a.children,c=a.parent.children,d=a.i?c[a.i-1]:null;if(b.length){Ke(a);var f=(b[0].z+b[b.length-1].z)/2;d?(a.z=d.z+h(a._,d._),a.m=a.z-f):a.z=f}else d&&(a.z=d.z+h(a._,d._));a.parent.A=e(a,d,a.parent.A||c[0])}function d(a){a._.x=a.z+a.parent.m,a.m+=a.parent.m}function e(a,b,c){if(b){for(var d,e=a,f=a,g=b,i=e.parent.children[0],j=e.m,k=f.m,l=g.m,m=i.m;g=Ie(g),e=He(e),g&&e;)i=He(i),f=Ie(f),f.a=a,d=g.z+l-e.z-j+h(g._,e._),d>0&&(Je(Le(g,a,c),a,d),j+=d,k+=d),l+=g.m,j+=e.m,m+=i.m,k+=f.m;g&&!Ie(f)&&(f.t=g,f.m+=l-k),e&&!He(i)&&(i.t=e,i.m+=j-m,c=a)}return c}function f(a){a.x*=i[0],a.y=a.depth*i[1]}var g=jg.layout.hierarchy().sort(null).value(null),h=Ge,i=[1,1],j=null;return a.separation=function(b){return arguments.length?(h=b,a):h},a.size=function(b){return arguments.length?(j=null==(i=b)?f:null,a):j?null:i},a.nodeSize=function(b){return arguments.length?(j=null==(i=b)?null:f,a):j?i:null},fe(a,g)},jg.layout.cluster=function(){function a(a,f){var g,h=b.call(this,a,f),i=h[0],j=0;he(i,function(a){var b=a.children;b&&b.length?(a.x=Ne(b),a.y=Me(b)):(a.x=g?j+=c(a,g):0,a.y=0,g=a)});var k=Oe(i),l=Pe(i),m=k.x-c(k,l)/2,n=l.x+c(l,k)/2;return he(i,e?function(a){a.x=(a.x-i.x)*d[0],a.y=(i.y-a.y)*d[1]}:function(a){a.x=(a.x-m)/(n-m)*d[0],a.y=(1-(i.y?a.y/i.y:1))*d[1]}),h}var b=jg.layout.hierarchy().sort(null).value(null),c=Ge,d=[1,1],e=!1;return a.separation=function(b){return arguments.length?(c=b,a):c},a.size=function(b){return arguments.length?(e=null==(d=b),a):e?null:d},a.nodeSize=function(b){return arguments.length?(e=null!=(d=b),a):e?d:null},fe(a,b)},jg.layout.treemap=function(){function a(a,b){for(var c,d,e=-1,f=a.length;++e<f;)d=(c=a[e]).value*(0>b?0:b),c.area=isNaN(d)||0>=d?0:d}function b(c){var f=c.children;if(f&&f.length){var g,h,i,j=l(c),k=[],m=f.slice(),o=1/0,p="slice"===n?j.dx:"dice"===n?j.dy:"slice-dice"===n?1&c.depth?j.dy:j.dx:Math.min(j.dx,j.dy);for(a(m,j.dx*j.dy/c.value),k.area=0;(i=m.length)>0;)k.push(g=m[i-1]),k.area+=g.area,"squarify"!==n||(h=d(k,p))<=o?(m.pop(),o=h):(k.area-=k.pop().area,e(k,p,j,!1),p=Math.min(j.dx,j.dy),k.length=k.area=0,o=1/0);k.length&&(e(k,p,j,!0),k.length=k.area=0),f.forEach(b)}}function c(b){var d=b.children;if(d&&d.length){var f,g=l(b),h=d.slice(),i=[];for(a(h,g.dx*g.dy/b.value),i.area=0;f=h.pop();)i.push(f),i.area+=f.area,null!=f.z&&(e(i,f.z?g.dx:g.dy,g,!h.length),i.length=i.area=0);d.forEach(c)}}function d(a,b){for(var c,d=a.area,e=0,f=1/0,g=-1,h=a.length;++g<h;)(c=a[g].area)&&(f>c&&(f=c),c>e&&(e=c));return d*=d,b*=b,d?Math.max(b*e*o/d,d/(b*f*o)):1/0}function e(a,b,c,d){var e,f=-1,g=a.length,h=c.x,j=c.y,k=b?i(a.area/b):0;if(b==c.dx){for((d||k>c.dy)&&(k=c.dy);++f<g;)e=a[f],e.x=h,e.y=j,e.dy=k,h+=e.dx=Math.min(c.x+c.dx-h,k?i(e.area/k):0);e.z=!0,e.dx+=c.x+c.dx-h,c.y+=k,c.dy-=k}else{for((d||k>c.dx)&&(k=c.dx);++f<g;)e=a[f],e.x=h,e.y=j,e.dx=k,j+=e.dy=Math.min(c.y+c.dy-j,k?i(e.area/k):0);e.z=!1,e.dy+=c.y+c.dy-j,c.x+=k,c.dx-=k}}function f(d){var e=g||h(d),f=e[0];return f.x=f.y=0,f.value?(f.dx=j[0],f.dy=j[1]):f.dx=f.dy=0,g&&h.revalue(f),a([f],f.dx*f.dy/f.value),(g?c:b)(f),m&&(g=e),e}var g,h=jg.layout.hierarchy(),i=Math.round,j=[1,1],k=null,l=Qe,m=!1,n="squarify",o=.5*(1+Math.sqrt(5));return f.size=function(a){return arguments.length?(j=a,f):j},f.padding=function(a){function b(b){var c=a.call(f,b,b.depth);return null==c?Qe(b):Re(b,"number"==typeof c?[c,c,c,c]:c)}function c(b){return Re(b,a)}if(!arguments.length)return k;var d;return l=null==(k=a)?Qe:"function"==(d=typeof a)?b:"number"===d?(a=[a,a,a,a],c):c,f},f.round=function(a){return arguments.length?(i=a?Math.round:Number,f):i!=Number},f.sticky=function(a){return arguments.length?(m=a,g=null,f):m},f.ratio=function(a){return arguments.length?(o=a,f):o},f.mode=function(a){return arguments.length?(n=a+"",f):n},fe(f,h)},jg.random={normal:function(a,b){var c=arguments.length;return 2>c&&(b=1),1>c&&(a=0),function(){var c,d,e;do c=2*Math.random()-1,d=2*Math.random()-1,e=c*c+d*d;while(!e||e>1);return a+b*c*Math.sqrt(-2*Math.log(e)/e)}},logNormal:function(){var a=jg.random.normal.apply(jg,arguments);return function(){return Math.exp(a())}},bates:function(a){var b=jg.random.irwinHall(a);return function(){return b()/a}},irwinHall:function(a){return function(){for(var b=0,c=0;a>c;c++)b+=Math.random();return b}}},jg.scale={};var yi={floor:u,ceil:u};jg.scale.linear=function(){return Ye([0,1],[0,1],ud,!1)};var zi={s:1,g:1,p:1,r:1,e:1};jg.scale.log=function(){return ef(jg.scale.linear().domain([0,1]),10,!0,[1,10])};var Ai=jg.format(".0e"),Bi={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};jg.scale.pow=function(){return ff(jg.scale.linear(),1,[0,1])},jg.scale.sqrt=function(){return jg.scale.pow().exponent(.5)},jg.scale.ordinal=function(){return hf([],{t:"range",a:[[]]})},jg.scale.category10=function(){return jg.scale.ordinal().range(Ci)},jg.scale.category20=function(){return jg.scale.ordinal().range(Di)},jg.scale.category20b=function(){return jg.scale.ordinal().range(Ei)},jg.scale.category20c=function(){return jg.scale.ordinal().range(Fi)};var Ci=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(va),Di=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(va),Ei=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(va),Fi=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(va);jg.scale.quantile=function(){return jf([],[])},jg.scale.quantize=function(){return kf(0,1,[0,1])},jg.scale.threshold=function(){return lf([.5],[0,1])},jg.scale.identity=function(){return mf([0,1])},jg.svg={},jg.svg.arc=function(){function a(){var a=Math.max(0,+c.apply(this,arguments)),j=Math.max(0,+d.apply(this,arguments)),k=g.apply(this,arguments)-Qg,l=h.apply(this,arguments)-Qg,m=Math.abs(l-k),n=k>l?0:1;
if(a>j&&(o=j,j=a,a=o),m>=Pg)return b(j,n)+(a?b(a,1-n):"")+"Z";var o,p,q,r,s,t,u,v,w,x,y,z,A=0,B=0,C=[];if((r=(+i.apply(this,arguments)||0)/2)&&(q=f===Gi?Math.sqrt(a*a+j*j):+f.apply(this,arguments),n||(B*=-1),j&&(B=da(q/j*Math.sin(r))),a&&(A=da(q/a*Math.sin(r)))),j){s=j*Math.cos(k+B),t=j*Math.sin(k+B),u=j*Math.cos(l-B),v=j*Math.sin(l-B);var D=Math.abs(l-k-2*B)<=Ng?0:1;if(B&&tf(s,t,u,v)===n^D){var E=(k+l)/2;s=j*Math.cos(E),t=j*Math.sin(E),u=v=null}}else s=t=0;if(a){w=a*Math.cos(l-A),x=a*Math.sin(l-A),y=a*Math.cos(k+A),z=a*Math.sin(k+A);var F=Math.abs(k-l+2*A)<=Ng?0:1;if(A&&tf(w,x,y,z)===1-n^F){var G=(k+l)/2;w=a*Math.cos(G),x=a*Math.sin(G),y=z=null}}else w=x=0;if(m>Lg&&(o=Math.min(Math.abs(j-a)/2,+e.apply(this,arguments)))>.001){p=j>a^n?0:1;var H=o,I=o;if(Ng>m){var J=null==y?[w,x]:null==u?[s,t]:Jc([s,t],[y,z],[u,v],[w,x]),K=s-J[0],L=t-J[1],M=u-J[0],N=v-J[1],O=1/Math.sin(Math.acos((K*M+L*N)/(Math.sqrt(K*K+L*L)*Math.sqrt(M*M+N*N)))/2),P=Math.sqrt(J[0]*J[0]+J[1]*J[1]);I=Math.min(o,(a-P)/(O-1)),H=Math.min(o,(j-P)/(O+1))}if(null!=u){var Q=uf(null==y?[w,x]:[y,z],[s,t],j,H,n),R=uf([u,v],[w,x],j,H,n);o===H?C.push("M",Q[0],"A",H,",",H," 0 0,",p," ",Q[1],"A",j,",",j," 0 ",1-n^tf(Q[1][0],Q[1][1],R[1][0],R[1][1]),",",n," ",R[1],"A",H,",",H," 0 0,",p," ",R[0]):C.push("M",Q[0],"A",H,",",H," 0 1,",p," ",R[0])}else C.push("M",s,",",t);if(null!=y){var S=uf([s,t],[y,z],a,-I,n),T=uf([w,x],null==u?[s,t]:[u,v],a,-I,n);o===I?C.push("L",T[0],"A",I,",",I," 0 0,",p," ",T[1],"A",a,",",a," 0 ",n^tf(T[1][0],T[1][1],S[1][0],S[1][1]),",",1-n," ",S[1],"A",I,",",I," 0 0,",p," ",S[0]):C.push("L",T[0],"A",I,",",I," 0 0,",p," ",S[0])}else C.push("L",w,",",x)}else C.push("M",s,",",t),null!=u&&C.push("A",j,",",j," 0 ",D,",",n," ",u,",",v),C.push("L",w,",",x),null!=y&&C.push("A",a,",",a," 0 ",F,",",1-n," ",y,",",z);return C.push("Z"),C.join("")}function b(a,b){return"M0,"+a+"A"+a+","+a+" 0 1,"+b+" 0,"+-a+"A"+a+","+a+" 0 1,"+b+" 0,"+a}var c=of,d=pf,e=nf,f=Gi,g=qf,h=rf,i=sf;return a.innerRadius=function(b){return arguments.length?(c=Ca(b),a):c},a.outerRadius=function(b){return arguments.length?(d=Ca(b),a):d},a.cornerRadius=function(b){return arguments.length?(e=Ca(b),a):e},a.padRadius=function(b){return arguments.length?(f=b==Gi?Gi:Ca(b),a):f},a.startAngle=function(b){return arguments.length?(g=Ca(b),a):g},a.endAngle=function(b){return arguments.length?(h=Ca(b),a):h},a.padAngle=function(b){return arguments.length?(i=Ca(b),a):i},a.centroid=function(){var a=(+c.apply(this,arguments)+ +d.apply(this,arguments))/2,b=(+g.apply(this,arguments)+ +h.apply(this,arguments))/2-Qg;return[Math.cos(b)*a,Math.sin(b)*a]},a};var Gi="auto";jg.svg.line=function(){return vf(u)};var Hi=jg.map({linear:wf,"linear-closed":xf,step:yf,"step-before":zf,"step-after":Af,basis:Gf,"basis-open":Hf,"basis-closed":If,bundle:Jf,cardinal:Df,"cardinal-open":Bf,"cardinal-closed":Cf,monotone:Pf});Hi.forEach(function(a,b){b.key=a,b.closed=/-closed$/.test(a)});var Ii=[0,2/3,1/3,0],Ji=[0,1/3,2/3,0],Ki=[0,1/6,2/3,1/6];jg.svg.line.radial=function(){var a=vf(Qf);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a},zf.reverse=Af,Af.reverse=zf,jg.svg.area=function(){return Rf(u)},jg.svg.area.radial=function(){var a=Rf(Qf);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a},jg.svg.chord=function(){function a(a,h){var i=b(this,f,a,h),j=b(this,g,a,h);return"M"+i.p0+d(i.r,i.p1,i.a1-i.a0)+(c(i,j)?e(i.r,i.p1,i.r,i.p0):e(i.r,i.p1,j.r,j.p0)+d(j.r,j.p1,j.a1-j.a0)+e(j.r,j.p1,i.r,i.p0))+"Z"}function b(a,b,c,d){var e=b.call(a,c,d),f=h.call(a,e,d),g=i.call(a,e,d)-Qg,k=j.call(a,e,d)-Qg;return{r:f,a0:g,a1:k,p0:[f*Math.cos(g),f*Math.sin(g)],p1:[f*Math.cos(k),f*Math.sin(k)]}}function c(a,b){return a.a0==b.a0&&a.a1==b.a1}function d(a,b,c){return"A"+a+","+a+" 0 "+ +(c>Ng)+",1 "+b}function e(a,b,c,d){return"Q 0,0 "+d}var f=uc,g=vc,h=Sf,i=qf,j=rf;return a.radius=function(b){return arguments.length?(h=Ca(b),a):h},a.source=function(b){return arguments.length?(f=Ca(b),a):f},a.target=function(b){return arguments.length?(g=Ca(b),a):g},a.startAngle=function(b){return arguments.length?(i=Ca(b),a):i},a.endAngle=function(b){return arguments.length?(j=Ca(b),a):j},a},jg.svg.diagonal=function(){function a(a,e){var f=b.call(this,a,e),g=c.call(this,a,e),h=(f.y+g.y)/2,i=[f,{x:f.x,y:h},{x:g.x,y:h},g];return i=i.map(d),"M"+i[0]+"C"+i[1]+" "+i[2]+" "+i[3]}var b=uc,c=vc,d=Tf;return a.source=function(c){return arguments.length?(b=Ca(c),a):b},a.target=function(b){return arguments.length?(c=Ca(b),a):c},a.projection=function(b){return arguments.length?(d=b,a):d},a},jg.svg.diagonal.radial=function(){var a=jg.svg.diagonal(),b=Tf,c=a.projection;return a.projection=function(a){return arguments.length?c(Uf(b=a)):b},a},jg.svg.symbol=function(){function a(a,d){return(Li.get(b.call(this,a,d))||Xf)(c.call(this,a,d))}var b=Wf,c=Vf;return a.type=function(c){return arguments.length?(b=Ca(c),a):b},a.size=function(b){return arguments.length?(c=Ca(b),a):c},a};var Li=jg.map({circle:Xf,cross:function(a){var b=Math.sqrt(a/5)/2;return"M"+-3*b+","+-b+"H"+-b+"V"+-3*b+"H"+b+"V"+-b+"H"+3*b+"V"+b+"H"+b+"V"+3*b+"H"+-b+"V"+b+"H"+-3*b+"Z"},diamond:function(a){var b=Math.sqrt(a/(2*Ni)),c=b*Ni;return"M0,"+-b+"L"+c+",0 0,"+b+" "+-c+",0Z"},square:function(a){var b=Math.sqrt(a)/2;return"M"+-b+","+-b+"L"+b+","+-b+" "+b+","+b+" "+-b+","+b+"Z"},"triangle-down":function(a){var b=Math.sqrt(a/Mi),c=b*Mi/2;return"M0,"+c+"L"+b+","+-c+" "+-b+","+-c+"Z"},"triangle-up":function(a){var b=Math.sqrt(a/Mi),c=b*Mi/2;return"M0,"+-c+"L"+b+","+c+" "+-b+","+c+"Z"}});jg.svg.symbolTypes=Li.keys();var Mi=Math.sqrt(3),Ni=Math.tan(30*Rg);Eg.transition=function(a){for(var b,c,d=Oi||++Si,e=ag(a),f=[],g=Pi||{time:Date.now(),ease:Bd,delay:0,duration:250},h=-1,i=this.length;++h<i;){f.push(b=[]);for(var j=this[h],k=-1,l=j.length;++k<l;)(c=j[k])&&bg(c,k,e,d,g),b.push(c)}return Zf(f,e,d)},Eg.interrupt=function(a){return this.each(null==a?Qi:Yf(ag(a)))};var Oi,Pi,Qi=Yf(ag()),Ri=[],Si=0;Ri.call=Eg.call,Ri.empty=Eg.empty,Ri.node=Eg.node,Ri.size=Eg.size,jg.transition=function(a,b){return a&&a.transition?Oi?a.transition(b):a:jg.selection().transition(a)},jg.transition.prototype=Ri,Ri.select=function(a){var b,c,d,e=this.id,f=this.namespace,g=[];a=E(a);for(var h=-1,i=this.length;++h<i;){g.push(b=[]);for(var j=this[h],k=-1,l=j.length;++k<l;)(d=j[k])&&(c=a.call(d,d.__data__,k,h))?("__data__"in d&&(c.__data__=d.__data__),bg(c,k,f,e,d[f][e]),b.push(c)):b.push(null)}return Zf(g,f,e)},Ri.selectAll=function(a){var b,c,d,e,f,g=this.id,h=this.namespace,i=[];a=F(a);for(var j=-1,k=this.length;++j<k;)for(var l=this[j],m=-1,n=l.length;++m<n;)if(d=l[m]){f=d[h][g],c=a.call(d,d.__data__,m,j),i.push(b=[]);for(var o=-1,p=c.length;++o<p;)(e=c[o])&&bg(e,o,h,g,f),b.push(e)}return Zf(i,h,g)},Ri.filter=function(a){var b,c,d,e=[];"function"!=typeof a&&(a=R(a));for(var f=0,g=this.length;g>f;f++){e.push(b=[]);for(var c=this[f],h=0,i=c.length;i>h;h++)(d=c[h])&&a.call(d,d.__data__,h,f)&&b.push(d)}return Zf(e,this.namespace,this.id)},Ri.tween=function(a,b){var c=this.id,d=this.namespace;return arguments.length<2?this.node()[d][c].tween.get(a):T(this,null==b?function(b){b[d][c].tween.remove(a)}:function(e){e[d][c].tween.set(a,b)})},Ri.attr=function(a,b){function c(){this.removeAttribute(h)}function d(){this.removeAttributeNS(h.space,h.local)}function e(a){return null==a?c:(a+="",function(){var b,c=this.getAttribute(h);return c!==a&&(b=g(c,a),function(a){this.setAttribute(h,b(a))})})}function f(a){return null==a?d:(a+="",function(){var b,c=this.getAttributeNS(h.space,h.local);return c!==a&&(b=g(c,a),function(a){this.setAttributeNS(h.space,h.local,b(a))})})}if(arguments.length<2){for(b in a)this.attr(b,a[b]);return this}var g="transform"==a?Wd:ud,h=jg.ns.qualify(a);return $f(this,"attr."+a,b,h.local?f:e)},Ri.attrTween=function(a,b){function c(a,c){var d=b.call(this,a,c,this.getAttribute(e));return d&&function(a){this.setAttribute(e,d(a))}}function d(a,c){var d=b.call(this,a,c,this.getAttributeNS(e.space,e.local));return d&&function(a){this.setAttributeNS(e.space,e.local,d(a))}}var e=jg.ns.qualify(a);return this.tween("attr."+a,e.local?d:c)},Ri.style=function(a,b,c){function e(){this.style.removeProperty(a)}function f(b){return null==b?e:(b+="",function(){var e,f=d(this).getComputedStyle(this,null).getPropertyValue(a);return f!==b&&(e=ud(f,b),function(b){this.style.setProperty(a,e(b),c)})})}var g=arguments.length;if(3>g){if("string"!=typeof a){2>g&&(b="");for(c in a)this.style(c,a[c],b);return this}c=""}return $f(this,"style."+a,b,f)},Ri.styleTween=function(a,b,c){function e(e,f){var g=b.call(this,e,f,d(this).getComputedStyle(this,null).getPropertyValue(a));return g&&function(b){this.style.setProperty(a,g(b),c)}}return arguments.length<3&&(c=""),this.tween("style."+a,e)},Ri.text=function(a){return $f(this,"text",a,_f)},Ri.remove=function(){var a=this.namespace;return this.each("end.transition",function(){var b;this[a].count<2&&(b=this.parentNode)&&b.removeChild(this)})},Ri.ease=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].ease:("function"!=typeof a&&(a=jg.ease.apply(jg,arguments)),T(this,function(d){d[c][b].ease=a}))},Ri.delay=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].delay:T(this,"function"==typeof a?function(d,e,f){d[c][b].delay=+a.call(d,d.__data__,e,f)}:(a=+a,function(d){d[c][b].delay=a}))},Ri.duration=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].duration:T(this,"function"==typeof a?function(d,e,f){d[c][b].duration=Math.max(1,a.call(d,d.__data__,e,f))}:(a=Math.max(1,a),function(d){d[c][b].duration=a}))},Ri.each=function(a,b){var c=this.id,d=this.namespace;if(arguments.length<2){var e=Pi,f=Oi;try{Oi=c,T(this,function(b,e,f){Pi=b[d][c],a.call(b,b.__data__,e,f)})}finally{Pi=e,Oi=f}}else T(this,function(e){var f=e[d][c];(f.event||(f.event=jg.dispatch("start","end","interrupt"))).on(a,b)});return this},Ri.transition=function(){for(var a,b,c,d,e=this.id,f=++Si,g=this.namespace,h=[],i=0,j=this.length;j>i;i++){h.push(a=[]);for(var b=this[i],k=0,l=b.length;l>k;k++)(c=b[k])&&(d=c[g][e],bg(c,k,g,f,{time:d.time,ease:d.ease,delay:d.delay+d.duration,duration:d.duration})),a.push(c)}return Zf(h,g,f)},jg.svg.axis=function(){function a(a){a.each(function(){var a,j=jg.select(this),k=this.__chart__||c,l=this.__chart__=c.copy(),m=null==i?l.ticks?l.ticks.apply(l,h):l.domain():i,n=null==b?l.tickFormat?l.tickFormat.apply(l,h):u:b,o=j.selectAll(".tick").data(m,l),p=o.enter().insert("g",".domain").attr("class","tick").style("opacity",Lg),q=jg.transition(o.exit()).style("opacity",Lg).remove(),r=jg.transition(o.order()).style("opacity",1),s=Math.max(e,0)+g,t=Te(l),v=j.selectAll(".domain").data([0]),w=(v.enter().append("path").attr("class","domain"),jg.transition(v));p.append("line"),p.append("text");var x,y,z,A,B=p.select("line"),C=r.select("line"),D=o.select("text").text(n),E=p.select("text"),F=r.select("text"),G="top"===d||"left"===d?-1:1;if("bottom"===d||"top"===d?(a=cg,x="x",z="y",y="x2",A="y2",D.attr("dy",0>G?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+t[0]+","+G*f+"V0H"+t[1]+"V"+G*f)):(a=dg,x="y",z="x",y="y2",A="x2",D.attr("dy",".32em").style("text-anchor",0>G?"end":"start"),w.attr("d","M"+G*f+","+t[0]+"H0V"+t[1]+"H"+G*f)),B.attr(A,G*e),E.attr(z,G*s),C.attr(y,0).attr(A,G*e),F.attr(x,0).attr(z,G*s),l.rangeBand){var H=l,I=H.rangeBand()/2;k=l=function(a){return H(a)+I}}else k.rangeBand?k=l:q.call(a,l,k);p.call(a,k,l),r.call(a,l,l)})}var b,c=jg.scale.linear(),d=Ti,e=6,f=6,g=3,h=[10],i=null;return a.scale=function(b){return arguments.length?(c=b,a):c},a.orient=function(b){return arguments.length?(d=b in Ui?b+"":Ti,a):d},a.ticks=function(){return arguments.length?(h=lg(arguments),a):h},a.tickValues=function(b){return arguments.length?(i=b,a):i},a.tickFormat=function(c){return arguments.length?(b=c,a):b},a.tickSize=function(b){var c=arguments.length;return c?(e=+b,f=+arguments[c-1],a):e},a.innerTickSize=function(b){return arguments.length?(e=+b,a):e},a.outerTickSize=function(b){return arguments.length?(f=+b,a):f},a.tickPadding=function(b){return arguments.length?(g=+b,a):g},a.tickSubdivide=function(){return arguments.length&&a},a};var Ti="bottom",Ui={top:1,right:1,bottom:1,left:1};jg.svg.brush=function(){function a(d){d.each(function(){var d=jg.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",f).on("touchstart.brush",f),g=d.selectAll(".background").data([0]);g.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),d.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var h=d.selectAll(".resize").data(p,u);h.exit().remove(),h.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return Vi[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),h.style("display",a.empty()?"none":null);var i,l=jg.transition(d),m=jg.transition(g);j&&(i=Te(j),m.attr("x",i[0]).attr("width",i[1]-i[0]),c(l)),k&&(i=Te(k),m.attr("y",i[0]).attr("height",i[1]-i[0]),e(l)),b(l)})}function b(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+l[+/e$/.test(a)]+","+m[+/^s/.test(a)]+")"})}function c(a){a.select(".extent").attr("x",l[0]),a.selectAll(".extent,.n>rect,.s>rect").attr("width",l[1]-l[0])}function e(a){a.select(".extent").attr("y",m[0]),a.selectAll(".extent,.e>rect,.w>rect").attr("height",m[1]-m[0])}function f(){function f(){32==jg.event.keyCode&&(D||(t=null,F[0]-=l[1],F[1]-=m[1],D=2),A())}function p(){32==jg.event.keyCode&&2==D&&(F[0]+=l[1],F[1]+=m[1],D=0,A())}function q(){var a=jg.mouse(v),d=!1;u&&(a[0]+=u[0],a[1]+=u[1]),D||(jg.event.altKey?(t||(t=[(l[0]+l[1])/2,(m[0]+m[1])/2]),F[0]=l[+(a[0]<t[0])],F[1]=m[+(a[1]<t[1])]):t=null),B&&r(a,j,0)&&(c(y),d=!0),C&&r(a,k,1)&&(e(y),d=!0),d&&(b(y),x({type:"brush",mode:D?"move":"resize"}))}function r(a,b,c){var d,e,f=Te(b),i=f[0],j=f[1],k=F[c],p=c?m:l,q=p[1]-p[0];return D&&(i-=k,j-=q+k),d=(c?o:n)?Math.max(i,Math.min(j,a[c])):a[c],D?e=(d+=k)+q:(t&&(k=Math.max(i,Math.min(j,2*t[c]-d))),d>k?(e=d,d=k):e=k),p[0]!=d||p[1]!=e?(c?h=null:g=null,p[0]=d,p[1]=e,!0):void 0}function s(){q(),y.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null),jg.select("body").style("cursor",null),G.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),E(),x({type:"brushend"})}var t,u,v=this,w=jg.select(jg.event.target),x=i.of(v,arguments),y=jg.select(v),z=w.datum(),B=!/^(n|s)$/.test(z)&&j,C=!/^(e|w)$/.test(z)&&k,D=w.classed("extent"),E=Z(v),F=jg.mouse(v),G=jg.select(d(v)).on("keydown.brush",f).on("keyup.brush",p);if(jg.event.changedTouches?G.on("touchmove.brush",q).on("touchend.brush",s):G.on("mousemove.brush",q).on("mouseup.brush",s),y.interrupt().selectAll("*").interrupt(),D)F[0]=l[0]-F[0],F[1]=m[0]-F[1];else if(z){var H=+/w$/.test(z),I=+/^n/.test(z);u=[l[1-H]-F[0],m[1-I]-F[1]],F[0]=l[H],F[1]=m[I]}else jg.event.altKey&&(t=F.slice());y.style("pointer-events","none").selectAll(".resize").style("display",null),jg.select("body").style("cursor",w.style("cursor")),x({type:"brushstart"}),q()}var g,h,i=C(a,"brushstart","brush","brushend"),j=null,k=null,l=[0,0],m=[0,0],n=!0,o=!0,p=Wi[0];return a.event=function(a){a.each(function(){var a=i.of(this,arguments),b={x:l,y:m,i:g,j:h},c=this.__chart__||b;this.__chart__=b,Oi?jg.select(this).transition().each("start.brush",function(){g=c.i,h=c.j,l=c.x,m=c.y,a({type:"brushstart"})}).tween("brush:brush",function(){var c=vd(l,b.x),d=vd(m,b.y);return g=h=null,function(e){l=b.x=c(e),m=b.y=d(e),a({type:"brush",mode:"resize"})}}).each("end.brush",function(){g=b.i,h=b.j,a({type:"brush",mode:"resize"}),a({type:"brushend"})}):(a({type:"brushstart"}),a({type:"brush",mode:"resize"}),a({type:"brushend"}))})},a.x=function(b){return arguments.length?(j=b,p=Wi[!j<<1|!k],a):j},a.y=function(b){return arguments.length?(k=b,p=Wi[!j<<1|!k],a):k},a.clamp=function(b){return arguments.length?(j&&k?(n=!!b[0],o=!!b[1]):j?n=!!b:k&&(o=!!b),a):j&&k?[n,o]:j?n:k?o:null},a.extent=function(b){var c,d,e,f,i;return arguments.length?(j&&(c=b[0],d=b[1],k&&(c=c[0],d=d[0]),g=[c,d],j.invert&&(c=j(c),d=j(d)),c>d&&(i=c,c=d,d=i),(c!=l[0]||d!=l[1])&&(l=[c,d])),k&&(e=b[0],f=b[1],j&&(e=e[1],f=f[1]),h=[e,f],k.invert&&(e=k(e),f=k(f)),e>f&&(i=e,e=f,f=i),(e!=m[0]||f!=m[1])&&(m=[e,f])),a):(j&&(g?(c=g[0],d=g[1]):(c=l[0],d=l[1],j.invert&&(c=j.invert(c),d=j.invert(d)),c>d&&(i=c,c=d,d=i))),k&&(h?(e=h[0],f=h[1]):(e=m[0],f=m[1],k.invert&&(e=k.invert(e),f=k.invert(f)),e>f&&(i=e,e=f,f=i))),j&&k?[[c,e],[d,f]]:j?[c,d]:k&&[e,f])},a.clear=function(){return a.empty()||(l=[0,0],m=[0,0],g=h=null),a},a.empty=function(){return!!j&&l[0]==l[1]||!!k&&m[0]==m[1]},jg.rebind(a,i,"on")};var Vi={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Wi=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Xi=oh.format=uh.timeFormat,Yi=Xi.utc,Zi=Yi("%Y-%m-%dT%H:%M:%S.%LZ");Xi.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?eg:Zi,eg.parse=function(a){var b=new Date(a);return isNaN(b)?null:b},eg.toString=Zi.toString,oh.second=Qa(function(a){return new ph(1e3*Math.floor(a/1e3))},function(a,b){a.setTime(a.getTime()+1e3*Math.floor(b))},function(a){return a.getSeconds()}),oh.seconds=oh.second.range,oh.seconds.utc=oh.second.utc.range,oh.minute=Qa(function(a){return new ph(6e4*Math.floor(a/6e4))},function(a,b){a.setTime(a.getTime()+6e4*Math.floor(b))},function(a){return a.getMinutes()}),oh.minutes=oh.minute.range,oh.minutes.utc=oh.minute.utc.range,oh.hour=Qa(function(a){var b=a.getTimezoneOffset()/60;return new ph(36e5*(Math.floor(a/36e5-b)+b))},function(a,b){a.setTime(a.getTime()+36e5*Math.floor(b))},function(a){return a.getHours()}),oh.hours=oh.hour.range,oh.hours.utc=oh.hour.utc.range,oh.month=Qa(function(a){return a=oh.day(a),a.setDate(1),a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()}),oh.months=oh.month.range,oh.months.utc=oh.month.utc.range;var $i=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],_i=[[oh.second,1],[oh.second,5],[oh.second,15],[oh.second,30],[oh.minute,1],[oh.minute,5],[oh.minute,15],[oh.minute,30],[oh.hour,1],[oh.hour,3],[oh.hour,6],[oh.hour,12],[oh.day,1],[oh.day,2],[oh.week,1],[oh.month,1],[oh.month,3],[oh.year,1]],aj=Xi.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",Fb]]),bj={range:function(a,b,c){return jg.range(Math.ceil(a/c)*c,+b,c).map(gg)},floor:u,ceil:u};_i.year=oh.year,oh.scale=function(){return fg(jg.scale.linear(),_i,aj)};var cj=_i.map(function(a){return[a[0].utc,a[1]]}),dj=Yi.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],["%B",function(a){return a.getUTCMonth()}],["%Y",Fb]]);cj.year=oh.year.utc,oh.scale.utc=function(){return fg(jg.scale.linear(),cj,dj)},jg.text=Da(function(a){return a.responseText}),jg.json=function(a,b){return Ea(a,"application/json",hg,b)},jg.html=function(a,b){return Ea(a,"text/html",ig,b)},jg.xml=Da(function(a){return a.responseXML}),"function"==typeof a&&a.amd?(this.d3=jg,a(jg)):"object"==typeof b&&b.exports?b.exports=jg:this.d3=jg}()},{}],71:[function(require,a,b){"use strict";function c(a,b){this.point=a,this.index=b}function d(a,b){for(var c=a.point,d=b.point,e=c.length,f=0;e>f;++f){var g=d[f]-c[f];if(g)return g}return 0}function e(a,b,c){if(1===a)return c?[[-1,0]]:[];var d=b.map(function(a,b){return[a[0],b]});d.sort(function(a,b){return a[0]-b[0]});for(var e=new Array(a-1),f=1;a>f;++f){var g=d[f-1],h=d[f];e[f-1]=[g[1],h[1]]}return c&&e.push([-1,e[0][1]],[e[a-1][1],-1]),e}function f(a,b){var f=a.length;if(0===f)return[];var i=a[0].length;if(1>i)return[];if(1===i)return e(f,a,b);for(var j=new Array(f),k=1,l=0;f>l;++l){for(var m=a[l],n=new Array(i+1),o=0,p=0;i>p;++p){var q=m[p];n[p]=q,o+=q*q}n[i]=o,j[l]=new c(n,l),k=Math.max(o,k)}h(j,d),f=j.length;for(var r=new Array(f+i+1),s=new Array(f+i+1),t=(i+1)*(i+1)*k,u=new Array(i+1),l=0;i>=l;++l)u[l]=0;u[i]=t,r[0]=u.slice(),s[0]=-1;for(var l=0;i>=l;++l){var n=u.slice();n[l]=1,r[l+1]=n,s[l+1]=-1}for(var l=0;f>l;++l){var v=j[l];r[l+i+1]=v.point,s[l+i+1]=v.index}var w=g(r,!1);if(w=b?w.filter(function(a){for(var b=0,c=0;i>=c;++c){var d=s[a[c]];if(0>d&&++b>=2)return!1;a[c]=d}return!0}):w.filter(function(a){for(var b=0;i>=b;++b){var c=s[a[b]];if(0>c)return!1;a[b]=c}return!0}),1&i)for(var l=0;l<w.length;++l){var v=w[l],n=v[0];v[0]=v[1],v[1]=n}return w}var g=require("incremental-convex-hull"),h=require("uniq");a.exports=f},{"incremental-convex-hull":191,uniq:234}],72:[function(require,a,b){"use strict";function c(a,b,d){var e=0|a[d];if(0>=e)return[];var f,g=new Array(e);if(d===a.length-1)for(f=0;e>f;++f)g[f]=b;else for(f=0;e>f;++f)g[f]=c(a,b,d+1);return g}function d(a,b){var c,d;for(c=new Array(a),d=0;a>d;++d)c[d]=b;return c}function e(a,b){switch("undefined"==typeof b&&(b=0),typeof a){case"number":if(a>0)return d(0|a,b);break;case"object":if("number"==typeof a.length)return c(a,b,0)}return[]}a.exports=e},{}],73:[function(require,b,c){(function(c,d){(function(){"use strict";function e(a){return"function"==typeof a||"object"==typeof a&&null!==a}function f(a){return"function"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){T=a}function i(a){X=a}function j(){return function(){c.nextTick(o)}}function k(){return function(){S(o)}}function l(){var a=0,b=new $(o),c=document.createTextNode("");return b.observe(c,{characterData:!0}),function(){c.data=a=++a%2}}function m(){var a=new MessageChannel;return a.port1.onmessage=o,function(){a.port2.postMessage(0)}}function n(){return function(){setTimeout(o,1)}}function o(){for(var a=0;W>a;a+=2){var b=ba[a],c=ba[a+1];b(c),ba[a]=void 0,ba[a+1]=void 0}W=0}function p(){try{var a=require,b=a("vertx");return S=b.runOnLoop||b.runOnContext,k()}catch(c){return n()}}function q(){}function r(){return new TypeError("You cannot resolve a promise with itself")}function s(){return new TypeError("A promises callback cannot return that same promise.")}function t(a){try{return a.then}catch(b){return fa.error=b,fa}}function u(a,b,c,d){try{a.call(b,c,d)}catch(e){return e}}function v(a,b,c){X(function(a){var d=!1,e=u(c,b,function(c){d||(d=!0,b!==c?y(a,c):A(a,c))},function(b){d||(d=!0,B(a,b))},"Settle: "+(a._label||" unknown promise"));!d&&e&&(d=!0,B(a,e))},a)}function w(a,b){b._state===da?A(a,b._result):b._state===ea?B(a,b._result):C(b,void 0,function(b){y(a,b)},function(b){B(a,b)})}function x(a,b){if(b.constructor===a.constructor)w(a,b);else{var c=t(b);c===fa?B(a,fa.error):void 0===c?A(a,b):f(c)?v(a,b,c):A(a,b)}}function y(a,b){a===b?B(a,r()):e(b)?x(a,b):A(a,b)}function z(a){a._onerror&&a._onerror(a._result),D(a)}function A(a,b){a._state===ca&&(a._result=b,a._state=da,0!==a._subscribers.length&&X(D,a))}function B(a,b){a._state===ca&&(a._state=ea,a._result=b,X(z,a))}function C(a,b,c,d){var e=a._subscribers,f=e.length;a._onerror=null,e[f]=b,e[f+da]=c,e[f+ea]=d,0===f&&a._state&&X(D,a)}function D(a){var b=a._subscribers,c=a._state;if(0!==b.length){for(var d,e,f=a._result,g=0;g<b.length;g+=3)d=b[g],e=b[g+c],d?G(c,d,e,f):e(f);a._subscribers.length=0}}function E(){this.error=null}function F(a,b){try{return a(b)}catch(c){return ga.error=c,ga}}function G(a,b,c,d){var e,g,h,i,j=f(c);if(j){if(e=F(c,d),e===ga?(i=!0,g=e.error,e=null):h=!0,b===e)return void B(b,s())}else e=d,h=!0;b._state!==ca||(j&&h?y(b,e):i?B(b,g):a===da?A(b,e):a===ea&&B(b,e))}function H(a,b){try{b(function(b){y(a,b)},function(b){B(a,b)})}catch(c){B(a,c)}}function I(a,b){var c=this;c._instanceConstructor=a,c.promise=new a(q),c._validateInput(b)?(c._input=b,c.length=b.length,c._remaining=b.length,c._init(),0===c.length?A(c.promise,c._result):(c.length=c.length||0,c._enumerate(),0===c._remaining&&A(c.promise,c._result))):B(c.promise,c._validationError())}function J(a){return new ha(this,a).promise}function K(a){function b(a){y(e,a)}function c(a){B(e,a)}var d=this,e=new d(q);if(!V(a))return B(e,new TypeError("You must pass an array to race.")),e;for(var f=a.length,g=0;e._state===ca&&f>g;g++)C(d.resolve(a[g]),void 0,b,c);return e}function L(a){var b=this;if(a&&"object"==typeof a&&a.constructor===b)return a;var c=new b(q);return y(c,a),c}function M(a){var b=this,c=new b(q);return B(c,a),c}function N(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function O(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function P(a){this._id=ma++,this._state=void 0,this._result=void 0,this._subscribers=[],q!==a&&(f(a)||N(),this instanceof P||O(),H(this,a))}function Q(){var a;if("undefined"!=typeof d)a=d;else if("undefined"!=typeof self)a=self;else try{a=Function("return this")()}catch(b){throw new Error("polyfill failed because global object is unavailable in this environment")}var c=a.Promise;(!c||"[object Promise]"!==Object.prototype.toString.call(c.resolve())||c.cast)&&(a.Promise=na)}var R;R=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};var S,T,U,V=R,W=0,X=({}.toString,function(a,b){ba[W]=a,ba[W+1]=b,W+=2,2===W&&(T?T(o):U())}),Y="undefined"!=typeof window?window:void 0,Z=Y||{},$=Z.MutationObserver||Z.WebKitMutationObserver,_="undefined"!=typeof c&&"[object process]"==={}.toString.call(c),aa="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ba=new Array(1e3);U=_?j():$?l():aa?m():void 0===Y&&"function"==typeof require?p():n();var ca=void 0,da=1,ea=2,fa=new E,ga=new E;I.prototype._validateInput=function(a){return V(a)},I.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},I.prototype._init=function(){this._result=new Array(this.length)};var ha=I;I.prototype._enumerate=function(){for(var a=this,b=a.length,c=a.promise,d=a._input,e=0;c._state===ca&&b>e;e++)a._eachEntry(d[e],e)},I.prototype._eachEntry=function(a,b){var c=this,d=c._instanceConstructor;g(a)?a.constructor===d&&a._state!==ca?(a._onerror=null,c._settledAt(a._state,b,a._result)):c._willSettleAt(d.resolve(a),b):(c._remaining--,c._result[b]=a)},I.prototype._settledAt=function(a,b,c){var d=this,e=d.promise;e._state===ca&&(d._remaining--,a===ea?B(e,c):d._result[b]=c),0===d._remaining&&A(e,d._result)},I.prototype._willSettleAt=function(a,b){var c=this;C(a,void 0,function(a){c._settledAt(da,b,a)},function(a){c._settledAt(ea,b,a)})};var ia=J,ja=K,ka=L,la=M,ma=0,na=P;P.all=ia,P.race=ja,P.resolve=ka,P.reject=la,P._setScheduler=h,P._setAsap=i,P._asap=X,P.prototype={constructor:P,then:function(a,b){var c=this,d=c._state;if(d===da&&!a||d===ea&&!b)return this;var e=new this.constructor(q),f=c._result;if(d){var g=arguments[d-1];X(function(){G(d,e,g,f)})}else C(c,e,a,b);return e},"catch":function(a){return this.then(null,a)}};var oa=Q,pa={Promise:na,polyfill:oa};"function"==typeof a&&a.amd?a(function(){return pa}):"undefined"!=typeof b&&b.exports?b.exports=pa:"undefined"!=typeof this&&(this.ES6Promise=pa),oa()}).call(this)}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:55}],74:[function(require,a,b){"use strict";function c(a){for(var b,c=a.length,d=0;c>d;d++)if(b=a.charCodeAt(d),(9>b||b>13)&&32!==b&&133!==b&&160!==b&&5760!==b&&6158!==b&&(8192>b||b>8205)&&8232!==b&&8233!==b&&8239!==b&&8287!==b&&8288!==b&&12288!==b&&65279!==b)return!1;return!0}a.exports=function(a){var b=typeof a;if("string"===b){var d=a;if(a=+a,0===a&&c(d))return!1}else if("number"!==b)return!1;return 1>a-a}},{}],75:[function(require,a,b){"use strict";function c(a,b,c,d,e){this.gl=a,this.type=b,this.handle=c,this.length=d,this.usage=e}function d(a,b,c,d,e,f){var g=e.length*e.BYTES_PER_ELEMENT;if(0>f)return a.bufferData(b,e,d),g;if(g+f>c)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return a.bufferSubData(b,f,e),c}function e(a,b){for(var c=h.malloc(a.length,b),d=a.length,e=0;d>e;++e)c[e]=a[e];return c}function f(a,b){for(var c=1,d=b.length-1;d>=0;--d){if(b[d]!==c)return!1;c*=a[d]}return!0}function g(a,b,d,e){if(d=d||a.ARRAY_BUFFER,e=e||a.DYNAMIC_DRAW,d!==a.ARRAY_BUFFER&&d!==a.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(e!==a.DYNAMIC_DRAW&&e!==a.STATIC_DRAW&&e!==a.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var f=a.createBuffer(),g=new c(a,d,f,0,e);return g.update(b),g}var h=require("typedarray-pool"),i=require("ndarray-ops"),j=require("ndarray"),k=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"],l=c.prototype;l.bind=function(){this.gl.bindBuffer(this.type,this.handle)},l.unbind=function(){this.gl.bindBuffer(this.type,null)},l.dispose=function(){this.gl.deleteBuffer(this.handle)},l.update=function(a,b){if("number"!=typeof b&&(b=-1),this.bind(),"object"==typeof a&&"undefined"!=typeof a.shape){var c=a.dtype;if(k.indexOf(c)<0&&(c="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var g=gl.getExtension("OES_element_index_uint");c=g&&"uint16"!==c?"uint32":"uint16"}if(c===a.dtype&&f(a.shape,a.stride))0===a.offset&&a.data.length===a.shape[0]?this.length=d(this.gl,this.type,this.length,this.usage,a.data,b):this.length=d(this.gl,this.type,this.length,this.usage,a.data.subarray(a.offset,a.shape[0]),b);else{var l=h.malloc(a.size,c),m=j(l,a.shape);i.assign(m,a),0>b?this.length=d(this.gl,this.type,this.length,this.usage,l,b):this.length=d(this.gl,this.type,this.length,this.usage,l.subarray(0,a.size),b),h.free(l)}}else if(Array.isArray(a)){var n;n=this.type===this.gl.ELEMENT_ARRAY_BUFFER?e(a,"uint16"):e(a,"float32"),0>b?this.length=d(this.gl,this.type,this.length,this.usage,n,b):this.length=d(this.gl,this.type,this.length,this.usage,n.subarray(0,a.length),b),h.free(n)}else if("object"==typeof a&&"number"==typeof a.length)this.length=d(this.gl,this.type,this.length,this.usage,a,b);else{if("number"!=typeof a&&void 0!==a)throw new Error("gl-buffer: Invalid data type");if(b>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");a=0|a,0>=a&&(a=1),this.gl.bufferData(this.type,0|a,this.usage),this.length=a}},a.exports=g},{ndarray:208,"ndarray-ops":207,"typedarray-pool":233}],76:[function(require,a,b){"use strict";function c(a,b,c){this.plot=a,this.shader=b,this.buffer=c,this.bounds=[1/0,1/0,-(1/0),-(1/0)],this.numPoints=0,this.color=[0,0,0,1]}function d(a,b){var d=e(a.gl,h.vertex,h.fragment),g=f(a.gl),i=new c(a,d,g);return i.update(b),a.addObject(i),i}var e=require("gl-shader"),f=require("gl-buffer"),g=require("typedarray-pool"),h=require("./lib/shaders");a.exports=d;var i=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]],j=c.prototype;
j.draw=function(){var a=[1,0,0,0,1,0,0,0,1],b=[1,1];return function(){var c=this.plot,d=this.shader,e=this.buffer,f=this.bounds,g=this.numPoints,h=(this.color,c.gl),j=c.dataBox,k=c.viewBox,l=c.pixelRatio,m=f[2]-f[0],n=f[3]-f[1],o=j[2]-j[0],p=j[3]-j[1];a[0]=2*m/o,a[4]=2*n/p,a[6]=2*(f[0]-j[0])/o-1,a[7]=2*(f[1]-j[1])/p-1;var q=k[2]-k[0],r=k[3]-k[1];b[0]=2*l/q,b[1]=2*l/r,e.bind(),d.bind(),d.uniforms.viewTransform=a,d.uniforms.pixelScale=b,d.uniforms.color=this.color,d.attributes.position.pointer(h.FLOAT,!1,16,0),d.attributes.pixelOffset.pointer(h.FLOAT,!1,16,8),h.drawArrays(h.TRIANGLES,0,g*i.length)}}(),j.drawPick=function(a){return a},j.pick=function(a,b){return null},j.update=function(a){a=a||{};var b=a.positions||[],c=a.errors||[],d=1;"lineWidth"in a&&(d=+a.lineWidth);var e=5;"capSize"in a&&(e=+a.capSize),this.color=(a.color||[0,0,0,1]).slice();for(var f=this.bounds=[1/0,1/0,-(1/0),-(1/0)],h=this.numPoints=b.length>>1,j=0;h>j;++j){var k=b[2*j],l=b[2*j+1];f[0]=Math.min(k,f[0]),f[1]=Math.min(l,f[1]),f[2]=Math.max(k,f[2]),f[3]=Math.max(l,f[3])}f[2]===f[0]&&(f[2]+=1),f[3]===f[1]&&(f[3]+=1);for(var m=1/(f[2]-f[0]),n=1/(f[3]-f[1]),o=f[0],p=f[1],q=g.mallocFloat32(h*i.length*4),r=0,j=0;h>j;++j)for(var k=b[2*j],l=b[2*j+1],s=c[4*j],t=c[4*j+1],u=c[4*j+2],v=c[4*j+3],w=0;w<i.length;++w){var x=i[w],y=x[0],z=x[1];0>y?y*=s:y>0&&(y*=t),0>z?z*=u:z>0&&(z*=v),q[r++]=m*(k-o+y),q[r++]=n*(l-p+z),q[r++]=d*x[2]+(e+d)*x[4],q[r++]=d*x[3]+(e+d)*x[5]}this.buffer.update(q),g.free(q)},j.dispose=function(){this.plot.removeObject(this),this.shader.dispose(),this.buffer.dispose()}},{"./lib/shaders":77,"gl-buffer":75,"gl-shader":154,"typedarray-pool":233}],77:[function(require,a,b){a.exports={vertex:"#define GLSLIFY 1\nprecision mediump float;\n\nattribute vec2 position;\nattribute vec2 pixelOffset;\n\nuniform mat3 viewTransform;\nuniform vec2 pixelScale;\n\nvoid main() {\n  vec3 scrPosition = viewTransform * vec3(position, 1);\n  gl_Position = vec4(\n    scrPosition.xy + scrPosition.z * pixelScale * pixelOffset,\n    0,\n    scrPosition.z);\n}\n",fragment:"#define GLSLIFY 1\nprecision mediump float;\n\nuniform vec4 color;\n\nvoid main() {\n  gl_FragColor = vec4(color.rgb * color.a, color.a);\n}\n"}},{}],78:[function(require,a,b){"use strict";function c(a,b,c,d){this.gl=a,this.shader=d,this.buffer=b,this.vao=c,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-(1/0),-(1/0),-(1/0)]],this.clipBounds=[[-(1/0),-(1/0),-(1/0)],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1}function d(a,b){for(var c=0;3>c;++c)a[0][c]=Math.min(a[0][c],b[c]),a[1][c]=Math.max(a[1][c],b[c])}function e(a,b,c,d){for(var e=l[d],f=0;f<e.length;++f){var g=e[f];a.push(b[0],b[1],b[2],c[0],c[1],c[2],c[3],g[0],g[1],g[2])}return e.length}function f(a){var b=a.gl,d=g(b),e=h(b,[{buffer:d,type:b.FLOAT,size:3,offset:0,stride:40},{buffer:d,type:b.FLOAT,size:4,offset:12,stride:40},{buffer:d,type:b.FLOAT,size:3,offset:28,stride:40}]),f=i(b);f.attributes.position.location=0,f.attributes.color.location=1,f.attributes.offset.location=2;var j=new c(b,d,e,f);return j.update(a),j}a.exports=f;var g=require("gl-buffer"),h=require("gl-vao"),i=require("./shaders/index"),j=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],k=c.prototype;k.isOpaque=function(){return this.opacity>=1},k.isTransparent=function(){return this.opacity<1},k.drawTransparent=k.draw=function(a){var b=this.gl,c=this.shader.uniforms;this.shader.bind();var d=c.view=a.view||j,e=c.projection=a.projection||j;c.model=a.model||j,c.clipBounds=this.clipBounds,c.opacity=this.opacity;var f=d[12],g=d[13],h=d[14],i=d[15],k=this.pixelRatio*(e[3]*f+e[7]*g+e[11]*h+e[15]*i)/b.drawingBufferHeight;this.vao.bind();for(var l=0;3>l;++l)b.lineWidth(this.lineWidth[l]),c.capSize=this.capSize[l]*k,b.drawArrays(b.LINES,this.lineOffset[l],this.lineCount[l]);this.vao.unbind()};var l=function(){for(var a=new Array(3),b=0;3>b;++b){for(var c=[],d=1;2>=d;++d)for(var e=-1;1>=e;e+=2){var f=(d+b)%3,g=[0,0,0];g[f]=e,c.push(g)}a[b]=c}return a}();k.update=function(a){a=a||{},"lineWidth"in a&&(this.lineWidth=a.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in a&&(this.capSize=a.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),"opacity"in a&&(this.opacity=a.opacity);var b=a.color||[[0,0,0],[0,0,0],[0,0,0]],c=a.position,f=a.error;if(Array.isArray(b[0])||(b=[b,b,b]),c&&f){var g=[],h=c.length,i=0;this.bounds=[[1/0,1/0,1/0],[-(1/0),-(1/0),-(1/0)]],this.lineCount=[0,0,0];for(var j=0;3>j;++j){this.lineOffset[j]=i;a:for(var k=0;h>k;++k){for(var l=c[k],m=0;3>m;++m)if(isNaN(l[m])||!isFinite(l[m]))continue a;var n=f[k],o=b[j];if(Array.isArray(o[0])&&(o=b[k]),3===o.length&&(o=[o[0],o[1],o[2],1]),!isNaN(n[0][j])&&!isNaN(n[1][j])){if(n[0][j]<0){var p=l.slice();p[j]+=n[0][j],g.push(l[0],l[1],l[2],o[0],o[1],o[2],o[3],0,0,0,p[0],p[1],p[2],o[0],o[1],o[2],o[3],0,0,0),d(this.bounds,p),i+=2+e(g,p,o,j)}if(n[1][j]>0){var p=l.slice();p[j]+=n[1][j],g.push(l[0],l[1],l[2],o[0],o[1],o[2],o[3],0,0,0,p[0],p[1],p[2],o[0],o[1],o[2],o[3],0,0,0),d(this.bounds,p),i+=2+e(g,p,o,j)}}}this.lineCount[j]=i-this.lineOffset[j]}this.buffer.update(g)}},k.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},{"./shaders/index":79,"gl-buffer":75,"gl-vao":189}],79:[function(require,a,b){"use strict";var c=require("gl-shader"),d="#define GLSLIFY 1\nprecision mediump float;\n\nattribute vec3 position, offset;\nattribute vec4 color;\nuniform mat4 model, view, projection;\nuniform float capSize;\nvarying vec4 fragColor;\nvarying vec3 fragPosition;\n\nvoid main() {\n  vec4 worldPosition  = model * vec4(position, 1.0);\n  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);\n  gl_Position         = projection * view * worldPosition;\n  fragColor           = color;\n  fragPosition        = position;\n}",e="#define GLSLIFY 1\nprecision mediump float;\nuniform vec3 clipBounds[2];\nuniform float opacity;\nvarying vec3 fragPosition;\nvarying vec4 fragColor;\n\nvoid main() {\n  if(any(lessThan(fragPosition, clipBounds[0])) || any(greaterThan(fragPosition, clipBounds[1]))) {\n    discard;\n  }\n  gl_FragColor = opacity * fragColor;\n}";a.exports=function(a){return c(a,d,e,null,[{name:"position",type:"vec3"},{name:"offset",type:"vec3"},{name:"color",type:"vec4"}])}},{"gl-shader":154}],80:[function(require,a,b){"use strict";function c(a){var b=a.getParameter(a.FRAMEBUFFER_BINDING),c=a.getParameter(a.RENDERBUFFER_BINDING),d=a.getParameter(a.TEXTURE_BINDING_2D);return[b,c,d]}function d(a,b){a.bindFramebuffer(a.FRAMEBUFFER,b[0]),a.bindRenderbuffer(a.RENDERBUFFER,b[1]),a.bindTexture(a.TEXTURE_2D,b[2])}function e(a,b){var c=a.getParameter(b.MAX_COLOR_ATTACHMENTS_WEBGL);r=new Array(c+1);for(var d=0;c>=d;++d){for(var e=new Array(c),f=0;d>f;++f)e[f]=a.COLOR_ATTACHMENT0+f;for(var f=d;c>f;++f)e[f]=a.NONE;r[d]=e}}function f(a){switch(a){case n:throw new Error("gl-fbo: Framebuffer unsupported");case o:throw new Error("gl-fbo: Framebuffer incomplete attachment");case p:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case q:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function g(a,b,c,d,e,f){if(!d)return null;var g=m(a,b,c,e,d);return g.magFilter=a.NEAREST,g.minFilter=a.NEAREST,g.mipSamples=1,g.bind(),a.framebufferTexture2D(a.FRAMEBUFFER,f,a.TEXTURE_2D,g.handle,0),g}function h(a,b,c,d,e){var f=a.createRenderbuffer();return a.bindRenderbuffer(a.RENDERBUFFER,f),a.renderbufferStorage(a.RENDERBUFFER,d,b,c),a.framebufferRenderbuffer(a.FRAMEBUFFER,e,a.RENDERBUFFER,f),f}function i(a){var b=c(a.gl),e=a.gl,i=a.handle=e.createFramebuffer(),j=a._shape[0],k=a._shape[1],l=a.color.length,m=a._ext,n=a._useStencil,o=a._useDepth,p=a._colorType;e.bindFramebuffer(e.FRAMEBUFFER,i);for(var q=0;l>q;++q)a.color[q]=g(e,j,k,p,e.RGBA,e.COLOR_ATTACHMENT0+q);0===l?(a._color_rb=h(e,j,k,e.RGBA4,e.COLOR_ATTACHMENT0),m&&m.drawBuffersWEBGL(r[0])):l>1&&m.drawBuffersWEBGL(r[l]);var s=e.getExtension("WEBGL_depth_texture");s?n?a.depth=g(e,j,k,s.UNSIGNED_INT_24_8_WEBGL,e.DEPTH_STENCIL,e.DEPTH_STENCIL_ATTACHMENT):o&&(a.depth=g(e,j,k,e.UNSIGNED_SHORT,e.DEPTH_COMPONENT,e.DEPTH_ATTACHMENT)):o&&n?a._depth_rb=h(e,j,k,e.DEPTH_STENCIL,e.DEPTH_STENCIL_ATTACHMENT):o?a._depth_rb=h(e,j,k,e.DEPTH_COMPONENT16,e.DEPTH_ATTACHMENT):n&&(a._depth_rb=h(e,j,k,e.STENCIL_INDEX,e.STENCIL_ATTACHMENT));var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE){a._destroyed=!0,e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(a.handle),a.handle=null,a.depth&&(a.depth.dispose(),a.depth=null),a._depth_rb&&(e.deleteRenderbuffer(a._depth_rb),a._depth_rb=null);for(var q=0;q<a.color.length;++q)a.color[q].dispose(),a.color[q]=null;a._color_rb&&(e.deleteRenderbuffer(a._color_rb),a._color_rb=null),d(e,b),f(t)}d(e,b)}function j(a,b,c,d,e,f,g,h){this.gl=a,this._shape=[0|b,0|c],this._destroyed=!1,this._ext=h,this.color=new Array(e);for(var j=0;e>j;++j)this.color[j]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=d,this._useDepth=f,this._useStencil=g;var k=this,l=[0|b,0|c];Object.defineProperties(l,{0:{get:function(){return k._shape[0]},set:function(a){return k.width=a}},1:{get:function(){return k._shape[1]},set:function(a){return k.height=a}}}),this._shapeVector=l,i(this)}function k(a,b,e){if(a._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(a._shape[0]!==b||a._shape[1]!==e){var g=a.gl,h=g.getParameter(g.MAX_RENDERBUFFER_SIZE);if(0>b||b>h||0>e||e>h)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");a._shape[0]=b,a._shape[1]=e;for(var i=c(g),j=0;j<a.color.length;++j)a.color[j].shape=a._shape;a._color_rb&&(g.bindRenderbuffer(g.RENDERBUFFER,a._color_rb),g.renderbufferStorage(g.RENDERBUFFER,g.RGBA4,a._shape[0],a._shape[1])),a.depth&&(a.depth.shape=a._shape),a._depth_rb&&(g.bindRenderbuffer(g.RENDERBUFFER,a._depth_rb),a._useDepth&&a._useStencil?g.renderbufferStorage(g.RENDERBUFFER,g.DEPTH_STENCIL,a._shape[0],a._shape[1]):a._useDepth?g.renderbufferStorage(g.RENDERBUFFER,g.DEPTH_COMPONENT16,a._shape[0],a._shape[1]):a._useStencil&&g.renderbufferStorage(g.RENDERBUFFER,g.STENCIL_INDEX,a._shape[0],a._shape[1])),g.bindFramebuffer(g.FRAMEBUFFER,a.handle);var k=g.checkFramebufferStatus(g.FRAMEBUFFER);k!==g.FRAMEBUFFER_COMPLETE&&(a.dispose(),d(g,i),f(k)),d(g,i)}}function l(a,b,c,d){n||(n=a.FRAMEBUFFER_UNSUPPORTED,o=a.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,p=a.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,q=a.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var f=a.getExtension("WEBGL_draw_buffers");if(!r&&f&&e(a,f),Array.isArray(b)&&(d=c,c=0|b[1],b=0|b[0]),"number"!=typeof b)throw new Error("gl-fbo: Missing shape parameter");var g=a.getParameter(a.MAX_RENDERBUFFER_SIZE);if(0>b||b>g||0>c||c>g)throw new Error("gl-fbo: Parameters are too large for FBO");d=d||{};var h=1;if("color"in d){if(h=Math.max(0|d.color,0),0>h)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(h>1){if(!f)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(h>a.getParameter(f.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+h+" draw buffers")}}var i=a.UNSIGNED_BYTE,k=a.getExtension("OES_texture_float");if(d["float"]&&h>0){if(!k)throw new Error("gl-fbo: Context does not support floating point textures");i=a.FLOAT}else d.preferFloat&&h>0&&k&&(i=a.FLOAT);var l=!0;"depth"in d&&(l=!!d.depth);var m=!1;return"stencil"in d&&(m=!!d.stencil),new j(a,b,c,i,h,l,m,f)}var m=require("gl-texture2d");a.exports=l;var n,o,p,q,r=null,s=j.prototype;Object.defineProperties(s,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(a){if(Array.isArray(a)||(a=[0|a,0|a]),2!==a.length)throw new Error("gl-fbo: Shape vector must be length 2");var b=0|a[0],c=0|a[1];return k(this,b,c),[b,c]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(a){return a=0|a,k(this,a,this._shape[1]),a},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(a){return a=0|a,k(this,this._shape[0],a),a},enumerable:!1}}),s.bind=function(){if(!this._destroyed){var a=this.gl;a.bindFramebuffer(a.FRAMEBUFFER,this.handle),a.viewport(0,0,this._shape[0],this._shape[1])}},s.dispose=function(){if(!this._destroyed){this._destroyed=!0;var a=this.gl;a.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(a.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var b=0;b<this.color.length;++b)this.color[b].dispose(),this.color[b]=null;this._color_rb&&(a.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},{"gl-texture2d":185}],81:[function(require,a,b){b.lineVertex="#define GLSLIFY 1\nprecision mediump float;\n\nfloat inverse_1_0(float m) {\n  return 1.0 / m;\n}\n\nmat2 inverse_1_0(mat2 m) {\n  return mat2(m[1][1],-m[0][1],\n             -m[1][0], m[0][0]) / (m[0][0]*m[1][1] - m[0][1]*m[1][0]);\n}\n\nmat3 inverse_1_0(mat3 m) {\n  float a00 = m[0][0], a01 = m[0][1], a02 = m[0][2];\n  float a10 = m[1][0], a11 = m[1][1], a12 = m[1][2];\n  float a20 = m[2][0], a21 = m[2][1], a22 = m[2][2];\n\n  float b01 = a22 * a11 - a12 * a21;\n  float b11 = -a22 * a10 + a12 * a20;\n  float b21 = a21 * a10 - a11 * a20;\n\n  float det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  return mat3(b01, (-a22 * a01 + a02 * a21), (a12 * a01 - a02 * a11),\n              b11, (a22 * a00 - a02 * a20), (-a12 * a00 + a02 * a10),\n              b21, (-a21 * a00 + a01 * a20), (a11 * a00 - a01 * a10)) / det;\n}\n\nmat4 inverse_1_0(mat4 m) {\n  float\n      a00 = m[0][0], a01 = m[0][1], a02 = m[0][2], a03 = m[0][3],\n      a10 = m[1][0], a11 = m[1][1], a12 = m[1][2], a13 = m[1][3],\n      a20 = m[2][0], a21 = m[2][1], a22 = m[2][2], a23 = m[2][3],\n      a30 = m[3][0], a31 = m[3][1], a32 = m[3][2], a33 = m[3][3],\n\n      b00 = a00 * a11 - a01 * a10,\n      b01 = a00 * a12 - a02 * a10,\n      b02 = a00 * a13 - a03 * a10,\n      b03 = a01 * a12 - a02 * a11,\n      b04 = a01 * a13 - a03 * a11,\n      b05 = a02 * a13 - a03 * a12,\n      b06 = a20 * a31 - a21 * a30,\n      b07 = a20 * a32 - a22 * a30,\n      b08 = a20 * a33 - a23 * a30,\n      b09 = a21 * a32 - a22 * a31,\n      b10 = a21 * a33 - a23 * a31,\n      b11 = a22 * a33 - a23 * a32,\n\n      det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  return mat4(\n      a11 * b11 - a12 * b10 + a13 * b09,\n      a02 * b10 - a01 * b11 - a03 * b09,\n      a31 * b05 - a32 * b04 + a33 * b03,\n      a22 * b04 - a21 * b05 - a23 * b03,\n      a12 * b08 - a10 * b11 - a13 * b07,\n      a00 * b11 - a02 * b08 + a03 * b07,\n      a32 * b02 - a30 * b05 - a33 * b01,\n      a20 * b05 - a22 * b02 + a23 * b01,\n      a10 * b10 - a11 * b08 + a13 * b06,\n      a01 * b08 - a00 * b10 - a03 * b06,\n      a30 * b04 - a31 * b02 + a33 * b00,\n      a21 * b02 - a20 * b04 - a23 * b00,\n      a11 * b07 - a10 * b09 - a12 * b06,\n      a00 * b09 - a01 * b07 + a02 * b06,\n      a31 * b01 - a30 * b03 - a32 * b00,\n      a20 * b03 - a21 * b01 + a22 * b00) / det;\n}\n\n\n\nattribute vec2 a, d;\n\nuniform mat3 matrix;\nuniform vec2 screenShape;\nuniform float width;\n\nvarying vec2 direction;\n\nvoid main() {\n  vec2 dir = (matrix * vec3(d, 0)).xy;\n  vec3 base = matrix * vec3(a, 1);\n  vec2 n = 0.5 * width *\n    normalize(screenShape.yx * vec2(dir.y, -dir.x)) / screenShape.xy;\n  vec2 tangent = normalize(screenShape.xy * dir);\n  if(dir.x < 0.0 || (dir.x == 0.0 && dir.y < 0.0)) {\n    direction = -tangent;\n  } else {\n    direction = tangent;\n  }\n  gl_Position = vec4(base.xy/base.z + n, 0, 1);\n}\n",b.lineFragment="#define GLSLIFY 1\nprecision mediump float;\n\nuniform vec4 color;\nuniform vec2 screenShape;\nuniform sampler2D dashPattern;\nuniform float dashLength;\n\nvarying vec2 direction;\n\nvoid main() {\n  float t = fract(dot(direction, gl_FragCoord.xy) / dashLength);\n  vec4 pcolor = color * texture2D(dashPattern, vec2(t, 0.0)).r;\n  gl_FragColor = vec4(pcolor.rgb * pcolor.a, pcolor.a);\n}\n",b.mitreVertex="#define GLSLIFY 1\nprecision mediump float;\n\nattribute vec2 p;\n\nuniform mat3  matrix;\nuniform vec2 screenShape;\nuniform float radius;\n\nvoid main() {\n  vec3 pp = matrix * vec3(p, 1);\n  gl_Position  = vec4(pp.xy, 0, pp.z);\n  gl_PointSize = radius;\n}\n",b.mitreFragment="#define GLSLIFY 1\nprecision mediump float;\n\nuniform vec4 color;\n\nvoid main() {\n  if(length(gl_PointCoord.xy - 0.5) > 0.25) {\n    discard;\n  }\n  gl_FragColor = vec4(color.rgb, color.a);\n}\n",b.pickVertex="#define GLSLIFY 1\nprecision mediump float;\n\nattribute vec2 a, d;\nattribute vec4 pick0, pick1;\n\nuniform mat3 matrix;\nuniform vec2 screenShape;\nuniform float width;\n\nvarying vec4 pickA, pickB;\n\nfloat inverse_1_0(float m) {\n  return 1.0 / m;\n}\n\nmat2 inverse_1_0(mat2 m) {\n  return mat2(m[1][1],-m[0][1],\n             -m[1][0], m[0][0]) / (m[0][0]*m[1][1] - m[0][1]*m[1][0]);\n}\n\nmat3 inverse_1_0(mat3 m) {\n  float a00 = m[0][0], a01 = m[0][1], a02 = m[0][2];\n  float a10 = m[1][0], a11 = m[1][1], a12 = m[1][2];\n  float a20 = m[2][0], a21 = m[2][1], a22 = m[2][2];\n\n  float b01 = a22 * a11 - a12 * a21;\n  float b11 = -a22 * a10 + a12 * a20;\n  float b21 = a21 * a10 - a11 * a20;\n\n  float det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  return mat3(b01, (-a22 * a01 + a02 * a21), (a12 * a01 - a02 * a11),\n              b11, (a22 * a00 - a02 * a20), (-a12 * a00 + a02 * a10),\n              b21, (-a21 * a00 + a01 * a20), (a11 * a00 - a01 * a10)) / det;\n}\n\nmat4 inverse_1_0(mat4 m) {\n  float\n      a00 = m[0][0], a01 = m[0][1], a02 = m[0][2], a03 = m[0][3],\n      a10 = m[1][0], a11 = m[1][1], a12 = m[1][2], a13 = m[1][3],\n      a20 = m[2][0], a21 = m[2][1], a22 = m[2][2], a23 = m[2][3],\n      a30 = m[3][0], a31 = m[3][1], a32 = m[3][2], a33 = m[3][3],\n\n      b00 = a00 * a11 - a01 * a10,\n      b01 = a00 * a12 - a02 * a10,\n      b02 = a00 * a13 - a03 * a10,\n      b03 = a01 * a12 - a02 * a11,\n      b04 = a01 * a13 - a03 * a11,\n      b05 = a02 * a13 - a03 * a12,\n      b06 = a20 * a31 - a21 * a30,\n      b07 = a20 * a32 - a22 * a30,\n      b08 = a20 * a33 - a23 * a30,\n      b09 = a21 * a32 - a22 * a31,\n      b10 = a21 * a33 - a23 * a31,\n      b11 = a22 * a33 - a23 * a32,\n\n      det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  return mat4(\n      a11 * b11 - a12 * b10 + a13 * b09,\n      a02 * b10 - a01 * b11 - a03 * b09,\n      a31 * b05 - a32 * b04 + a33 * b03,\n      a22 * b04 - a21 * b05 - a23 * b03,\n      a12 * b08 - a10 * b11 - a13 * b07,\n      a00 * b11 - a02 * b08 + a03 * b07,\n      a32 * b02 - a30 * b05 - a33 * b01,\n      a20 * b05 - a22 * b02 + a23 * b01,\n      a10 * b10 - a11 * b08 + a13 * b06,\n      a01 * b08 - a00 * b10 - a03 * b06,\n      a30 * b04 - a31 * b02 + a33 * b00,\n      a21 * b02 - a20 * b04 - a23 * b00,\n      a11 * b07 - a10 * b09 - a12 * b06,\n      a00 * b09 - a01 * b07 + a02 * b06,\n      a31 * b01 - a30 * b03 - a32 * b00,\n      a20 * b03 - a21 * b01 + a22 * b00) / det;\n}\n\n\n\nvoid main() {\n  vec3 base = matrix * vec3(a, 1);\n  vec2 n = width *\n    normalize(screenShape.yx * vec2(d.y, -d.x)) / screenShape.xy;\n  gl_Position = vec4(base.xy/base.z + n, 0, 1);\n  pickA = pick0;\n  pickB = pick1;\n}\n",b.pickFragment="#define GLSLIFY 1\nprecision mediump float;\n\nuniform vec4 pickOffset;\n\nvarying vec4 pickA, pickB;\n\nvoid main() {\n  vec4 fragId = vec4(pickA.xyz, 0.0);\n  if(pickB.w > pickA.w) {\n    fragId.xyz = pickB.xyz;\n  }\n\n  fragId += pickOffset;\n\n  fragId.y += floor(fragId.x / 256.0);\n  fragId.x -= floor(fragId.x / 256.0) * 256.0;\n\n  fragId.z += floor(fragId.y / 256.0);\n  fragId.y -= floor(fragId.y / 256.0) * 256.0;\n\n  fragId.w += floor(fragId.z / 256.0);\n  fragId.z -= floor(fragId.z / 256.0) * 256.0;\n\n  gl_FragColor = fragId / 255.0;\n}\n",b.fillVertex="#define GLSLIFY 1\nprecision mediump float;\n\nattribute vec2 a, d;\n\nuniform mat3 matrix;\nuniform vec2 projectAxis;\nuniform float projectValue;\nuniform float depth;\n\nvoid main() {\n  vec3 base = matrix * vec3(a, 1);\n  vec2 p = base.xy / base.z;\n  if(d.y < 0.0 || (d.y == 0.0 && d.x < 0.0)) {\n    if(dot(p, projectAxis) < projectValue) {\n      p = p * (1.0 - abs(projectAxis)) + projectAxis * projectValue;\n    }\n  }\n  gl_Position = vec4(p, depth, 1);\n}\n",b.fillFragment="#define GLSLIFY 1\nprecision mediump float;\n\nuniform vec4 color;\n\nvoid main() {\n  gl_FragColor = vec4(color.rgb * color.a, color.a);\n}\n"},{}],82:[function(require,a,b){"use strict";function c(a,b,c,d,e,f,g,h){this.plot=a,this.dashPattern=b,this.lineBuffer=c,this.pickBuffer=d,this.lineShader=e,this.mitreShader=f,this.fillShader=g,this.pickShader=h,this.usingDashes=!1,this.bounds=[1/0,1/0,-(1/0),-(1/0)],this.width=1,this.color=[0,0,1,1],this.fill=[!1,!1,!1,!1],this.fillColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.data=null,this.numPoints=0,this.vertCount=0,this.pickOffset=0,this.lodBuffer=[]}function d(a){return a.map(function(a){return a.slice()})}function e(a,b){var d=a.gl,e=g(d),i=g(d),j=h(d,[1,1]),l=f(d,k.lineVertex,k.lineFragment),m=f(d,k.mitreVertex,k.mitreFragment),n=f(d,k.fillVertex,k.fillFragment),o=f(d,k.pickVertex,k.pickFragment),p=new c(a,j,e,i,l,m,n,o);return a.addObject(p),p.update(b),p}a.exports=e;var f=require("gl-shader"),g=require("gl-buffer"),h=require("gl-texture2d"),i=require("ndarray"),j=require("typedarray-pool"),k=require("./lib/shaders"),l=c.prototype;l.draw=function(){var a=[1,0,0,0,1,0,0,0,1],b=[0,0],c=[1,0],d=[-1,0],e=[0,1],f=[0,-1];return function(){var g=this.plot,h=this.color,i=this.width,j=(this.numPoints,this.bounds),k=this.vertCount,l=g.gl,m=g.viewBox,n=g.dataBox,o=g.pixelRatio,p=j[2]-j[0],q=j[3]-j[1],r=n[2]-n[0],s=n[3]-n[1],t=m[2]-m[0],u=m[3]-m[1];a[0]=2*p/r,a[4]=2*q/s,a[6]=2*(j[0]-n[0])/r-1,a[7]=2*(j[1]-n[1])/s-1,b[0]=t,b[1]=u;var v=this.lineBuffer;v.bind();var w=this.fill;if(w[0]||w[1]||w[2]||w[3]){var x=this.fillShader;x.bind();var y=x.uniforms;y.matrix=a,y.depth=g.nextDepthValue();var z=x.attributes;z.a.pointer(l.FLOAT,!1,16,0),z.d.pointer(l.FLOAT,!1,16,8),l.depthMask(!0),l.enable(l.DEPTH_TEST);var A=this.fillColor;w[0]&&(y.color=A[0],y.projectAxis=d,y.projectValue=1,l.drawArrays(l.TRIANGLES,0,k)),w[1]&&(y.color=A[1],y.projectAxis=f,y.projectValue=1,l.drawArrays(l.TRIANGLES,0,k)),w[2]&&(y.color=A[2],y.projectAxis=c,y.projectValue=1,l.drawArrays(l.TRIANGLES,0,k)),w[3]&&(y.color=A[3],y.projectAxis=e,y.projectValue=1,l.drawArrays(l.TRIANGLES,0,k)),l.depthMask(!1),l.disable(l.DEPTH_TEST)}var B=this.lineShader;B.bind();var C=B.uniforms;C.matrix=a,C.color=h,C.width=i*o,C.screenShape=b,C.dashPattern=this.dashPattern.bind(),C.dashLength=this.dashLength*o;var D=B.attributes;if(D.a.pointer(l.FLOAT,!1,16,0),D.d.pointer(l.FLOAT,!1,16,8),l.drawArrays(l.TRIANGLES,0,k),i>2&&!this.usingDashes){var E=this.mitreShader;E.bind();var F=E.uniforms;F.matrix=a,F.color=h,F.screenShape=b,F.radius=i*o,E.attributes.p.pointer(l.FLOAT,!1,48,0),l.drawArrays(l.POINTS,0,k/3|0)}}}(),l.drawPick=function(){var a=[1,0,0,0,1,0,0,0,1],b=[0,0],c=[0,0,0,0];return function(d){var e=this.plot,f=this.pickShader,g=this.lineBuffer,h=this.pickBuffer,i=this.width,j=this.numPoints,k=this.bounds,l=this.vertCount,m=e.gl,n=e.viewBox,o=e.dataBox,p=e.pickPixelRatio,q=k[2]-k[0],r=k[3]-k[1],s=o[2]-o[0],t=o[3]-o[1],u=n[2]-n[0],v=n[3]-n[1];this.pickOffset=d,a[0]=2*q/s,a[4]=2*r/t,a[6]=2*(k[0]-o[0])/s-1,a[7]=2*(k[1]-o[1])/t-1,b[0]=u,b[1]=v,c[0]=255&d,c[1]=d>>>8&255,c[2]=d>>>16&255,c[3]=d>>>24,f.bind();var w=f.uniforms;w.matrix=a,w.width=i*p,w.pickOffset=c,w.screenShape=b;var x=f.attributes;return g.bind(),x.a.pointer(m.FLOAT,!1,16,0),x.d.pointer(m.FLOAT,!1,16,8),h.bind(),x.pick0.pointer(m.UNSIGNED_BYTE,!1,8,0),x.pick1.pointer(m.UNSIGNED_BYTE,!1,8,4),m.drawArrays(m.TRIANGLES,0,l),d+j}}(),l.pick=function(a,b,c){var d=this.pickOffset,e=this.numPoints;if(d>c||c>=d+e)return null;var f=c-d,g=this.data;return{object:this,pointId:f,dataCoord:[g[2*f],g[2*f+1]]}},l.update=function(a){a=a||{};var b=this.plot.gl;this.color=(a.color||[0,0,1,1]).slice(),this.width=+(a.width||1),this.fill=(a.fill||[!1,!1,!1,!1]).slice(),this.fillColor=d(a.fillColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);for(var c=a.dashes||[1],e=0,f=0;f<c.length;++f)e+=c[f];for(var g=j.mallocUint8(e),k=0,l=255,f=0;f<c.length;++f){for(var m=0;m<c[f];++m)g[k++]=l;l^=255}this.dashPattern.dispose(),this.usingDashes=c.length>1,this.dashPattern=h(b,i(g,[e,1,4],[1,0,0])),this.dashPattern.minFilter=b.NEAREST,this.dashPattern.magFilter=b.NEAREST,this.dashLength=e,j.free(g);var n=a.positions;this.data=n;var o=this.bounds;o[0]=o[1]=1/0,o[2]=o[3]=-(1/0);var p=this.numPoints=n.length>>>1;if(0!==p){for(var f=0;p>f;++f){var q=n[2*f],r=n[2*f+1];o[0]=Math.min(o[0],q),o[1]=Math.min(o[1],r),o[2]=Math.max(o[2],q),o[3]=Math.max(o[3],r)}o[0]===o[2]&&(o[2]+=1),o[3]===o[1]&&(o[3]+=1);var s=j.mallocFloat32(24*(p-1)),t=j.mallocUint32(12*(p-1)),u=s.length,v=t.length,k=p;for(this.vertCount=6*(p-1);k>1;){var w=--k,q=n[2*k],r=n[2*k+1];q=(q-o[0])/(o[2]-o[0]),r=(r-o[1])/(o[3]-o[1]);var x=w-1,y=n[2*x],z=n[2*x+1];y=(y-o[0])/(o[2]-o[0]),z=(z-o[1])/(o[3]-o[1]);var A=y-q,B=z-r,C=w|1<<24,D=w-1,E=w,F=w-1|1<<24;s[--u]=-B,s[--u]=-A,s[--u]=r,s[--u]=q,t[--v]=C,t[--v]=D,s[--u]=B,s[--u]=A,s[--u]=z,s[--u]=y,t[--v]=E,t[--v]=F,s[--u]=-B,s[--u]=-A,s[--u]=z,s[--u]=y,t[--v]=E,t[--v]=F,s[--u]=B,s[--u]=A,s[--u]=z,s[--u]=y,t[--v]=E,t[--v]=F,s[--u]=-B,s[--u]=-A,s[--u]=r,s[--u]=q,t[--v]=C,t[--v]=D,s[--u]=B,s[--u]=A,s[--u]=r,s[--u]=q,t[--v]=C,t[--v]=D}this.lineBuffer.update(s),this.pickBuffer.update(t),j.free(s),j.free(t)}},l.dispose=function(){this.plot.removeObject(this),this.lineBuffer.dispose(),this.pickBuffer.dispose(),this.lineShader.dispose(),this.mitreShader.dispose(),this.fillShader.dispose(),this.pickShader.dispose(),this.dashPattern.dispose()}},{"./lib/shaders":81,"gl-buffer":75,"gl-shader":154,"gl-texture2d":185,ndarray:208,"typedarray-pool":233}],83:[function(require,a,b){var c=require("gl-shader"),d="#define GLSLIFY 1\nprecision mediump float;\n\nattribute vec3 position, nextPosition;\nattribute float arcLength, lineWidth;\nattribute vec4 color;\n\nuniform vec2 screenShape;\nuniform float pixelRatio;\nuniform mat4 model, view, projection;\n\nvarying vec4 fragColor;\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\n\nvoid main() {\n  vec4 projected = projection * view * model * vec4(position, 1.0);\n  vec4 tangentClip = projection * view * model * vec4(nextPosition - position, 0.0);\n  vec2 tangent = normalize(screenShape * tangentClip.xy);\n  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(tangent.y, -tangent.x) / screenShape;\n\n  gl_Position = vec4(projected.xy + projected.w * offset, projected.zw);\n\n  worldPosition = position;\n  pixelArcLength = arcLength;\n  fragColor = color;\n}\n",e="#define GLSLIFY 1\nprecision mediump float;\n\nuniform vec3      clipBounds[2];\nuniform sampler2D dashTexture;\nuniform float     dashScale;\nuniform float     opacity;\n\nvarying vec3    worldPosition;\nvarying float   pixelArcLength;\nvarying vec4    fragColor;\n\nvoid main() {\n  if(any(lessThan(worldPosition, clipBounds[0])) || any(greaterThan(worldPosition, clipBounds[1]))) {\n    discard;\n  }\n  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;\n  if(dashWeight < 0.5) {\n    discard;\n  }\n  gl_FragColor = fragColor * opacity;\n}\n",f="#define GLSLIFY 1\nprecision mediump float;\n\n#define FLOAT_MAX  1.70141184e38\n#define FLOAT_MIN  1.17549435e-38\n\nlowp vec4 encode_float_1_0(highp float v) {\n  highp float av = abs(v);\n\n  //Handle special cases\n  if(av < FLOAT_MIN) {\n    return vec4(0.0, 0.0, 0.0, 0.0);\n  } else if(v > FLOAT_MAX) {\n    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;\n  } else if(v < -FLOAT_MAX) {\n    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;\n  }\n\n  highp vec4 c = vec4(0,0,0,0);\n\n  //Compute exponent and mantissa\n  highp float e = floor(log2(av));\n  highp float m = av * pow(2.0, -e) - 1.0;\n  \n  //Unpack mantissa\n  c[1] = floor(128.0 * m);\n  m -= c[1] / 128.0;\n  c[2] = floor(32768.0 * m);\n  m -= c[2] / 32768.0;\n  c[3] = floor(8388608.0 * m);\n  \n  //Unpack exponent\n  highp float ebias = e + 127.0;\n  c[0] = floor(ebias / 2.0);\n  ebias -= c[0] * 2.0;\n  c[1] += floor(ebias) * 128.0; \n\n  //Unpack sign bit\n  c[0] += 128.0 * step(0.0, -v);\n\n  //Scale back to range\n  return c / 255.0;\n}\n\n\n\nuniform float pickId;\nuniform vec3 clipBounds[2];\n\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\nvarying vec4 fragColor;\n\nvoid main() {\n  if(any(lessThan(worldPosition, clipBounds[0])) || any(greaterThan(worldPosition, clipBounds[1]))) {\n    discard;\n  }\n  gl_FragColor = vec4(pickId/255.0, encode_float_1_0(pixelArcLength).xyz);\n}",g=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];b.createShader=function(a){return c(a,d,e,null,g)},b.createPickShader=function(a){return c(a,d,f,null,g)}},{"gl-shader":154}],84:[function(require,a,b){"use strict";function c(a,b){for(var c=0,d=0;3>d;++d){var e=a[d]-b[d];c+=e*e}return Math.sqrt(c)}function d(a){for(var b=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],c=0;3>c;++c)b[0][c]=Math.max(a[0][c],b[0][c]),b[1][c]=Math.min(a[1][c],b[1][c]);return b}function e(a,b,c,d){this.arcLength=a,this.position=b,this.index=c,this.dataCoordinate=d}function f(a,b,c,d,e,f){this.gl=a,this.shader=b,this.pickShader=c,this.buffer=d,this.vao=e,this.clipBounds=[[-(1/0),-(1/0),-(1/0)],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=f,this.dashScale=1,this.opacity=1,this.dirty=!0,this.pixelRatio=1}function g(a){var b=a.gl||a.scene&&a.scene.gl,c=o(b);c.attributes.position.location=0,c.attributes.nextPosition.location=1,c.attributes.arcLength.location=2,c.attributes.lineWidth.location=3,c.attributes.color.location=4;var d=p(b);d.attributes.position.location=0,d.attributes.nextPosition.location=1,d.attributes.arcLength.location=2,d.attributes.lineWidth.location=3,d.attributes.color.location=4;for(var e=h(b),g=i(b,[{buffer:e,size:3,offset:0,stride:48},{buffer:e,size:3,offset:12,stride:48},{buffer:e,size:1,offset:24,stride:48},{buffer:e,size:1,offset:28,stride:48},{buffer:e,size:4,offset:32,stride:48}]),k=m(new Array(1024),[256,1,4]),l=0;1024>l;++l)k.data[l]=255;var n=j(b,k);n.wrap=b.REPEAT;var q=new f(b,c,d,e,g,n);return q.update(a),q}a.exports=g;var h=require("gl-buffer"),i=require("gl-vao"),j=require("gl-texture2d"),k=require("glsl-read-float"),l=require("binary-search-bounds"),m=require("ndarray"),n=require("./lib/shaders"),o=n.createShader,p=n.createPickShader,q=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],r=f.prototype;r.isTransparent=function(){return this.opacity<1},r.isOpaque=function(){return this.opacity>=1},r.pickSlots=1,r.setPickBase=function(a){this.pickId=a},r.drawTransparent=r.draw=function(a){var b=this.gl,c=this.shader,e=this.vao;c.bind(),c.uniforms={model:a.model||q,view:a.view||q,projection:a.projection||q,clipBounds:d(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[b.drawingBufferWidth,b.drawingBufferHeight],pixelRatio:this.pixelRatio},e.bind(),e.draw(b.TRIANGLE_STRIP,this.vertexCount)},r.drawPick=function(a){var b=this.gl,c=this.pickShader,e=this.vao;c.bind(),c.uniforms={model:a.model||q,view:a.view||q,projection:a.projection||q,pickId:this.pickId,clipBounds:d(this.clipBounds),screenShape:[b.drawingBufferWidth,b.drawingBufferHeight],pixelRatio:this.pixelRatio},e.bind(),e.draw(b.TRIANGLE_STRIP,this.vertexCount)},r.update=function(a){this.dirty=!0,"dashScale"in a&&(this.dashScale=a.dashScale),"opacity"in a&&(this.opacity=+a.opacity);var b=a.position||a.positions;if(b){var d=a.color||a.colors||[0,0,0,1],e=a.lineWidth||1,f=[],g=[],h=[],i=0,j=0,k=[[1/0,1/0,1/0],[-(1/0),-(1/0),-(1/0)]];
a:for(var n=1;n<b.length;++n){var o=b[n-1],p=b[n];g.push(i),h.push(o.slice());for(var q=0;3>q;++q){if(isNaN(o[q])||isNaN(p[q])||!isFinite(o[q])||!isFinite(p[q]))continue a;k[0][q]=Math.min(k[0][q],o[q],p[q]),k[1][q]=Math.max(k[1][q],o[q],p[q])}var r,s;Array.isArray(d[0])?(r=d[n-1],s=d[n]):r=s=d,3===r.length&&(r=[r[0],r[1],r[2],1]),3===s.length&&(s=[s[0],s[1],s[2],1]);var t,u;Array.isArray(e)?(t=e[n-1],u=lineWidht[n]):t=u=e;var v=i;i+=c(o,p),f.push(o[0],o[1],o[2],p[0],p[1],p[2],v,t,r[0],r[1],r[2],r[3],o[0],o[1],o[2],p[0],p[1],p[2],v,-t,r[0],r[1],r[2],r[3],p[0],p[1],p[2],o[0],o[1],o[2],i,-t,s[0],s[1],s[2],s[3],p[0],p[1],p[2],o[0],o[1],o[2],i,t,s[0],s[1],s[2],s[3]),j+=4}if(this.buffer.update(f),g.push(i),h.push(b[b.length-1].slice()),this.bounds=k,this.vertexCount=j,this.points=h,this.arcLength=g,"dashes"in a){var w=a.dashes,x=w.slice();x.unshift(0);for(var n=1;n<x.length;++n)x[n]=x[n-1]+x[n];for(var y=m(new Array(1024),[256,1,4]),n=0;256>n;++n){for(var q=0;4>q;++q)y.set(n,0,q,0);1&l.le(x,x[x.length-1]*n/255)?y.set(n,0,0,0):y.set(n,0,0,255)}this.texture.setPixels(y)}}},r.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},r.pick=function(a){if(!a)return null;if(a.id!==this.pickId)return null;var b=k(a.value[0],a.value[1],a.value[2],0),c=l.le(this.arcLength,b);if(0>c)return null;if(c===this.arcLength.length-1)return new e(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),c);for(var d=this.points[c],f=this.points[Math.min(c+1,this.points.length-1)],g=(b-this.arcLength[c])/(this.arcLength[c+1]-this.arcLength[c]),h=1-g,i=[0,0,0],j=0;3>j;++j)i[j]=h*d[j]+g*f[j];var m=Math.min(.5>g?c:c+1,this.points.length-1);return new e(b,i,m,this.points[m])}},{"./lib/shaders":83,"binary-search-bounds":85,"gl-buffer":75,"gl-texture2d":185,"gl-vao":189,"glsl-read-float":86,ndarray:208}],85:[function(require,a,b){arguments[4][20][0].apply(b,arguments)},{dup:20}],86:[function(require,a,b){function c(a,b,c,f){return d[0]=f,d[1]=c,d[2]=b,d[3]=a,e[0]}a.exports=c;var d=new Uint8Array(4),e=new Float32Array(d.buffer)},{}],87:[function(require,a,b){function c(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=k*g-h*j,m=-k*f+h*i,n=j*f-g*i,o=c*l+d*m+e*n;return o?(o=1/o,a[0]=l*o,a[1]=(-k*d+e*j)*o,a[2]=(h*d-e*g)*o,a[3]=m*o,a[4]=(k*c-e*i)*o,a[5]=(-h*c+e*f)*o,a[6]=n*o,a[7]=(-j*c+d*i)*o,a[8]=(g*c-d*f)*o,a):null}a.exports=c},{}],88:[function(require,a,b){function c(a){var b=new Float32Array(16);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15],b}a.exports=c},{}],89:[function(require,a,b){function c(){var a=new Float32Array(16);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}a.exports=c},{}],90:[function(require,a,b){function c(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7],j=a[8],k=a[9],l=a[10],m=a[11],n=a[12],o=a[13],p=a[14],q=a[15],r=b*g-c*f,s=b*h-d*f,t=b*i-e*f,u=c*h-d*g,v=c*i-e*g,w=d*i-e*h,x=j*o-k*n,y=j*p-l*n,z=j*q-m*n,A=k*p-l*o,B=k*q-m*o,C=l*q-m*p;return r*C-s*B+t*A+u*z-v*y+w*x}a.exports=c},{}],91:[function(require,a,b){function c(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c+c,h=d+d,i=e+e,j=c*g,k=d*g,l=d*h,m=e*g,n=e*h,o=e*i,p=f*g,q=f*h,r=f*i;return a[0]=1-l-o,a[1]=k+r,a[2]=m-q,a[3]=0,a[4]=k-r,a[5]=1-j-o,a[6]=n+p,a[7]=0,a[8]=m+q,a[9]=n-p,a[10]=1-j-l,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}a.exports=c},{}],92:[function(require,a,b){function c(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=d+d,i=e+e,j=f+f,k=d*h,l=d*i,m=d*j,n=e*i,o=e*j,p=f*j,q=g*h,r=g*i,s=g*j;return a[0]=1-(n+p),a[1]=l+s,a[2]=m-r,a[3]=0,a[4]=l-s,a[5]=1-(k+p),a[6]=o+q,a[7]=0,a[8]=m+r,a[9]=o-q,a[10]=1-(k+n),a[11]=0,a[12]=c[0],a[13]=c[1],a[14]=c[2],a[15]=1,a}a.exports=c},{}],93:[function(require,a,b){function c(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}a.exports=c},{}],94:[function(require,a,b){function c(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14],r=b[15],s=c*h-d*g,t=c*i-e*g,u=c*j-f*g,v=d*i-e*h,w=d*j-f*h,x=e*j-f*i,y=k*p-l*o,z=k*q-m*o,A=k*r-n*o,B=l*q-m*p,C=l*r-n*p,D=m*r-n*q,E=s*D-t*C+u*B+v*A-w*z+x*y;return E?(E=1/E,a[0]=(h*D-i*C+j*B)*E,a[1]=(e*C-d*D-f*B)*E,a[2]=(p*x-q*w+r*v)*E,a[3]=(m*w-l*x-n*v)*E,a[4]=(i*A-g*D-j*z)*E,a[5]=(c*D-e*A+f*z)*E,a[6]=(q*u-o*x-r*t)*E,a[7]=(k*x-m*u+n*t)*E,a[8]=(g*C-h*A+j*y)*E,a[9]=(d*A-c*C-f*y)*E,a[10]=(o*w-p*u+r*s)*E,a[11]=(l*u-k*w-n*s)*E,a[12]=(h*z-g*B-i*y)*E,a[13]=(c*B-d*z+e*y)*E,a[14]=(p*t-o*v-q*s)*E,a[15]=(k*v-l*t+m*s)*E,a):null}a.exports=c},{}],95:[function(require,a,b){function c(a,b,c,e){var f,g,h,i,j,k,l,m,n,o,p=b[0],q=b[1],r=b[2],s=e[0],t=e[1],u=e[2],v=c[0],w=c[1],x=c[2];return Math.abs(p-v)<1e-6&&Math.abs(q-w)<1e-6&&Math.abs(r-x)<1e-6?d(a):(l=p-v,m=q-w,n=r-x,o=1/Math.sqrt(l*l+m*m+n*n),l*=o,m*=o,n*=o,f=t*n-u*m,g=u*l-s*n,h=s*m-t*l,o=Math.sqrt(f*f+g*g+h*h),o?(o=1/o,f*=o,g*=o,h*=o):(f=0,g=0,h=0),i=m*h-n*g,j=n*f-l*h,k=l*g-m*f,o=Math.sqrt(i*i+j*j+k*k),o?(o=1/o,i*=o,j*=o,k*=o):(i=0,j=0,k=0),a[0]=f,a[1]=i,a[2]=l,a[3]=0,a[4]=g,a[5]=j,a[6]=m,a[7]=0,a[8]=h,a[9]=k,a[10]=n,a[11]=0,a[12]=-(f*p+g*q+h*r),a[13]=-(i*p+j*q+k*r),a[14]=-(l*p+m*q+n*r),a[15]=1,a)}var d=require("./identity");a.exports=c},{"./identity":93}],96:[function(require,a,b){function c(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=b[9],n=b[10],o=b[11],p=b[12],q=b[13],r=b[14],s=b[15],t=c[0],u=c[1],v=c[2],w=c[3];return a[0]=t*d+u*h+v*l+w*p,a[1]=t*e+u*i+v*m+w*q,a[2]=t*f+u*j+v*n+w*r,a[3]=t*g+u*k+v*o+w*s,t=c[4],u=c[5],v=c[6],w=c[7],a[4]=t*d+u*h+v*l+w*p,a[5]=t*e+u*i+v*m+w*q,a[6]=t*f+u*j+v*n+w*r,a[7]=t*g+u*k+v*o+w*s,t=c[8],u=c[9],v=c[10],w=c[11],a[8]=t*d+u*h+v*l+w*p,a[9]=t*e+u*i+v*m+w*q,a[10]=t*f+u*j+v*n+w*r,a[11]=t*g+u*k+v*o+w*s,t=c[12],u=c[13],v=c[14],w=c[15],a[12]=t*d+u*h+v*l+w*p,a[13]=t*e+u*i+v*m+w*q,a[14]=t*f+u*j+v*n+w*r,a[15]=t*g+u*k+v*o+w*s,a}a.exports=c},{}],97:[function(require,a,b){function c(a,b,c,d,e){var f=1/Math.tan(b/2),g=1/(d-e);return a[0]=f/c,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=f,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=(e+d)*g,a[11]=-1,a[12]=0,a[13]=0,a[14]=2*e*d*g,a[15]=0,a}a.exports=c},{}],98:[function(require,a,b){function c(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C=d[0],D=d[1],E=d[2],F=Math.sqrt(C*C+D*D+E*E);return Math.abs(F)<1e-6?null:(F=1/F,C*=F,D*=F,E*=F,e=Math.sin(c),f=Math.cos(c),g=1-f,h=b[0],i=b[1],j=b[2],k=b[3],l=b[4],m=b[5],n=b[6],o=b[7],p=b[8],q=b[9],r=b[10],s=b[11],t=C*C*g+f,u=D*C*g+E*e,v=E*C*g-D*e,w=C*D*g-E*e,x=D*D*g+f,y=E*D*g+C*e,z=C*E*g+D*e,A=D*E*g-C*e,B=E*E*g+f,a[0]=h*t+l*u+p*v,a[1]=i*t+m*u+q*v,a[2]=j*t+n*u+r*v,a[3]=k*t+o*u+s*v,a[4]=h*w+l*x+p*y,a[5]=i*w+m*x+q*y,a[6]=j*w+n*x+r*y,a[7]=k*w+o*x+s*y,a[8]=h*z+l*A+p*B,a[9]=i*z+m*A+q*B,a[10]=j*z+n*A+r*B,a[11]=k*z+o*A+s*B,b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a)}a.exports=c},{}],99:[function(require,a,b){function c(a,b,c){var d=Math.sin(c),e=Math.cos(c),f=b[4],g=b[5],h=b[6],i=b[7],j=b[8],k=b[9],l=b[10],m=b[11];return b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a[4]=f*e+j*d,a[5]=g*e+k*d,a[6]=h*e+l*d,a[7]=i*e+m*d,a[8]=j*e-f*d,a[9]=k*e-g*d,a[10]=l*e-h*d,a[11]=m*e-i*d,a}a.exports=c},{}],100:[function(require,a,b){function c(a,b,c){var d=Math.sin(c),e=Math.cos(c),f=b[0],g=b[1],h=b[2],i=b[3],j=b[8],k=b[9],l=b[10],m=b[11];return b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a[0]=f*e-j*d,a[1]=g*e-k*d,a[2]=h*e-l*d,a[3]=i*e-m*d,a[8]=f*d+j*e,a[9]=g*d+k*e,a[10]=h*d+l*e,a[11]=i*d+m*e,a}a.exports=c},{}],101:[function(require,a,b){function c(a,b,c){var d=Math.sin(c),e=Math.cos(c),f=b[0],g=b[1],h=b[2],i=b[3],j=b[4],k=b[5],l=b[6],m=b[7];return b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a[0]=f*e+j*d,a[1]=g*e+k*d,a[2]=h*e+l*d,a[3]=i*e+m*d,a[4]=j*e-f*d,a[5]=k*e-g*d,a[6]=l*e-h*d,a[7]=m*e-i*d,a}a.exports=c},{}],102:[function(require,a,b){function c(a,b,c){var d=c[0],e=c[1],f=c[2];return a[0]=b[0]*d,a[1]=b[1]*d,a[2]=b[2]*d,a[3]=b[3]*d,a[4]=b[4]*e,a[5]=b[5]*e,a[6]=b[6]*e,a[7]=b[7]*e,a[8]=b[8]*f,a[9]=b[9]*f,a[10]=b[10]*f,a[11]=b[11]*f,a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15],a}a.exports=c},{}],103:[function(require,a,b){function c(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p=c[0],q=c[1],r=c[2];return b===a?(a[12]=b[0]*p+b[4]*q+b[8]*r+b[12],a[13]=b[1]*p+b[5]*q+b[9]*r+b[13],a[14]=b[2]*p+b[6]*q+b[10]*r+b[14],a[15]=b[3]*p+b[7]*q+b[11]*r+b[15]):(d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=b[9],n=b[10],o=b[11],a[0]=d,a[1]=e,a[2]=f,a[3]=g,a[4]=h,a[5]=i,a[6]=j,a[7]=k,a[8]=l,a[9]=m,a[10]=n,a[11]=o,a[12]=d*p+h*q+l*r+b[12],a[13]=e*p+i*q+m*r+b[13],a[14]=f*p+j*q+n*r+b[14],a[15]=g*p+k*q+o*r+b[15]),a}a.exports=c},{}],104:[function(require,a,b){function c(a,b){if(a===b){var c=b[1],d=b[2],e=b[3],f=b[6],g=b[7],h=b[11];a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=c,a[6]=b[9],a[7]=b[13],a[8]=d,a[9]=f,a[11]=b[14],a[12]=e,a[13]=g,a[14]=h}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a}a.exports=c},{}],105:[function(require,a,b){"use strict";function c(a,b){for(var c=[0,0,0,0],d=0;4>d;++d)for(var e=0;4>e;++e)c[e]+=a[4*d+e]*b[d];return c}function d(a,b,d,e,f){for(var g=c(e,c(d,c(b,[a[0],a[1],a[2],1]))),h=0;3>h;++h)g[h]/=g[3];return[.5*f[0]*(1+g[0]),.5*f[1]*(1-g[1])]}function e(a,b){if(2===a.length){for(var c=0,d=0,e=0;2>e;++e)c+=Math.pow(b[e]-a[0][e],2),d+=Math.pow(b[e]-a[1][e],2);return c=Math.sqrt(c),d=Math.sqrt(d),1e-6>c+d?[1,0]:[d/(c+d),c/(d+c)]}if(3===a.length){var f=[0,0];return i(a[0],a[1],a[2],b,f),h(a,f)}return[]}function f(a,b){for(var c=[0,0,0],d=0;d<a.length;++d)for(var e=a[d],f=b[d],g=0;3>g;++g)c[g]+=f*e[g];return c}function g(a,b,c,g,h,i){if(1===a.length)return[0,a[0].slice()];for(var j=new Array(a.length),k=0;k<a.length;++k)j[k]=d(a[k],c,g,h,i);for(var l=0,m=1/0,k=0;k<j.length;++k){for(var n=0,o=0;2>o;++o)n+=Math.pow(j[k][o]-b[o],2);m>n&&(m=n,l=k)}for(var p=e(j,b),q=0,k=0;3>k;++k){if(p[k]<-.001||p[k]>1.0001)return null;q+=p[k]}return Math.abs(q-1)>.001?null:[l,f(a,p),p]}var h=require("barycentric"),i=require("polytope-closest-point/lib/closest_point_2d.js");a.exports=g},{barycentric:108,"polytope-closest-point/lib/closest_point_2d.js":110}],106:[function(require,a,b){var c="#define GLSLIFY 1\nprecision mediump float;\n\nattribute vec3 position, normal;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model\n           , view\n           , projection;\nuniform vec3 eyePosition\n           , lightPosition;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  vec4 m_position  = model * vec4(position, 1.0);\n  vec4 t_position  = view * m_position;\n  gl_Position      = projection * t_position;\n  f_color          = color;\n  f_normal         = normal;\n  f_data           = position;\n  f_eyeDirection   = eyePosition   - position;\n  f_lightDirection = lightPosition - position;\n  f_uv             = uv;\n}",d="#define GLSLIFY 1\nprecision mediump float;\n\nfloat beckmannDistribution_2_0(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\n\n\nfloat cookTorranceSpecular_1_1(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution_2_0(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\n\n\nuniform vec3 clipBounds[2];\nuniform float roughness\n            , fresnel\n            , kambient\n            , kdiffuse\n            , kspecular\n            , opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if(any(lessThan(f_data, clipBounds[0])) || \n     any(greaterThan(f_data, clipBounds[1]))) {\n    discard;\n  }\n\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n  \n  if(!gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = cookTorranceSpecular_1_1(L, V, N, roughness, fresnel);\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}",e="#define GLSLIFY 1\nprecision mediump float;\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model, view, projection;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_color = color;\n  f_data  = position;\n  f_uv    = uv;\n}",f="#define GLSLIFY 1\nprecision mediump float;\n\nuniform vec3 clipBounds[2];\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  if(any(lessThan(f_data, clipBounds[0])) || \n     any(greaterThan(f_data, clipBounds[1]))) {\n    discard;\n  }\n\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}",g="#define GLSLIFY 1\nprecision mediump float;\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\nattribute float pointSize;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if(any(lessThan(position, clipBounds[0])) || \n     any(greaterThan(position, clipBounds[1]))) {\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    gl_Position = projection * view * model * vec4(position, 1.0);\n  }\n  gl_PointSize = pointSize;\n  f_color = color;\n  f_uv = uv;\n}",h="#define GLSLIFY 1\nprecision mediump float;\n\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  vec2 pointR = gl_PointCoord.xy - vec2(0.5,0.5);\n  if(dot(pointR, pointR) > 0.25) {\n    discard;\n  }\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}",i="#define GLSLIFY 1\nprecision mediump float;\n\nattribute vec3 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_id        = id;\n  f_position  = position;\n}",j="#define GLSLIFY 1\nprecision mediump float;\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if(any(lessThan(f_position, clipBounds[0])) || \n     any(greaterThan(f_position, clipBounds[1]))) {\n    discard;\n  }\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}",k="#define GLSLIFY 1\nprecision mediump float;\n\nattribute vec3  position;\nattribute float pointSize;\nattribute vec4  id;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if(any(lessThan(position, clipBounds[0])) || \n     any(greaterThan(position, clipBounds[1]))) {\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    gl_Position  = projection * view * model * vec4(position, 1.0);\n    gl_PointSize = pointSize;\n  }\n  f_id         = id;\n  f_position   = position;\n}",l="#define GLSLIFY 1\nprecision mediump float;\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n}",m="#define GLSLIFY 1\nprecision mediump float;\n\nuniform vec3 contourColor;\n\nvoid main() {\n  gl_FragColor = vec4(contourColor,1);\n}\n";b.meshShader={vertex:c,fragment:d,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},b.wireShader={vertex:e,fragment:f,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},b.pointShader={vertex:g,fragment:h,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},b.pickShader={vertex:i,fragment:j,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},b.pointPickShader={vertex:k,fragment:j,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},b.contourShader={vertex:l,fragment:m,attributes:[{name:"position",type:"vec3"}]}},{}],107:[function(require,a,b){"use strict";function c(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A){this.gl=a,this.cells=[],this.positions=[],this.intensity=[],this.texture=b,this.dirty=!0,this.triShader=c,this.lineShader=d,this.pointShader=e,this.pickShader=f,this.pointPickShader=g,this.contourShader=h,this.trianglePositions=i,this.triangleColors=k,this.triangleNormals=m,this.triangleUVs=l,this.triangleIds=j,this.triangleVAO=n,this.triangleCount=0,this.lineWidth=1,this.edgePositions=o,this.edgeColors=q,this.edgeUVs=r,this.edgeIds=p,this.edgeVAO=s,this.edgeCount=0,this.pointPositions=t,this.pointColors=v,this.pointUVs=w,this.pointSizes=x,this.pointIds=u,this.pointVAO=y,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=z,this.contourVAO=A,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-(1/0),-(1/0),-(1/0)]],this.clipBounds=[[-(1/0),-(1/0),-(1/0)],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this._model=G,this._view=G,this._projection=G,this._resolution=[1,1]}function d(a){for(var b=v({colormap:a,nshades:256,format:"rgba"}),c=new Uint8Array(1024),d=0;256>d;++d){for(var e=b[d],f=0;3>f;++f)c[4*d+f]=e[f];c[4*d+3]=255*e[3]}return u(c,[256,256,4],[4,0,1])}function e(a,b,c){for(var d=new Array(b),e=0;b>e;++e)d[e]=0;for(var f=a.length,e=0;f>e;++e)for(var g=a[e],h=0;h<g.length;++h)d[g[h]]=c[e];return d}function f(a){for(var b=a.length,c=new Array(b),d=0;b>d;++d)c[d]=a[d][2];return c}function g(a){var b=n(a,A);return b.attributes.position.location=0,b.attributes.color.location=2,b.attributes.uv.location=3,b.attributes.normal.location=4,b}function h(a){var b=n(a,B);return b.attributes.position.location=0,b.attributes.color.location=2,b.attributes.uv.location=3,b}function i(a){var b=n(a,C);return b.attributes.position.location=0,b.attributes.color.location=2,b.attributes.uv.location=3,b.attributes.pointSize.location=4,b}function j(a){var b=n(a,D);return b.attributes.position.location=0,b.attributes.id.location=1,b}function k(a){var b=n(a,E);return b.attributes.position.location=0,b.attributes.id.location=1,b.attributes.pointSize.location=4,b}function l(a){var b=n(a,F);return b.attributes.position.location=0,b}function m(a){var b=a.gl,d=g(b),e=h(b),f=i(b),m=j(b),n=k(b),r=l(b),s=q(b,u(new Uint8Array([255,255,255,255]),[1,1,4]));s.generateMipmap(),s.minFilter=b.LINEAR_MIPMAP_LINEAR,s.magFilter=b.LINEAR;var t=o(b),v=o(b),w=o(b),x=o(b),y=o(b),z=p(b,[{buffer:t,type:b.FLOAT,size:3},{buffer:y,type:b.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:v,type:b.FLOAT,size:4},{buffer:w,type:b.FLOAT,size:2},{buffer:x,type:b.FLOAT,size:3}]),A=o(b),B=o(b),C=o(b),D=o(b),E=p(b,[{buffer:A,type:b.FLOAT,size:3},{buffer:D,type:b.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:B,type:b.FLOAT,size:4},{buffer:C,type:b.FLOAT,size:2}]),F=o(b),G=o(b),H=o(b),I=o(b),J=o(b),K=p(b,[{buffer:F,type:b.FLOAT,size:3},{buffer:J,type:b.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:G,type:b.FLOAT,size:4},{buffer:H,type:b.FLOAT,size:2},{buffer:I,type:b.FLOAT,size:1}]),L=o(b),M=p(b,[{buffer:L,type:b.FLOAT,size:3}]),N=new c(b,s,d,e,f,m,n,r,t,y,v,w,x,z,A,D,B,C,E,F,J,G,H,I,K,L,M);return N.update(a),N}var n=require("gl-shader"),o=require("gl-buffer"),p=require("gl-vao"),q=require("gl-texture2d"),r=require("normals"),s=require("gl-mat4/multiply"),t=require("gl-mat4/invert"),u=require("ndarray"),v=require("colormap"),w=require("simplicial-complex-contour"),x=require("typedarray-pool"),y=require("./lib/shaders"),z=require("./lib/closest-point"),A=y.meshShader,B=y.wireShader,C=y.pointShader,D=y.pickShader,E=y.pointPickShader,F=y.contourShader,G=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],H=c.prototype;H.isOpaque=function(){return this.opacity>=1},H.isTransparent=function(){return this.opacity<1},H.pickSlots=1,H.setPickBase=function(a){this.pickId=a},H.highlight=function(a){if(!a||!this.contourEnable)return void(this.contourCount=0);for(var b=w(this.cells,this.intensity,a.intensity),c=b.cells,d=b.vertexIds,e=b.vertexWeights,f=c.length,g=x.mallocFloat32(6*f),h=0,i=0;f>i;++i)for(var j=c[i],k=0;2>k;++k){var l=j[0];2===j.length&&(l=j[k]);for(var m=d[l][0],n=d[l][1],o=e[l],p=1-o,q=this.positions[m],r=this.positions[n],s=0;3>s;++s)g[h++]=o*q[s]+p*r[s]}this.contourCount=h/3|0,this.contourPositions.update(g.subarray(0,h)),x.free(g)},H.update=function(a){a=a||{};var b=this.gl;this.dirty=!0,"contourEnable"in a&&(this.contourEnable=a.contourEnable),"contourColor"in a&&(this.contourColor=a.contourColor),"lineWidth"in a&&(this.lineWidth=a.lineWidth),"opacity"in a&&(this.opacity=a.opacity),a.texture?(this.texture.dispose(),this.texture=q(b,a.texture)):a.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=b.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=b.LINEAR,this.texture.setPixels(d(a.colormap)),this.texture.generateMipmap());var c=a.cells,g=a.positions;if(g&&c){var h=[],i=[],j=[],k=[],l=[],m=[],n=[],o=[],p=[],s=[],t=[],u=[],v=[],w=[];this.cells=c,this.positions=g;var x=a.vertexNormals,y=a.cellNormals;a.useFacetNormals&&!y&&(y=r.faceNormals(c,g)),y||x||(x=r.vertexNormals(c,g));var z=a.vertexColors,A=a.cellColors,B=a.meshColor||[1,1,1,1],C=a.vertexUVs,D=a.vertexIntensity,E=a.cellUVs,F=a.cellIntensity,G=1/0,H=-(1/0);if(!C&&!E)if(D)for(var I=0;I<D.length;++I){var J=D[I];G=Math.min(G,J),H=Math.max(H,J)}else if(F)for(var I=0;I<F.length;++I){var J=F[I];G=Math.min(G,J),H=Math.max(H,J)}else for(var I=0;I<g.length;++I){var J=g[I][2];G=Math.min(G,J),H=Math.max(H,J)}D?this.intensity=D:F?this.intensity=e(c,g.length,F):this.intensity=f(g);var K=a.pointSizes,L=a.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-(1/0),-(1/0),-(1/0)]];for(var I=0;I<g.length;++I)for(var M=g[I],N=0;3>N;++N)!isNaN(M[N])&&isFinite(M[N])&&(this.bounds[0][N]=Math.min(this.bounds[0][N],M[N]),this.bounds[1][N]=Math.max(this.bounds[1][N],M[N]));var O=0,P=0,Q=0;a:for(var I=0;I<c.length;++I){var R=c[I];switch(R.length){case 1:for(var S=R[0],M=g[S],N=0;3>N;++N)if(isNaN(M[N])||!isFinite(M[N]))continue a;s.push(M[0],M[1],M[2]);var T;T=z?z[S]:A?A[I]:B,3===T.length?t.push(T[0],T[1],T[2],1):t.push(T[0],T[1],T[2],T[3]);var U;U=C?C[S]:D?[(D[S]-G)/(H-G),0]:E?E[I]:F?[(F[I]-G)/(H-G),0]:[(M[2]-G)/(H-G),0],u.push(U[0],U[1]),K?v.push(K[S]):v.push(L),w.push(I),Q+=1;break;case 2:for(var N=0;2>N;++N)for(var S=R[N],M=g[S],V=0;3>V;++V)if(isNaN(M[V])||!isFinite(M[V]))continue a;for(var N=0;2>N;++N){var S=R[N],M=g[S];m.push(M[0],M[1],M[2]);var T;T=z?z[S]:A?A[I]:B,3===T.length?n.push(T[0],T[1],T[2],1):n.push(T[0],T[1],T[2],T[3]);var U;U=C?C[S]:D?[(D[S]-G)/(H-G),0]:E?E[I]:F?[(F[I]-G)/(H-G),0]:[(M[2]-G)/(H-G),0],o.push(U[0],U[1]),p.push(I)}P+=1;break;case 3:for(var N=0;3>N;++N)for(var S=R[N],M=g[S],V=0;3>V;++V)if(isNaN(M[V])||!isFinite(M[V]))continue a;for(var N=0;3>N;++N){var S=R[N],M=g[S];h.push(M[0],M[1],M[2]);var T;T=z?z[S]:A?A[I]:B,3===T.length?i.push(T[0],T[1],T[2],1):i.push(T[0],T[1],T[2],T[3]);var U;U=C?C[S]:D?[(D[S]-G)/(H-G),0]:E?E[I]:F?[(F[I]-G)/(H-G),0]:[(M[2]-G)/(H-G),0],k.push(U[0],U[1]);var W;W=x?x[S]:y[I],j.push(W[0],W[1],W[2]),l.push(I)}O+=1}}this.pointCount=Q,this.edgeCount=P,this.triangleCount=O,this.pointPositions.update(s),this.pointColors.update(t),this.pointUVs.update(u),this.pointSizes.update(v),this.pointIds.update(new Uint32Array(w)),this.edgePositions.update(m),this.edgeColors.update(n),this.edgeUVs.update(o),this.edgeIds.update(new Uint32Array(p)),this.trianglePositions.update(h),this.triangleColors.update(i),this.triangleUVs.update(k),this.triangleNormals.update(j),this.triangleIds.update(new Uint32Array(l))}},H.drawTransparent=H.draw=function(a){a=a||{};for(var b=this.gl,c=a.model||G,d=a.view||G,e=a.projection||G,f=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],g=0;3>g;++g)f[0][g]=Math.max(f[0][g],this.clipBounds[0][g]),f[1][g]=Math.min(f[1][g],this.clipBounds[1][g]);var h={model:c,view:d,projection:e,clipBounds:f,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,contourColor:this.contourColor,texture:0};this.texture.bind(0);var i=new Array(16);s(i,h.view,h.model),s(i,h.projection,i),t(i,i);for(var g=0;3>g;++g)h.eyePosition[g]=i[12+g]/i[15];for(var j=i[15],g=0;3>g;++g)j+=this.lightPosition[g]*i[4*g+3];for(var g=0;3>g;++g){for(var k=i[12+g],l=0;3>l;++l)k+=i[4*l+g]*this.lightPosition[l];h.lightPosition[g]=k/j}if(this.triangleCount>0){var m=this.triShader;m.bind(),m.uniforms=h,this.triangleVAO.bind(),b.drawArrays(b.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var m=this.lineShader;m.bind(),m.uniforms=h,this.edgeVAO.bind(),b.lineWidth(this.lineWidth),b.drawArrays(b.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()}if(this.pointCount>0){var m=this.pointShader;m.bind(),m.uniforms=h,this.pointVAO.bind(),b.drawArrays(b.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var m=this.contourShader;m.bind(),m.uniforms=h,this.contourVAO.bind(),b.drawArrays(b.LINES,0,this.contourCount),this.contourVAO.unbind()}},H.drawPick=function(a){a=a||{};for(var b=this.gl,c=a.model||G,d=a.view||G,e=a.projection||G,f=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],g=0;3>g;++g)f[0][g]=Math.max(f[0][g],this.clipBounds[0][g]),f[1][g]=Math.min(f[1][g],this.clipBounds[1][g]);this._model=[].slice.call(c),this._view=[].slice.call(d),this._projection=[].slice.call(e),this._resolution=[b.drawingBufferWidth,b.drawingBufferHeight];var h={model:c,view:d,projection:e,clipBounds:f,pickId:this.pickId/255},i=this.pickShader;if(i.bind(),i.uniforms=h,this.triangleCount>0&&(this.triangleVAO.bind(),b.drawArrays(b.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),b.lineWidth(this.lineWidth),b.drawArrays(b.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0){var i=this.pointPickShader;i.bind(),i.uniforms=h,this.pointVAO.bind(),b.drawArrays(b.POINTS,0,this.pointCount),this.pointVAO.unbind()}},H.pick=function(a){if(!a)return null;if(a.id!==this.pickId)return null;for(var b=a.value[0]+256*a.value[1]+65536*a.value[2],c=this.cells[b],d=this.positions,e=new Array(c.length),f=0;f<c.length;++f)e[f]=d[c[f]];var g=z(e,[a.coord[0],this._resolution[1]-a.coord[1]],this._model,this._view,this._projection,this._resolution);if(!g)return null;for(var h=g[2],i=0,f=0;f<c.length;++f)i+=h[f]*this.intensity[c[f]];return{position:g[1],index:c[g[0]],cell:c,cellId:b,intensity:i,dataCoordinate:this.positions[c[g[0]]]}},H.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},a.exports=m},{"./lib/closest-point":105,"./lib/shaders":106,colormap:57,"gl-buffer":75,"gl-mat4/invert":94,"gl-mat4/multiply":96,"gl-shader":154,"gl-texture2d":185,"gl-vao":189,ndarray:208,normals:109,"simplicial-complex-contour":111,"typedarray-pool":233}],108:[function(require,a,b){"use strict";function c(a){for(var b=0,c=0;c<a.length;++c)b+=a[c];return b}function d(a,b){for(var d=b.length,f=new Array(d+1),g=0;d>g;++g){for(var h=new Array(d+1),i=0;d>=i;++i)h[i]=a[i][g];f[g]=h}f[d]=new Array(d+1);for(var g=0;d>=g;++g)f[d][g]=1;for(var j=new Array(d+1),g=0;d>g;++g)j[g]=b[g];j[d]=1;var k=e(f,j),l=c(k[d+1]);0===l&&(l=1);for(var m=new Array(d+1),g=0;d>=g;++g)m[g]=c(k[g])/l;return m}a.exports=d;var e=require("robust-linear-solve")},{"robust-linear-solve":211}],109:[function(require,a,b){var c=1e-6;b.vertexNormals=function(a,b){for(var d=b.length,e=new Array(d),f=0;d>f;++f)e[f]=[0,0,0];for(var f=0;f<a.length;++f)for(var g=a[f],h=0,i=g[g.length-1],j=g[0],k=0;k<g.length;++k){h=i,i=j,j=g[(k+1)%g.length];for(var l=b[h],m=b[i],n=b[j],o=new Array(3),p=0,q=new Array(3),r=0,s=0;3>s;++s)o[s]=l[s]-m[s],p+=o[s]*o[s],q[s]=n[s]-m[s],r+=q[s]*q[s];if(p*r>c)for(var t=e[i],u=1/Math.sqrt(p*r),s=0;3>s;++s){var v=(s+1)%3,w=(s+2)%3;t[s]+=u*(q[v]*o[w]-q[w]*o[v])}}for(var f=0;d>f;++f){for(var t=e[f],x=0,s=0;3>s;++s)x+=t[s]*t[s];if(x>c)for(var u=1/Math.sqrt(x),s=0;3>s;++s)t[s]*=u;else for(var s=0;3>s;++s)t[s]=0}return e},b.faceNormals=function(a,b){for(var d=a.length,e=new Array(d),f=0;d>f;++f){for(var g=a[f],h=new Array(3),i=0;3>i;++i)h[i]=b[g[i]];for(var j=new Array(3),k=new Array(3),i=0;3>i;++i)j[i]=h[1][i]-h[0][i],k[i]=h[2][i]-h[0][i];for(var l=new Array(3),m=0,i=0;3>i;++i){var n=(i+1)%3,o=(i+2)%3;l[i]=j[n]*k[o]-j[o]*k[n],m+=l[i]*l[i]}m=m>c?1/Math.sqrt(m):0;for(var i=0;3>i;++i)l[i]*=m;e[f]=l}return e}},{}],110:[function(require,a,b){"use strict";function c(a,b,c,g,h){d.length<g.length&&(d=new Float64Array(g.length),e=new Float64Array(g.length),f=new Float64Array(g.length));for(var i=0;i<g.length;++i)d[i]=a[i]-g[i],e[i]=b[i]-a[i],f[i]=c[i]-a[i];for(var j=0,k=0,l=0,m=0,n=0,o=0,i=0;i<g.length;++i){var p=e[i],q=f[i],r=d[i];j+=p*p,k+=p*q,l+=q*q,m+=r*p,n+=r*q,o+=r*r}var s,t=Math.abs(j*l-k*k),u=k*n-l*m,v=k*m-j*n;if(t>=u+v)if(0>u)0>v&&0>m?(v=0,-m>=j?(u=1,s=j+2*m+o):(u=-m/j,s=m*u+o)):(u=0,n>=0?(v=0,s=o):-n>=l?(v=1,s=l+2*n+o):(v=-n/l,s=n*v+o));else if(0>v)v=0,m>=0?(u=0,s=o):-m>=j?(u=1,s=j+2*m+o):(u=-m/j,s=m*u+o);else{var w=1/t;u*=w,v*=w,s=u*(j*u+k*v+2*m)+v*(k*u+l*v+2*n)+o}else{var x,y,z,A;0>u?(x=k+m,y=l+n,y>x?(z=y-x,A=j-2*k+l,z>=A?(u=1,v=0,s=j+2*m+o):(u=z/A,v=1-u,s=u*(j*u+k*v+2*m)+v*(k*u+l*v+2*n)+o)):(u=0,0>=y?(v=1,s=l+2*n+o):n>=0?(v=0,s=o):(v=-n/l,s=n*v+o))):0>v?(x=k+n,y=j+m,y>x?(z=y-x,A=j-2*k+l,z>=A?(v=1,u=0,s=l+2*n+o):(v=z/A,u=1-v,s=u*(j*u+k*v+2*m)+v*(k*u+l*v+2*n)+o)):(v=0,0>=y?(u=1,s=j+2*m+o):m>=0?(u=0,s=o):(u=-m/j,s=m*u+o))):(z=l+n-k-m,0>=z?(u=0,v=1,s=l+2*n+o):(A=j-2*k+l,z>=A?(u=1,v=0,s=j+2*m+o):(u=z/A,v=1-u,s=u*(j*u+k*v+2*m)+v*(k*u+l*v+2*n)+o)))}for(var B=1-u-v,i=0;i<g.length;++i)h[i]=B*a[i]+u*b[i]+v*c[i];return 0>s?0:s;
}var d=new Float64Array(4),e=new Float64Array(4),f=new Float64Array(4);a.exports=c},{}],111:[function(require,a,b){"use strict";function c(a){for(var b=a.length,c=0,d=0;b>d;++d)c=0|Math.max(c,a[d].length);return c-1}function d(a,b){for(var c=a.length,d=k.mallocUint8(c),e=0;c>e;++e)d[e]=a[e]<b|0;return d}function e(a,b){for(var c=a.length,d=b*(b+1)/2*c|0,e=k.mallocUint32(2*d),f=0,g=0;c>g;++g)for(var h=a[g],b=h.length,i=0;b>i;++i)for(var m=0;i>m;++m){var n=h[m],o=h[i];e[f++]=0|Math.min(n,o),e[f++]=0|Math.max(n,o)}var p=f/2|0;l(j(e,[p,2]));for(var q=2,g=2;f>g;g+=2)(e[g-2]!==e[g]||e[g-1]!==e[g+1])&&(e[q++]=e[g],e[q++]=e[g+1]);return j(e,[q/2|0,2])}function f(a,b,c,d){for(var e=a.data,f=a.shape[0],g=k.mallocDouble(f),h=0,i=0;f>i;++i){var l=e[2*i],m=e[2*i+1];if(c[l]!==c[m]){var n=b[l],o=b[m];e[2*h]=l,e[2*h+1]=m,g[h++]=(o-d)/(o-n)}}return a.shape[0]=h,j(g,[h])}function g(a,b){var c=k.mallocInt32(2*b),d=a.shape[0],e=a.data;c[0]=0;for(var f=0,g=0;d>g;++g){var h=e[2*g];if(h!==f){for(c[2*f+1]=g;++f<h;)c[2*f]=g,c[2*f+1]=g;c[2*f]=g}}for(c[2*f+1]=d;++f<b;)c[2*f]=c[2*f+1]=d;return c}function h(a){for(var b=0|a.shape[0],c=a.data,d=new Array(b),e=0;b>e;++e)d[e]=[c[2*e],c[2*e+1]];return d}function i(a,b,i,j){i=i||0,"undefined"==typeof j&&(j=c(a));var l=a.length;if(0===l||1>j)return{cells:[],vertexIds:[],vertexWeights:[]};var n=d(b,+i),o=e(a,j),p=f(o,b,n,+i),q=g(o,0|b.length),r=m(j)(a,o.data,q,n),s=h(o),t=[].slice.call(p.data,0,p.shape[0]);return k.free(n),k.free(o.data),k.free(p.data),k.free(q),{cells:r,vertexIds:s,vertexWeights:t}}a.exports=i;var j=require("ndarray"),k=require("typedarray-pool"),l=require("ndarray-sort"),m=require("./lib/codegen")},{"./lib/codegen":112,ndarray:208,"ndarray-sort":115,"typedarray-pool":233}],112:[function(require,a,b){"use strict";function c(a){function b(a){if(!(a.length<=0)){j.push("R.push(");for(var b=0;b<a.length;++b){var c=a[b];b>0&&j.push(","),j.push("[");for(var d=0;d<c.length;++d){var e=c[d];d>0&&j.push(","),j.push("B(C,E,c[",e[0],"],c[",e[1],"])")}j.push("]")}j.push(");")}}var c=0,d=new Array(a+1);d[0]=[[]];for(var g=1;a>=g;++g)for(var h=d[g]=f(g),i=0;i<h.length;++i)c=Math.max(c,h[g].length);for(var j=["function B(C,E,i,j){","var a=Math.min(i,j)|0,b=Math.max(i,j)|0,l=C[2*a],h=C[2*a+1];","while(l<h){","var m=(l+h)>>1,v=E[2*m+1];","if(v===b){return m}","if(b<v){h=m}else{l=m+1}","}","return l;","};","function getContour",a,"d(F,E,C,S){","var n=F.length,R=[];","for(var i=0;i<n;++i){var c=F[i],l=c.length;"],g=a+1;g>1;--g){a+1>g&&j.push("else "),j.push("if(l===",g,"){");for(var k=[],i=0;g>i;++i)k.push("(S[c["+i+"]]<<"+i+")");j.push("var M=",k.join("+"),";if(M===0||M===",(1<<g)-1,"){continue}switch(M){");for(var h=d[g-1],i=0;i<h.length;++i)j.push("case ",i,":"),b(h[i]),j.push("break;");j.push("}}")}j.push("}return R;};return getContour",a,"d");var l=new Function("pool",j.join(""));return l(e)}function d(a){var b=g[a];return b||(b=g[a]=c(a)),b}a.exports=d;var e=require("typedarray-pool"),f=require("marching-simplex-table"),g={}},{"marching-simplex-table":113,"typedarray-pool":233}],113:[function(require,a,b){"use strict";function c(a,b,c){for(var d=new Array(a),e=0;a>e;++e)d[e]=0,e===b&&(d[e]+=.5),e===c&&(d[e]+=.5);return d}function d(a,b){if(0===b||b===(1<<a+1)-1)return[];for(var d=[],e=[],g=0;a>=g;++g)if(b&1<<g){d.push(c(a,g-1,g-1)),e.push(null);for(var h=0;a>=h;++h)~b&1<<h&&(d.push(c(a,g-1,h-1)),e.push([g,h]))}var i=f(d),j=[];a:for(var g=0;g<i.length;++g){for(var k=i[g],l=[],h=0;h<k.length;++h){if(!e[k[h]])continue a;l.push(e[k[h]].slice())}j.push(l)}return j}function e(a){for(var b=1<<a+1,c=new Array(b),e=0;b>e;++e)c[e]=d(a,e);return c}a.exports=e;var f=require("convex-hull")},{"convex-hull":60}],114:[function(require,a,b){"use strict";function c(a){switch(a){case"uint8":return[h.mallocUint8,h.freeUint8];case"uint16":return[h.mallocUint16,h.freeUint16];case"uint32":return[h.mallocUint32,h.freeUint32];case"int8":return[h.mallocInt8,h.freeInt8];case"int16":return[h.mallocInt16,h.freeInt16];case"int32":return[h.mallocInt32,h.freeInt32];case"float32":return[h.mallocFloat,h.freeFloat];case"float64":return[h.mallocDouble,h.freeDouble];default:return null}}function d(a){for(var b=[],c=0;a>c;++c)b.push("s"+c);for(var c=0;a>c;++c)b.push("n"+c);for(var c=1;a>c;++c)b.push("d"+c);for(var c=1;a>c;++c)b.push("e"+c);for(var c=1;a>c;++c)b.push("f"+c);return b}function e(a,b){function e(a){return"generic"===b?["data.get(",a,")"].join(""):["data[",a,"]"].join("")}function f(a,c){return"generic"===b?["data.set(",a,",",c,")"].join(""):["data[",a,"]=",c].join("")}var g=["'use strict'"],h=["ndarrayInsertionSort",a.join("d"),b].join(""),i=["left","right","data","offset"].concat(d(a.length)),j=c(b),k=["i,j,cptr,ptr=left*s0+offset"];if(a.length>1){for(var l=[],m=1;m<a.length;++m)k.push("i"+m),l.push("n"+m);j?k.push("scratch=malloc("+l.join("*")+")"):k.push("scratch=new Array("+l.join("*")+")"),k.push("dptr","sptr","a","b")}else k.push("scratch");if(g.push(["function ",h,"(",i.join(","),"){var ",k.join(",")].join(""),"for(i=left+1;i<=right;++i){","j=i;ptr+=s0","cptr=ptr"),a.length>1){g.push("dptr=0;sptr=ptr");for(var m=a.length-1;m>=0;--m){var n=a[m];0!==n&&g.push(["for(i",n,"=0;i",n,"<n",n,";++i",n,"){"].join(""))}g.push("scratch[dptr++]=",e("sptr"));for(var m=0;m<a.length;++m){var n=a[m];0!==n&&g.push("sptr+=d"+n,"}")}g.push("__g:while(j-->left){","dptr=0","sptr=cptr-s0");for(var m=1;m<a.length;++m)1===m&&g.push("__l:"),g.push(["for(i",m,"=0;i",m,"<n",m,";++i",m,"){"].join(""));g.push(["a=",e("sptr"),"\nb=scratch[dptr]\nif(a<b){break __g}\nif(a>b){break __l}"].join(""));for(var m=a.length-1;m>=1;--m)g.push("sptr+=e"+m,"dptr+=f"+m,"}");g.push("dptr=cptr;sptr=cptr-s0");for(var m=a.length-1;m>=0;--m){var n=a[m];0!==n&&g.push(["for(i",n,"=0;i",n,"<n",n,";++i",n,"){"].join(""))}g.push(f("dptr",e("sptr")));for(var m=0;m<a.length;++m){var n=a[m];0!==n&&g.push(["dptr+=d",n,";sptr+=d",n].join(""),"}")}g.push("cptr-=s0\n}"),g.push("dptr=cptr;sptr=0");for(var m=a.length-1;m>=0;--m){var n=a[m];0!==n&&g.push(["for(i",n,"=0;i",n,"<n",n,";++i",n,"){"].join(""))}g.push(f("dptr","scratch[sptr++]"));for(var m=0;m<a.length;++m){var n=a[m];0!==n&&g.push("dptr+=d"+n,"}")}}else g.push("scratch="+e("ptr"),"while((j-->left)&&("+e("cptr-s0")+">scratch)){",f("cptr",e("cptr-s0")),"cptr-=s0","}",f("cptr","scratch"));if(g.push("}"),a.length>1&&j&&g.push("free(scratch)"),g.push("} return "+h),j){var o=new Function("malloc","free",g.join("\n"));return o(j[0],j[1])}var o=new Function(g.join("\n"));return o()}function f(a,b,e){function f(a){return["(offset+",a,"*s0)"].join("")}function g(a){return"generic"===b?["data.get(",a,")"].join(""):["data[",a,"]"].join("")}function h(a,c){return"generic"===b?["data.set(",a,",",c,")"].join(""):["data[",a,"]=",c].join("")}function j(b,c,d){if(1===b.length)v.push("ptr0="+f(b[0]));else for(var e=0;e<b.length;++e)v.push(["b_ptr",e,"=s0*",b[e]].join(""));c&&v.push("pivot_ptr=0"),v.push("ptr_shift=offset");for(var e=a.length-1;e>=0;--e){var g=a[e];0!==g&&v.push(["for(i",g,"=0;i",g,"<n",g,";++i",g,"){"].join(""))}if(b.length>1)for(var e=0;e<b.length;++e)v.push(["ptr",e,"=b_ptr",e,"+ptr_shift"].join(""));v.push(d),c&&v.push("++pivot_ptr");for(var e=0;e<a.length;++e){var g=a[e];0!==g&&(b.length>1?v.push("ptr_shift+=d"+g):v.push("ptr0+=d"+g),v.push("}"))}}function k(b,c,d,e){if(1===c.length)v.push("ptr0="+f(c[0]));else{for(var g=0;g<c.length;++g)v.push(["b_ptr",g,"=s0*",c[g]].join(""));v.push("ptr_shift=offset")}d&&v.push("pivot_ptr=0"),b&&v.push(b+":");for(var g=1;g<a.length;++g)v.push(["for(i",g,"=0;i",g,"<n",g,";++i",g,"){"].join(""));if(c.length>1)for(var g=0;g<c.length;++g)v.push(["ptr",g,"=b_ptr",g,"+ptr_shift"].join(""));v.push(e);for(var g=a.length-1;g>=1;--g)d&&v.push("pivot_ptr+=f"+g),c.length>1?v.push("ptr_shift+=e"+g):v.push("ptr0+=e"+g),v.push("}")}function l(){a.length>1&&y&&v.push("free(pivot1)","free(pivot2)")}function m(b,c){var d="el"+b,e="el"+c;if(a.length>1){var h="__l"+ ++z;k(h,[d,e],!1,["comp=",g("ptr0"),"-",g("ptr1"),"\n","if(comp>0){tmp0=",d,";",d,"=",e,";",e,"=tmp0;break ",h,"}\n","if(comp<0){break ",h,"}"].join(""))}else v.push(["if(",g(f(d)),">",g(f(e)),"){tmp0=",d,";",d,"=",e,";",e,"=tmp0}"].join(""))}function n(b,c){a.length>1?j([b,c],!1,h("ptr0",g("ptr1"))):v.push(h(f(b),g(f(c))))}function o(b,c,d){if(a.length>1){var e="__l"+ ++z;k(e,[c],!0,[b,"=",g("ptr0"),"-pivot",d,"[pivot_ptr]\n","if(",b,"!==0){break ",e,"}"].join(""))}else v.push([b,"=",g(f(c)),"-pivot",d].join(""))}function p(b,c){a.length>1?j([b,c],!1,["tmp=",g("ptr0"),"\n",h("ptr0",g("ptr1")),"\n",h("ptr1","tmp")].join("")):v.push(["ptr0=",f(b),"\n","ptr1=",f(c),"\n","tmp=",g("ptr0"),"\n",h("ptr0",g("ptr1")),"\n",h("ptr1","tmp")].join(""))}function q(b,c,d){a.length>1?(j([b,c,d],!1,["tmp=",g("ptr0"),"\n",h("ptr0",g("ptr1")),"\n",h("ptr1",g("ptr2")),"\n",h("ptr2","tmp")].join("")),v.push("++"+c,"--"+d)):v.push(["ptr0=",f(b),"\n","ptr1=",f(c),"\n","ptr2=",f(d),"\n","++",c,"\n","--",d,"\n","tmp=",g("ptr0"),"\n",h("ptr0",g("ptr1")),"\n",h("ptr1",g("ptr2")),"\n",h("ptr2","tmp")].join(""))}function r(a,b){p(a,b),v.push("--"+b)}function s(b,c,d){a.length>1?j([b,c],!0,[h("ptr0",g("ptr1")),"\n",h("ptr1",["pivot",d,"[pivot_ptr]"].join(""))].join("")):v.push(h(f(b),g(f(c))),h(f(c),"pivot"+d))}function t(b,c){v.push(["if((",c,"-",b,")<=",i,"){\n","insertionSort(",b,",",c,",data,offset,",d(a.length).join(","),")\n","}else{\n",w,"(",b,",",c,",data,offset,",d(a.length).join(","),")\n","}"].join(""))}function u(b,c,d){a.length>1?(v.push(["__l",++z,":while(true){"].join("")),j([b],!0,["if(",g("ptr0"),"!==pivot",c,"[pivot_ptr]){break __l",z,"}"].join("")),v.push(d,"}")):v.push(["while(",g(f(b)),"===pivot",c,"){",d,"}"].join(""))}var v=["'use strict'"],w=["ndarrayQuickSort",a.join("d"),b].join(""),x=["left","right","data","offset"].concat(d(a.length)),y=c(b),z=0;v.push(["function ",w,"(",x.join(","),"){"].join(""));var A=["sixth=((right-left+1)/6)|0","index1=left+sixth","index5=right-sixth","index3=(left+right)>>1","index2=index3-sixth","index4=index3+sixth","el1=index1","el2=index2","el3=index3","el4=index4","el5=index5","less=left+1","great=right-1","pivots_are_equal=true","tmp","tmp0","x","y","z","k","ptr0","ptr1","ptr2","comp_pivot1=0","comp_pivot2=0","comp=0"];if(a.length>1){for(var B=[],C=1;C<a.length;++C)B.push("n"+C),A.push("i"+C);for(var C=0;8>C;++C)A.push("b_ptr"+C);A.push("ptr3","ptr4","ptr5","ptr6","ptr7","pivot_ptr","ptr_shift","elementSize="+B.join("*")),y?A.push("pivot1=malloc(elementSize)","pivot2=malloc(elementSize)"):A.push("pivot1=new Array(elementSize),pivot2=new Array(elementSize)")}else A.push("pivot1","pivot2");if(v.push("var "+A.join(",")),m(1,2),m(4,5),m(1,3),m(2,3),m(1,4),m(3,4),m(2,5),m(2,3),m(4,5),a.length>1?j(["el1","el2","el3","el4","el5","index1","index3","index5"],!0,["pivot1[pivot_ptr]=",g("ptr1"),"\n","pivot2[pivot_ptr]=",g("ptr3"),"\n","pivots_are_equal=pivots_are_equal&&(pivot1[pivot_ptr]===pivot2[pivot_ptr])\n","x=",g("ptr0"),"\n","y=",g("ptr2"),"\n","z=",g("ptr4"),"\n",h("ptr5","x"),"\n",h("ptr6","y"),"\n",h("ptr7","z")].join("")):v.push(["pivot1=",g(f("el2")),"\n","pivot2=",g(f("el4")),"\n","pivots_are_equal=pivot1===pivot2\n","x=",g(f("el1")),"\n","y=",g(f("el3")),"\n","z=",g(f("el5")),"\n",h(f("index1"),"x"),"\n",h(f("index3"),"y"),"\n",h(f("index5"),"z")].join("")),n("index2","left"),n("index4","right"),v.push("if(pivots_are_equal){"),v.push("for(k=less;k<=great;++k){"),o("comp","k",1),v.push("if(comp===0){continue}"),v.push("if(comp<0){"),v.push("if(k!==less){"),p("k","less"),v.push("}"),v.push("++less"),v.push("}else{"),v.push("while(true){"),o("comp","great",1),v.push("if(comp>0){"),v.push("great--"),v.push("}else if(comp<0){"),q("k","less","great"),v.push("break"),v.push("}else{"),r("k","great"),v.push("break"),v.push("}"),v.push("}"),v.push("}"),v.push("}"),v.push("}else{"),v.push("for(k=less;k<=great;++k){"),o("comp_pivot1","k",1),v.push("if(comp_pivot1<0){"),v.push("if(k!==less){"),p("k","less"),v.push("}"),v.push("++less"),v.push("}else{"),o("comp_pivot2","k",2),v.push("if(comp_pivot2>0){"),v.push("while(true){"),o("comp","great",2),v.push("if(comp>0){"),v.push("if(--great<k){break}"),v.push("continue"),v.push("}else{"),o("comp","great",1),v.push("if(comp<0){"),q("k","less","great"),v.push("}else{"),r("k","great"),v.push("}"),v.push("break"),v.push("}"),v.push("}"),v.push("}"),v.push("}"),v.push("}"),v.push("}"),s("left","(less-1)",1),s("right","(great+1)",2),t("left","(less-2)"),t("(great+2)","right"),v.push("if(pivots_are_equal){"),l(),v.push("return"),v.push("}"),v.push("if(less<index1&&great>index5){"),u("less",1,"++less"),u("great",2,"--great"),v.push("for(k=less;k<=great;++k){"),o("comp_pivot1","k",1),v.push("if(comp_pivot1===0){"),v.push("if(k!==less){"),p("k","less"),v.push("}"),v.push("++less"),v.push("}else{"),o("comp_pivot2","k",2),v.push("if(comp_pivot2===0){"),v.push("while(true){"),o("comp","great",2),v.push("if(comp===0){"),v.push("if(--great<k){break}"),v.push("continue"),v.push("}else{"),o("comp","great",1),v.push("if(comp<0){"),q("k","less","great"),v.push("}else{"),r("k","great"),v.push("}"),v.push("break"),v.push("}"),v.push("}"),v.push("}"),v.push("}"),v.push("}"),v.push("}"),l(),t("less","great"),v.push("}return "+w),a.length>1&&y){var D=new Function("insertionSort","malloc","free",v.join("\n"));return D(e,y[0],y[1])}var D=new Function("insertionSort",v.join("\n"));return D(e)}function g(a,b){var c=["'use strict'"],g=["ndarraySortWrapper",a.join("d"),b].join(""),h=["array"];c.push(["function ",g,"(",h.join(","),"){"].join(""));for(var j=["data=array.data,offset=array.offset|0,shape=array.shape,stride=array.stride"],k=0;k<a.length;++k)j.push(["s",k,"=stride[",k,"]|0,n",k,"=shape[",k,"]|0"].join(""));for(var l=new Array(a.length),m=[],k=0;k<a.length;++k){var n=a[k];0!==n&&(0===m.length?l[n]="1":l[n]=m.join("*"),m.push("n"+n))}for(var o=-1,p=-1,k=0;k<a.length;++k){var q=a[k];0!==q&&(o>0?j.push(["d",q,"=s",q,"-d",o,"*n",o].join("")):j.push(["d",q,"=s",q].join("")),o=q);var n=a.length-1-k;0!==n&&(p>0?j.push(["e",n,"=s",n,"-e",p,"*n",p,",f",n,"=",l[n],"-f",p,"*n",p].join("")):j.push(["e",n,"=s",n,",f",n,"=",l[n]].join("")),p=n)}c.push("var "+j.join(","));var r=["0","n0-1","data","offset"].concat(d(a.length));c.push(["if(n0<=",i,"){","insertionSort(",r.join(","),")}else{","quickSort(",r.join(","),")}"].join("")),c.push("}return "+g);var s=new Function("insertionSort","quickSort",c.join("\n")),t=e(a,b),u=f(a,b,t);return s(t,u)}var h=require("typedarray-pool"),i=32;a.exports=g},{"typedarray-pool":233}],115:[function(require,a,b){"use strict";function c(a){var b=a.order,c=a.dtype,f=[b,c],g=f.join(":"),h=e[g];return h||(e[g]=h=d(b,c)),h(a),a}var d=require("./lib/compile_sort.js"),e={};a.exports=c},{"./lib/compile_sort.js":114}],116:[function(require,a,b){"use strict";function c(a,b,c){this.plot=a,this.vbo=b,this.shader=c}function d(a){var b=a.gl,d=e(b,[0,0,0,1,1,0,1,1]),h=f(b,g.boxVert,g.lineFrag);return new c(a,d,h)}a.exports=d;var e=require("gl-buffer"),f=require("gl-shader"),g=require("./shaders"),h=c.prototype;h.bind=function(){var a=this.shader;this.vbo.bind(),this.shader.bind(),a.attributes.coord.pointer(),a.uniforms.screenBox=this.plot.screenBox},h.drawBox=function(){var a=[0,0],b=[0,0];return function(c,d,e,f,g){var h=this.plot,i=this.shader,j=h.gl;a[0]=c,a[1]=d,b[0]=e,b[1]=f,i.uniforms.lo=a,i.uniforms.hi=b,i.uniforms.color=g,j.drawArrays(j.TRIANGLE_STRIP,0,4)}}(),h.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},{"./shaders":119,"gl-buffer":75,"gl-shader":154}],117:[function(require,a,b){"use strict";function c(a,b,c,d){this.plot=a,this.vbo=b,this.shader=c,this.tickShader=d,this.ticks=[[],[]]}function d(a,b){return a-b}function e(a){var b=a.gl,d=f(b),e=g(b,i.gridVert,i.gridFrag),h=g(b,i.tickVert,i.gridFrag),j=new c(a,d,e,h);return j}a.exports=e;var f=require("gl-buffer"),g=require("gl-shader"),h=require("binary-search-bounds"),i=require("./shaders"),j=c.prototype;j.draw=function(){var a=[0,0],b=[0,0],c=[0,0];return function(){for(var d=this.plot,e=this.vbo,f=this.shader,g=this.ticks,h=d.gl,i=d._tickBounds,j=d.dataBox,k=d.viewBox,l=d.gridLineWidth,m=d.gridLineColor,n=d.gridLineEnable,o=d.pixelRatio,p=0;2>p;++p){var q=i[p],r=i[p+2],s=r-q,t=.5*(j[p+2]+j[p]),u=j[p+2]-j[p];b[p]=2*s/u,a[p]=2*(q-t)/u}f.bind(),e.bind(),f.attributes.dataCoord.pointer(),f.uniforms.dataShift=a,f.uniforms.dataScale=b;for(var v=0,p=0;2>p;++p){c[0]=c[1]=0,c[p]=1,f.uniforms.dataAxis=c,f.uniforms.lineWidth=l[p]/(k[p+2]-k[p])*o,f.uniforms.color=m[p];var w=6*g[p].length;n[p]&&h.drawArrays(h.TRIANGLES,v,w),v+=w}}}(),j.drawTickMarks=function(){var a=[0,0],b=[0,0],c=[1,0],e=[0,1],f=[0,0],g=[0,0];return function(){for(var i=this.plot,j=this.vbo,k=this.tickShader,l=this.ticks,m=i.gl,n=i._tickBounds,o=i.dataBox,p=i.viewBox,q=i.pixelRatio,r=i.screenBox,s=r[2]-r[0],t=r[3]-r[1],u=p[2]-p[0],v=p[3]-p[1],w=0;2>w;++w){var x=n[w],y=n[w+2],z=y-x,A=.5*(o[w+2]+o[w]),B=o[w+2]-o[w];b[w]=2*z/B,a[w]=2*(x-A)/B}b[0]*=u/s,a[0]*=u/s,b[1]*=v/t,a[1]*=v/t,k.bind(),j.bind(),k.attributes.dataCoord.pointer();var C=k.uniforms;C.dataShift=a,C.dataScale=b;var D=i.tickMarkLength,E=i.tickMarkWidth,F=i.tickMarkColor,G=0,H=6*l[0].length,I=Math.min(h.ge(l[0],(o[0]-n[0])/(n[2]-n[0]),d),l[0].length),J=Math.min(h.gt(l[0],(o[2]-n[0])/(n[2]-n[0]),d),l[0].length),K=G+6*I,L=6*Math.max(0,J-I),M=Math.min(h.ge(l[1],(o[1]-n[1])/(n[3]-n[1]),d),l[1].length),N=Math.min(h.gt(l[1],(o[3]-n[1])/(n[3]-n[1]),d),l[1].length),O=H+6*M,P=6*Math.max(0,N-M);f[0]=2*(p[0]-D[1])/s-1,f[1]=(p[3]+p[1])/t-1,g[0]=D[1]*q/s,g[1]=E[1]*q/t,C.color=F[1],C.tickScale=g,C.dataAxis=e,C.screenOffset=f,m.drawArrays(m.TRIANGLES,O,P),f[0]=(p[2]+p[0])/s-1,f[1]=2*(p[1]-D[0])/t-1,g[0]=E[0]*q/s,g[1]=D[0]*q/t,C.color=F[0],C.tickScale=g,C.dataAxis=c,C.screenOffset=f,m.drawArrays(m.TRIANGLES,K,L),f[0]=2*(p[2]+D[3])/s-1,f[1]=(p[3]+p[1])/t-1,g[0]=D[3]*q/s,g[1]=E[3]*q/t,C.color=F[3],C.tickScale=g,C.dataAxis=e,C.screenOffset=f,m.drawArrays(m.TRIANGLES,O,P),f[0]=(p[2]+p[0])/s-1,f[1]=2*(p[3]+D[2])/t-1,g[0]=E[2]*q/s,g[1]=D[2]*q/t,C.color=F[2],C.tickScale=g,C.dataAxis=c,C.screenOffset=f,m.drawArrays(m.TRIANGLES,K,L)}}(),j.update=function(){var a=[1,1,-1,-1,1,-1],b=[1,-1,1,1,-1,-1];return function(c){for(var d=c.ticks,e=c.bounds,f=new Float32Array(18*(d[0].length+d[1].length)),g=(this.plot.zeroLineEnable,0),h=[[],[]],i=0;2>i;++i)for(var j=h[i],k=d[i],l=e[i],m=e[i+2],n=0;n<k.length;++n){var o=(k[n].x-l)/(m-l);j.push(o);for(var p=0;6>p;++p)f[g++]=o,f[g++]=a[p],f[g++]=b[p]}this.ticks=h,this.vbo.update(f)}}(),j.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},{"./shaders":119,"binary-search-bounds":121,"gl-buffer":75,"gl-shader":154}],118:[function(require,a,b){"use strict";function c(a,b,c){this.plot=a,this.vbo=b,this.shader=c}function d(a){var b=a.gl,d=e(b,[-1,-1,-1,1,1,-1,1,1]),h=f(b,g.lineVert,g.lineFrag),i=new c(a,d,h);return i}a.exports=d;var e=require("gl-buffer"),f=require("gl-shader"),g=require("./shaders"),h=c.prototype;h.bind=function(){var a=this.shader;this.vbo.bind(),this.shader.bind(),a.attributes.coord.pointer(),a.uniforms.screenBox=this.plot.screenBox},h.drawLine=function(){var a=[0,0],b=[0,0];return function(c,d,e,f,g,h){var i=this.plot,j=this.shader,k=i.gl;a[0]=c,a[1]=d,b[0]=e,b[1]=f,j.uniforms.start=a,j.uniforms.end=b,j.uniforms.width=g*i.pixelRatio,j.uniforms.color=h,k.drawArrays(k.TRIANGLE_STRIP,0,4)}}(),h.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},{"./shaders":119,"gl-buffer":75,"gl-shader":154}],119:[function(require,a,b){"use strict";var c="#define GLSLIFY 1\nprecision lowp float;\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = vec4(color.xyz * color.w, color.w);\n}\n";a.exports={lineVert:"#define GLSLIFY 1\nprecision mediump float;\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 start, end;\nuniform float width;\n\nvec2 perp(vec2 v) {\n  return vec2(v.y, -v.x);\n}\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  vec2 delta = normalize(perp(start - end));\n  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));\n  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);\n}\n",lineFrag:c,textVert:"#define GLSLIFY 1\nattribute vec3 textCoordinate;\n\nuniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;\nuniform float angle;\n\nvoid main() {\n  float dataOffset  = textCoordinate.z;\n  vec2 glyphOffset  = textCoordinate.xy;\n  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\n  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +\n    glyphMatrix * glyphOffset * textScale + screenOffset;\n  gl_Position = vec4(screenCoordinate, 0, 1);\n}\n",textFrag:c,gridVert:"#define GLSLIFY 1\nprecision mediump float;\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale;\nuniform float lineWidth;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;\n  gl_Position = vec4(pos, 0, 1);\n}\n",gridFrag:c,boxVert:"#define GLSLIFY 1\nprecision mediump float;\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 lo, hi;\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);\n}\n",tickVert:"#define GLSLIFY 1\nprecision mediump float;\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);\n}\n"}},{}],120:[function(require,a,b){"use strict";function c(a,b,c){this.plot=a,this.vbo=b,this.shader=c,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}function d(a){var b=a.gl,d=e(b),g=f(b,i.textVert,i.textFrag),h=new c(a,d,g);return h}a.exports=d;var e=require("gl-buffer"),f=require("gl-shader"),g=require("text-cache"),h=require("binary-search-bounds"),i=require("./shaders"),j=c.prototype;j.drawTicks=function(){var a=[0,0],b=[0,0],c=[0,0];return function(d){var e=this.plot,f=this.shader,g=this.tickX[d],i=this.tickOffset[d],j=e.gl,k=e.viewBox,l=e.dataBox,m=e.screenBox,n=e.pixelRatio,o=e.tickEnable,p=e.tickPad,q=e.tickColor,r=e.tickAngle,s=(e.tickMarkLength,e.labelEnable),t=e.labelPad,u=e.labelColor,v=e.labelAngle,w=this.labelOffset[d],x=this.labelCount[d],y=h.lt(g,l[d]),z=h.le(g,l[d+2]);a[0]=a[1]=0,a[d]=1,b[d]=(k[2+d]+k[d])/(m[2+d]-m[d])-1;var A=2/m[2+(1^d)]-m[1^d];b[1^d]=A*k[1^d]-1,o[d]&&(b[1^d]-=A*n*p[d],z>y&&(f.uniforms.dataAxis=a,f.uniforms.screenOffset=b,f.uniforms.color=q[d],f.uniforms.angle=r[d],j.drawArrays(j.TRIANGLES,i[y],i[z]-i[y]))),s[d]&&(b[1^d]-=A*n*t[d],f.uniforms.dataAxis=c,f.uniforms.screenOffset=b,f.uniforms.color=u[d],f.uniforms.angle=v[d],j.drawArrays(j.TRIANGLES,w,x)),b[1^d]=A*k[2+(1^d)]-1,o[d+2]&&(b[1^d]+=A*n*p[d+2],z>y&&(f.uniforms.dataAxis=a,f.uniforms.screenOffset=b,f.uniforms.color=q[d+2],f.uniforms.angle=r[d+2],j.drawArrays(j.TRIANGLES,i[y],i[z]-i[y]))),s[d+2]&&(b[1^d]+=A*n*t[d+2],f.uniforms.dataAxis=c,f.uniforms.screenOffset=b,f.uniforms.color=u[d+2],f.uniforms.angle=v[d+2],j.drawArrays(j.TRIANGLES,w,x))}}(),j.drawTitle=function(){var a=[0,0],b=[0,0];return function(){for(var c=this.plot,d=this.shader,e=c.gl,f=c.screenBox,g=c.titleCenter,h=c.titleAngle,i=c.titleColor,g=c.titleCenter,j=c.pixelRatio,k=0;2>k;++k)b[k]=2*(g[k]*j-f[k])/(f[2+k]-f[k])-1;d.bind(),d.uniforms.dataAxis=a,d.uniforms.screenOffset=b,d.uniforms.angle=h,d.uniforms.color=i,e.drawArrays(e.TRIANGLES,this.titleOffset,this.titleCount)}}(),j.bind=function(){var a=[0,0],b=[0,0],c=[0,0];return function(){var d=this.plot,e=this.shader,f=d._tickBounds,g=d.dataBox,h=d.screenBox,i=d.viewBox;e.bind();for(var j=0;2>j;++j){var k=f[j],l=f[j+2],m=l-k,n=.5*(g[j+2]+g[j]),o=g[j+2]-g[j],p=i[j],q=i[j+2],r=q-p,s=h[j],t=h[j+2],u=t-s;b[j]=2*m/o*r/u,a[j]=2*(k-n)/o*r/u}c[1]=2*d.pixelRatio/(h[3]-h[1]),c[0]=c[1]*(h[3]-h[1])/(h[2]-h[0]),e.uniforms.dataScale=b,e.uniforms.dataShift=a,e.uniforms.textScale=c,this.vbo.bind(),e.attributes.textCoordinate.pointer()}}(),j.update=function(a){for(var b=[],c=a.ticks,d=a.bounds,e=0;2>e;++e){for(var f=[Math.floor(b.length/3)],h=[-(1/0)],i=c[e],j=0;j<i.length;++j){for(var k=i[j],l=k.x,m=k.text,n=k.font||"sans-serif",o=k.fontSize||12,p=g(n,m).data,q=1/(d[e+2]-d[e]),r=d[e],s=0;s<p.length;s+=2)b.push(p[s]*o,-p[s+1]*o,(l-r)*q);f.push(Math.floor(b.length/3)),h.push(l)}this.tickOffset[e]=f,this.tickX[e]=h}for(var e=0;2>e;++e){this.labelOffset[e]=Math.floor(b.length/3);for(var p=g(a.labelFont[e],a.labels[e]).data,o=a.labelSize[e],j=0;j<p.length;j+=2)b.push(p[j]*o,-p[j+1]*o,0);this.labelCount[e]=Math.floor(b.length/3)-this.labelOffset[e]}this.titleOffset=Math.floor(b.length/3);for(var p=g(a.titleFont,a.title).data,o=a.titleSize,j=0;j<p.length;j+=2)b.push(p[j]*o,-p[j+1]*o,0);this.titleCount=Math.floor(b.length/3)-this.titleOffset,this.vbo.update(b)},j.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},{"./shaders":119,"binary-search-bounds":121,"gl-buffer":75,"gl-shader":154,"text-cache":228}],121:[function(require,a,b){"use strict";function c(a,b,c,d,e){var f=["function ",a,"(a,l,h,",d.join(","),"){",e?"":"var i=",c?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a[m]"];return e?b.indexOf("c")<0?f.push(";if(x===y){return m}else if(x<=y){"):f.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):f.push(";if(",b,"){i=m;"),c?f.push("l=m+1}else{h=m-1}"):f.push("h=m-1}else{l=m+1}"),f.push("}"),e?f.push("return -1};"):f.push("return i};"),f.join("")}function d(a,b,d,e){var f=new Function([c("A","x"+a+"y",b,["y"],e),c("P","c(x,y)"+a+"0",b,["y","c"],e),"function dispatchBsearch",d,"(a,y,c,l,h){if(typeof(c)==='function'){return P(a,(l===void 0)?0:l|0,(h===void 0)?a.length-1:h|0,y,c)}else{return A(a,(c===void 0)?0:c|0,(l===void 0)?a.length-1:l|0,y)}}return dispatchBsearch",d].join(""));return f()}a.exports={ge:d(">=",!1,"GE"),gt:d(">",!1,"GT"),lt:d("<",!0,"LT"),le:d("<=",!0,"LE"),eq:d("-",!0,"EQ",!0)}},{}],122:[function(require,a,b){"use strict";function c(a,b){this.gl=a,this.pickBuffer=b,this.screenBox=[0,0,a.drawingBufferWidth,a.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-(1/0),-(1/0)],this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}function d(a){for(var b=a.slice(),c=0;c<b.length;++c)b[c]=b[c].slice();return b}function e(a,b){return a.x-b.x}function f(a){var b=a.gl,d=g(b,[b.drawingBufferWidth,b.drawingBufferHeight]),e=new c(b,d);return e.grid=h(e),e.text=i(e),e.line=j(e),e.box=k(e),e.update(a),e}a.exports=f;var g=require("gl-select-static"),h=require("./lib/grid"),i=require("./lib/text"),j=require("./lib/line"),k=require("./lib/box"),l=c.prototype;l.setDirty=function(){this.dirty=this.pickDirty=!0},l.setOverlayDirty=function(){this.dirty=!0},l.nextDepthValue=function(){return this._depthCounter++/65536},l.draw=function(){return function(){var a=this.gl,b=this.screenBox,c=this.viewBox,d=this.dataBox,e=this.pixelRatio,f=this.grid,g=this.line,h=this.text,i=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){this.dirty=!1,a.bindFramebuffer(a.FRAMEBUFFER,null),a.enable(a.SCISSOR_TEST),a.disable(a.DEPTH_TEST),a.depthFunc(a.LESS),a.depthMask(!1),a.enable(a.BLEND),a.blendEquation(a.FUNC_ADD,a.FUNC_ADD),a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA),a.scissor(b[0],b[1],b[2]-b[0],b[3]-b[1]);var j=this.borderColor;a.clearColor(j[0]*j[3],j[1]*j[3],j[2]*j[3],j[3]),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),a.scissor(c[0],c[1],c[2]-c[0],c[3]-c[1]),a.viewport(c[0],c[1],c[2]-c[0],c[3]-c[1]);var k=this.backgroundColor;a.clearColor(k[0]*k[3],k[1]*k[3],k[2]*k[3],k[3]),a.clear(a.COLOR_BUFFER_BIT),f.draw();var l=this.zeroLineEnable,m=this.zeroLineColor,n=this.zeroLineWidth;if(l[0]||l[1]){g.bind();for(var o=0;2>o;++o)if(l[o]&&d[o]<=0&&d[o+2]>=0){var p=b[o]-d[o]*(b[o+2]-b[o])/(d[o+2]-d[o]);0===o?g.drawLine(p,b[1],p,b[3],n[o],m[o]):g.drawLine(b[0],p,b[2],p,n[o],m[o])}}for(var o=0;o<i.length;++o)i[o].draw();a.viewport(b[0],b[1],b[2]-b[0],b[3]-b[1]),a.scissor(b[0],b[1],b[2]-b[0],b[3]-b[1]),this.grid.drawTickMarks(),g.bind();var q=this.borderLineEnable,r=this.borderLineWidth,s=this.borderLineColor;q[1]&&g.drawLine(c[0],c[1]-.5*r[1]*e,c[0],c[3]+.5*r[3]*e,r[1],s[1]),q[0]&&g.drawLine(c[0]-.5*r[0]*e,c[1],c[2]+.5*r[2]*e,c[1],r[0],s[0]),q[3]&&g.drawLine(c[2],c[1]-.5*r[1]*e,c[2],c[3]+.5*r[3]*e,r[3],s[3]),q[2]&&g.drawLine(c[0]-.5*r[0]*e,c[3],c[2]+.5*r[2]*e,c[3],r[2],s[2]),h.bind();for(var o=0;2>o;++o)h.drawTicks(o);this.titleEnable&&h.drawTitle();for(var t=this.overlays,o=0;o<t.length;++o)t[o].draw();a.disable(a.SCISSOR_TEST),a.disable(a.BLEND),a.depthMask(!0)}}}(),l.drawPick=function(){return function(){var a=this.pickBuffer;this.gl;this._pickTimeout=null,a.begin();for(var b=1,c=this.objects,d=0;d<c.length;++d)b=c[d].drawPick(b);a.end()}}(),l.pick=function(){return function(a,b){var c=this.pixelRatio,d=this.pickPixelRatio,e=this.viewBox,f=0|Math.round((a-e[0]/c)*d),g=0|Math.round((b-e[1]/c)*d),h=this.pickBuffer.query(f,g,this.pickRadius);if(!h)return null;for(var i=h.id+(h.value[0]<<8)+(h.value[1]<<16)+(h.value[2]<<24),j=this.objects,k=0;k<j.length;++k){var l=j[k].pick(f,g,i);if(l)return l}return null}}(),l.setScreenBox=function(a){var b=this.screenBox,c=this.pixelRatio;b[0]=0|Math.round(a[0]*c),b[1]=0|Math.round(a[1]*c),b[2]=0|Math.round(a[2]*c),b[3]=0|Math.round(a[3]*c),this.setDirty()},l.setDataBox=function(a){var b=this.dataBox,c=b[0]!==a[0]||b[1]!==a[1]||b[2]!==a[2]||b[3]!==a[3];c&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],this.setDirty())},l.setViewBox=function(a){var b=this.pixelRatio,c=this.viewBox;c[0]=0|Math.round(a[0]*b),c[1]=0|Math.round(a[1]*b),c[2]=0|Math.round(a[2]*b),c[3]=0|Math.round(a[3]*b);var d=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((a[2]-a[0])*d),0|Math.round((a[3]-a[1])*d)],this.setDirty()},l.update=function(a){a=a||{};var b=this.gl;this.pixelRatio=a.pixelRatio||1;var c=this.pixelRatio;this.pickPixelRatio=Math.max(c,1),this.setScreenBox(a.screenBox||[0,0,b.drawingBufferWidth/c,b.drawingBufferHeight/c]);this.screenBox;this.setViewBox(a.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/c,.125*(this.screenBox[3]-this.screenBox[1])/c,.875*(this.screenBox[2]-this.screenBox[0])/c,.875*(this.screenBox[3]-this.screenBox[1])/c]);var f=this.viewBox,g=(f[2]-f[0])/(f[3]-f[1]);this.setDataBox(a.dataBox||[-10,-10/g,10,10/g]),this.borderColor=(a.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(a.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(a.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(a.gridLineWidth||[1,1]).slice(),this.gridLineColor=d(a.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),
this.zeroLineEnable=(a.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(a.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=d(a.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(a.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(a.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=d(a.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(a.titleCenter||[.5*(f[0]+f[2])/c,(f[3]+120)/c]).slice(),this.titleEnable=!("titleEnable"in a&&!a.titleEnable),this.titleAngle=a.titleAngle||0,this.titleColor=(a.titleColor||[0,0,0,1]).slice(),this.labelPad=(a.labelPad||[15,15,15,15]).slice(),this.labelAngle=(a.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(a.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=d(a.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(a.tickPad||[15,15,15,15]).slice(),this.tickAngle=(a.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(a.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=d(a.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(a.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(a.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=d(a.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var h=a.ticks||[[],[]],i=this._tickBounds;i[0]=i[1]=1/0,i[2]=i[3]=-(1/0);for(var j=0;2>j;++j){var k=h[j].slice(0);0!==k.length&&(k.sort(e),i[j]=Math.min(i[j],k[0].x),i[j+2]=Math.max(i[j+2],k[k.length-1].x))}this.grid.update({bounds:i,ticks:h}),this.text.update({bounds:i,ticks:h,labels:a.labels||["x","y"],labelSize:a.labelSize||[12,12],labelFont:a.labelFont||["sans-serif","sans-serif"],title:a.title||"",titleSize:a.titleSize||18,titleFont:a.titleFont||"sans-serif"}),this.setDirty()},l.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var a=this.objects.length-1;a>=0;--a)this.objects[a].dispose();this.objects.length=0;for(var a=this.overlays.length-1;a>=0;--a)this.overlays[a].dispose();this.overlays.length=0,this.gl=null},l.addObject=function(a){this.objects.indexOf(a)<0&&(this.objects.push(a),this.setDirty())},l.removeObject=function(a){for(var b=this.objects,c=0;c<b.length;++c)if(b[c]===a){b.splice(c,1),this.setDirty();break}},l.addOverlay=function(a){this.overlays.indexOf(a)<0&&(this.overlays.push(a),this.setOverlayDirty())},l.removeOverlay=function(a){for(var b=this.overlays,c=0;c<b.length;++c)if(b[c]===a){b.splice(c,1),this.setOverlayDirty();break}}},{"./lib/box":116,"./lib/grid":117,"./lib/line":118,"./lib/text":120,"gl-select-static":153}],123:[function(require,a,b){var c=require("gl-shader"),d="#define GLSLIFY 1\nprecision mediump float;\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n  uv = position;\n  gl_Position = vec4(position, 0, 1);\n}",e="#define GLSLIFY 1\nprecision mediump float;\n\nuniform sampler2D accumBuffer;\nvarying vec2 uv;\n\nvoid main() {\n  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));\n  gl_FragColor = min(vec4(1,1,1,1), accum);\n}";a.exports=function(a){return c(a,d,e,null,[{name:"position",type:"vec2"}])}},{"gl-shader":154}],124:[function(require,a,b){"use strict";function c(a,b){a=a||document.body,b=b||{};var c=[.01,1/0];"distanceLimits"in b&&(c[0]=b.distanceLimits[0],c[1]=b.distanceLimits[1]),"zoomMin"in b&&(c[0]=b.zoomMin),"zoomMax"in b&&(c[1]=b.zoomMax);var h=e({center:b.center||[0,0,0],up:b.up||[0,1,0],eye:b.eye||[0,0,10],mode:b.mode||"orbit",distanceLimits:c}),i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],j=0,k=a.clientWidth,l=a.clientHeight,m={view:h,element:a,delay:b.delay||16,rotateSpeed:b.rotateSpeed||1,zoomSpeed:b.zoomSpeed||1,translateSpeed:b.translateSpeed||1,flipX:!!b.flipX,flipY:!!b.flipY,modes:h.modes,tick:function(){var b=d(),c=this.delay;h.idle(b-c),h.flush(b-(100+2*c));var e=b-2*c;h.recalcMatrix(e);for(var f=!0,g=h.computedMatrix,m=0;16>m;++m)f=f&&i[m]===g[m],i[m]=g[m];var n=a.clientWidth===k&&a.clientHeight===l;return k=a.clientWidth,l=a.clientHeight,f?!n:(j=Math.exp(h.computedRadius[0]),!0)},lookAt:function(a,b,c){h.lookAt(h.lastT(),a,b,c)},rotate:function(a,b,c){h.rotate(h.lastT(),a,b,c)},pan:function(a,b,c){h.pan(h.lastT(),a,b,c)},translate:function(a,b,c){h.translate(h.lastT(),a,b,c)}};Object.defineProperties(m,{matrix:{get:function(){return h.computedMatrix},set:function(a){return h.setMatrix(h.lastT(),a),h.computedMatrix},enumerable:!0},mode:{get:function(){return h.getMode()},set:function(a){return h.setMode(a),h.getMode()},enumerable:!0},center:{get:function(){return h.computedCenter},set:function(a){return h.lookAt(h.lastT(),a),h.computedCenter},enumerable:!0},eye:{get:function(){return h.computedEye},set:function(a){return h.lookAt(h.lastT(),null,a),h.computedEye},enumerable:!0},up:{get:function(){return h.computedUp},set:function(a){return h.lookAt(h.lastT(),null,null,a),h.computedUp},enumerable:!0},distance:{get:function(){return j},set:function(a){return h.setDistance(h.lastT(),a),a},enumerable:!0},distanceLimits:{get:function(){return h.getDistanceLimits(c)},set:function(a){return h.setDistanceLimits(a),a},enumerable:!0}}),a.addEventListener("contextmenu",function(a){return a.preventDefault(),!1});var n=0,o=0;return f(a,function(b,c,e,f){var g=1/a.clientHeight,i=g*(c-n),k=g*(e-o),l=m.flipX?1:-1,p=m.flipY?1:-1,q=Math.PI*m.rotateSpeed,r=d();if(1&b)f.shift?h.rotate(r,0,0,-i*q):h.rotate(r,l*q*i,-p*q*k,0);else if(2&b)h.pan(r,-m.translateSpeed*i*j,m.translateSpeed*k*j,0);else if(4&b){var s=m.zoomSpeed*k/window.innerHeight*(r-h.lastT())*50;h.pan(r,0,0,j*(Math.exp(s)-1))}n=c,o=e}),g(a,function(a,b,c){var e=m.flipX?1:-1,f=m.flipY?1:-1,g=d();if(Math.abs(a)>Math.abs(b))h.rotate(g,0,0,-a*e*Math.PI*m.rotateSpeed/window.innerWidth);else{var i=m.zoomSpeed*f*b/window.innerHeight*(g-h.lastT())/100;h.pan(g,0,0,j*(Math.exp(i)-1))}},!0),m}a.exports=c;var d=require("right-now"),e=require("3d-view"),f=require("mouse-change"),g=require("mouse-wheel")},{"3d-view":38,"mouse-change":196,"mouse-wheel":200,"right-now":210}],125:[function(require,a,b){!function(){"use strict";function b(a){a.permitHostObjects___&&a.permitHostObjects___(b)}function c(a){return!(a.substr(0,n.length)==n&&"___"===a.substr(a.length-3))}function d(a){if(a!==Object(a))throw new TypeError("Not an object: "+a);var b=a[o];if(b&&b.key===a)return b;if(m(a)){b={key:a};try{return l(a,o,{value:b,writable:!1,enumerable:!1,configurable:!1}),b}catch(c){return}}}function e(a){return a.prototype=null,Object.freeze(a)}function f(){s||"undefined"==typeof console||(s=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}if("undefined"==typeof ses||!ses.ok||ses.ok()){"undefined"!=typeof ses&&(ses.weakMapPermitHostObjects=b);var g=!1;if("function"==typeof WeakMap){var h=WeakMap;if("undefined"!=typeof navigator&&/Firefox/.test(navigator.userAgent));else{var i=new h,j=Object.freeze({});if(i.set(j,1),1===i.get(j))return void(a.exports=WeakMap);g=!0}}var k=(Object.prototype.hasOwnProperty,Object.getOwnPropertyNames),l=Object.defineProperty,m=Object.isExtensible,n="weakmap:",o=n+"ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var p=new ArrayBuffer(25),q=new Uint8Array(p);crypto.getRandomValues(q),o=n+"rand:"+Array.prototype.map.call(q,function(a){return(a%36).toString(36)}).join("")+"___"}if(l(Object,"getOwnPropertyNames",{value:function(a){return k(a).filter(c)}}),"getPropertyNames"in Object){var r=Object.getPropertyNames;l(Object,"getPropertyNames",{value:function(a){return r(a).filter(c)}})}!function(){var a=Object.freeze;l(Object,"freeze",{value:function(b){return d(b),a(b)}});var b=Object.seal;l(Object,"seal",{value:function(a){return d(a),b(a)}});var c=Object.preventExtensions;l(Object,"preventExtensions",{value:function(a){return d(a),c(a)}})}();var s=!1,t=0,u=function(){function a(a,b){var c,e=d(a);return e?j in e?e[j]:b:(c=h.indexOf(a),c>=0?i[c]:b)}function b(a){var b=d(a);return b?j in b:h.indexOf(a)>=0}function c(a,b){var c,e=d(a);return e?e[j]=b:(c=h.indexOf(a),c>=0?i[c]=b:(c=h.length,i[c]=b,h[c]=a)),this}function g(a){var b,c,e=d(a);return e?j in e&&delete e[j]:(b=h.indexOf(a),0>b?!1:(c=h.length-1,h[b]=void 0,i[b]=i[c],h[b]=h[c],h.length=c,i.length=c,!0))}this instanceof u||f();var h=[],i=[],j=t++;return Object.create(u.prototype,{get___:{value:e(a)},has___:{value:e(b)},set___:{value:e(c)},delete___:{value:e(g)}})};u.prototype=Object.create(Object.prototype,{get:{value:function(a,b){return this.get___(a,b)},writable:!0,configurable:!0},has:{value:function(a){return this.has___(a)},writable:!0,configurable:!0},set:{value:function(a,b){return this.set___(a,b)},writable:!0,configurable:!0},"delete":{value:function(a){return this.delete___(a)},writable:!0,configurable:!0}}),"function"==typeof h?!function(){function c(){function a(a,b){return k?j.has(a)?j.get(a):k.get___(a,b):j.get(a,b)}function c(a){return j.has(a)||(k?k.has___(a):!1)}function d(a){var b=!!j["delete"](a);return k?k.delete___(a)||b:b}this instanceof u||f();var i,j=new h,k=void 0,l=!1;return i=g?function(a,b){return j.set(a,b),j.has(a)||(k||(k=new u),k.set(a,b)),this}:function(a,b){if(l)try{j.set(a,b)}catch(c){k||(k=new u),k.set___(a,b)}else j.set(a,b);return this},Object.create(u.prototype,{get___:{value:e(a)},has___:{value:e(c)},set___:{value:e(i)},delete___:{value:e(d)},permitHostObjects___:{value:e(function(a){if(a!==b)throw new Error("bogus call to permitHostObjects___");l=!0})}})}g&&"undefined"!=typeof Proxy&&(Proxy=void 0),c.prototype=u.prototype,a.exports=c,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():("undefined"!=typeof Proxy&&(Proxy=void 0),a.exports=u)}}()},{}],126:[function(require,a,b){"use strict";function c(a){var b=g.get(a);if(!b||!a.isBuffer(b._triangleBuffer.buffer)){var c=e(a,new Float32Array([-1,-1,-1,4,4,-1]));b=f(a,[{buffer:c,type:a.FLOAT,size:2}]),b._triangleBuffer=c,g.set(a,b)}b.bind(),a.drawArrays(a.TRIANGLES,0,3),b.unbind()}var d="undefined"==typeof WeakMap?require("weak-map"):WeakMap,e=require("gl-buffer"),f=require("gl-vao"),g=new d;a.exports=c},{"gl-buffer":75,"gl-vao":189,"weak-map":125}],127:[function(require,a,b){"use strict";function c(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a}function d(a){this.gl=a,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=j(a)}function e(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}function f(a,b,c,d,e){for(var f=a.primalOffset,g=a.primalMinor,h=a.mirrorOffset,i=a.mirrorMinor,j=d[b],k=0;3>k;++k)if(b!==k){var l=f,m=h,n=g,o=i;j&1<<k&&(l=h,m=f,n=i,o=g),l[k]=c[0][k],m[k]=c[1][k],e[k]>0?(n[k]=-1,o[k]=0):(n[k]=0,o[k]=1)}}function g(a,b){var c=new d(a);return c.update(b),c}a.exports=g;var h=require("./lib/text.js"),i=require("./lib/lines.js"),j=require("./lib/background.js"),k=require("./lib/cube.js"),l=require("./lib/ticks.js"),m=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),n=d.prototype;n.update=function(a){function b(b,c,d){if(d in a){var e,f=a[d],g=this[d];(b?Array.isArray(f)&&Array.isArray(f[0]):Array.isArray(f))?this[d]=e=[c(f[0]),c(f[1]),c(f[2])]:this[d]=e=[c(f),c(f),c(f)];for(var h=0;3>h;++h)if(e[h]!==g[h])return!0}return!1}a=a||{};var c,d=b.bind(this,!1,Number),e=b.bind(this,!1,Boolean),f=b.bind(this,!1,String),g=b.bind(this,!0,function(a){if(Array.isArray(a)){if(3===a.length)return[+a[0],+a[1],+a[2],1];if(4===a.length)return[+a[0],+a[1],+a[2],+a[3]]}return[0,0,0,1]}),j=!1,k=!1;if("bounds"in a)for(var m=a.bounds,n=0;2>n;++n)for(var o=0;3>o;++o)m[n][o]!==this.bounds[n][o]&&(k=!0),this.bounds[n][o]=m[n][o];if("ticks"in a){c=a.ticks,j=!0,this.autoTicks=!1;for(var n=0;3>n;++n)this.tickSpacing[n]=0}else d("tickSpacing")&&(this.autoTicks=!0,k=!0);if(this._firstInit&&("ticks"in a||"tickSpacing"in a||(this.autoTicks=!0),k=!0,j=!0,this._firstInit=!1),k&&this.autoTicks&&(c=l.create(this.bounds,this.tickSpacing),j=!0),j){for(var n=0;3>n;++n)c[n].sort(function(a,b){return a.x-b.x});l.equal(c,this.ticks)?j=!1:this.ticks=c}e("tickEnable"),f("tickFont")&&(j=!0),d("tickSize"),d("tickAngle"),d("tickPad"),g("tickColor");var p=f("labels");f("labelFont")&&(p=!0),e("labelEnable"),d("labelSize"),d("labelPad"),g("labelColor"),e("lineEnable"),e("lineMirror"),d("lineWidth"),g("lineColor"),e("lineTickEnable"),e("lineTickMirror"),d("lineTickLength"),d("lineTickWidth"),g("lineTickColor"),e("gridEnable"),d("gridWidth"),g("gridColor"),e("zeroEnable"),g("zeroLineColor"),d("zeroLineWidth"),e("backgroundEnable"),g("backgroundColor"),this._text?this._text&&(p||j)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=h(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&j&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=i(this.gl,this.bounds,this.ticks))};var o=[new e,new e,new e],p=[0,0,0],q={model:m,view:m,projection:m};n.isOpaque=function(){return!0},n.isTransparent=function(){return!1},n.drawTransparent=function(a){};var r=[0,0,0],s=[0,0,0],t=[0,0,0];n.draw=function(a){a=a||q;for(var b=this.gl,d=a.model||m,e=a.view||m,g=a.projection||m,h=this.bounds,i=k(d,e,g,h),j=i.cubeEdges,l=i.axis,n=e[12],u=e[13],v=e[14],w=e[15],x=this.pixelRatio*(g[3]*n+g[7]*u+g[11]*v+g[15]*w)/b.drawingBufferHeight,y=0;3>y;++y)this.lastCubeProps.cubeEdges[y]=j[y],this.lastCubeProps.axis[y]=l[y];for(var z=o,y=0;3>y;++y)f(o[y],y,this.bounds,j,l);for(var b=this.gl,A=p,y=0;3>y;++y)this.backgroundEnable[y]?A[y]=l[y]:A[y]=0;this._background.draw(d,e,g,h,A,this.backgroundColor),this._lines.bind(d,e,g,this);for(var y=0;3>y;++y){var B=[0,0,0];l[y]>0?B[y]=h[1][y]:B[y]=h[0][y];for(var C=0;2>C;++C){var D=(y+1+C)%3,E=(y+1+(1^C))%3;this.gridEnable[D]&&this._lines.drawGrid(D,E,this.bounds,B,this.gridColor[D],this.gridWidth[D]*this.pixelRatio)}for(var C=0;2>C;++C){var D=(y+1+C)%3,E=(y+1+(1^C))%3;this.zeroEnable[E]&&h[0][E]<=0&&h[1][E]>=0&&this._lines.drawZero(D,E,this.bounds,B,this.zeroLineColor[E],this.zeroLineWidth[E]*this.pixelRatio)}}for(var y=0;3>y;++y){this.lineEnable[y]&&this._lines.drawAxisLine(y,this.bounds,z[y].primalOffset,this.lineColor[y],this.lineWidth[y]*this.pixelRatio),this.lineMirror[y]&&this._lines.drawAxisLine(y,this.bounds,z[y].mirrorOffset,this.lineColor[y],this.lineWidth[y]*this.pixelRatio);for(var F=c(r,z[y].primalMinor),G=c(s,z[y].mirrorMinor),H=this.lineTickLength,C=0;3>C;++C){var I=x/d[5*C];F[C]*=H[C]*I,G[C]*=H[C]*I}this.lineTickEnable[y]&&this._lines.drawAxisTicks(y,z[y].primalOffset,F,this.lineTickColor[y],this.lineTickWidth[y]*this.pixelRatio),this.lineTickMirror[y]&&this._lines.drawAxisTicks(y,z[y].mirrorOffset,G,this.lineTickColor[y],this.lineTickWidth[y]*this.pixelRatio)}this._text.bind(d,e,g,this.pixelRatio);for(var y=0;3>y;++y){for(var J=z[y].primalMinor,K=c(t,z[y].primalOffset),C=0;3>C;++C)this.lineTickEnable[y]&&(K[C]+=x*J[C]*Math.max(this.lineTickLength[C],0)/d[5*C]);if(this.tickEnable[y]){for(var C=0;3>C;++C)K[C]+=x*J[C]*this.tickPad[C]/d[5*C];this._text.drawTicks(y,this.tickSize[y],this.tickAngle[y],K,this.tickColor[y])}if(this.labelEnable[y]){for(var C=0;3>C;++C)K[C]+=x*J[C]*this.labelPad[C]/d[5*C];K[y]+=.5*(h[0][y]+h[1][y]),this._text.drawLabel(y,this.labelSize[y],this.labelAngle[y],K,this.labelColor[y])}}},n.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},{"./lib/background.js":128,"./lib/cube.js":129,"./lib/lines.js":130,"./lib/text.js":132,"./lib/ticks.js":133}],128:[function(require,a,b){"use strict";function c(a,b,c,d){this.gl=a,this.buffer=b,this.vao=c,this.shader=d}function d(a){for(var b=[],d=[],h=0,i=0;3>i;++i)for(var j=(i+1)%3,k=(i+2)%3,l=[0,0,0],m=[0,0,0],n=-1;1>=n;n+=2){d.push(h,h+2,h+1,h+1,h+2,h+3),l[i]=n,m[i]=n;for(var o=-1;1>=o;o+=2){l[j]=o;for(var p=-1;1>=p;p+=2)l[k]=p,b.push(l[0],l[1],l[2],m[0],m[1],m[2]),h+=1}var q=j;j=k,k=q}var r=e(a,new Float32Array(b)),s=e(a,new Uint16Array(d),a.ELEMENT_ARRAY_BUFFER),t=f(a,[{buffer:r,type:a.FLOAT,size:3,offset:0,stride:24},{buffer:r,type:a.FLOAT,size:3,offset:12,stride:24}],s),u=g(a);return u.attributes.position.location=0,u.attributes.normal.location=1,new c(a,r,t,u)}a.exports=d;var e=require("gl-buffer"),f=require("gl-vao"),g=require("./shaders").bg,h=c.prototype;h.draw=function(a,b,c,d,e,f){for(var g=!1,h=0;3>h;++h)g=g||e[h];if(g){var i=this.gl;i.enable(i.POLYGON_OFFSET_FILL),i.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:a,view:b,projection:c,bounds:d,enable:e,colors:f},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),i.disable(i.POLYGON_OFFSET_FILL)}},h.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},{"./shaders":131,"gl-buffer":75,"gl-vao":189}],129:[function(require,a,b){"use strict";function c(a,b,c){for(var d=0;4>d;++d){a[d]=c[12+d];for(var e=0;3>e;++e)a[d]+=b[e]*c[4*e+d]}}function d(a){for(var b=0;b<o.length;++b)if(a=h.positive(a,o[b]),a.length<3)return 0;for(var c=a[0],d=c[0]/c[3],e=c[1]/c[3],f=0,b=1;b+1<a.length;++b){var g=a[b],i=a[b+1],j=g[0]/g[3],k=g[1]/g[3],l=i[0]/i[3],m=i[1]/i[3],n=j-d,p=k-e,q=l-d,r=m-e;f+=Math.abs(n*r-p*q)}return f}function e(a,b,e,h){g(j,b,a),g(j,e,j);for(var o=0,s=0;2>s;++s){m[2]=h[s][2];for(var t=0;2>t;++t){m[1]=h[t][1];for(var u=0;2>u;++u)m[0]=h[u][0],c(k[o],m,j),o+=1}}for(var v=-1,s=0;8>s;++s){for(var w=k[s][3],x=0;3>x;++x)l[s][x]=k[s][x]/w;0>w&&(0>v?v=s:l[s][2]<l[v][2]&&(v=s))}if(0>v){v=0;for(var y=0;3>y;++y){for(var z=(y+2)%3,A=(y+1)%3,B=-1,C=-1,D=0;2>D;++D){var E=D<<y,F=E+(D<<z)+(1-D<<A),G=E+(1-D<<z)+(D<<A);i(l[E],l[F],l[G],n)<0||(D?B=1:C=1)}if(0>B||0>C)C>B&&(v|=1<<y);else{for(var D=0;2>D;++D){var E=D<<y,F=E+(D<<z)+(1-D<<A),G=E+(1-D<<z)+(D<<A),H=d([k[E],k[F],k[G],k[E+(1<<z)+(1<<A)]]);D?B=H:C=H}C>B&&(v|=1<<y)}}}for(var I=7^v,J=-1,s=0;8>s;++s)s!==v&&s!==I&&(0>J?J=s:l[J][1]>l[s][1]&&(J=s));for(var K=-1,s=0;3>s;++s){var L=J^1<<s;if(L!==v&&L!==I){0>K&&(K=L);var A=l[L];A[0]<l[K][0]&&(K=L)}}for(var M=-1,s=0;3>s;++s){var L=J^1<<s;if(L!==v&&L!==I&&L!==K){0>M&&(M=L);var A=l[L];A[0]>l[M][0]&&(M=L)}}var N=p;N[0]=N[1]=N[2]=0,N[f.log2(K^J)]=J&K,N[f.log2(J^M)]=J&M;var O=7^M;O===v||O===I?(O=7^K,N[f.log2(M^O)]=O&M):N[f.log2(K^O)]=O&K;for(var P=q,Q=v,y=0;3>y;++y)Q&1<<y?P[y]=-1:P[y]=1;return r}a.exports=e;var f=require("bit-twiddle"),g=require("gl-mat4/multiply"),h=(require("gl-mat4/invert"),require("split-polygon")),i=require("robust-orientation"),j=new Array(16),k=(new Array(16),new Array(8)),l=new Array(8),m=new Array(3),n=[0,0,0];!function(){for(var a=0;8>a;++a)k[a]=[1,1,1,1],l[a]=[1,1,1]}();var o=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]],p=[1,1,1],q=[0,0,0],r={cubeEdges:p,axis:q}},{"bit-twiddle":49,"gl-mat4/invert":94,"gl-mat4/multiply":96,"robust-orientation":214,"split-polygon":135}],130:[function(require,a,b){"use strict";function c(a){return a[0]=a[1]=a[2]=0,a}function d(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a}function e(a,b,c,d,e,f,g,h){this.gl=a,this.vertBuffer=b,this.vao=c,this.shader=d,this.tickCount=e,this.tickOffset=f,this.gridCount=g,this.gridOffset=h}function f(a,b,c){var d=[],f=[0,0,0],j=[0,0,0],k=[0,0,0],l=[0,0,0];d.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var m=0;3>m;++m){for(var n=d.length/3|0,o=0;o<c[m].length;++o){var p=+c[m][o].x;d.push(p,0,1,p,1,1,p,0,-1,p,0,-1,p,1,1,p,1,-1)}var q=d.length/3|0;f[m]=n,j[m]=q-n;for(var n=d.length/3|0,r=0;r<c[m].length;++r){var p=+c[m][r].x;d.push(p,0,1,p,1,1,p,0,-1,p,0,-1,p,1,1,p,1,-1)}var q=d.length/3|0;k[m]=n,l[m]=q-n}var s=g(a,new Float32Array(d)),t=h(a,[{buffer:s,type:a.FLOAT,size:3,stride:0,offset:0}]),u=i(a);return u.attributes.position.location=0,new e(a,s,t,u,j,f,l,k)}a.exports=f;var g=require("gl-buffer"),h=require("gl-vao"),i=require("./shaders").line,j=[0,0,0],k=[0,0,0],l=[0,0,0],m=[0,0,0],n=[1,1],o=e.prototype;o.bind=function(a,b,c){this.shader.bind(),this.shader.uniforms.model=a,this.shader.uniforms.view=b,this.shader.uniforms.projection=c,n[0]=this.gl.drawingBufferWidth,n[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=n,this.vao.bind()},o.drawAxisLine=function(a,b,e,f,g){var h=c(k);this.shader.uniforms.majorAxis=k,h[a]=b[1][a]-b[0][a],this.shader.uniforms.minorAxis=h;var i=d(m,e);i[a]+=b[0][a],this.shader.uniforms.offset=i,this.shader.uniforms.lineWidth=g,this.shader.uniforms.color=f;var j=c(l);j[(a+2)%3]=1,this.shader.uniforms.screenAxis=j,this.vao.draw(this.gl.TRIANGLES,6);var j=c(l);j[(a+1)%3]=1,this.shader.uniforms.screenAxis=j,this.vao.draw(this.gl.TRIANGLES,6)},o.drawAxisTicks=function(a,b,d,e,f){var g=c(j);g[a]=1,this.shader.uniforms.majorAxis=g,this.shader.uniforms.offset=b,this.shader.uniforms.minorAxis=d,this.shader.uniforms.color=e,this.shader.uniforms.lineWidth=f;var h=c(l);h[a]=1,this.shader.uniforms.screenAxis=h,this.vao.draw(this.gl.TRIANGLES,this.tickCount[a],this.tickOffset[a])},o.drawGrid=function(a,b,e,f,g,h){var i=c(k);i[b]=e[1][b]-e[0][b],this.shader.uniforms.minorAxis=i;var n=d(m,f);n[b]+=e[0][b],this.shader.uniforms.offset=n;var o=c(j);o[a]=1,this.shader.uniforms.majorAxis=o;var p=c(l);p[a]=1,this.shader.uniforms.screenAxis=p,this.shader.uniforms.lineWidth=h,this.shader.uniforms.color=g,this.vao.draw(this.gl.TRIANGLES,this.gridCount[a],this.gridOffset[a])},o.drawZero=function(a,b,e,f,g,h){var i=c(k);this.shader.uniforms.majorAxis=i,i[a]=e[1][a]-e[0][a],this.shader.uniforms.minorAxis=i;var j=d(m,f);j[a]+=e[0][a],this.shader.uniforms.offset=j;var n=c(l);n[b]=1,this.shader.uniforms.screenAxis=n,this.shader.uniforms.lineWidth=h,this.shader.uniforms.color=g,this.vao.draw(this.gl.TRIANGLES,6)},o.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},{"./shaders":131,"gl-buffer":75,"gl-vao":189}],131:[function(require,a,b){"use strict";var c=require("gl-shader"),d="#define GLSLIFY 1\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, majorAxis, minorAxis, screenAxis;\nuniform float lineWidth;\nuniform vec2 screenShape;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nvoid main() {\n  vec3 major = position.x * majorAxis;\n  vec3 minor = position.y * minorAxis;\n\n  vec3 vPosition = major + minor + offset;\n  vec3 pPosition = project(vPosition);\n  vec3 offset = project(vPosition + screenAxis * position.z);\n\n  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;\n\n  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);\n}\n",e="#define GLSLIFY 1\nprecision mediump float;\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}";b.line=function(a){return c(a,d,e,null,[{name:"position",type:"vec3"}])};var f="#define GLSLIFY 1\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, axis;\nuniform float scale, angle, pixelScale;\nuniform vec2 resolution;\n\nvoid main() {  \n  //Compute plane offset\n  vec2 planeCoord = position.xy * pixelScale;\n  mat2 planeXform = scale * mat2(cos(angle), sin(angle),\n                                -sin(angle), cos(angle));\n  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;\n\n  //Compute world offset\n  float axisDistance = position.z;\n  vec3 dataPosition = axisDistance * axis + offset;\n  vec4 worldPosition = model * vec4(dataPosition, 1);\n  \n  //Compute clip position\n  vec4 viewPosition = view * worldPosition;\n  vec4 clipPosition = projection * viewPosition;\n  clipPosition /= clipPosition.w;\n\n  //Apply text offset in clip coordinates\n  clipPosition += vec4(viewOffset, 0, 0);\n\n  //Done\n  gl_Position = clipPosition;\n}",g="#define GLSLIFY 1\nprecision mediump float;\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}";b.text=function(a){return c(a,f,g,null,[{name:"position",type:"vec3"}])};var h="#define GLSLIFY 1\nattribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 model, view, projection;\nuniform vec3 enable;\nuniform vec3 bounds[2];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  if(dot(normal, enable) > 0.0) {\n    vec3 nPosition = mix(bounds[0], bounds[1], 0.5 * (position + 1.0));\n    gl_Position = projection * view * model * vec4(nPosition, 1.0);\n  } else {\n    gl_Position = vec4(0,0,0,0);\n  }\n  colorChannel = abs(normal);\n}",i="#define GLSLIFY 1\nprecision mediump float;\n\nuniform vec4 colors[3];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  gl_FragColor = colorChannel.x * colors[0] + \n                 colorChannel.y * colors[1] +\n                 colorChannel.z * colors[2];\n}";b.bg=function(a){return c(a,h,i,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},{"gl-shader":154}],132:[function(require,a,b){(function(b){"use strict";function c(a,b,c,d){this.gl=a,this.shader=b,this.buffer=c,this.vao=d,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}function d(a,b){try{return h(a,b)}catch(c){return console.warn("error vectorizing text:",c),{cells:[],positions:[]}}}function e(a,b,d,e,h,j){var k=f(a),l=g(a,[{buffer:k,size:3}]),m=i(a);m.attributes.position.location=0;var n=new c(a,m,k,l);return n.update(b,d,e,h,j),n}a.exports=e;var f=require("gl-buffer"),g=require("gl-vao"),h=require("vectorize-text"),i=require("./shaders").text,j=window||b.global||{},k=j.__TEXT_CACHE||{};j.__TEXT_CACHE={};var l=3,m=c.prototype,n=[0,0];m.bind=function(a,b,c,d){this.vao.bind(),this.shader.bind();var e=this.shader.uniforms;e.model=a,e.view=b,e.projection=c,e.pixelScale=d,n[0]=this.gl.drawingBufferWidth,n[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=n},m.update=function(a,b,c,e,f){function g(a,b,c,e){var f=k[c];f||(f=k[c]={});var g=f[b];g||(g=f[b]=d(b,{triangles:!0,font:c,textAlign:"center",textBaseline:"middle"}));for(var i=(e||12)/12,j=g.positions,l=g.cells,m=0,n=l.length;n>m;++m)for(var o=l[m],p=2;p>=0;--p){var q=j[o[p]];h.push(i*q[0],-i*q[1],a)}}for(var h=(this.gl,[]),i=[0,0,0],j=[0,0,0],m=[0,0,0],n=[0,0,0],o=0;3>o;++o){m[o]=h.length/l|0,g(.5*(a[0][o]+a[1][o]),b[o],c),n[o]=(h.length/l|0)-m[o],i[o]=h.length/l|0;for(var p=0;p<e[o].length;++p)e[o][p].text&&g(e[o][p].x,e[o][p].text,e[o][p].font||f,e[o][p].fontSize||12);j[o]=(h.length/l|0)-i[o]}this.buffer.update(h),this.tickOffset=i,this.tickCount=j,this.labelOffset=m,this.labelCount=n};var o=[0,0,0];m.drawTicks=function(a,b,c,d,e){var f=o;f[0]=f[1]=f[2]=0,f[a]=1,this.shader.uniforms.axis=f,this.shader.uniforms.color=e,this.shader.uniforms.angle=c,this.shader.uniforms.scale=b,this.shader.uniforms.offset=d,this.vao.draw(this.gl.TRIANGLES,this.tickCount[a],this.tickOffset[a])};var p=[0,0,0];m.drawLabel=function(a,b,c,d,e){this.shader.uniforms.axis=p,this.shader.uniforms.color=e,this.shader.uniforms.angle=c,this.shader.uniforms.scale=b,this.shader.uniforms.offset=d,this.vao.draw(this.gl.TRIANGLES,this.labelCount[a],this.labelOffset[a])},m.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}}).call(this,require("_process"))},{"./shaders":131,_process:55,"gl-buffer":75,"gl-vao":189,"vectorize-text":235}],133:[function(require,a,b){"use strict";function c(a,b){var c=a+"",d=c.indexOf("."),e=0;d>=0&&(e=c.length-d-1);var f=Math.pow(10,e),g=Math.round(a*b*f),h=g+"";if(h.indexOf("e")>=0)return h;var i=g/f,j=g%f;0>g?(i=0|-Math.ceil(i),j=0|-j):(i=0|Math.floor(i),j=0|j);var k=""+i;if(0>g&&(k="-"+k),e){for(var l=""+j;l.length<e;)l="0"+l;return k+"."+l}return k}function d(a,b){for(var d=[],e=0;3>e;++e){for(var f=[],g=(.5*(a[0][e]+a[1][e]),0);g*b[e]<=a[1][e];++g)f.push({x:g*b[e],text:c(b[e],g)});for(var g=-1;g*b[e]>=a[0][e];--g)f.push({x:g*b[e],text:c(b[e],g)});d.push(f)}return d}function e(a,b){for(var c=0;3>c;++c){if(a[c].length!==b[c].length)return!1;for(var d=0;d<a[c].length;++d){var e=a[c][d],f=b[c][d];if(e.x!==f.x||e.text!==f.text)return!1}}return!0}b.create=d,b.equal=e},{}],134:[function(require,a,b){"use strict";function c(a,b,c){var d=b||0,e=c||1;return[[a[12]+a[0],a[13]+a[1],a[14]+a[2],a[15]+a[3]],[a[12]-a[0],a[13]-a[1],a[14]-a[2],a[15]-a[3]],[a[12]+a[4],a[13]+a[5],a[14]+a[6],a[15]+a[7]],[a[12]-a[4],a[13]-a[5],a[14]-a[6],a[15]-a[7]],[d*a[12]+a[8],d*a[13]+a[9],d*a[14]+a[10],d*a[15]+a[11]],[e*a[12]-a[8],e*a[13]-a[9],e*a[14]-a[10],e*a[15]-a[11]]]}a.exports=c},{}],135:[function(require,a,b){"use strict";function c(a,b){var c=i(h(a,b),[b[b.length-1]]);return c[c.length-1]}function d(a,b,c,d){var e=d-b,f=-b/e;0>f?f=0:f>1&&(f=1);for(var g=1-f,h=a.length,i=new Array(h),j=0;h>j;++j)i[j]=f*a[j]+g*c[j];return i}function e(a,b){for(var e=[],f=[],g=c(a[a.length-1],b),h=a[a.length-1],i=a[0],j=0;j<a.length;++j,h=i){i=a[j];var k=c(i,b);if(0>g&&k>0||g>0&&0>k){var l=d(h,k,i,g);e.push(l),f.push(l.slice())}0>k?f.push(i.slice()):k>0?e.push(i.slice()):(e.push(i.slice()),f.push(i.slice())),g=k}return{positive:e,negative:f}}function f(a,b){for(var e=[],f=c(a[a.length-1],b),g=a[a.length-1],h=a[0],i=0;i<a.length;++i,g=h){h=a[i];var j=c(h,b);(0>f&&j>0||f>0&&0>j)&&e.push(d(g,j,h,f)),j>=0&&e.push(h.slice()),f=j}return e}function g(a,b){for(var e=[],f=c(a[a.length-1],b),g=a[a.length-1],h=a[0],i=0;i<a.length;++i,g=h){h=a[i];var j=c(h,b);(0>f&&j>0||f>0&&0>j)&&e.push(d(g,j,h,f)),0>=j&&e.push(h.slice()),f=j}return e}var h=require("robust-dot-product"),i=require("robust-sum");a.exports=e,a.exports.positive=f,a.exports.negative=g},{"robust-dot-product":136,"robust-sum":217}],136:[function(require,a,b){"use strict";function c(a,b){for(var c=d(a[0],b[0]),f=1;f<a.length;++f)c=e(c,d(a[f],b[f]));return c}var d=require("two-product"),e=require("robust-sum");a.exports=c},{"robust-sum":217,"two-product":231}],137:[function(require,a,b){"use strict";function c(a,b,c){this.lo=a,this.hi=b,this.pixelsPerDataUnit=c}function d(a,b,c,d,e){for(var f=0;3>f;++f){for(var g=n,h=o,i=0;3>i;++i)h[i]=g[i]=c[i];h[3]=g[3]=1,h[f]+=1,k(h,h,b),h[3]<0&&(a[f]=1/0),g[f]-=1,k(g,g,b),g[3]<0&&(a[f]=1/0);var j=(g[0]/g[3]-h[0]/h[3])*d,l=(g[1]/g[3]-h[1]/h[3])*e;a[f]=.25*Math.sqrt(j*j+l*l)}return a}function e(a,b,c,e,k){var n=b.model||l,o=b.view||l,r=b.projection||l,s=a.bounds,k=k||h(n,o,r,s),t=k.axis;k.edges;i(m,o,n),i(m,r,m);for(var u=p,v=0;3>v;++v)u[v].lo=1/0,u[v].hi=-(1/0),u[v].pixelsPerDataUnit=1/0;var w=f(j(m,m));j(m,m);for(var x=0;3>x;++x){var y=(x+1)%3,z=(x+2)%3,A=q;a:for(var v=0;2>v;++v){var B=[];if(t[x]<0!=!!v){A[x]=s[v][x];for(var C=0;2>C;++C){A[y]=s[C^v][y];for(var D=0;2>D;++D)A[z]=s[D^C^v][z],B.push(A.slice())}for(var C=0;C<w.length;++C){if(0===B.length)continue a;B=g.positive(B,w[C])}for(var C=0;C<B.length;++C)for(var z=B[C],E=d(q,m,z,c,e),D=0;3>D;++D)u[D].lo=Math.min(u[D].lo,z[D]),u[D].hi=Math.max(u[D].hi,z[D]),D!==x&&(u[D].pixelsPerDataUnit=Math.min(u[D].pixelsPerDataUnit,Math.abs(E[D])))}}}return u}a.exports=e;var f=require("extract-frustum-planes"),g=require("split-polygon"),h=require("./lib/cube.js"),i=require("gl-mat4/multiply"),j=require("gl-mat4/transpose"),k=require("gl-vec4/transformMat4"),l=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),m=new Float32Array(16),n=[0,0,0,1],o=[0,0,0,1],p=[new c(1/0,-(1/0),1/0),new c(1/0,-(1/0),1/0),new c(1/0,-(1/0),1/0)],q=[0,0,0];
},{"./lib/cube.js":129,"extract-frustum-planes":134,"gl-mat4/multiply":96,"gl-mat4/transpose":104,"gl-vec4/transformMat4":190,"split-polygon":135}],138:[function(require,a,b){"use strict";var c=require("gl-shader"),d="#define GLSLIFY 1\nprecision mediump float;\n\nattribute vec3 position, color;\nattribute float weight;\n\nuniform mat4 model, view, projection;\nuniform vec3 coordinates[3];\nuniform vec4 colors[3];\nuniform vec2 screenShape;\nuniform float lineWidth;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vertexPosition = mix(coordinates[0],\n    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));\n\n  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);\n  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;\n  vec2 delta = weight * clipOffset * screenShape;\n  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;\n\n  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);\n  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];\n}\n",e="#define GLSLIFY 1\nprecision mediump float;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  gl_FragColor = fragColor;\n}";a.exports=function(a){return c(a,d,e,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},{"gl-shader":154}],139:[function(require,a,b){"use strict";function c(a,b,c,d){this.gl=a,this.buffer=b,this.vao=c,this.shader=d,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}function d(a,b){function d(a,b,c,d,e,f){var g=[a,b,c,0,0,0,1];g[d+3]=1,g[d]=e,h.push.apply(h,g),g[6]=-1,h.push.apply(h,g),g[d]=f,h.push.apply(h,g),h.push.apply(h,g),g[6]=1,h.push.apply(h,g),g[d]=e,h.push.apply(h,g)}var h=[];d(0,0,0,0,0,1),d(0,0,0,1,0,1),d(0,0,0,2,0,1),d(1,0,0,1,-1,1),d(1,0,0,2,-1,1),d(0,1,0,0,-1,1),d(0,1,0,2,-1,1),d(0,0,1,0,-1,1),d(0,0,1,1,-1,1);var i=e(a,h),j=f(a,[{type:a.FLOAT,buffer:i,size:3,offset:0,stride:28},{type:a.FLOAT,buffer:i,size:3,offset:12,stride:28},{type:a.FLOAT,buffer:i,size:1,offset:24,stride:28}]),k=g(a);k.attributes.position.location=0,k.attributes.color.location=1,k.attributes.weight.location=2;var l=new c(a,i,j,k);return l.update(b),l}var e=require("gl-buffer"),f=require("gl-vao"),g=require("./shaders/index");a.exports=d;var h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],i=c.prototype,j=[0,0,0],k=[0,0,0],l=[0,0];i.isTransparent=function(){return!1},i.drawTransparent=function(a){},i.draw=function(a){var b=this.gl,c=this.vao,d=this.shader;c.bind(),d.bind();var e,f=a.model||h,g=a.view||h,i=a.projection||h;this.axes&&(e=this.axes.lastCubeProps.axis);for(var m=j,n=k,o=0;3>o;++o)e&&e[o]<0?(m[o]=this.bounds[0][o],n[o]=this.bounds[1][o]):(m[o]=this.bounds[1][o],n[o]=this.bounds[0][o]);l[0]=b.drawingBufferWidth,l[1]=b.drawingBufferHeight,d.uniforms.model=f,d.uniforms.view=g,d.uniforms.projection=i,d.uniforms.coordinates=[this.position,m,n],d.uniforms.colors=this.colors,d.uniforms.screenShape=l;for(var o=0;3>o;++o)d.uniforms.lineWidth=this.lineWidth[o]*this.pixelRatio,this.enabled[o]&&(c.draw(b.TRIANGLES,6,6*o),this.drawSides[o]&&c.draw(b.TRIANGLES,12,18+12*o));c.unbind()},i.update=function(a){a&&("bounds"in a&&(this.bounds=a.bounds),"position"in a&&(this.position=a.position),"lineWidth"in a&&(this.lineWidth=a.lineWidth),"colors"in a&&(this.colors=a.colors),"enabled"in a&&(this.enabled=a.enabled),"drawSides"in a&&(this.drawSides=a.drawSides))},i.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},{"./shaders/index":138,"gl-buffer":75,"gl-vao":189}],140:[function(require,a,b){"use strict";function c(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function d(a,b){var c=null;try{c=a.getContext("webgl",b),c||(c=a.getContext("experimental-webgl",b))}catch(d){return null}return c}function e(a){var b=Math.round(Math.log(Math.abs(a))/Math.log(10));if(0>b){var c=Math.round(Math.pow(10,-b));return Math.ceil(a*c)/c}if(b>0){var c=Math.round(Math.pow(10,b));return Math.ceil(a/c)*c}return Math.ceil(a)}function f(a){return"boolean"==typeof a?a:!0}function g(a){function b(){if(!v&&S.autoResize){var a=w.parentNode,b=1,c=1;a&&a!==document.body?(b=a.clientWidth,c=a.clientHeight):(b=window.innerWidth,c=window.innerHeight);var d=0|Math.ceil(b*S.pixelRatio),e=0|Math.ceil(c*S.pixelRatio);if(d!==w.width||e!==w.height){w.width=d,w.height=e;var f=w.style;f.position=f.position||"absolute",f.left="0px",f.top="0px",f.width=b+"px",f.height=c+"px",M=!0}}}function g(){for(var a=I.length,b=L.length,c=0;b>c;++c)K[c]=0;a:for(var c=0;a>c;++c){var d=I[c],e=d.pickSlots;if(e){for(var f=0;b>f;++f)if(K[f]+e<255){J[c]=f,d.setPickBase(K[f]+1),K[f]+=e;continue a}var g=l(y,R);J[c]=b,L.push(g),K.push(e),d.setPickBase(1),b+=1}else J[c]=-1}for(;b>0&&0===K[b-1];)K.pop(),L.pop().dispose()}function r(){return S.contextLost?!0:void(y.isContextLost()&&(S.contextLost=!0,S.mouseListener.enabled=!1,S.selection.object=null,S.oncontextloss&&S.oncontextloss()))}function s(){if(!r()){y.colorMask(!0,!0,!0,!0),y.depthMask(!0),y.disable(y.BLEND),y.enable(y.DEPTH_TEST);for(var a=I.length,b=L.length,c=0;b>c;++c){var d=L[c];d.shape=T,d.begin();for(var e=0;a>e;++e)if(J[e]===c){var f=I[e];f.drawPick&&(f.pixelRatio=1,f.drawPick(Q))}d.end()}}}function t(){if(!r()){b();var a=S.camera.tick();Q.view=S.camera.matrix,M=M||a,N=N||a,F.pixelRatio=S.pixelRatio,H.pixelRatio=S.pixelRatio;var c=I.length,d=W[0],f=W[1];d[0]=d[1]=d[2]=1/0,f[0]=f[1]=f[2]=-(1/0);for(var g=0;c>g;++g){var h=I[g];h.pixelRatio=S.pixelRatio,h.axes=S.axes,M=M||!!h.dirty,N=N||!!h.dirty;var i=h.bounds;if(i)for(var k=i[0],l=i[1],m=0;3>m;++m)d[m]=Math.min(d[m],k[m]),f[m]=Math.max(f[m],l[m])}var o=S.bounds;if(S.autoBounds)for(var m=0;3>m;++m){if(f[m]<d[m])d[m]=-1,f[m]=1;else{d[m]===f[m]&&(d[m]-=1,f[m]+=1);var q=.05*(f[m]-d[m]);d[m]=d[m]-q,f[m]=f[m]+q}o[0][m]=d[m],o[1][m]=f[m]}for(var t=!1,m=0;3>m;++m)t=t||X[0][m]!==o[0][m]||X[1][m]!==o[1][m],X[0][m]=o[0][m],X[1][m]=o[1][m];if(t){for(var u=[0,0,0],g=0;3>g;++g)u[g]=e((o[1][g]-o[0][g])/10);F.autoTicks?F.update({bounds:o,tickSpacing:u}):F.update({bounds:o})}N=N||t,M=M||t;var v=y.drawingBufferWidth,w=y.drawingBufferHeight;R[0]=v,R[1]=w,T[0]=0|Math.max(v/S.pixelRatio,1),T[1]=0|Math.max(w/S.pixelRatio,1),p(O,S.fovy,v/w,S.zNear,S.zFar);for(var g=0;16>g;++g)P[g]=0;P[15]=1;for(var x=0,g=0;3>g;++g)x=Math.max(x,o[1][g]-o[0][g]);for(var g=0;3>g;++g)S.autoScale?P[5*g]=S.aspect[g]/(o[1][g]-o[0][g]):P[5*g]=1/x,S.autoCenter&&(P[12+g]=.5*-P[5*g]*(o[0][g]+o[1][g]));for(var g=0;c>g;++g){var h=I[g];h.axesBounds=o,S.clipToBounds&&(h.clipBounds=o)}if(A.object&&(S.snapToData?H.position=A.dataCoordinate:H.position=A.dataPosition,H.bounds=o),N&&(N=!1,s()),M){S.axesPixels=j(S.axes,Q,v,w),S.onrender&&S.onrender(),y.bindFramebuffer(y.FRAMEBUFFER,null),y.viewport(0,0,v,w);var z=S.clearColor;y.clearColor(z[0],z[1],z[2],z[3]),y.clear(y.COLOR_BUFFER_BIT|y.DEPTH_BUFFER_BIT),y.depthMask(!0),y.colorMask(!0,!0,!0,!0),y.enable(y.DEPTH_TEST),y.depthFunc(y.LEQUAL),y.disable(y.BLEND),y.disable(y.CULL_FACE);var D=!1;F.enable&&(D=D||F.isTransparent(),F.draw(Q)),H.axes=F,A.object&&H.draw(Q),y.disable(y.CULL_FACE);for(var g=0;c>g;++g){var h=I[g];h.axes=F,h.pixelRatio=S.pixelRatio,h.isOpaque&&h.isOpaque()&&h.draw(Q),h.isTransparent&&h.isTransparent()&&(D=!0)}if(D){B.shape=R,B.bind(),y.clear(y.DEPTH_BUFFER_BIT),y.colorMask(!1,!1,!1,!1),y.depthMask(!0),y.depthFunc(y.LESS),F.enable&&F.isTransparent()&&F.drawTransparent(Q);for(var g=0;c>g;++g){var h=I[g];h.isOpaque&&h.isOpaque()&&h.draw(Q)}y.enable(y.BLEND),y.blendEquation(y.FUNC_ADD),y.blendFunc(y.ONE,y.ONE_MINUS_SRC_ALPHA),y.colorMask(!0,!0,!0,!0),y.depthMask(!1),y.clearColor(0,0,0,0),y.clear(y.COLOR_BUFFER_BIT),F.isTransparent()&&F.drawTransparent(Q);for(var g=0;c>g;++g){var h=I[g];h.isTransparent&&h.isTransparent()&&h.drawTransparent(Q)}y.bindFramebuffer(y.FRAMEBUFFER,null),y.blendFunc(y.ONE,y.ONE_MINUS_SRC_ALPHA),y.disable(y.DEPTH_TEST),C.bind(),B.color[0].bind(0),C.uniforms.accumBuffer=0,n(y),y.disable(y.BLEND)}M=!1;for(var g=0;c>g;++g)I[g].dirty=!1}}}function u(){v||S.contextLost||(requestAnimationFrame(u),t())}a=a||{};var v=!1,w=(a.pixelRatio||parseFloat(window.devicePixelRatio),a.canvas);if(!w)if(w=document.createElement("canvas"),a.container){var x=a.container;x.appendChild(w)}else document.body.appendChild(w);var y=a.gl;if(y||(y=d(w,a.glOptions||{premultipliedAlpha:!0,antialias:!0})),!y)throw new Error("webgl not supported");var z=a.bounds||[[-10,-10,-10],[10,10,10]],A=new c,B=m(y,[y.drawingBufferWidth,y.drawingBufferHeight],{preferFloat:!0}),C=q(y),D=a.camera||{eye:[2,0,0],center:[0,0,0],up:[0,1,0],zoomMin:.1,zoomMax:100,mode:"turntable"},E=a.axes||{},F=i(y,E);F.enable=!E.disable;var G=a.spikes||{},H=k(y,G),I=[],J=[],K=[],L=[],M=!0,N=!0,O=new Array(16),P=new Array(16),Q={view:null,projection:O,model:P},N=!0,R=[y.drawingBufferWidth,y.drawingBufferHeight],S={gl:y,contextLost:!1,pixelRatio:a.pixelRatio||parseFloat(window.devicePixelRatio),canvas:w,selection:A,camera:h(w,D),axes:F,axesPixels:null,spikes:H,bounds:z,objects:I,shape:R,aspect:a.aspectRatio||[1,1,1],pickRadius:a.pickRadius||10,zNear:a.zNear||.01,zFar:a.zFar||1e3,fovy:a.fovy||Math.PI/4,clearColor:a.clearColor||[0,0,0,0],autoResize:f(a.autoResize),autoBounds:f(a.autoBounds),autoScale:!!a.autoScale,autoCenter:f(a.autoCenter),clipToBounds:f(a.clipToBounds),snapToData:!!a.snapToData,onselect:a.onselect||null,onrender:a.onrender||null,onclick:a.onclick||null,cameraParams:Q,oncontextloss:null,mouseListener:null},T=[y.drawingBufferWidth/S.pixelRatio|0,y.drawingBufferHeight/S.pixelRatio|0];S.autoResize&&b(),window.addEventListener("resize",b),S.update=function(a){v||(a=a||{},M=!0,N=!0)},S.add=function(a){v||(a.axes=F,I.push(a),J.push(-1),M=!0,N=!0,g())},S.remove=function(a){if(!v){var b=I.indexOf(a);0>b||(I.splice(b,1),J.pop(),M=!0,N=!0,g())}},S.dispose=function(){if(!v&&(v=!0,window.removeEventListener("resize",b),w.removeEventListener("webglcontextlost",r),S.mouseListener.enabled=!1,!S.contextLost)){F.dispose(),H.dispose();for(var a=0;a<I.length;++a)I[a].dispose();B.dispose();for(var a=0;a<L.length;++a)L[a].dispose();C.dispose(),y=null,F=null,H=null,I=[]}};var U=!1,V=0;S.mouseListener=o(w,function(a,b,c){if(!v){var d=L.length,e=I.length,f=A.object;A.distance=1/0,A.mouse[0]=b,A.mouse[1]=c,A.object=null,A.screen=null,A.dataCoordinate=A.dataPosition=null;var g=!1;if(a)U=!0;else{U&&(N=!0),U=!1;for(var h=0;d>h;++h){var i=L[h].query(b,T[1]-c-1,S.pickRadius);if(i){if(i.distance>A.distance)continue;for(var j=0;e>j;++j){var k=I[j];if(J[j]===h){var l=k.pick(i);l&&(A.screen=i.coord,A.distance=i.distance,A.object=k,A.index=l.distance,A.dataPosition=l.position,A.dataCoordinate=l.dataCoordinate,A.data=l,g=!0)}}}}}f&&f!==A.object&&(f.highlight&&f.highlight(null),M=!0),A.object&&(A.object.highlight&&A.object.highlight(A.data),M=!0),g=g||A.object!==f,g&&S.onselect&&S.onselect(A),1&a&&!(1&V)&&S.onclick&&S.onclick(A),V=a}}),w.addEventListener("webglcontextlost",r);var W=[[1/0,1/0,1/0],[-(1/0),-(1/0),-(1/0)]],X=[W[0].slice(),W[1].slice()];return u(),S.redraw=function(){v||(M=!0,t())},S}a.exports=g;var h=require("3d-view-controls"),i=require("gl-axes3d"),j=require("gl-axes3d/properties"),k=require("gl-spikes3d"),l=require("gl-select-static"),m=require("gl-fbo"),n=require("a-big-triangle"),o=require("mouse-change"),p=require("gl-mat4/perspective"),q=require("./lib/shader")},{"./lib/shader":123,"3d-view-controls":124,"a-big-triangle":126,"gl-axes3d":127,"gl-axes3d/properties":137,"gl-fbo":80,"gl-mat4/perspective":97,"gl-select-static":153,"gl-spikes3d":139,"mouse-change":196}],141:[function(require,a,b){"use strict";a.exports={vertex:"#define GLSLIFY 1\nprecision mediump float;\n\nattribute vec2 position;\nattribute vec2 offset;\nattribute vec4 color;\n\nuniform mat3 viewTransform;\nuniform vec2 pixelScale;\n\nvarying vec4 fragColor;\n\nvec4 computePosition_1_0(vec2 position, vec2 offset, mat3 view, vec2 scale) {\n  vec3 xposition = view * vec3(position, 1.0);\n  return vec4(\n    xposition.xy + scale * offset * xposition.z,\n    0,\n    xposition.z);\n}\n\n\n\n\nvoid main() {\n  fragColor = color;\n\n  gl_Position = computePosition_1_0(\n    position,\n    offset,\n    viewTransform,\n    pixelScale);\n}\n",fragment:"#define GLSLIFY 1\nprecision lowp float;\nvarying vec4 fragColor;\nvoid main() {\n  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);\n}\n",pickVertex:"#define GLSLIFY 1\nprecision mediump float;\n\nattribute vec2 position;\nattribute vec2 offset;\nattribute vec4 id;\n\nuniform mat3 viewTransform;\nuniform vec2 pixelScale;\nuniform vec4 pickOffset;\n\nvarying vec4 fragColor;\n\nvec4 computePosition_1_0(vec2 position, vec2 offset, mat3 view, vec2 scale) {\n  vec3 xposition = view * vec3(position, 1.0);\n  return vec4(\n    xposition.xy + scale * offset * xposition.z,\n    0,\n    xposition.z);\n}\n\n\n\n\nvoid main() {\n  vec4 fragId = id + pickOffset;\n\n  fragId.y += floor(fragId.x / 256.0);\n  fragId.x -= floor(fragId.x / 256.0) * 256.0;\n\n  fragId.z += floor(fragId.y / 256.0);\n  fragId.y -= floor(fragId.y / 256.0) * 256.0;\n\n  fragId.w += floor(fragId.z / 256.0);\n  fragId.z -= floor(fragId.z / 256.0) * 256.0;\n\n  fragColor = fragId / 255.0;\n\n  gl_Position = computePosition_1_0(\n    position,\n    offset,\n    viewTransform,\n    pixelScale);\n}\n",pickFragment:"#define GLSLIFY 1\nprecision lowp float;\nvarying vec4 fragColor;\nvoid main() {\n  gl_FragColor = fragColor;\n}\n"}},{}],142:[function(require,a,b){"use strict";function c(a){if(a in l)return l[a];var b=j(a,{polygons:!0,font:"sans-serif",textAlign:"left",textBaseline:"alphabetic"}),c=[],d=[];b.forEach(function(a){a.forEach(function(a){for(var b=0;b<a.length;++b){var e=a[(b+a.length-1)%a.length],f=a[b],g=a[(b+1)%a.length],h=a[(b+2)%a.length],i=f[0]-e[0],j=f[1]-e[1],k=Math.sqrt(i*i+j*j);i/=k,j/=k,c.push(e[0],e[1]+1.4),d.push(j,-i),c.push(e[0],e[1]+1.4),d.push(-j,i),c.push(f[0],f[1]+1.4),d.push(-j,i),c.push(f[0],f[1]+1.4),d.push(-j,i),c.push(e[0],e[1]+1.4),d.push(j,-i),c.push(f[0],f[1]+1.4),d.push(j,-i);var l=h[0]-g[0],m=h[1]-g[1],n=Math.sqrt(l*l+m*m);l/=n,m/=n,c.push(f[0],f[1]+1.4),d.push(j,-i),c.push(f[0],f[1]+1.4),d.push(-j,i),c.push(g[0],g[1]+1.4),d.push(-m,l),c.push(g[0],g[1]+1.4),d.push(-m,l),c.push(f[0],f[1]+1.4),d.push(m,-l),c.push(g[0],g[1]+1.4),d.push(m,-l)}})});for(var e=[1/0,1/0,-(1/0),-(1/0)],f=0;f<c.length;f+=2)for(var g=0;2>g;++g)e[g]=Math.min(e[g],c[f+g]),e[2+g]=Math.max(e[2+g],c[f+g]);return l[a]={coords:c,normals:d,bounds:e}}function d(a,b,c,d,e,f,g){this.plot=a,this.shader=b,this.pickShader=c,this.positionBuffer=d,this.offsetBuffer=e,this.colorBuffer=f,this.idBuffer=g,this.bounds=[1/0,1/0,-(1/0),-(1/0)],this.numPoints=0,this.numVertices=0,this.pickOffset=0,this.points=null}function e(a,b){var c=a.gl,e=f(c,k.vertex,k.fragment),h=f(c,k.pickVertex,k.pickFragment),i=g(c),j=g(c),l=g(c),m=g(c),n=new d(a,e,h,i,j,l,m);return n.update(b),a.addObject(n),n}a.exports=e;var f=require("gl-shader"),g=require("gl-buffer"),h=require("text-cache"),i=require("typedarray-pool"),j=require("vectorize-text"),k=require("./lib/shaders"),l={},m=d.prototype;!function(){function a(){var a=this.plot,d=this.bounds,e=a.viewBox,f=a.dataBox,g=a.pixelRatio,h=d[2]-d[0],i=d[3]-d[1],j=f[2]-f[0],k=f[3]-f[1];b[0]=2*h/j,b[4]=2*i/k,b[6]=2*(d[0]-f[0])/j-1,b[7]=2*(d[1]-f[1])/k-1;var l=e[2]-e[0],m=e[3]-e[1];c[0]=2*g/l,c[1]=2*g/m}var b=[1,0,0,0,1,0,0,0,1],c=[1,1];m.draw=function(){var d=this.plot,e=this.shader,f=this.numVertices,g=d.gl;a.call(this),e.bind(),e.uniforms.pixelScale=c,e.uniforms.viewTransform=b,this.positionBuffer.bind(),e.attributes.position.pointer(),this.offsetBuffer.bind(),e.attributes.offset.pointer(),this.colorBuffer.bind(),e.attributes.color.pointer(g.UNSIGNED_BYTE,!0),g.drawArrays(g.TRIANGLES,0,f)};var d=[0,0,0,0];m.drawPick=function(e){var f=this.plot,g=this.pickShader,h=this.numVertices,i=f.gl;this.pickOffset=e;for(var j=0;4>j;++j)d[j]=e>>8*j&255;return a.call(this),g.bind(),g.uniforms.pixelScale=c,g.uniforms.viewTransform=b,g.uniforms.pickOffset=d,this.positionBuffer.bind(),g.attributes.position.pointer(),this.offsetBuffer.bind(),g.attributes.offset.pointer(),this.idBuffer.bind(),g.attributes.id.pointer(i.UNSIGNED_BYTE,!1),i.drawArrays(i.TRIANGLES,0,h),e+this.numPoints}}(),m.pick=function(a,b,c){var d=this.pickOffset,e=this.numPoints;if(d>c||c>=d+e)return null;var f=c-d,g=this.points;return{object:this,pointId:f,dataCoord:[g[2*f],g[2*f+1]]}},m.update=function(a){a=a||{};var b=a.positions||[],d=a.colors||[],e=a.glyphs||[],f=a.sizes||[],g=a.borderWidths||[],j=a.borderColors||[];this.points=b;for(var k=this.bounds=[1/0,1/0,-(1/0),-(1/0)],l=0,m=0;m<e.length;++m){l+=h("sans-serif",e[m]).data.length+c(e[m]).coords.length>>1;for(var n=0;2>n;++n)k[n]=Math.min(k[n],b[2*m+n]),k[2+n]=Math.max(k[2+n],b[2*m+n])}k[0]===k[2]&&(k[2]+=1),k[3]===k[1]&&(k[3]+=1);for(var o=1/(k[2]-k[0]),p=1/(k[3]-k[1]),q=k[0],r=k[1],s=i.mallocFloat32(2*l),t=i.mallocFloat32(2*l),u=i.mallocUint8(4*l),v=i.mallocUint32(l),w=0,m=0;m<e.length;++m){for(var x=h("sans-serif",e[m]),y=c(e[m]),z=o*(b[2*m]-q),A=p*(b[2*m+1]-r),B=f[m],C=255*d[4*m],D=255*d[4*m+1],E=255*d[4*m+2],F=255*d[4*m+3],G=.5*(y.bounds[0]+y.bounds[2]),H=.5*(y.bounds[1]+y.bounds[3]),n=0;n<x.data.length;n+=2)s[2*w]=z,s[2*w+1]=A,t[2*w]=-B*(x.data[n]-G),t[2*w+1]=-B*(x.data[n+1]-H),u[4*w]=C,u[4*w+1]=D,u[4*w+2]=E,u[4*w+3]=F,v[w]=m,w+=1;var I=g[m];C=255*j[4*m],D=255*j[4*m+1],E=255*j[4*m+2],F=255*j[4*m+3];for(var n=0;n<y.coords.length;n+=2)s[2*w]=z,s[2*w+1]=A,t[2*w]=-(B*(y.coords[n]-G)+I*y.normals[n]),t[2*w+1]=-(B*(y.coords[n+1]-H)+I*y.normals[n+1]),u[4*w]=C,u[4*w+1]=D,u[4*w+2]=E,u[4*w+3]=F,v[w]=m,w+=1}this.numPoints=e.length,this.numVertices=l,this.positionBuffer.update(s),this.offsetBuffer.update(t),this.colorBuffer.update(u),this.idBuffer.update(v),i.free(s),i.free(t),i.free(u),i.free(v)},m.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.offsetBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},{"./lib/shaders":141,"gl-buffer":75,"gl-shader":154,"text-cache":228,"typedarray-pool":233,"vectorize-text":235}],143:[function(require,a,b){b.pointVertex="#define GLSLIFY 1\nprecision mediump float;\n\nattribute vec2 position;\nattribute float weight;\n\nuniform mat3 matrix;\nuniform float pointSize, useWeight;\n\nvarying float fragWeight;\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n  gl_PointSize = pointSize;\n  fragWeight = mix(1.0, weight, useWeight);\n}\n",b.pointFragment="#define GLSLIFY 1\nprecision mediump float;\n\nuniform vec4 color, borderColor;\nuniform float centerFraction;\n\nvarying float fragWeight;\n\nfloat smoothStep(float x, float y) {\n  return 1.0 / (1.0 + exp(50.0*(x - y)));\n}\n\nvoid main() {\n  float radius = length(2.0*gl_PointCoord.xy-1.0);\n  if(radius > 1.0) {\n    discard;\n  }\n  vec4 baseColor = mix(borderColor, color, smoothStep(radius, centerFraction));\n  float alpha = 1.0 - pow(1.0 - baseColor.a, fragWeight);\n  gl_FragColor = vec4(baseColor.rgb * alpha, alpha);\n}\n",b.pickVertex="#define GLSLIFY 1\nprecision mediump float;\n\nattribute vec2 position;\nattribute vec4 pickId;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform vec4 pickOffset;\n\nvarying vec4 fragId;\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n  gl_PointSize = pointSize;\n\n  vec4 id = pickId + pickOffset;\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  fragId = id;\n}\n",b.pickFragment="#define GLSLIFY 1\nprecision mediump float;\n\nvarying vec4 fragId;\n\nvoid main() {\n  float radius = length(2.0*gl_PointCoord.xy-1.0);\n  if(radius > 1.0) {\n    discard;\n  }\n  gl_FragColor = fragId / 255.0;\n}\n"},{}],144:[function(require,a,b){arguments[4][121][0].apply(b,arguments)},{dup:121}],145:[function(require,a,b){"use strict";function c(a,b,c,e,f){4*l>=f?d(0,f-1,a,b,c,e):k(0,f-1,a,b,c,e)}function d(a,b,c,d,e,f){for(var g=a+1;b>=g;++g){for(var h=c[g],i=d[2*g],j=d[2*g+1],k=e[g],l=f[g],m=g;m>a;){var n=c[m-1],o=d[2*(m-1)];if((n-h||i-o)>=0)break;c[m]=n,d[2*m]=o,d[2*m+1]=d[2*m-1],e[m]=e[m-1],f[m]=f[m-1],m-=1}c[m]=h,d[2*m]=i,d[2*m+1]=j,e[m]=k,f[m]=l}}function e(a,b,c,d,e,f){var g=c[a],h=d[2*a],i=d[2*a+1],j=e[a],k=f[a];c[a]=c[b],d[2*a]=d[2*b],d[2*a+1]=d[2*b+1],e[a]=e[b],f[a]=f[b],c[b]=g,d[2*b]=h,d[2*b+1]=i,e[b]=j,f[b]=k}function f(a,b,c,d,e,f){c[a]=c[b],d[2*a]=d[2*b],d[2*a+1]=d[2*b+1],e[a]=e[b],f[a]=f[b]}function g(a,b,c,d,e,f,g){var h=d[a],i=e[2*a],j=e[2*a+1],k=f[a],l=g[a];d[a]=d[b],e[2*a]=e[2*b],e[2*a+1]=e[2*b+1],f[a]=f[b],g[a]=g[b],d[b]=d[c],e[2*b]=e[2*c],e[2*b+1]=e[2*c+1],f[b]=f[c],g[b]=g[c],d[c]=h,e[2*c]=i,e[2*c+1]=j,f[c]=k,g[c]=l}function h(a,b,c,d,e,f,g,h,i,j,k){h[a]=h[b],i[2*a]=i[2*b],i[2*a+1]=i[2*b+1],j[a]=j[b],k[a]=k[b],h[b]=c,i[2*b]=d,i[2*b+1]=e,j[b]=f,k[b]=g}function i(a,b,c,d,e){return(c[a]-c[b]||d[2*b]-d[2*a]||e[a]-e[b])<0}function j(a,b,c,d,e,f,g,h){return(b-f[a]||g[2*a]-c||e-h[a])<0}function k(a,b,c,m,n,o){var p=(b-a+1)/6|0,q=a+p,r=b-p,s=a+b>>1,t=s-p,u=s+p,v=q,w=t,x=s,y=u,z=r,A=a+1,B=b-1,C=0;i(v,w,c,m,n,o)&&(C=v,v=w,w=C),i(y,z,c,m,n,o)&&(C=y,y=z,z=C),i(v,x,c,m,n,o)&&(C=v,v=x,x=C),i(w,x,c,m,n,o)&&(C=w,w=x,x=C),i(v,y,c,m,n,o)&&(C=v,v=y,y=C),i(x,y,c,m,n,o)&&(C=x,x=y,y=C),i(w,z,c,m,n,o)&&(C=w,w=z,z=C),i(w,x,c,m,n,o)&&(C=w,w=x,x=C),i(y,z,c,m,n,o)&&(C=y,y=z,z=C);var D=c[w],E=m[2*w],F=m[2*w+1],G=n[w],H=o[w],I=c[y],J=m[2*y],K=m[2*y+1],L=n[y],M=o[y],N=v,O=x,P=z,Q=q,R=s,S=r,T=c[N],U=c[O],V=c[P];c[Q]=T,c[R]=U,c[S]=V;for(var W=0;2>W;++W){var X=m[2*N+W],Y=m[2*O+W],Z=m[2*P+W];m[2*Q+W]=X,m[2*R+W]=Y,m[2*S+W]=Z}var $=n[N],_=n[O],aa=n[P];n[Q]=$,n[R]=_,n[S]=aa;var ba=o[N],ca=o[O],da=o[P];o[Q]=ba,o[R]=ca,o[S]=da,f(t,a,c,m,n,o),f(u,b,c,m,n,o);for(var ea=A;B>=ea;++ea)if(j(ea,D,E,F,G,c,m,n))ea!==A&&e(ea,A,c,m,n,o),++A;else if(!j(ea,I,J,K,L,c,m,n))for(;;){if(j(B,I,J,K,L,c,m,n)){j(B,D,E,F,G,c,m,n)?(g(ea,A,B,c,m,n,o),++A,--B):(e(ea,B,c,m,n,o),--B);break}if(--B<ea)break}h(a,A-1,D,E,F,G,H,c,m,n,o),h(b,B+1,I,J,K,L,M,c,m,n,o),l>=A-2-a?d(a,A-2,c,m,n,o):k(a,A-2,c,m,n,o),l>=b-(B+2)?d(B+2,b,c,m,n,o):k(B+2,b,c,m,n,o),l>=B-A?d(A,B,c,m,n,o):k(A,B,c,m,n,o)}a.exports=c;var l=32},{}],146:[function(require,a,b){"use strict";function c(a,b,c,d,e,f,g,h){for(var i=c,j=c;d>j;++j){var k=a[2*j],l=a[2*j+1],m=b[j];k>=e&&g>=k&&l>=f&&h>=l&&(j===i?i+=1:(a[2*j]=a[2*i],a[2*j+1]=a[2*i+1],b[j]=b[i],a[2*i]=k,a[2*i+1]=l,b[i]=m,i+=1))}return i}function d(a,b,c){this.pixelSize=a,this.offset=b,this.count=c}function e(a,b,e,h){function i(d,f,g,h,j,k){var l=.5*g,m=h+1,n=j-h;e[v]=n,u[v++]=k;for(var o=0;2>o;++o)for(var p=0;2>p;++p){var q=d+o*l,r=f+p*l,s=c(a,b,m,j,q,r,q+l,r+l);if(s!==m){if(s-m>=Math.max(.9*n,32)){var t=j+h>>>1;i(q,r,l,m,t,k+1),m=t}i(q,r,l,m,s,k+1),m=s}}}var j=a.length>>>1;if(1>j)return[];for(var k=1/0,l=1/0,m=-(1/0),n=-(1/0),o=0;j>o;++o){var p=a[2*o],q=a[2*o+1];k=Math.min(k,p),m=Math.max(m,p),l=Math.min(l,q),n=Math.max(n,q),b[o]=o}k===m&&(m+=1+Math.abs(m)),l===n&&(n+=1+Math.abs(m));var r=1/(m-k),s=1/(n-l),t=Math.max(m-k,n-l);h=h||[0,0,0,0],h[0]=k,h[1]=l,h[2]=m,h[3]=n;var u=f.mallocInt32(j),v=0;i(k,l,t,0,j,0),g(u,a,b,e,j);for(var w=[],x=0,y=j,v=j-1;v>=0;--v){a[2*v]=(a[2*v]-k)*r,a[2*v+1]=(a[2*v+1]-l)*s;var z=u[v];z!==x&&(w.push(new d(t*Math.pow(.5,z),v+1,y-(v+1))),y=v+1,x=z)}return w.push(new d(t*Math.pow(.5,z+1),0,y)),f.free(u),w}var f=require("typedarray-pool"),g=require("./lib/sort");a.exports=e},{"./lib/sort":145,"typedarray-pool":233}],147:[function(require,a,b){"use strict";function c(a,b,c,d,e,f){this.plot=a,this.offsetBuffer=b,this.pickBuffer=c,this.weightBuffer=d,this.shader=e,this.pickShader=f,this.scales=[],this.size=12,this.borderSize=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.bounds=[1/0,1/0,-(1/0),-(1/0)],this.pickOffset=0,this.points=null,this.xCoords=null}function d(a,b){var d=a.gl,g=f(d),h=f(d),i=f(d),k=e(d,j.pointVertex,j.pointFragment),l=e(d,j.pickVertex,j.pickFragment),m=new c(a,g,h,i,k,l);return m.update(b),a.addObject(m),m}var e=require("gl-shader"),f=require("gl-buffer"),g=require("binary-search-bounds"),h=require("snap-points-2d"),i=require("typedarray-pool"),j=require("./lib/shader");a.exports=d;var k=c.prototype;k.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.xCoords&&i.free(this.xCoords),this.plot.removeObject(this)},k.update=function(a){function b(b,c){return b in a?a[b]:c}a=a||{},this.size=b("size",12),this.color=b("color",[1,0,0,1]).slice(),this.borderSize=b("borderSize",1),this.borderColor=b("borderColor",[0,0,0,1]).slice(),this.xCoords&&i.free(this.xCoords);var c=a.positions,d=i.mallocFloat32(c.length),e=i.mallocInt32(c.length>>>1);d.set(c);var f=i.mallocFloat32(c.length);this.points=c,this.scales=h(d,e,f,this.bounds),this.offsetBuffer.update(d),this.pickBuffer.update(e),this.weightBuffer.update(f);for(var g=i.mallocFloat32(c.length>>>1),j=0,k=0;j<c.length;j+=2,++k)g[k]=d[j];i.free(e),i.free(d),i.free(f),this.xCoords=g,this.pointCount=c.length>>>1,this.pickOffset=0},k.drawPick=function(){var a=[1,0,0,0,1,0,0,0,1],b=[0,0,0,0];return function(c){var d=this.plot,e=this.pickShader,f=this.scales,h=this.offsetBuffer,i=this.pickBuffer,j=this.bounds,k=this.size,l=this.borderSize,m=d.gl,n=d.pickPixelRatio,o=d.viewBox,p=d.dataBox;if(0===this.pointCount)return c;var q=j[2]-j[0],r=j[3]-j[1],s=p[2]-p[0],t=p[3]-p[1],u=(o[2]-o[0])*n/d.pixelRatio,v=(o[3]-o[1])*n/d.pixelRatio,w=Math.min(s/u,t/v);a[0]=2*q/s,a[4]=2*r/t,a[6]=2*(j[0]-p[0])/s-1,a[7]=2*(j[1]-p[1])/t-1,this.pickOffset=c,b[0]=255&c,b[1]=c>>8&255,b[2]=c>>16&255,b[3]=c>>24&255,e.bind(),e.uniforms.matrix=a,e.uniforms.color=this.color,e.uniforms.borderColor=this.borderColor,e.uniforms.pointSize=n*(k+l),e.uniforms.pickOffset=b,0===this.borderSize?e.uniforms.centerFraction=2:e.uniforms.centerFraction=k/(k+l+1.25),h.bind(),e.attributes.position.pointer(),i.bind(),e.attributes.pickId.pointer(m.UNSIGNED_BYTE);for(var x=this.xCoords,y=(p[0]-j[0]-w*k*n)/q,z=(p[2]-j[0]+w*k*n)/q,A=f.length-1;A>=0;--A){var B=f[A];if(!(B.pixelSize<w&&A>1)){var C=B.offset,D=B.count+C,E=g.ge(x,y,C,D-1),F=g.lt(x,z,E,D-1)+1;m.drawArrays(m.POINTS,E,F-E)}}return c+this.pointCount}}(),k.draw=function(){var a=[1,0,0,0,1,0,0,0,1];return function(){var b=this.plot,c=this.shader,d=this.scales,e=this.offsetBuffer,f=this.bounds,h=this.size,i=this.borderSize,j=b.gl,k=b.pixelRatio,l=b.viewBox,m=b.dataBox;if(0!==this.pointCount){var n=f[2]-f[0],o=f[3]-f[1],p=m[2]-m[0],q=m[3]-m[1],r=l[2]-l[0],s=l[3]-l[1],t=Math.min(p/r,q/s);a[0]=2*n/p,a[4]=2*o/q,a[6]=2*(f[0]-m[0])/p-1,a[7]=2*(f[1]-m[1])/q-1,c.bind(),c.uniforms.matrix=a,c.uniforms.color=this.color,c.uniforms.borderColor=this.borderColor,c.uniforms.pointSize=k*(h+i),c.uniforms.useWeight=1,0===this.borderSize?c.uniforms.centerFraction=2:c.uniforms.centerFraction=h/(h+i+1.25),e.bind(),c.attributes.position.pointer(),this.weightBuffer.bind(),c.attributes.weight.pointer();for(var u=this.xCoords,v=(m[0]-f[0]-t*h*k)/n,w=(m[2]-f[0]+t*h*k)/n,x=!0,y=d.length-1;y>=0;--y){var z=d[y];if(!(z.pixelSize<t&&y>1)){var A=z.offset,B=z.count+A,C=g.ge(u,v,A,B-1),D=g.lt(u,w,C,B-1)+1;j.drawArrays(j.POINTS,C,D-C),x&&(x=!1,c.uniforms.useWeight=0)}}}}}(),k.pick=function(a,b,c){var d=this.pickOffset,e=this.pointCount;if(d>c||c>=d+e)return null;var f=c-d,g=this.points;return{object:this,pointId:f,dataCoord:[g[2*f],g[2*f+1]]}}},{"./lib/shader":143,"binary-search-bounds":144,"gl-buffer":75,"gl-shader":154,"snap-points-2d":146,"typedarray-pool":233}],148:[function(require,a,b){"use strict";function c(a,b){var c=e[b];if(c||(c=e[b]={}),a in c)return c[a];for(var f=d(a,{textAlign:"center",textBaseline:"middle",lineHeight:1,font:b}),g=d(a,{triangles:!0,textAlign:"center",textBaseline:"middle",lineHeight:1,font:b}),h=[[1/0,1/0],[-(1/0),-(1/0)]],i=0;i<f.positions.length;++i)for(var j=f.positions[i],k=0;2>k;++k)h[0][k]=Math.min(h[0][k],j[k]),h[1][k]=Math.max(h[1][k],j[k]);return c[a]=[g,f,h]}var d=require("vectorize-text");a.exports=c;var e={}},{"vectorize-text":235}],149:[function(require,a,b){function c(a,b){var c=d(a,b),e=c.attributes;return e.position.location=0,e.color.location=1,e.glyph.location=2,e.id.location=3,c}var d=require("gl-shader"),e="#define GLSLIFY 1\nprecision mediump float;\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\n\nuniform vec4 highlightId;\nuniform float highlightScale;\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if(any(lessThan(position, clipBounds[0]))   || \n     any(greaterThan(position, clipBounds[1])) ) {\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = 1.0;\n    if(distance(highlightId, id) < 0.0001) {\n      scale = highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1);\n    vec4 viewPosition = view * worldPosition;\n    viewPosition = viewPosition / viewPosition.w;\n    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));\n    \n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}",f="#define GLSLIFY 1\nprecision mediump float;\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float highlightScale, pixelRatio;\nuniform vec4 highlightId;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if(any(lessThan(position, clipBounds[0])) || any(greaterThan(position, clipBounds[1]))) {\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = pixelRatio;\n    if(distance(highlightId.bgr, id.bgr) < 0.001) {\n      scale *= highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1.0);\n    vec4 viewPosition = view * worldPosition;\n    vec4 clipPosition = projection * viewPosition;\n    clipPosition /= clipPosition.w;\n    \n    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}",g="#define GLSLIFY 1\nprecision mediump float;\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform float highlightScale;\nuniform vec4 highlightId;\nuniform vec3 axes[2];\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float scale, pixelRatio;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if(any(lessThan(position, clipBounds[0]))   ||\n     any(greaterThan(position, clipBounds[1])) ) {\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float lscale = pixelRatio * scale;\n    if(distance(highlightId, id) < 0.0001) {\n      lscale *= highlightScale;\n    }\n\n    vec4 clipCenter   = projection * view * model * vec4(position, 1);\n    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;\n    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = dataPosition;\n  }\n}\n",h="#define GLSLIFY 1\nprecision mediump float;\n\nuniform vec3 fragClipBounds[2];\nuniform float opacity;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if(any(lessThan(dataCoordinate, fragClipBounds[0]))   ||\n     any(greaterThan(dataCoordinate, fragClipBounds[1])) ) {\n    discard;\n  } else {\n    gl_FragColor = interpColor * opacity;\n  }\n}\n",i="#define GLSLIFY 1\nprecision mediump float;\n\nuniform vec3 fragClipBounds[2];\nuniform float pickGroup;\n\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if(any(lessThan(dataCoordinate, fragClipBounds[0]))   || \n     any(greaterThan(dataCoordinate, fragClipBounds[1])) ) {\n    discard;\n  } else {\n    gl_FragColor = vec4(pickGroup, pickId.bgr);\n  }\n}",j=[{
name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],k={vertex:e,fragment:h,attributes:j},l={vertex:f,fragment:h,attributes:j},m={vertex:g,fragment:h,attributes:j},n={vertex:e,fragment:i,attributes:j},o={vertex:f,fragment:i,attributes:j},p={vertex:g,fragment:i,attributes:j};b.createPerspective=function(a){return c(a,k)},b.createOrtho=function(a){return c(a,l)},b.createProject=function(a){return c(a,m)},b.createPickPerspective=function(a){return c(a,n)},b.createPickOrtho=function(a){return c(a,o)},b.createPickProject=function(a){return c(a,p)}},{"gl-shader":154}],150:[function(require,a,b){"use strict";function c(a,b){var c=a[0],d=a[1],e=a[2],f=a[3];return a[0]=b[0]*c+b[4]*d+b[8]*e+b[12]*f,a[1]=b[1]*c+b[5]*d+b[9]*e+b[13]*f,a[2]=b[2]*c+b[6]*d+b[10]*e+b[14]*f,a[3]=b[3]*c+b[7]*d+b[11]*e+b[15]*f,a}function d(a,b,d,e){return c(e,e,d),c(e,e,b),c(e,e,a)}function e(a,b){this.index=a,this.dataCoordinate=this.position=b}function f(a,b,c,d,f,g,h,i,j,k,l,m){this.gl=a,this.pixelRatio=1,this.shader=b,this.orthoShader=c,this.projectShader=d,this.pointBuffer=f,this.colorBuffer=g,this.glyphBuffer=h,this.idBuffer=i,this.vao=j,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.lineWidth=0,this.projectScale=[2/3,2/3,2/3],this.projectOpacity=[1,1,1],this.pickId=0,this.pickPerspectiveShader=k,this.pickOrthoShader=l,this.pickProjectShader=m,this.points=[],this._selectResult=new e(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-(1/0),-(1/0),-(1/0)]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-(1/0),-(1/0),-(1/0)],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-(1/0),-(1/0),-(1/0)],[1/0,1/0,1/0]],this.dirty=!0}function g(a){return a[0]=a[1]=a[2]=0,a}function h(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=1,a}function i(a,b,c,d){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[c]=d,a}function j(a){for(var b=C,c=0;2>c;++c)for(var d=0;3>d;++d)b[c][d]=Math.max(Math.min(a[c][d],1e8),-1e8);return b}function k(a,b,c,e,f){var k,l=b.axesProject,m=b.gl,n=a.uniforms,o=c.model||t,p=c.view||t,r=c.projection||t,s=b.axesBounds,u=j(b.clipBounds);k=b.axes?b.axes.lastCubeProps.axis:[1,1,1],v[0]=2/m.drawingBufferWidth,v[1]=2/m.drawingBufferHeight,a.bind(),n.view=p,n.projection=r,n.screenSize=v,n.highlightId=b.highlightId,n.highlightScale=b.highlightScale,n.clipBounds=u,n.pickGroup=b.pickId/255,n.pixelRatio=b.pixelRatio;for(var C=0;3>C;++C)if(l[C]&&b.projectOpacity[C]<1===e){n.scale=b.projectScale[C],n.opacity=b.projectOpacity[C];for(var D=A,E=0;16>E;++E)D[E]=0;for(var E=0;4>E;++E)D[5*E]=1;D[5*C]=0,k[C]<0?D[12+C]=s[0][C]:D[12+C]=s[1][C],q(D,o,D),n.model=D;var F=(C+1)%3,G=(C+2)%3,H=g(w),I=g(x);H[F]=1,I[G]=1;var J=d(r,p,o,h(y,H)),K=d(r,p,o,h(z,I));if(Math.abs(J[1])>Math.abs(K[1])){var L=J;J=K,K=L,L=H,H=I,I=L;var M=F;F=G,G=M}J[0]<0&&(H[F]=-1),K[1]>0&&(I[G]=-1);for(var N=0,O=0,E=0;4>E;++E)N+=Math.pow(o[4*F+E],2),O+=Math.pow(o[4*G+E],2);H[F]/=Math.sqrt(N),I[G]/=Math.sqrt(O),n.axes[0]=H,n.axes[1]=I,n.fragClipBounds[0]=i(B,u[0],C,-1e8),n.fragClipBounds[1]=i(B,u[1],C,1e8),b.vao.draw(m.TRIANGLES,b.vertexCount),b.lineWidth>0&&(m.lineWidth(b.lineWidth),b.vao.draw(m.LINES,b.lineVertexCount,b.vertexCount))}}function l(a,b,c,d,e,f){var g=c.gl;if(c.vao.bind(),e===c.opacity<1||f){a.bind();var h=a.uniforms;h.model=d.model||t,h.view=d.view||t,h.projection=d.projection||t,v[0]=2/g.drawingBufferWidth,v[1]=2/g.drawingBufferHeight,h.screenSize=v,h.highlightId=c.highlightId,h.highlightScale=c.highlightScale,h.fragClipBounds=F,h.clipBounds=c.axes.bounds,h.opacity=c.opacity,h.pickGroup=c.pickId/255,h.pixelRatio=c.pixelRatio,c.vao.draw(g.TRIANGLES,c.vertexCount),c.lineWidth>0&&(g.lineWidth(c.lineWidth),c.vao.draw(g.LINES,c.lineVertexCount,c.vertexCount))}k(b,c,d,e,f),c.vao.unbind()}function m(a){var b=a.gl,c=r.createPerspective(b),d=r.createOrtho(b),e=r.createProject(b),g=r.createPickPerspective(b),h=r.createPickOrtho(b),i=r.createPickProject(b),j=n(b),k=n(b),l=n(b),m=n(b),p=o(b,[{buffer:j,size:3,type:b.FLOAT},{buffer:k,size:4,type:b.FLOAT},{buffer:l,size:2,type:b.FLOAT},{buffer:m,size:4,type:b.UNSIGNED_BYTE,normalized:!0}]),q=new f(b,c,d,e,j,k,l,m,p,g,h,i);return q.update(a),q}var n=require("gl-buffer"),o=require("gl-vao"),p=require("typedarray-pool"),q=require("gl-mat4/multiply"),r=require("./lib/shaders"),s=require("./lib/glyphs"),t=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];a.exports=m;var u=f.prototype;u.pickSlots=1,u.setPickBase=function(a){this.pickId=a},u.isTransparent=function(){if(this.opacity<1)return!0;for(var a=0;3>a;++a)if(this.axesProject[a]&&this.projectOpacity[a]<1)return!0;return!1},u.isOpaque=function(){if(this.opacity>=1)return!0;for(var a=0;3>a;++a)if(this.axesProject[a]&&this.projectOpacity[a]>=1)return!0;return!1};var v=[0,0],w=[0,0,0],x=[0,0,0],y=[0,0,0,1],z=[0,0,0,1],A=t.slice(),B=[0,0,0],C=[[0,0,0],[0,0,0]],D=[-1e8,-1e8,-1e8],E=[1e8,1e8,1e8],F=[D,E];u.draw=function(a){var b=this.useOrtho?this.orthoShader:this.shader;l(b,this.projectShader,this,a,!1,!1)},u.drawTransparent=function(a){var b=this.useOrtho?this.orthoShader:this.shader;l(b,this.projectShader,this,a,!0,!1)},u.drawPick=function(a){var b=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;l(b,this.pickProjectShader,this,a,!1,!0)},u.pick=function(a){if(!a)return null;if(a.id!==this.pickId)return null;var b=a.value[2]+(a.value[1]<<8)+(a.value[0]<<16);if(b>=this.pointCount||0>b)return null;var c=this.points[b],d=this._selectResult;d.index=b;for(var e=0;3>e;++e)d.position[e]=d.dataCoordinate[e]=c[e];return d},u.highlight=function(a){if(a){var b=a.index,c=255&b,d=b>>8&255,e=b>>16&255;this.highlightId=[c/255,d/255,e/255,0]}else this.highlightId=[1,1,1,1]},u.update=function(a){if(a=a||{},"perspective"in a&&(this.useOrtho=!a.perspective),"orthographic"in a&&(this.useOrtho=!!a.orthographic),"lineWidth"in a&&(this.lineWidth=a.lineWidth),"project"in a)if(Array.isArray(a.project))this.axesProject=a.project;else{var b=!!a.project;this.axesProject=[b,b,b]}if("projectScale"in a)if(Array.isArray(a.projectScale))this.projectScale=a.projectScale.slice();else{var c=+a.projectScale;this.projectScale=[c,c,c]}if("projectOpacity"in a)if(Array.isArray(a.projectOpacity))this.projectOpacity=a.projectOpacity.slice();else{var c=+a.projectOpacity;this.projectOpacity=[c,c,c]}"opacity"in a&&(this.opacity=a.opacity),this.dirty=!0;var d=a.position;if(d){var e=a.font||"normal",f=a.alignment||[0,0],g=[1/0,1/0,1/0],h=[-(1/0),-(1/0),-(1/0)],i=a.glyph,j=a.color,k=a.size,l=a.angle,m=a.lineColor,n=0,o=0,q=0,r=d.length;a:for(var t=0;r>t;++t){for(var u=d[t],v=0;3>v;++v)if(isNaN(u[v])||!isFinite(u[v]))continue a;var w;w=Array.isArray(i)?s(i[t],e):i?s(i,e):s("",e);var x=w[0],y=w[1],z=w[2];o+=3*x.cells.length,q+=2*y.edges.length}var A=o+q,B=p.mallocFloat(3*A),C=p.mallocFloat(4*A),D=p.mallocFloat(2*A),E=p.mallocUint32(A),F=[0,f[1]],G=0,H=o,I=[0,0,0,1],J=[0,0,0,1],K=Array.isArray(j)&&Array.isArray(j[0]),L=Array.isArray(m)&&Array.isArray(m[0]);a:for(var t=0;r>t;++t){for(var u=d[t],v=0;3>v;++v){if(isNaN(u[v])||!isFinite(u[v])){n+=1;continue a}h[v]=Math.max(h[v],u[v]),g[v]=Math.min(g[v],u[v])}var w;w=Array.isArray(i)?s(i[t],e):i?s(i,e):s("",e);var x=w[0],y=w[1],z=w[2];if(Array.isArray(j)){var M;if(M=K?j[t]:j,3===M.length){for(var v=0;3>v;++v)I[v]=M[v];I[3]=1}else if(4===M.length)for(var v=0;4>v;++v)I[v]=M[v]}else I[0]=I[1]=I[2]=0,I[3]=1;if(Array.isArray(m)){var M;if(M=L?m[t]:m,3===M.length){for(var v=0;3>v;++v)J[v]=M[v];J[v]=1}else if(4===M.length)for(var v=0;4>v;++v)J[v]=M[v]}else J[0]=J[1]=J[2]=0,J[3]=1;var N=.5;Array.isArray(k)?N=+k[t]:k?N=+k:this.useOrtho&&(N=12);var O=0;Array.isArray(l)?O=+l[t]:l&&(O=+l);for(var P=Math.cos(O),Q=Math.sin(O),u=d[t],v=0;3>v;++v)h[v]=Math.max(h[v],u[v]),g[v]=Math.min(g[v],u[v]);f[0]<0?F[0]=f[0]*(1+z[1][0]):f[0]>0&&(F[0]=-f[0]*(1+z[0][0]));for(var R=x.cells,S=x.positions,v=0;v<R.length;++v)for(var T=R[v],U=0;3>U;++U){for(var V=0;3>V;++V)B[3*G+V]=u[V];for(var V=0;4>V;++V)C[4*G+V]=I[V];E[G]=n;var W=S[T[U]];D[2*G]=N*(P*W[0]-Q*W[1]+F[0]),D[2*G+1]=N*(Q*W[0]+P*W[1]+F[1]),G+=1}for(var R=y.edges,S=y.positions,v=0;v<R.length;++v)for(var T=R[v],U=0;2>U;++U){for(var V=0;3>V;++V)B[3*H+V]=u[V];for(var V=0;4>V;++V)C[4*H+V]=J[V];E[H]=n;var W=S[T[U]];D[2*H]=N*(P*W[0]-Q*W[1]+F[0]),D[2*H+1]=N*(Q*W[0]+P*W[1]+F[1]),H+=1}n+=1}this.vertexCount=o,this.lineVertexCount=q,this.pointBuffer.update(B),this.colorBuffer.update(C),this.glyphBuffer.update(D),this.idBuffer.update(new Uint32Array(E)),p.free(B),p.free(C),p.free(D),p.free(E),this.bounds=[g,h],this.points=d,this.pointCount=d.length}},u.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},{"./lib/glyphs":148,"./lib/shaders":149,"gl-buffer":75,"gl-mat4/multiply":96,"gl-vao":189,"typedarray-pool":233}],151:[function(require,a,b){"use strict";b.boxVertex="#define GLSLIFY 1\nprecision mediump float;\n\nattribute vec2 vertex;\n\nuniform vec2 cornerA, cornerB;\n\nvoid main() {\n  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);\n}\n",b.boxFragment="#define GLSLIFY 1\nprecision mediump float;\n\nuniform vec4 color;\n\nvoid main() {\n  gl_FragColor = color;\n}\n"},{}],152:[function(require,a,b){"use strict";function c(a,b,c){this.plot=a,this.boxBuffer=b,this.boxShader=c,this.enabled=!0,this.selectBox=[1/0,1/0,-(1/0),-(1/0)],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}function d(a,b){var d=a.gl,h=f(d,[0,0,0,1,1,0,1,1]),i=e(d,g.boxVertex,g.boxFragment),j=new c(a,h,i);return j.update(b),a.addOverlay(j),j}var e=require("gl-shader"),f=require("gl-buffer"),g=require("./lib/shaders");a.exports=d;var h=c.prototype;h.draw=function(){if(this.enabled){var a=this.plot,b=this.selectBox,c=this.borderWidth,d=(this.innerFill,this.innerColor),e=(this.outerFill,this.outerColor),f=this.borderColor,g=a.box,h=a.screenBox,i=a.dataBox,j=a.viewBox,k=a.pixelRatio,l=(b[0]-i[0])*(j[2]-j[0])/(i[2]-i[0])+j[0],m=(b[1]-i[1])*(j[3]-j[1])/(i[3]-i[1])+j[1],n=(b[2]-i[0])*(j[2]-j[0])/(i[2]-i[0])+j[0],o=(b[3]-i[1])*(j[3]-j[1])/(i[3]-i[1])+j[1];if(l=Math.max(l,j[0]),m=Math.max(m,j[1]),n=Math.min(n,j[2]),o=Math.min(o,j[3]),!(l>n||m>o)){g.bind();var p=h[2]-h[0],q=h[3]-h[1];if(this.outerFill&&(g.drawBox(0,0,p,m,e),g.drawBox(0,m,l,o,e),g.drawBox(0,o,p,q,e),g.drawBox(n,m,p,o,e)),this.innerFill&&g.drawBox(l,m,n,o,d),c>0){var r=c*k;g.drawBox(l-r,m-r,n+r,m+r,f),g.drawBox(l-r,o-r,n+r,o+r,f),g.drawBox(l-r,m-r,l+r,o+r,f),g.drawBox(n-r,m-r,n+r,o+r,f)}}}},h.update=function(a){a=a||{},this.innerFill=!!a.innerFill,this.outerFill=!!a.outerFill,this.innerColor=(a.innerColor||[0,0,0,.5]).slice(),this.outerColor=(a.outerColor||[0,0,0,.5]).slice(),this.borderColor=(a.borderColor||[0,0,0,1]).slice(),this.borderWidth=a.borderWidth||0,this.selectBox=(a.selectBox||this.selectBox).slice()},h.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},{"./lib/shaders":151,"gl-buffer":75,"gl-shader":154}],153:[function(require,a,b){"use strict";function c(a,b,c,d,e){this.coord=[a,b],this.id=c,this.value=d,this.distance=e}function d(a,b,c){this.gl=a,this.fbo=b,this.buffer=c,this._readTimeout=null;var d=this;this._readCallback=function(){d.gl&&(b.bind(),a.readPixels(0,0,b.shape[0],b.shape[1],a.RGBA,a.UNSIGNED_BYTE,d.buffer),d._readTimeout=null)}}function e(a,b){var c=f(a,b),e=g.mallocUint8(b[0]*b[1]*4);return new d(a,c,e)}a.exports=e;var f=require("gl-fbo"),g=require("typedarray-pool"),h=require("ndarray"),i=require("bit-twiddle").nextPow2,j=require("cwise/lib/wrapper")({args:["array",{offset:[0,0,1],array:0},{offset:[0,0,2],array:0},{offset:[0,0,3],array:0},"scalar","scalar","index"],pre:{body:"{this_closestD2=1e8,this_closestX=-1,this_closestY=-1}",args:[],thisVars:["this_closestD2","this_closestX","this_closestY"],localVars:[]},body:{body:"{if(255>_inline_31_arg0_||255>_inline_31_arg1_||255>_inline_31_arg2_||255>_inline_31_arg3_){var _inline_31_l=_inline_31_arg4_-_inline_31_arg6_[0],_inline_31_a=_inline_31_arg5_-_inline_31_arg6_[1],_inline_31_f=_inline_31_l*_inline_31_l+_inline_31_a*_inline_31_a;_inline_31_f<this_closestD2&&(this_closestD2=_inline_31_f,this_closestX=_inline_31_arg6_[0],this_closestY=_inline_31_arg6_[1])}}",args:[{name:"_inline_31_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_31_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_31_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_31_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_31_arg4_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_31_arg5_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_31_arg6_",lvalue:!1,rvalue:!0,count:4}],thisVars:["this_closestD2","this_closestX","this_closestY"],localVars:["_inline_31_a","_inline_31_f","_inline_31_l"]},post:{body:"{return[this_closestX,this_closestY,this_closestD2]}",args:[],thisVars:["this_closestD2","this_closestX","this_closestY"],localVars:[]},debug:!1,funcName:"cwise",blockSize:64}),k=d.prototype;Object.defineProperty(k,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(a){if(this.gl){this.fbo.shape=a;var b=this.fbo.shape[0],c=this.fbo.shape[1];if(c*b*4>this.buffer.length){g.free(this.buffer);for(var d=this.buffer=g.mallocUint8(i(c*b*4)),e=0;c*b*4>e;++e)d[e]=255}return a}}}),k.begin=function(){var a=this.gl;this.shape;a&&(this.fbo.bind(),a.clearColor(1,1,1,1),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT))},k.end=function(){var a=this.gl;a&&(a.bindFramebuffer(a.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},k.query=function(a,b,d){if(!this.gl)return null;var e=this.fbo.shape.slice();a=0|a,b=0|b,"number"!=typeof d&&(d=1);var f=0|Math.min(Math.max(a-d,0),e[0]),g=0|Math.min(Math.max(a+d,0),e[0]),i=0|Math.min(Math.max(b-d,0),e[1]),k=0|Math.min(Math.max(b+d,0),e[1]);if(f>=g||i>=k)return null;var l=[g-f,k-i],m=h(this.buffer,[l[0],l[1],4],[4,4*e[0],1],4*(f+e[0]*i)),n=j(m.hi(l[0],l[1],1),d,d),o=n[0],p=n[1];if(0>o||Math.pow(this.radius,2)<n[2])return null;var q=m.get(o,p,0),r=m.get(o,p,1),s=m.get(o,p,2),t=m.get(o,p,3);return new c(o+f|0,p+i|0,q,[r,s,t],Math.sqrt(n[2]))},k.dispose=function(){this.gl&&(this.fbo.dispose(),g.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},{"bit-twiddle":49,"cwise/lib/wrapper":69,"gl-fbo":80,ndarray:208,"typedarray-pool":233}],154:[function(require,a,b){"use strict";function c(a){this.gl=a,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}function d(a,b){return a.name<b.name?-1:1}function e(a,b,d,e,f){var g=new c(a);return g.update(b,d,e,f),g}var f=require("./lib/create-uniforms"),g=require("./lib/create-attributes"),h=require("./lib/reflect"),i=require("./lib/shader-cache"),j=require("./lib/runtime-reflect"),k=require("./lib/GLError"),l=c.prototype;l.bind=function(){this.program||this._relink(),this.gl.useProgram(this.program)},l.dispose=function(){this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},l.update=function(a,b,c,e){function l(){n.program=i.program(o,n._vref,n._fref,u,v);for(var a=0;a<c.length;++a)C[a]=o.getUniformLocation(n.program,c[a].name)}if(!b||1===arguments.length){var m=a;a=m.vertex,b=m.fragment,c=m.uniforms,e=m.attributes}var n=this,o=n.gl,p=n._vref;n._vref=i.shader(o,o.VERTEX_SHADER,a),p&&p.dispose(),n.vertShader=n._vref.shader;var q=this._fref;if(n._fref=i.shader(o,o.FRAGMENT_SHADER,b),q&&q.dispose(),n.fragShader=n._fref.shader,!c||!e){var r=o.createProgram();if(o.attachShader(r,n.fragShader),o.attachShader(r,n.vertShader),o.linkProgram(r),!o.getProgramParameter(r,o.LINK_STATUS)){var s=o.getProgramInfoLog(r);throw new k(s,"Error linking program:"+s)}c=c||j.uniforms(o,r),e=e||j.attributes(o,r),o.deleteProgram(r)}e=e.slice(),e.sort(d);for(var t=[],u=[],v=[],w=0;w<e.length;++w){var x=e[w];if(x.type.indexOf("mat")>=0){for(var y=0|x.type.charAt(x.type.length-1),z=new Array(y),A=0;y>A;++A)z[A]=v.length,u.push(x.name+"["+A+"]"),"number"==typeof x.location?v.push(x.location+A):Array.isArray(x.location)&&x.location.length===y&&"number"==typeof x.location[A]?v.push(0|x.location[A]):v.push(-1);t.push({name:x.name,type:x.type,locations:z})}else t.push({name:x.name,type:x.type,locations:[v.length]}),u.push(x.name),"number"==typeof x.location?v.push(0|x.location):v.push(-1)}for(var B=0,w=0;w<v.length;++w)if(v[w]<0){for(;v.indexOf(B)>=0;)B+=1;v[w]=B}var C=new Array(c.length);l(),n._relink=l,n.types={uniforms:h(c),attributes:h(e)},n.attributes=g(o,n,t,v),Object.defineProperty(n,"uniforms",f(o,n,c,C))},a.exports=e},{"./lib/GLError":155,"./lib/create-attributes":156,"./lib/create-uniforms":157,"./lib/reflect":158,"./lib/runtime-reflect":159,"./lib/shader-cache":160}],155:[function(require,a,b){function c(a,b,c){this.shortMessage=b||"",this.longMessage=c||"",this.rawError=a||"",this.message="gl-shader: "+(b||a||"")+(c?"\n"+c:""),this.stack=(new Error).stack}c.prototype=new Error,c.prototype.name="GLError",c.prototype.constructor=c,a.exports=c},{}],156:[function(require,a,b){"use strict";function c(a,b,c,d,e,f){this._gl=a,this._wrapper=b,this._index=c,this._locations=d,this._dimension=e,this._constFunc=f}function d(a,b,d,e,f,g,h){for(var i=["gl","v"],j=[],k=0;f>k;++k)i.push("x"+k),j.push("x"+k);i.push("if(x0.length===void 0){return gl.vertexAttrib"+f+"f(v,"+j.join()+")}else{return gl.vertexAttrib"+f+"fv(v,x0)}");var l=Function.apply(null,i),m=new c(a,b,d,e,f,l);Object.defineProperty(g,h,{set:function(b){return a.disableVertexAttribArray(e[d]),l(a,e[d],b),b},get:function(){return m},enumerable:!0})}function e(a,b,c,e,f,g,h){for(var i=new Array(f),j=new Array(f),k=0;f>k;++k)d(a,b,c[k],e,f,i,k),j[k]=i[k];Object.defineProperty(i,"location",{set:function(a){if(Array.isArray(a))for(var b=0;f>b;++b)j[b].location=a[b];else for(var b=0;f>b;++b)j[b].location=a+b;return a},get:function(){for(var a=new Array(f),b=0;f>b;++b)a[b]=e[c[b]];return a},enumerable:!0}),i.pointer=function(b,d,g,h){b=b||a.FLOAT,d=!!d,g=g||f*f,h=h||0;for(var i=0;f>i;++i){var j=e[c[i]];a.vertexAttribPointer(j,f,b,d,g,h+i*f),a.enableVertexAttribArray(j)}};var l=new Array(f),m=a["vertexAttrib"+f+"fv"];Object.defineProperty(g,h,{set:function(b){for(var d=0;f>d;++d){var g=e[c[d]];if(a.disableVertexAttribArray(g),Array.isArray(b[0]))m.call(a,g,b[d]);else{for(var h=0;f>h;++h)l[h]=b[f*d+h];m.call(a,g,l)}}return b},get:function(){return i},enumerable:!0})}function f(a,b,c,f){for(var h={},i=0,j=c.length;j>i;++i){var k=c[i],l=k.name,m=k.type,n=k.locations;switch(m){case"bool":case"int":case"float":d(a,b,n[0],f,1,h,l);break;default:if(m.indexOf("vec")>=0){var o=m.charCodeAt(m.length-1)-48;if(2>o||o>4)throw new g("","Invalid data type for attribute "+l+": "+m);d(a,b,n[0],f,o,h,l)}else{if(!(m.indexOf("mat")>=0))throw new g("","Unknown data type for attribute "+l+": "+m);var o=m.charCodeAt(m.length-1)-48;if(2>o||o>4)throw new g("","Invalid data type for attribute "+l+": "+m);e(a,b,n,f,o,h,l)}}}return h}a.exports=f;var g=require("./GLError"),h=c.prototype;h.pointer=function(a,b,c,d){var e=this,f=e._gl,g=e._locations[e._index];f.vertexAttribPointer(g,e._dimension,a||f.FLOAT,!!b,c||0,d||0),f.enableVertexAttribArray(g)},h.set=function(a,b,c,d){return this._constFunc(this._locations[this._index],a,b,c,d)},Object.defineProperty(h,"location",{get:function(){return this._locations[this._index]},set:function(a){return a!==this._locations[this._index]&&(this._locations[this._index]=0|a,this._wrapper.program=null),0|a}})},{"./GLError":155}],157:[function(require,a,b){"use strict";function c(a){var b=new Function("y","return function(){return y}");return b(a)}function d(a,b){for(var c=new Array(a),d=0;a>d;++d)c[d]=b;return c}function e(a,b,e,h){function i(c){var d=new Function("gl","wrapper","locations","return function(){return gl.getUniform(wrapper.program,locations["+c+"])}");return d(a,b,h)}function j(a,b,c){switch(c){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+b+"],obj"+a+")";case"float":return"gl.uniform1f(locations["+b+"],obj"+a+")";default:var d=c.indexOf("vec");if(!(d>=0&&1>=d&&c.length===4+d)){if(0===c.indexOf("mat")&&4===c.length){var e=c.charCodeAt(c.length-1)-48;if(2>e||e>4)throw new g("","Invalid uniform dimension type for matrix "+name+": "+c);return"gl.uniformMatrix"+e+"fv(locations["+b+"],false,obj"+a+")"}throw new g("","Unknown uniform data type for "+name+": "+c)}var e=c.charCodeAt(c.length-1)-48;if(2>e||e>4)throw new g("","Invalid data type");switch(c.charAt(0)){case"b":case"i":return"gl.uniform"+e+"iv(locations["+b+"],obj"+a+")";case"v":return"gl.uniform"+e+"fv(locations["+b+"],obj"+a+")";default:throw new g("","Unrecognized data type for vector "+name+": "+c)}}}function k(a,b){if("object"!=typeof b)return[[a,b]];var c=[];for(var d in b){var e=b[d],f=a;f+=parseInt(d)+""===d?"["+d+"]":"."+d,"object"==typeof e?c.push.apply(c,k(f,e)):c.push([f,e])}return c}function l(b){for(var c=["return function updateProperty(obj){"],d=k("",b),f=0;f<d.length;++f){var g=d[f],i=g[0],l=g[1];h[l]&&c.push(j(i,l,e[l].type))}c.push("return obj}");var m=new Function("gl","locations",c.join("\n"));return m(a,h)}function m(a){switch(a){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var b=a.indexOf("vec");if(b>=0&&1>=b&&a.length===4+b){var c=a.charCodeAt(a.length-1)-48;if(2>c||c>4)throw new g("","Invalid data type");return"b"===a.charAt(0)?d(c,!1):d(c,0)}if(0===a.indexOf("mat")&&4===a.length){var c=a.charCodeAt(a.length-1)-48;if(2>c||c>4)throw new g("","Invalid uniform dimension type for matrix "+name+": "+a);return d(c*c,0)}throw new g("","Unknown uniform data type for "+name+": "+a)}}function n(a,b,d){if("object"==typeof d){var f=o(d);Object.defineProperty(a,b,{get:c(f),set:l(d),enumerable:!0,configurable:!1})}else h[d]?Object.defineProperty(a,b,{get:i(d),set:l(d),enumerable:!0,configurable:!1}):a[b]=m(e[d].type)}function o(a){var b;if(Array.isArray(a)){b=new Array(a.length);for(var c=0;c<a.length;++c)n(b,c,a[c])}else{b={};for(var d in a)n(b,d,a[d])}return b}var p=f(e,!0);return{get:c(o(p)),set:l(p),enumerable:!0,configurable:!0}}var f=require("./reflect"),g=require("./GLError");a.exports=e},{"./GLError":155,"./reflect":158}],158:[function(require,a,b){"use strict";function c(a,b){for(var c={},d=0;d<a.length;++d)for(var e=a[d].name,f=e.split("."),g=c,h=0;h<f.length;++h){var i=f[h].split("[");if(i.length>1){i[0]in g||(g[i[0]]=[]),g=g[i[0]];for(var j=1;j<i.length;++j){var k=parseInt(i[j]);j<i.length-1||h<f.length-1?(k in g||(j<i.length-1?g[k]=[]:g[k]={}),g=g[k]):b?g[k]=d:g[k]=a[d].type}}else h<f.length-1?(i[0]in g||(g[i[0]]={}),g=g[i[0]]):b?g[i[0]]=d:g[i[0]]=a[d].type}return c}a.exports=c},{}],159:[function(require,a,b){"use strict";function c(a,b){if(!g){var c=Object.keys(f);g={};for(var d=0;d<c.length;++d){var e=c[d];g[a[e]]=f[e]}}return g[b]}function d(a,b){for(var d=a.getProgramParameter(b,a.ACTIVE_UNIFORMS),e=[],f=0;d>f;++f){var g=a.getActiveUniform(b,f);if(g){var h=c(a,g.type);if(g.size>1)for(var i=0;i<g.size;++i)e.push({name:g.name.replace("[0]","["+i+"]"),type:h});else e.push({name:g.name,type:h})}}return e}function e(a,b){for(var d=a.getProgramParameter(b,a.ACTIVE_ATTRIBUTES),e=[],f=0;d>f;++f){var g=a.getActiveAttrib(b,f);g&&e.push({name:g.name,type:c(a,g.type)})}return e}b.uniforms=d,b.attributes=e;var f={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},g=null},{}],160:[function(require,a,b){"use strict";function c(a,b,c,d,e,f,g){this.id=a,this.src=b,this.type=c,this.shader=d,this.count=f,this.programs=[],this.cache=g}function d(a){this.gl=a,this.shaders=[{},{}],this.programs={}}function e(a,b,c){var d=a.createShader(b);if(a.shaderSource(d,c),a.compileShader(d),!a.getShaderParameter(d,a.COMPILE_STATUS)){var e=a.getShaderInfoLog(d);try{var f=k(e,c,b)}catch(g){throw console.warn("Failed to format compiler error: "+g),new j(e,"Error compiling shader:\n"+e)}throw new j(e,f["short"],f["long"])}return d}function f(a,b,c,d,e){var f=a.createProgram();a.attachShader(f,b),a.attachShader(f,c);for(var g=0;g<d.length;++g)a.bindAttribLocation(f,e[g],d[g]);if(a.linkProgram(f),!a.getProgramParameter(f,a.LINK_STATUS)){var h=a.getProgramInfoLog(f);throw new j(h,"Error linking program: "+h)}return f}function g(a){var b=m.get(a);return b||(b=new d(a),m.set(a,b)),b}function h(a,b,c){return g(a).getShaderReference(b,c)}function i(a,b,c,d,e){return g(a).getProgram(b,c,d,e)}b.shader=h,b.program=i;var j=require("./GLError"),k=require("gl-format-compiler-error"),l="undefined"==typeof WeakMap?require("weakmap-shim"):WeakMap,m=new l,n=0;c.prototype.dispose=function(){if(0===--this.count){for(var a=this.cache,b=a.gl,c=this.programs,d=0,e=c.length;e>d;++d){var f=a.programs[c[d]];f&&(delete a.programs[d],b.deleteProgram(f))}b.deleteShader(this.shader),delete a.shaders[this.type===b.FRAGMENT_SHADER|0][this.src]}};var o=d.prototype;o.getShaderReference=function(a,b){var d=this.gl,f=this.shaders[a===d.FRAGMENT_SHADER|0],g=f[b];if(g&&d.isShader(g.shader))g.count+=1;else{var h=e(d,a,b);g=f[b]=new c(n++,b,a,h,[],1,this)}return g},o.getProgram=function(a,b,c,d){var e=[a.id,b.id,c.join(":"),d.join(":")].join("@"),g=this.programs[e];return g&&this.gl.isProgram(g)||(this.programs[e]=g=f(this.gl,a.shader,b.shader,c,d),a.programs.push(e),b.programs.push(e)),g}},{"./GLError":155,"gl-format-compiler-error":161,"weakmap-shim":177}],161:[function(require,a,b){function c(a,b,c){"use strict";var h=f(b)||"of unknown name (see npm glsl-shader-name)",i="unknown type";void 0!==c&&(i=c===e.FRAGMENT_SHADER?"fragment":"vertex");for(var j=d("Error compiling %s shader %s:\n",i,h),k=d("%s%s",j,a),l=a.split("\n"),m={},n=0;n<l.length;n++){var o=l[n];if(""!==o){var p=parseInt(o.split(":")[2]);if(isNaN(p))throw new Error(d("Could not parse error: %s",o));m[p]=o}}for(var q=g(b).split("\n"),n=0;n<q.length;n++)if(m[n+3]||m[n+2]||m[n+1]){var r=q[n];if(j+=r+"\n",m[n+1]){var s=m[n+1];s=s.substr(s.split(":",3).join(":").length+1).trim(),j+=d("^^^ %s\n\n",s)}}return{"long":j.trim(),"short":k.trim()}}var d=require("sprintf-js").sprintf,e=require("gl-constants/lookup"),f=require("glsl-shader-name"),g=require("add-line-numbers");a.exports=c},{"add-line-numbers":162,"gl-constants/lookup":166,"glsl-shader-name":167,"sprintf-js":174}],162:[function(require,a,b){function c(a,b,c){b="number"==typeof b?b:1,c=c||": ";var e=a.split(/\r?\n/),f=String(e.length+b-1).length;return e.map(function(a,e){var g=e+b,h=String(g).length,i=d(g,f-h);return i+c+a}).join("\n")}var d=require("pad-left");a.exports=c},{"pad-left":163}],163:[function(require,a,b){"use strict";var c=require("repeat-string");a.exports=function(a,b,d){return d="undefined"!=typeof d?d+"":" ",c(d,b)+a}},{"repeat-string":164}],164:[function(require,a,b){"use strict";function c(a,b){if("string"!=typeof a)throw new TypeError("repeat-string expects a string.");if(1===b)return a;if(2===b)return a+a;var c=a.length*b;for((d!==a||"undefined"==typeof d)&&(d=a,e="");c>e.length&&b>0&&(1&b&&(e+=a),b>>=1);)a+=a;return e.substr(0,c)}a.exports=c;var d,e=""},{}],165:[function(require,a,b){a.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",
34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},{}],166:[function(require,a,b){var c=require("./1.0/numbers");a.exports=function(a){return c[a]}},{"./1.0/numbers":165}],167:[function(require,a,b){function c(a){for(var b=Array.isArray(a)?a:d(a),c=0;c<b.length;c++){var f=b[c];if("preprocessor"===f.type){var g=f.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(g&&g[2]){var h=g[1],i=g[2];return(h?e(i):i).trim()}}}}var d=require("glsl-tokenizer"),e=require("atob-lite");a.exports=c},{"atob-lite":168,"glsl-tokenizer":173}],168:[function(require,a,b){a.exports=function(a){return atob(a)}},{}],169:[function(require,a,b){function c(){function a(a){a.length&&N.push({type:u[L],data:a,position:Q,line:O,column:P})}function b(a){J=0,T+=a,I=T.length;for(var b;G=T[J],I>J;){switch(b=J,L){case i:J=z();break;case j:J=y();break;case k:J=x();break;case l:J=A();break;case m:J=D();break;case t:J=C();break;case n:J=E();break;case h:J=F();break;case r:J=w();break;case g:J=v()}if(b!==J)switch(T[b]){case"\n":P=0,++O;break;default:++P}}return K+=J,T=T.slice(J),N}function c(b){return M.length&&a(M.join("")),L=s,a("(eof)"),N}function v(){return M=M.length?[]:M,"/"===H&&"*"===G?(Q=K+J-1,L=i,H=G,J+1):"/"===H&&"/"===G?(Q=K+J-1,L=j,H=G,J+1):"#"===G?(L=k,Q=K+J,J):/\s/.test(G)?(L=r,Q=K+J,J):(R=/\d/.test(G),S=/[^\w_]/.test(G),Q=K+J,L=R?m:S?l:h,J)}function w(){return/[^\s]/g.test(G)?(a(M.join("")),L=g,J):(M.push(G),H=G,J+1)}function x(){return"\n"===G&&"\\"!==H?(a(M.join("")),L=g,J):(M.push(G),H=G,J+1)}function y(){return x()}function z(){return"/"===G&&"*"===H?(M.push(G),a(M.join("")),L=g,J+1):(M.push(G),H=G,J+1)}function A(){if("."===H&&/\d/.test(G))return L=n,J;if("/"===H&&"*"===G)return L=i,J;if("/"===H&&"/"===G)return L=j,J;if("."===G&&M.length){for(;B(M););return L=n,J}if(";"===G||")"===G||"("===G){if(M.length)for(;B(M););return a(G),L=g,J+1}var b=2===M.length&&"="!==G;if(/[\w_\d\s]/.test(G)||b){for(;B(M););return L=g,J}return M.push(G),H=G,J+1}function B(b){for(var c,d,f=0;;){if(c=e.indexOf(b.slice(0,b.length+f).join("")),d=e[c],-1===c){if(f--+b.length>0)continue;d=b.slice(0,1).join("")}return a(d),Q+=d.length,M=M.slice(d.length),M.length}}function C(){return/[^a-fA-F0-9]/.test(G)?(a(M.join("")),L=g,J):(M.push(G),H=G,J+1)}function D(){return"."===G?(M.push(G),L=n,H=G,J+1):/[eE]/.test(G)?(M.push(G),L=n,H=G,J+1):"x"===G&&1===M.length&&"0"===M[0]?(L=t,M.push(G),H=G,J+1):/[^\d]/.test(G)?(a(M.join("")),L=g,J):(M.push(G),H=G,J+1)}function E(){return"f"===G&&(M.push(G),H=G,J+=1),/[eE]/.test(G)?(M.push(G),H=G,J+1):/[^\d]/.test(G)?(a(M.join("")),L=g,J):(M.push(G),H=G,J+1)}function F(){if(/[^\d\w_]/.test(G)){var b=M.join("");return L=d.indexOf(b)>-1?q:f.indexOf(b)>-1?p:o,a(M.join("")),L=g,J}return M.push(G),H=G,J+1}var G,H,I,J=0,K=0,L=g,M=[],N=[],O=1,P=0,Q=0,R=!1,S=!1,T="";return function(a){return N=[],null!==a?b(a):c()}}a.exports=c;var d=require("./lib/literals"),e=require("./lib/operators"),f=require("./lib/builtins"),g=999,h=9999,i=0,j=1,k=2,l=3,m=4,n=5,o=6,p=7,q=8,r=9,s=10,t=11,u=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},{"./lib/builtins":170,"./lib/literals":171,"./lib/operators":172}],170:[function(require,a,b){a.exports=["gl_Position","gl_PointSize","gl_ClipVertex","gl_FragCoord","gl_FrontFacing","gl_FragColor","gl_FragData","gl_FragDepth","gl_Color","gl_SecondaryColor","gl_Normal","gl_Vertex","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_FogCoord","gl_MaxLights","gl_MaxClipPlanes","gl_MaxTextureUnits","gl_MaxTextureCoords","gl_MaxVertexAttribs","gl_MaxVertexUniformComponents","gl_MaxVaryingFloats","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformComponents","gl_MaxDrawBuffers","gl_ModelViewMatrix","gl_ProjectionMatrix","gl_ModelViewProjectionMatrix","gl_TextureMatrix","gl_NormalMatrix","gl_ModelViewMatrixInverse","gl_ProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverse","gl_TextureMatrixInverse","gl_ModelViewMatrixTranspose","gl_ProjectionMatrixTranspose","gl_ModelViewProjectionMatrixTranspose","gl_TextureMatrixTranspose","gl_ModelViewMatrixInverseTranspose","gl_ProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixInverseTranspose","gl_TextureMatrixInverseTranspose","gl_NormalScale","gl_DepthRangeParameters","gl_DepthRange","gl_ClipPlane","gl_PointParameters","gl_Point","gl_MaterialParameters","gl_FrontMaterial","gl_BackMaterial","gl_LightSourceParameters","gl_LightSource","gl_LightModelParameters","gl_LightModel","gl_LightModelProducts","gl_FrontLightModelProduct","gl_BackLightModelProduct","gl_LightProducts","gl_FrontLightProduct","gl_BackLightProduct","gl_FogParameters","gl_Fog","gl_TextureEnvColor","gl_EyePlaneS","gl_EyePlaneT","gl_EyePlaneR","gl_EyePlaneQ","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_ObjectPlaneR","gl_ObjectPlaneQ","gl_FrontColor","gl_BackColor","gl_FrontSecondaryColor","gl_BackSecondaryColor","gl_TexCoord","gl_FogFragCoord","gl_Color","gl_SecondaryColor","gl_TexCoord","gl_FogFragCoord","gl_PointCoord","radians","degrees","sin","cos","tan","asin","acos","atan","pow","exp","log","exp2","log2","sqrt","inversesqrt","abs","sign","floor","ceil","fract","mod","min","max","clamp","mix","step","smoothstep","length","distance","dot","cross","normalize","faceforward","reflect","refract","matrixCompMult","lessThan","lessThanEqual","greaterThan","greaterThanEqual","equal","notEqual","any","all","not","texture2D","texture2DProj","texture2DLod","texture2DProjLod","textureCube","textureCubeLod","dFdx","dFdy"]},{}],171:[function(require,a,b){a.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},{}],172:[function(require,a,b){a.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},{}],173:[function(require,a,b){function c(a){var b=d(),c=[];return c=c.concat(b(a)),c=c.concat(b(null))}var d=require("./index");a.exports=c},{"./index":169}],174:[function(require,b,c){!function(b){function d(){var a=arguments[0],b=d.cache;return b[a]&&b.hasOwnProperty(a)||(b[a]=d.parse(a)),d.format.call(null,b[a],arguments)}function e(a){return Object.prototype.toString.call(a).slice(8,-1).toLowerCase()}function f(a,b){return Array(b+1).join(a)}var g={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};d.format=function(a,b){var c,h,i,j,k,l,m,n=1,o=a.length,p="",q=[],r=!0,s="";for(h=0;o>h;h++)if(p=e(a[h]),"string"===p)q[q.length]=a[h];else if("array"===p){if(j=a[h],j[2])for(c=b[n],i=0;i<j[2].length;i++){if(!c.hasOwnProperty(j[2][i]))throw new Error(d("[sprintf] property '%s' does not exist",j[2][i]));c=c[j[2][i]]}else c=j[1]?b[j[1]]:b[n++];if("function"==e(c)&&(c=c()),g.not_string.test(j[8])&&g.not_json.test(j[8])&&"number"!=e(c)&&isNaN(c))throw new TypeError(d("[sprintf] expecting number but found %s",e(c)));switch(g.number.test(j[8])&&(r=c>=0),j[8]){case"b":c=c.toString(2);break;case"c":c=String.fromCharCode(c);break;case"d":case"i":c=parseInt(c,10);break;case"j":c=JSON.stringify(c,null,j[6]?parseInt(j[6]):0);break;case"e":c=j[7]?c.toExponential(j[7]):c.toExponential();break;case"f":c=j[7]?parseFloat(c).toFixed(j[7]):parseFloat(c);break;case"g":c=j[7]?parseFloat(c).toPrecision(j[7]):parseFloat(c);break;case"o":c=c.toString(8);break;case"s":c=(c=String(c))&&j[7]?c.substring(0,j[7]):c;break;case"u":c>>>=0;break;case"x":c=c.toString(16);break;case"X":c=c.toString(16).toUpperCase()}g.json.test(j[8])?q[q.length]=c:(!g.number.test(j[8])||r&&!j[3]?s="":(s=r?"+":"-",c=c.toString().replace(g.sign,"")),l=j[4]?"0"===j[4]?"0":j[4].charAt(1):" ",m=j[6]-(s+c).length,k=j[6]&&m>0?f(l,m):"",q[q.length]=j[5]?s+c+k:"0"===l?s+k+c:k+s+c)}return q.join("")},d.cache={},d.parse=function(a){for(var b=a,c=[],d=[],e=0;b;){if(null!==(c=g.text.exec(b)))d[d.length]=c[0];else if(null!==(c=g.modulo.exec(b)))d[d.length]="%";else{if(null===(c=g.placeholder.exec(b)))throw new SyntaxError("[sprintf] unexpected placeholder");if(c[2]){e|=1;var f=[],h=c[2],i=[];if(null===(i=g.key.exec(h)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(f[f.length]=i[1];""!==(h=h.substring(i[0].length));)if(null!==(i=g.key_access.exec(h)))f[f.length]=i[1];else{if(null===(i=g.index_access.exec(h)))throw new SyntaxError("[sprintf] failed to parse named argument key");f[f.length]=i[1]}c[2]=f}else e|=2;if(3===e)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");d[d.length]=c}b=b.substring(c[0].length)}return d};var h=function(a,b,c){return c=(b||[]).slice(0),c.splice(0,0,a),d.apply(null,c)};"undefined"!=typeof c?(c.sprintf=d,c.vsprintf=h):(b.sprintf=d,b.vsprintf=h,"function"==typeof a&&a.amd&&a(function(){return{sprintf:d,vsprintf:h}}))}("undefined"==typeof window?this:window)},{}],175:[function(require,a,b){function c(){var a={};return function(b){if(("object"!=typeof b||null===b)&&"function"!=typeof b)throw new Error("Weakmap-shim: Key must be object");var c=b.valueOf(a);return c&&c.identity===a?c:d(b,a)}}var d=require("./hidden-store.js");a.exports=c},{"./hidden-store.js":176}],176:[function(require,a,b){function c(a,b){var c={identity:b},d=a.valueOf;return Object.defineProperty(a,"valueOf",{value:function(a){return a!==b?d.apply(this,arguments):c},writable:!0}),c}a.exports=c},{}],177:[function(require,a,b){function c(){var a=d();return{get:function(b,c){var d=a(b);return d.hasOwnProperty("value")?d.value:c},set:function(b,c){a(b).value=c},has:function(b){return"value"in a(b)},"delete":function(b){return delete a(b).value}}}var d=require("./create-store.js");a.exports=c},{"./create-store.js":175}],178:[function(require,a,b){"use strict";function c(a){this.plot=a,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}function d(a,b){var d=new c(a);return d.update(b),a.addOverlay(d),d}a.exports=d;var e=c.prototype;e.update=function(a){a=a||{},this.enable=(a.enable||[!0,!0,!1,!1]).slice(),this.width=(a.width||[1,1,1,1]).slice(),this.color=(a.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(a){return a.slice()}),this.center=(a.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},e.draw=function(){var a=this.enable,b=this.width,c=this.color,d=this.center,e=this.plot,f=e.line,g=e.dataBox,h=e.viewBox;if(f.bind(),g[0]<=d[0]&&d[0]<=g[2]&&g[1]<=d[1]&&d[1]<=g[3]){var i=h[0]+(d[0]-g[0])/(g[2]-g[0])*(h[2]-h[0]),j=h[1]+(d[1]-g[1])/(g[3]-g[1])*(h[3]-h[1]);a[0]&&f.drawLine(i,j,h[0],j,b[0],c[0]),a[1]&&f.drawLine(i,j,i,h[1],b[1],c[1]),a[2]&&f.drawLine(i,j,h[2],j,b[2],c[2]),a[3]&&f.drawLine(i,j,i,h[3],b[3],c[3])}},e.dispose=function(){this.plot.removeOverlay(this)}},{}],179:[function(require,a,b){var c=require("gl-shader"),d="#define GLSLIFY 1\nprecision mediump float;\n\nattribute vec4 uv;\nattribute vec2 f;\nattribute vec3 normal;\n\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 lightPosition, eyePosition;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\n\nvoid main() {\n  worldCoordinate = vec3(uv.zw, f.x);\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n  vec4 clipPosition = projection * view * worldPosition;\n  gl_Position = clipPosition;\n  value = f.x;\n  kill = f.y;\n  planeCoordinate = uv.xy;\n  \n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * worldPosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  lightDirection = lightPosition - cameraCoordinate.xyz;\n  eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);\n}",e="#define GLSLIFY 1\nprecision mediump float;\n\nfloat beckmannDistribution_2_0(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\n\n\nfloat beckmannSpecular_1_1(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness) {\n  return beckmannDistribution_2_0(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);\n}\n\n\n\nuniform vec3 lowerBound, upperBound;\nuniform float contourTint;\nuniform vec4 contourColor;\nuniform sampler2D colormap;\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\n\nvoid main() {\n  if(kill > 0.0 ||\n    any(lessThan(worldCoordinate, clipBounds[0])) || any(greaterThan(worldCoordinate, clipBounds[1]))) {\n    discard;\n  }\n\n  vec3 N = normalize(surfaceNormal);\n  vec3 V = normalize(eyeDirection);\n  vec3 L = normalize(lightDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = beckmannSpecular_1_1(L, V, N, roughness);\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  float interpValue = (value - lowerBound.z) / (upperBound.z - lowerBound.z);\n  vec4 surfaceColor = texture2D(colormap, vec2(interpValue, interpValue));\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;\n}\n",f="#define GLSLIFY 1\nprecision mediump float;\n\nattribute vec4 uv;\n\nuniform mat3 permutation;\nuniform mat4 model, view, projection;\nuniform float height, zOffset;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\n\nvoid main() {\n  vec3 dataCoordinate = permutation * vec3(uv.xy, height);\n  vec4 worldPosition = model * vec4(dataCoordinate, 1.0);\n\n  vec4 clipPosition = projection * view * worldPosition;\n  clipPosition.z = clipPosition.z + zOffset;\n\n  gl_Position = clipPosition;\n  value = dataCoordinate.z;\n  kill = -1.0;\n  worldCoordinate = dataCoordinate;\n  planeCoordinate = uv.zw;\n\n  //Don't do lighting for contours\n  surfaceNormal   = vec3(1,0,0);\n  eyeDirection    = vec3(0,1,0);\n  lightDirection  = vec3(0,0,1);\n}\n",g="#define GLSLIFY 1\nprecision mediump float;\n\nuniform vec2 shape;\nuniform vec3 clipBounds[2];\nuniform float pickId;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 surfaceNormal;\n\nvec2 splitFloat(float v) {\n  float vh = 255.0 * v;\n  float upper = floor(vh);\n  float lower = fract(vh);\n  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);\n}\n\nvoid main() {\n  if(kill > 0.0 || \n    any(lessThan(worldCoordinate, clipBounds[0])) || any(greaterThan(worldCoordinate, clipBounds[1]))) {\n    discard;\n  }\n  vec2 ux = splitFloat(planeCoordinate.x / shape.x);\n  vec2 uy = splitFloat(planeCoordinate.y / shape.y);\n  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));\n}";b.createShader=function(a){var b=c(a,d,e,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec2"},{name:"normal",type:"vec3"}]);return b.attributes.uv.location=0,b.attributes.f.location=1,b.attributes.normal.location=2,b},b.createPickShader=function(a){var b=c(a,d,g,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec2"},{name:"normal",type:"vec3"}]);return b.attributes.uv.location=0,b.attributes.f.location=1,b.attributes.normal.location=2,b},b.createContourShader=function(a){var b=c(a,f,e,null,[{name:"uv",type:"vec4"}]);return b.attributes.uv.location=0,b},b.createPickContourShader=function(a){var b=c(a,f,g,null,[{name:"uv",type:"vec4"}]);return b.attributes.uv.location=0,b}},{"gl-shader":154}],180:[function(require,a,b){arguments[4][20][0].apply(b,arguments)},{dup:20}],181:[function(require,a,b){"use strict";function c(a){if(a in h)return h[a];for(var b=[],c=0;a>c;++c)b.push("out",c,"s=0.5*(inp",c,"l-inp",c,"r);");for(var d=["array"],e=["junk"],c=0;a>c;++c){d.push("array"),e.push("out"+c+"s");var i=f(a);i[c]=-1,d.push({array:0,offset:i.slice()}),i[c]=1,d.push({array:0,offset:i.slice()}),e.push("inp"+c+"l","inp"+c+"r")}return h[a]=g({args:d,pre:j,post:j,body:{body:b.join(""),args:e.map(function(a){return{name:a,lvalue:0===a.indexOf("out"),rvalue:0===a.indexOf("inp"),count:"junk"!==a|0}}),thisVars:[],localVars:[]},funcName:"fdTemplate"+a})}function d(a){function b(b){for(var c=f-b.length,d=[],e=[],h=[],i=0;f>i;++i)b.indexOf(i+1)>=0?h.push("0"):b.indexOf(-(i+1))>=0?h.push("s["+i+"]-1"):(h.push("-1"),d.push("1"),e.push("s["+i+"]-2"));var j=".lo("+d.join()+").hi("+e.join()+")";if(0===d.length&&(j=""),c>0){g.push("if(1");for(var i=0;f>i;++i)b.indexOf(i+1)>=0||b.indexOf(-(i+1))>=0||g.push("&&s[",i,"]>2");g.push("){grad",c,"(src.pick(",h.join(),")",j);for(var i=0;f>i;++i)b.indexOf(i+1)>=0||b.indexOf(-(i+1))>=0||g.push(",dst.pick(",h.join(),",",i,")",j);g.push(");")}for(var i=0;i<b.length;++i){var k=Math.abs(b[i])-1,l="dst.pick("+h.join()+","+k+")"+j;switch(a[k]){case"clamp":var m=h.slice(),n=h.slice();b[i]<0?m[k]="s["+k+"]-2":n[k]="1",0===c?g.push("if(s[",k,"]>1){dst.set(",h.join(),",",k,",0.5*(src.get(",m.join(),")-src.get(",n.join(),")))}else{dst.set(",h.join(),",",k,",0)};"):g.push("if(s[",k,"]>1){diff(",l,",src.pick(",m.join(),")",j,",src.pick(",n.join(),")",j,");}else{zero(",l,");};");break;case"mirror":0===c?g.push("dst.set(",h.join(),",",k,",0);"):g.push("zero(",l,");");break;case"wrap":var o=h.slice(),p=h.slice();b[i]<0?(o[k]="s["+k+"]-2",p[k]="0"):(o[k]="s["+k+"]-1",p[k]="1"),0===c?g.push("if(s[",k,"]>2){dst.set(",h.join(),",",k,",0.5*(src.get(",o.join(),")-src.get(",p.join(),")))}else{dst.set(",h.join(),",",k,",0)};"):g.push("if(s[",k,"]>2){diff(",l,",src.pick(",o.join(),")",j,",src.pick(",p.join(),")",j,");}else{zero(",l,");};");break;default:throw new Error("ndarray-gradient: Invalid boundary condition")}}c>0&&g.push("};")}var d=a.join(),e=i[d];if(e)return e;for(var f=a.length,g=["function gradient(dst,src){var s=src.shape.slice();"],j=0;1<<f>j;++j){for(var m=[],n=0;f>n;++n)j&1<<n&&m.push(n+1);for(var o=0;o<1<<m.length;++o){for(var p=m.slice(),n=0;n<m.length;++n)o&1<<n&&(p[n]=-p[n]);b(p)}}g.push("return dst;};return gradient");for(var q=["diff","zero"],r=[k,l],j=1;f>=j;++j)q.push("grad"+j),r.push(c(j));q.push(g.join(""));var s=Function.apply(void 0,q),e=s.apply(void 0,r);return h[d]=e,e}function e(a,b,c){if(Array.isArray(c)){if(c.length!==b.dimension)throw new Error("ndarray-gradient: invalid boundary conditions")}else c="string"==typeof c?f(b.dimension,c):f(b.dimension,"clamp");if(a.dimension!==b.dimension+1)throw new Error("ndarray-gradient: output dimension must be +1 input dimension");if(a.shape[b.dimension]!==b.dimension)throw new Error("ndarray-gradient: output shape must match input shape");for(var e=0;e<b.dimension;++e)if(a.shape[e]!==b.shape[e])throw new Error("ndarray-gradient: shape mismatch");if(0===b.size)return a;if(b.dimension<=0)return a.set(0),a;var g=d(c);return g(a,b)}a.exports=e;var f=require("dup"),g=require("cwise-compiler"),h={},i={},j={body:"",args:[],thisVars:[],localVars:[]},k=g({args:["array","array","array"],pre:j,post:j,body:{args:[{name:"out",lvalue:!0,rvalue:!1,count:1},{name:"left",lvalue:!1,rvalue:!0,count:1},{name:"right",lvalue:!1,rvalue:!0,count:1}],body:"out=0.5*(left-right)",thisVars:[],localVars:[]},funcName:"cdiff"}),l=g({args:["array"],pre:j,post:j,body:{args:[{name:"out",lvalue:!0,rvalue:!1,count:1}],body:"out=0",thisVars:[],localVars:[]},funcName:"zero"})},{"cwise-compiler":66,dup:72}],182:[function(require,a,b){"use strict";var c=require("ndarray"),d=require("./doConvert.js");a.exports=function(a,b){for(var e=[],f=a,g=1;f instanceof Array;)e.push(f.length),g*=f.length,f=f[0];return 0===e.length?c():(b||(b=c(new Float64Array(g),e)),d(b,a),b)}},{"./doConvert.js":183,ndarray:208}],183:[function(require,a,b){a.exports=require("cwise-compiler")({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\nvar _inline_1_v=_inline_1_arg1_,_inline_1_i\nfor(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {\n_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]\n}\n_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]\n}",args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_i","_inline_1_v"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},funcName:"convert",blockSize:64})},{"cwise-compiler":66}],184:[function(require,a,b){"use strict";function c(a,b,c,d,e){this.position=a,this.index=b,this.uv=c,this.level=d,this.dataCoordinate=e}function d(a){var b=t([r({colormap:a,nshades:J,format:"rgba"}).map(function(a){return[a[0],a[1],a[2],255*a[3]]})]);return s.divseq(b,255),b}function e(a,b,d,e,f,g,h,i,j,k,l,m,n,o){this.gl=a,this.shape=b,this.bounds=d,this._shader=e,this._pickShader=f,this._coordinateBuffer=g,this._vao=h,this._colorMap=i,this._contourShader=j,this._contourPickShader=k,this._contourBuffer=l,this._contourVAO=m,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new c([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=n,this._dynamicVAO=o,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-(1/0),-(1/0),-(1/0)]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[u(q.mallocFloat(1024),[0,0]),u(q.mallocFloat(1024),[0,0]),u(q.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-(1/0),-(1/0),-(1/0)],[1/0,1/0,1/0]],this.snapToData=!1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.dirty=!0}function f(a,b){for(var c=b.axes&&b.axes.lastCubeProps.axis||L,d=b.showSurface,e=b.showContour,f=0;3>f;++f){d=d||b.surfaceProject[f];for(var g=0;3>g;++g)e=e||b.contourProject[f][g]}for(var f=0;3>f;++f){for(var h=M.projections[f],g=0;16>g;++g)h[g]=0;for(var g=0;4>g;++g)h[5*g]=1;h[5*f]=0,h[12+f]=b.axesBounds[+(c[f]>0)][f],w(h,a.model,h);for(var i=M.clipBounds[f],j=0;2>j;++j)for(var g=0;3>g;++g)i[j][g]=a.clipBounds[j][g];i[0][f]=-1e8,i[1][f]=1e8}return M.showSurface=d,M.showContour=e,M}function g(a,b){a=a||{};var c=this.gl;c.disable(c.CULL_FACE),this._colorMap.bind(0);var d=N;d.model=a.model||G,d.view=a.view||G,d.projection=a.projection||G,d.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],d.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],d.contourColor=this.contourColor[0],d.inverseModel=x(d.inverseModel,d.model);for(var e=0;2>e;++e)for(var g=d.clipBounds[e],h=0;3>h;++h)g[h]=Math.min(Math.max(this.clipBounds[e][h],-1e8),1e8);d.kambient=this.ambientLight,d.kdiffuse=this.diffuseLight,d.kspecular=this.specularLight,d.shape=d.roughness=this.roughness,d.fresnel=this.fresnel,d.opacity=this.opacity,d.height=0,d.permutation=P;var i=O;w(i,d.view,d.model),w(i,d.projection,i),x(i,i);for(var e=0;3>e;++e)d.eyePosition[e]=i[12+e]/i[15];for(var j=i[15],e=0;3>e;++e)j+=this.lightPosition[e]*i[4*e+3];for(var e=0;3>e;++e){for(var k=i[12+e],h=0;3>h;++h)k+=i[4*h+e]*this.lightPosition[h];d.lightPosition[e]=k/j}var l=f(d,this);if(l.showSurface&&b===this.opacity<1){this._shader.bind(),this._shader.uniforms=d,this._vao.bind(),this.showSurface&&this._vao.draw(c.TRIANGLES,this._vertexCount);for(var e=0;3>e;++e)this.surfaceProject[e]&&(this._shader.uniforms.model=l.projections[e],this._shader.uniforms.clipBounds=l.clipBounds[e],this._vao.draw(c.TRIANGLES,this._vertexCount));this._vao.unbind()}if(l.showContour&&!b){var m=this._contourShader;d.kambient=1,d.kdiffuse=0,d.kspecular=0,d.opacity=1,m.bind(),m.uniforms=d;var n=this._contourVAO;n.bind();for(var e=0;3>e;++e){m.uniforms.permutation=I[e],c.lineWidth(this.contourWidth[e]);for(var h=0;h<this.contourLevels[e].length;++h)h===this.highlightLevel[e]?(m.uniforms.contourColor=this.highlightColor[e],m.uniforms.contourTint=this.highlightTint[e]):(0===h||h-1===this.highlightLevel[e])&&(m.uniforms.contourColor=this.contourColor[e],m.uniforms.contourTint=this.contourTint[e]),m.uniforms.height=this.contourLevels[e][h],n.draw(c.LINES,this._contourCounts[e][h],this._contourOffsets[e][h])}for(var e=0;3>e;++e){m.uniforms.model=l.projections[e],m.uniforms.clipBounds=l.clipBounds[e];for(var h=0;3>h;++h)if(this.contourProject[e][h]){m.uniforms.permutation=I[h],c.lineWidth(this.contourWidth[h]);for(var o=0;o<this.contourLevels[h].length;++o)o===this.highlightLevel[h]?(m.uniforms.contourColor=this.highlightColor[h],m.uniforms.contourTint=this.highlightTint[h]):(0===o||o-1===this.highlightLevel[h])&&(m.uniforms.contourColor=this.contourColor[h],m.uniforms.contourTint=this.contourTint[h]),m.uniforms.height=this.contourLevels[h][o],n.draw(c.LINES,this._contourCounts[h][o],this._contourOffsets[h][o])}}n=this._dynamicVAO,n.bind();for(var e=0;3>e;++e)if(0!==this._dynamicCounts[e]){m.uniforms.model=d.model,m.uniforms.clipBounds=d.clipBounds,m.uniforms.permutation=I[e],c.lineWidth(this.dynamicWidth[e]),m.uniforms.contourColor=this.dynamicColor[e],m.uniforms.contourTint=this.dynamicTint[e],m.uniforms.height=this.dynamicLevel[e],n.draw(c.LINES,this._dynamicCounts[e],this._dynamicOffsets[e]);for(var h=0;3>h;++h)this.contourProject[h][e]&&(m.uniforms.model=l.projections[h],m.uniforms.clipBounds=l.clipBounds[h],n.draw(c.LINES,this._dynamicCounts[e],this._dynamicOffsets[e]))}n.unbind()}}function h(a,b){var c=b.shape.slice(),d=a.shape.slice();s.assign(a.lo(1,1).hi(c[0],c[1]),b),s.assign(a.lo(1).hi(c[0],1),b.hi(c[0],1)),s.assign(a.lo(1,d[1]-1).hi(c[0],1),b.lo(0,c[1]-1).hi(c[0],1)),s.assign(a.lo(0,1).hi(1,c[1]),b.hi(1)),s.assign(a.lo(d[0]-1,1).hi(1,c[1]),b.lo(c[0]-1)),a.set(0,0,b.get(0,0)),a.set(0,d[1]-1,b.get(0,c[1]-1)),a.set(d[0]-1,0,b.get(c[0]-1,0)),a.set(d[0]-1,d[1]-1,b.get(c[0]-1,c[1]-1))}function i(a,b){return Array.isArray(a)?[b(a[0]),b(a[1]),b(a[2])]:[b(a),b(a),b(a)]}function j(a){return Array.isArray(a)?3===a.length?[a[0],a[1],a[2],1]:[a[0],a[1],a[2],a[3]]:[0,0,0,1]}function k(a){if(Array.isArray(a)){if(Array.isArray(a))return[j(a[0]),j(a[1]),j(a[2])];var b=j(a);return[b.slice(),b.slice(),b.slice()]}}function l(a){var b=a.gl,c=(a.field||a.coords&&a.coords[2]||u([],[0,0]),B(b)),d=D(b),f=C(b),g=E(b),h=n(b),i=o(b,[{buffer:h,size:4,stride:F,offset:0},{buffer:h,size:2,stride:F,offset:16},{buffer:h,size:3,stride:F,offset:24}]),j=n(b),k=o(b,[{buffer:j,size:4}]),l=n(b),m=o(b,[{buffer:l,size:2,type:b.FLOAT}]),q=p(b,1,J,b.RGBA,b.UNSIGNED_BYTE);q.minFilter=b.LINEAR,q.magFilter=b.LINEAR;var r=new e(b,[0,0],[[0,0,0],[0,0,0]],c,d,h,i,q,f,g,j,k,l,m),s={levels:[[],[],[]]};for(var t in a)s[t]=a[t];return s.colormap=s.colormap||"jet",r.update(s),r}a.exports=l;var m=require("bit-twiddle"),n=require("gl-buffer"),o=require("gl-vao"),p=require("gl-texture2d"),q=require("typedarray-pool"),r=require("colormap"),s=require("ndarray-ops"),t=require("ndarray-pack"),u=require("ndarray"),v=require("surface-nets"),w=require("gl-mat4/multiply"),x=require("gl-mat4/invert"),y=require("binary-search-bounds"),z=require("ndarray-gradient"),u=require("ndarray"),A=require("./lib/shaders"),B=A.createShader,C=A.createContourShader,D=A.createPickShader,E=A.createPickContourShader,F=36,G=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],H=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],I=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];!function(){for(var a=0;3>a;++a){var b=I[a],c=(a+1)%3,d=(a+2)%3;b[c+0]=1,b[d+3]=1,b[a+6]=1}}();var J=265,K=e.prototype;K.isTransparent=function(){return this.opacity<1},K.isOpaque=function(){if(this.opacity>=1)return!0;for(var a=0;3>a;++a)if(this._contourCounts[a].length>0||this._dynamicCounts[a]>0)return!0;return!1},K.pickSlots=1,K.setPickBase=function(a){this.pickId=a;
};var L=[0,0,0],M={showSurface:!1,showContour:!1,projections:[G.slice(),G.slice(),G.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]},N={model:G,view:G,projection:G,inverseModel:G.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1},O=G.slice(),P=[1,0,0,0,1,0,0,0,1];K.draw=function(a){return g.call(this,a,!1)},K.drawTransparent=function(a){return g.call(this,a,!0)};var Q={model:G,view:G,projection:G,inverseModel:G,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};K.drawPick=function(a){a=a||{};var b=this.gl;b.disable(b.CULL_FACE);var c=Q;c.model=a.model||G,c.view=a.view||G,c.projection=a.projection||G,c.shape=this._field[2].shape,c.pickId=this.pickId/255,c.lowerBound=this.bounds[0],c.upperBound=this.bounds[1],c.permutation=P;for(var d=0;2>d;++d)for(var e=c.clipBounds[d],g=0;3>g;++g)e[g]=Math.min(Math.max(this.clipBounds[d][g],-1e8),1e8);var h=f(c,this);if(h.showSurface){this._pickShader.bind(),this._pickShader.uniforms=c,this._vao.bind(),this._vao.draw(b.TRIANGLES,this._vertexCount);for(var d=0;3>d;++d)this.surfaceProject[d]&&(this._pickShader.uniforms.model=h.projections[d],this._pickShader.uniforms.clipBounds=h.clipBounds[d],this._vao.draw(b.TRIANGLES,this._vertexCount));this._vao.unbind()}if(h.showContour){var i=this._contourPickShader;i.bind(),i.uniforms=c;var j=this._contourVAO;j.bind();for(var g=0;3>g;++g){b.lineWidth(this.contourWidth[g]),i.uniforms.permutation=I[g];for(var d=0;d<this.contourLevels[g].length;++d)i.uniforms.height=this.contourLevels[g][d],j.draw(b.LINES,this._contourCounts[g][d],this._contourOffsets[g][d])}for(var d=0;3>d;++d){i.uniforms.model=h.projections[d],i.uniforms.clipBounds=h.clipBounds[d];for(var g=0;3>g;++g)if(this.contourProject[d][g]){i.uniforms.permutation=I[g],b.lineWidth(this.contourWidth[g]);for(var k=0;k<this.contourLevels[g].length;++k)i.uniforms.height=this.contourLevels[g][k],j.draw(b.LINES,this._contourCounts[g][k],this._contourOffsets[g][k])}}j.unbind()}},K.pick=function(a){if(!a)return null;if(a.id!==this.pickId)return null;var b=this._field[2].shape,c=this._pickResult,d=b[0]*(a.value[0]+(a.value[2]>>4)/16)/255,e=Math.floor(d),f=d-e,g=b[1]*(a.value[1]+(15&a.value[2])/16)/255,h=Math.floor(g),i=g-h;e+=1,h+=1;var j=c.position;j[0]=j[1]=j[2]=0;for(var k=0;2>k;++k)for(var l=k?f:1-f,m=0;2>m;++m)for(var n=m?i:1-i,o=e+k,p=h+m,q=l*n,r=0;3>r;++r)j[r]+=this._field[r].get(o,p)*q;for(var s=this._pickResult.level,t=0;3>t;++t)if(s[t]=y.le(this.contourLevels[t],j[t]),s[t]<0)this.contourLevels[t].length>0&&(s[t]=0);else if(s[t]<this.contourLevels[t].length-1){var u=this.contourLevels[t][s[t]],v=this.contourLevels[t][s[t]+1];Math.abs(u-j[t])>Math.abs(v-j[t])&&(s[t]+=1)}c.index[0]=.5>f?e:e+1,c.index[1]=.5>i?h:h+1,c.uv[0]=d/b[0],c.uv[1]=g/b[1];for(var r=0;3>r;++r)c.dataCoordinate[r]=this._field[r].get(c.index[0],c.index[1]);return c},K.update=function(a){a=a||{},this.dirty=!0,"contourWidth"in a&&(this.contourWidth=i(a.contourWidth,Number)),"showContour"in a&&(this.showContour=i(a.showContour,Boolean)),"showSurface"in a&&(this.showSurface=!!a.showSurface),"contourTint"in a&&(this.contourTint=i(a.contourTint,Boolean)),"contourColor"in a&&(this.contourColor=k(a.contourColor)),"contourProject"in a&&(this.contourProject=i(a.contourProject,function(a){return i(a,Boolean)})),"surfaceProject"in a&&(this.surfaceProject=a.surfaceProject),"dynamicColor"in a&&(this.dynamicColor=k(a.dynamicColor)),"dynamicTint"in a&&(this.dynamicTint=i(a.dynamicTint,Number)),"dynamicWidth"in a&&(this.dynamicWidth=i(a.dynamicWidth,Number)),"opacity"in a&&(this.opacity=a.opacity),"colorBounds"in a&&(this.colorBounds=a.colorBounds);var b=a.field||a.coords&&a.coords[2]||null;if(b||(b=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in a||"coords"in a){var c=(b.shape[0]+2)*(b.shape[1]+2);c>this._field[2].data.length&&(q.freeFloat(this._field[2].data),this._field[2].data=q.mallocFloat(m.nextPow2(c))),this._field[2]=u(this._field[2].data,[b.shape[0]+2,b.shape[1]+2]),h(this._field[2],b),this.shape=b.shape.slice();for(var e=this.shape,f=0;2>f;++f)this._field[2].size>this._field[f].data.length&&(q.freeFloat(this._field[f].data),this._field[f].data=q.mallocFloat(this._field[2].size)),this._field[f]=u(this._field[f].data,[e[0]+2,e[1]+2]);if(a.coords){var g=a.coords;if(!Array.isArray(g)||3!==g.length)throw new Error("gl-surface: invalid coordinates for x/y");for(var f=0;2>f;++f){for(var j=g[f],l=0;2>l;++l)if(j.shape[l]!==e[l])throw new Error("gl-surface: coords have incorrect shape");h(this._field[f],j)}}else if(a.ticks){var n=a.ticks;if(!Array.isArray(n)||2!==n.length)throw new Error("gl-surface: invalid ticks");for(var f=0;2>f;++f){var o=n[f];if((Array.isArray(o)||o.length)&&(o=u(o)),o.shape[0]!==e[f])throw new Error("gl-surface: invalid tick length");var p=u(o.data,e);p.stride[f]=o.stride[0],p.stride[1^f]=0,h(this._field[f],p)}}else{for(var f=0;2>f;++f){var r=[0,0];r[f]=1,this._field[f]=u(this._field[f].data,[e[0]+2,e[1]+2],r,0)}this._field[0].set(0,0,0);for(var l=0;l<e[0];++l)this._field[0].set(l+1,0,l);this._field[0].set(e[0]+1,0,e[0]-1),this._field[1].set(0,0,0);for(var l=0;l<e[1];++l)this._field[1].set(0,l+1,l);this._field[1].set(0,e[1]+1,e[1]-1)}for(var s=this._field,t=(s[2].size,u(q.mallocFloat(3*s[2].size*2),[3,e[0]+2,e[1]+2,2])),f=0;3>f;++f)z(t.pick(f),s[f],"mirror");for(var w=u(q.mallocFloat(3*s[2].size),[e[0]+2,e[1]+2,3]),f=0;f<e[0]+2;++f)for(var l=0;l<e[1]+2;++l){var x=t.get(0,f,l,0),y=t.get(0,f,l,1),A=t.get(1,f,l,0),B=t.get(1,f,l,1),C=t.get(2,f,l,0),D=t.get(2,f,l,1),E=A*D-B*C,F=C*y-D*x,G=x*B-y*A,I=Math.sqrt(E*E+F*F+G*G);1e-8>I?(I=Math.max(Math.abs(E),Math.abs(F),Math.abs(G)),1e-8>I?(G=1,F=E=0,I=1):I=1/I):I=1/Math.sqrt(I),w.set(f,l,0,E*I),w.set(f,l,1,F*I),w.set(f,l,2,G*I)}q.free(t.data);for(var J=[1/0,1/0,1/0],K=[-(1/0),-(1/0),-(1/0)],L=(e[0]-1)*(e[1]-1)*6,M=q.mallocFloat(m.nextPow2(9*L)),N=0,O=0,f=0;f<e[0]-1;++f)a:for(var l=0;l<e[1]-1;++l){for(var P=0;2>P;++P)for(var Q=0;2>Q;++Q)for(var R=0;3>R;++R){var S=this._field[R].get(1+f+P,1+l+Q);if(isNaN(S)||!isFinite(S))continue a}for(var R=0;6>R;++R){var T=f+H[R][0],U=l+H[R][1],V=this._field[0].get(T+1,U+1),W=this._field[1].get(T+1,U+1),S=this._field[2].get(T+1,U+1),E=w.get(T+1,U+1,0),F=w.get(T+1,U+1,1),G=w.get(T+1,U+1,2);M[N++]=T,M[N++]=U,M[N++]=V,M[N++]=W,M[N++]=S,M[N++]=0,M[N++]=E,M[N++]=F,M[N++]=G,J[0]=Math.min(J[0],V),J[1]=Math.min(J[1],W),J[2]=Math.min(J[2],S),K[0]=Math.max(K[0],V),K[1]=Math.max(K[1],W),K[2]=Math.max(K[2],S),O+=1}}this._vertexCount=O,this._coordinateBuffer.update(M.subarray(0,N)),q.freeFloat(M),q.free(w.data),this.bounds=[J,K]}var X=!1;if("levels"in a){var Y=a.levels;Y=Array.isArray(Y[0])?Y.slice():[[],[],Y];for(var f=0;3>f;++f)Y[f]=Y[f].slice(),Y.sort(function(a,b){return a-b});a:for(var f=0;3>f;++f){if(Y[f].length!==this.contourLevels[f].length){X=!0;break}for(var l=0;l<Y[f].length;++l)if(Y[f][l]!==this.contourLevels[f][l]){X=!0;break a}}this.contourLevels=Y}if(X){for(var s=this._field,e=this.shape,Z=[],$=0;3>$;++$){for(var Y=this.contourLevels[$],_=[],aa=[],ba=[0,0],f=0;f<Y.length;++f){var ca=v(this._field[$],Y[f]);_.push(Z.length/4|0);var O=0;a:for(var l=0;l<ca.cells.length;++l)for(var da=ca.cells[l],R=0;2>R;++R){var ea=ca.positions[da[R]],fa=ea[0],ga=0|Math.floor(fa),ha=fa-ga,ia=ea[1],ja=0|Math.floor(ia),ka=ia-ja,la=!1;b:for(var ma=0;2>ma;++ma){ba[ma]=0;for(var na=($+ma+1)%3,P=0;2>P;++P)for(var oa=P?ha:1-ha,T=0|Math.min(Math.max(ga+P,0),e[0]),Q=0;2>Q;++Q){var pa=Q?ka:1-ka,U=0|Math.min(Math.max(ja+Q,0),e[1]),S=this._field[na].get(T,U);if(!isFinite(S)||isNaN(S)){la=!0;break b}var qa=oa*pa;ba[ma]+=qa*S}}if(la){if(R>0){for(var ra=0;4>ra;++ra)Z.pop();O-=1}continue a}Z.push(ba[0],ba[1],ea[0],ea[1]),O+=1}aa.push(O)}this._contourOffsets[$]=_,this._contourCounts[$]=aa}for(var sa=q.mallocFloat(Z.length),f=0;f<Z.length;++f)sa[f]=Z[f];this._contourBuffer.update(sa),q.freeFloat(sa)}a.colormap&&this._colorMap.setPixels(d(a.colormap))},K.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var a=0;3>a;++a)q.freeFloat(this._field[a].data)},K.highlight=function(a){if(!a)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(var b=0;3>b;++b)this.enableHighlight[b]?this.highlightLevel[b]=a.level[b]:this.highlightLevel[b]=-1;var c;if(c=this.snapToData?a.dataCoordinate:a.position,this.enableDynamic[0]&&c[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&c[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&c[2]!==this.dynamicLevel[2]){for(var d=0,e=this.shape,f=q.mallocFloat(12*e[0]*e[1]),g=0;3>g;++g)if(this.enableDynamic[g]){this.dynamicLevel[g]=c[g];var h=(g+1)%3,i=(g+2)%3,j=this._field[g],k=this._field[h],l=this._field[i],m=v(j,c[g]),n=m.cells,o=m.positions;this._dynamicOffsets[g]=d;for(var b=0;b<n.length;++b)for(var p=n[b],r=0;2>r;++r){var s=o[p[r]],t=+s[0],u=0|t,w=0|Math.min(u+1,e[0]),x=t-u,y=1-x,z=+s[1],A=0|z,B=0|Math.min(A+1,e[1]),C=z-A,D=1-C,E=y*D,F=y*C,G=x*D,H=x*C,I=E*k.get(u,A)+F*k.get(u,B)+G*k.get(w,A)+H*k.get(w,B),J=E*l.get(u,A)+F*l.get(u,B)+G*l.get(w,A)+H*l.get(w,B);if(isNaN(I)||isNaN(J)){r&&(d-=1);break}f[2*d+0]=I,f[2*d+1]=J,d+=1}this._dynamicCounts[g]=d-this._dynamicOffsets[g]}else this.dynamicLevel[g]=NaN,this._dynamicCounts[g]=0;this._dynamicBuffer.update(f.subarray(0,2*d)),q.freeFloat(f)}}},{"./lib/shaders":179,"binary-search-bounds":180,"bit-twiddle":49,colormap:57,"gl-buffer":75,"gl-mat4/invert":94,"gl-mat4/multiply":96,"gl-texture2d":185,"gl-vao":189,ndarray:208,"ndarray-gradient":181,"ndarray-ops":207,"ndarray-pack":182,"surface-nets":227,"typedarray-pool":233}],185:[function(require,a,b){"use strict";function c(a){p=[a.LINEAR,a.NEAREST_MIPMAP_LINEAR,a.LINEAR_MIPMAP_NEAREST,a.LINEAR_MIPMAP_NEAREST],q=[a.NEAREST,a.LINEAR,a.NEAREST_MIPMAP_NEAREST,a.NEAREST_MIPMAP_LINEAR,a.LINEAR_MIPMAP_NEAREST,a.LINEAR_MIPMAP_LINEAR],r=[a.REPEAT,a.CLAMP_TO_EDGE,a.MIRRORED_REPEAT]}function d(a,b,c){var d=a.gl,e=d.getParameter(d.MAX_TEXTURE_SIZE);if(0>b||b>e||0>c||c>e)throw new Error("gl-texture2d: Invalid texture size");return a._shape=[b,c],a.bind(),d.texImage2D(d.TEXTURE_2D,0,a.format,b,c,0,a.format,a.type,null),a._mipLevels=[0],a}function e(a,b,c,d,e,f){this.gl=a,this.handle=b,this.format=e,this.type=f,this._shape=[c,d],this._mipLevels=[0],this._magFilter=a.NEAREST,this._minFilter=a.NEAREST,this._wrapS=a.CLAMP_TO_EDGE,this._wrapT=a.CLAMP_TO_EDGE,this._anisoSamples=1;var g=this,h=[this._wrapS,this._wrapT];Object.defineProperties(h,[{get:function(){return g._wrapS},set:function(a){return g.wrapS=a}},{get:function(){return g._wrapT},set:function(a){return g.wrapT=a}}]),this._wrapVector=h;var i=[this._shape[0],this._shape[1]];Object.defineProperties(i,[{get:function(){return g._shape[0]},set:function(a){return g.width=a}},{get:function(){return g._shape[1]},set:function(a){return g.height=a}}]),this._shapeVector=i}function f(a,b){return 3===a.length?1===b[2]&&b[1]===a[0]*a[2]&&b[0]===a[2]:1===b[0]&&b[1]===a[0]}function g(a,b,c,d,e,g,h,i){var j=i.dtype,k=i.shape.slice();if(k.length<2||k.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var l=0,p=0,q=f(k,i.stride.slice());"float32"===j?l=a.FLOAT:"float64"===j?(l=a.FLOAT,q=!1,j="float32"):"uint8"===j?l=a.UNSIGNED_BYTE:(l=a.UNSIGNED_BYTE,q=!1,j="uint8");var r=1;if(2===k.length)p=a.LUMINANCE,k=[k[0],k[1],1],i=m(i.data,k,[i.stride[0],i.stride[1],1],i.offset);else{if(3!==k.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===k[2])p=a.ALPHA;else if(2===k[2])p=a.LUMINANCE_ALPHA;else if(3===k[2])p=a.RGB;else{if(4!==k[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");p=a.RGBA}r=k[2]}if(p!==a.LUMINANCE&&p!==a.ALPHA||e!==a.LUMINANCE&&e!==a.ALPHA||(p=e),p!==e)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var t=i.size,u=h.indexOf(d)<0;if(u&&h.push(d),l===g&&q)0===i.offset&&i.data.length===t?u?a.texImage2D(a.TEXTURE_2D,d,e,k[0],k[1],0,e,g,i.data):a.texSubImage2D(a.TEXTURE_2D,d,b,c,k[0],k[1],e,g,i.data):u?a.texImage2D(a.TEXTURE_2D,d,e,k[0],k[1],0,e,g,i.data.subarray(i.offset,i.offset+t)):a.texSubImage2D(a.TEXTURE_2D,d,b,c,k[0],k[1],e,g,i.data.subarray(i.offset,i.offset+t));else{var v;v=g===a.FLOAT?o.mallocFloat32(t):o.mallocUint8(t);var w=m(v,k,[k[2],k[2]*k[0],1]);l===a.FLOAT&&g===a.UNSIGNED_BYTE?s(w,i):n.assign(w,i),u?a.texImage2D(a.TEXTURE_2D,d,e,k[0],k[1],0,e,g,v.subarray(0,t)):a.texSubImage2D(a.TEXTURE_2D,d,b,c,k[0],k[1],e,g,v.subarray(0,t)),g===a.FLOAT?o.freeFloat32(v):o.freeUint8(v)}}function h(a){var b=a.createTexture();return a.bindTexture(a.TEXTURE_2D,b),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),b}function i(a,b,c,d,f){var g=a.getParameter(a.MAX_TEXTURE_SIZE);if(0>b||b>g||0>c||c>g)throw new Error("gl-texture2d: Invalid texture shape");if(f===a.FLOAT&&!a.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var i=h(a);return a.texImage2D(a.TEXTURE_2D,0,d,b,c,0,d,f,null),new e(a,i,b,c,d,f)}function j(a,b,c,d){var f=h(a);return a.texImage2D(a.TEXTURE_2D,0,c,c,d,b),new e(a,f,0|b.width,0|b.height,c,d)}function k(a,b){var c=b.dtype,d=b.shape.slice(),g=a.getParameter(a.MAX_TEXTURE_SIZE);if(d[0]<0||d[0]>g||d[1]<0||d[1]>g)throw new Error("gl-texture2d: Invalid texture size");var i=f(d,b.stride.slice()),j=0;"float32"===c?j=a.FLOAT:"float64"===c?(j=a.FLOAT,i=!1,c="float32"):"uint8"===c?j=a.UNSIGNED_BYTE:(j=a.UNSIGNED_BYTE,i=!1,c="uint8");var k=0;if(2===d.length)k=a.LUMINANCE,d=[d[0],d[1],1],b=m(b.data,d,[b.stride[0],b.stride[1],1],b.offset);else{if(3!==d.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===d[2])k=a.ALPHA;else if(2===d[2])k=a.LUMINANCE_ALPHA;else if(3===d[2])k=a.RGB;else{if(4!==d[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");k=a.RGBA}}j!==a.FLOAT||a.getExtension("OES_texture_float")||(j=a.UNSIGNED_BYTE,i=!1);var l,p,q=b.size;if(i)l=0===b.offset&&b.data.length===q?b.data:b.data.subarray(b.offset,b.offset+q);else{var r=[d[2],d[2]*d[0],1];p=o.malloc(q,c);var t=m(p,d,r,0);"float32"!==c&&"float64"!==c||j!==a.UNSIGNED_BYTE?n.assign(t,b):s(t,b),l=p.subarray(0,q)}var u=h(a);return a.texImage2D(a.TEXTURE_2D,0,k,d[0],d[1],0,k,j,l),i||o.free(p),new e(a,u,d[0],d[1],k,j)}function l(a){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(p||c(a),"number"==typeof arguments[1])return i(a,arguments[1],arguments[2],arguments[3]||a.RGBA,arguments[4]||a.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return i(a,0|arguments[1][0],0|arguments[1][1],arguments[2]||a.RGBA,arguments[3]||a.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var b=arguments[1];if(b instanceof HTMLCanvasElement||b instanceof HTMLImageElement||b instanceof HTMLVideoElement||b instanceof ImageData)return j(a,b,arguments[2]||a.RGBA,arguments[3]||a.UNSIGNED_BYTE);if(b.shape&&b.data&&b.stride)return k(a,b)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}var m=require("ndarray"),n=require("ndarray-ops"),o=require("typedarray-pool");a.exports=l;var p=null,q=null,r=null,s=function(a,b){n.muls(a,b,255)},t=e.prototype;Object.defineProperties(t,{minFilter:{get:function(){return this._minFilter},set:function(a){this.bind();var b=this.gl;if(this.type===b.FLOAT&&p.indexOf(a)>=0&&(b.getExtension("OES_texture_float_linear")||(a=b.NEAREST)),q.indexOf(a)<0)throw new Error("gl-texture2d: Unknown filter mode "+a);return b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,a),this._minFilter=a}},magFilter:{get:function(){return this._magFilter},set:function(a){this.bind();var b=this.gl;if(this.type===b.FLOAT&&p.indexOf(a)>=0&&(b.getExtension("OES_texture_float_linear")||(a=b.NEAREST)),q.indexOf(a)<0)throw new Error("gl-texture2d: Unknown filter mode "+a);return b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,a),this._magFilter=a}},mipSamples:{get:function(){return this._anisoSamples},set:function(a){var b=this._anisoSamples;if(this._anisoSamples=0|Math.max(a,1),b!==this._anisoSamples){var c=gl.getExtension("EXT_texture_filter_anisotropic");c&&this.gl.texParameterf(this.gl.TEXTURE_2D,c.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(a){if(this.bind(),r.indexOf(a)<0)throw new Error("gl-texture2d: Unknown wrap mode "+a);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,a),this._wrapS=a}},wrapT:{get:function(){return this._wrapT},set:function(a){if(this.bind(),r.indexOf(a)<0)throw new Error("gl-texture2d: Unknown wrap mode "+a);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,a),this._wrapT=a}},wrap:{get:function(){return this._wrapVector},set:function(a){if(Array.isArray(a)||(a=[a,a]),2!==a.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var b=0;2>b;++b)if(r.indexOf(a[b])<0)throw new Error("gl-texture2d: Unknown wrap mode "+a);this._wrapS=a[0],this._wrapT=a[1];var c=this.gl;return this.bind(),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,this._wrapS),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,this._wrapT),a}},shape:{get:function(){return this._shapeVector},set:function(a){if(Array.isArray(a)){if(2!==a.length)throw new Error("gl-texture2d: Invalid texture shape")}else a=[0|a,0|a];return d(this,0|a[0],0|a[1]),[0|a[0],0|a[1]]}},width:{get:function(){return this._shape[0]},set:function(a){return a=0|a,d(this,a,this._shape[1]),a}},height:{get:function(){return this._shape[1]},set:function(a){return a=0|a,d(this,this._shape[0],a),a}}}),t.bind=function(a){var b=this.gl;return void 0!==a&&b.activeTexture(b.TEXTURE0+(0|a)),b.bindTexture(b.TEXTURE_2D,this.handle),void 0!==a?0|a:b.getParameter(b.ACTIVE_TEXTURE)-b.TEXTURE0},t.dispose=function(){this.gl.deleteTexture(this.handle)},t.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var a=Math.min(this._shape[0],this._shape[1]),b=0;a>0;++b,a>>>=1)this._mipLevels.indexOf(b)<0&&this._mipLevels.push(b)},t.setPixels=function(a,b,c,d){var e=this.gl;if(this.bind(),Array.isArray(b)?(d=c,c=0|b[1],b=0|b[0]):(b=b||0,c=c||0),d=d||0,a instanceof HTMLCanvasElement||a instanceof ImageData||a instanceof HTMLImageElement||a instanceof HTMLVideoElement){var f=this._mipLevels.indexOf(d)<0;f?(e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,a),this._mipLevels.push(d)):e.texSubImage2D(e.TEXTURE_2D,d,b,c,this.format,this.type,a)}else{if(!(a.shape&&a.stride&&a.data))throw new Error("gl-texture2d: Unsupported data type");if(a.shape.length<2||b+a.shape[1]>this._shape[1]>>>d||c+a.shape[0]>this._shape[0]>>>d||0>b||0>c)throw new Error("gl-texture2d: Texture dimensions are out of bounds");g(e,b,c,d,this.format,this.type,this._mipLevels,a)}}},{ndarray:208,"ndarray-ops":207,"typedarray-pool":233}],186:[function(require,a,b){"use strict";function c(a,b,c){b?b.bind():a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,null);var d=0|a.getParameter(a.MAX_VERTEX_ATTRIBS);if(c){if(c.length>d)throw new Error("gl-vao: Too many vertex attributes");for(var e=0;e<c.length;++e){var f=c[e];if(f.buffer){var g=f.buffer,h=f.size||4,i=f.type||a.FLOAT,j=!!f.normalized,k=f.stride||0,l=f.offset||0;g.bind(),a.enableVertexAttribArray(e),a.vertexAttribPointer(e,h,i,j,k,l)}else{if("number"==typeof f)a.vertexAttrib1f(e,f);else if(1===f.length)a.vertexAttrib1f(e,f[0]);else if(2===f.length)a.vertexAttrib2f(e,f[0],f[1]);else if(3===f.length)a.vertexAttrib3f(e,f[0],f[1],f[2]);else{if(4!==f.length)throw new Error("gl-vao: Invalid vertex attribute");a.vertexAttrib4f(e,f[0],f[1],f[2],f[3])}a.disableVertexAttribArray(e)}}for(;d>e;++e)a.disableVertexAttribArray(e)}else{a.bindBuffer(a.ARRAY_BUFFER,null);for(var e=0;d>e;++e)a.disableVertexAttribArray(e)}}a.exports=c},{}],187:[function(require,a,b){"use strict";function c(a){this.gl=a,this._elements=null,this._attributes=null,this._elementsType=a.UNSIGNED_SHORT}function d(a){return new c(a)}var e=require("./do-bind.js");c.prototype.bind=function(){e(this.gl,this._elements,this._attributes)},c.prototype.update=function(a,b,c){this._elements=b,this._attributes=a,this._elementsType=c||this.gl.UNSIGNED_SHORT},c.prototype.dispose=function(){},c.prototype.unbind=function(){},c.prototype.draw=function(a,b,c){c=c||0;var d=this.gl;this._elements?d.drawElements(a,b,this._elementsType,c):d.drawArrays(a,c,b)},a.exports=d},{"./do-bind.js":186}],188:[function(require,a,b){"use strict";function c(a,b,c,d,e,f){this.location=a,this.dimension=b,this.a=c,this.b=d,this.c=e,this.d=f}function d(a,b,c){this.gl=a,this._ext=b,this.handle=c,this._attribs=[],this._useElements=!1,this._elementsType=a.UNSIGNED_SHORT}function e(a,b){return new d(a,b,b.createVertexArrayOES())}var f=require("./do-bind.js");c.prototype.bind=function(a){switch(this.dimension){case 1:a.vertexAttrib1f(this.location,this.a);break;case 2:a.vertexAttrib2f(this.location,this.a,this.b);break;case 3:a.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:a.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},d.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var a=0;a<this._attribs.length;++a)this._attribs[a].bind(this.gl)},d.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},d.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},d.prototype.update=function(a,b,d){if(this.bind(),f(this.gl,b,a),this.unbind(),this._attribs.length=0,a)for(var e=0;e<a.length;++e){var g=a[e];"number"==typeof g?this._attribs.push(new c(e,1,g)):Array.isArray(g)&&this._attribs.push(new c(e,g.length,g[0],g[1],g[2],g[3]))}this._useElements=!!b,this._elementsType=d||this.gl.UNSIGNED_SHORT},d.prototype.draw=function(a,b,c){c=c||0;var d=this.gl;this._useElements?d.drawElements(a,b,this._elementsType,c):d.drawArrays(a,c,b)},a.exports=e},{"./do-bind.js":186}],189:[function(require,a,b){"use strict";function c(a,b,c,f){var g,h=a.getExtension("OES_vertex_array_object");return g=h?d(a,h):e(a),g.update(b,c,f),g}var d=require("./lib/vao-native.js"),e=require("./lib/vao-emulated.js");a.exports=c},{"./lib/vao-emulated.js":187,"./lib/vao-native.js":188}],190:[function(require,a,b){function c(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3];return a[0]=c[0]*d+c[4]*e+c[8]*f+c[12]*g,a[1]=c[1]*d+c[5]*e+c[9]*f+c[13]*g,a[2]=c[2]*d+c[6]*e+c[10]*f+c[14]*g,a[3]=c[3]*d+c[7]*e+c[11]*f+c[15]*g,a}a.exports=c},{}],191:[function(require,a,b){"use strict";function c(a,b,c){this.vertices=a,this.adjacent=b,this.boundary=c,this.lastVisited=-1}function d(a,b,c){this.vertices=a,this.cell=b,this.index=c}function e(a,b){return j(a.vertices,b.vertices)}function f(a){for(var b=["function orient(){var tuple=this.tuple;return test("],c=0;a>=c;++c)c>0&&b.push(","),b.push("tuple[",c,"]");b.push(")}return orient");var d=new Function("test",b.join("")),e=i[a+1];return e||(e=i),d(e)}function g(a,b,c){this.dimension=a,this.vertices=b,this.simplices=c,this.interior=c.filter(function(a){return!a.boundary}),this.tuple=new Array(a+1);for(var d=0;a>=d;++d)this.tuple[d]=this.vertices[d];var e=k[a];e||(e=k[a]=f(a)),this.orient=e}function h(a,b){var d=a.length;if(0===d)throw new Error("Must have at least d+1 points");var e=a[0].length;if(e>=d)throw new Error("Must input at least d+1 points");var f=a.slice(0,e+1),h=i.apply(void 0,f);if(0===h)throw new Error("Input not in general position");for(var j=new Array(e+1),k=0;e>=k;++k)j[k]=k;0>h&&(j[0]=1,j[1]=0);for(var l=new c(j,new Array(e+1),!1),m=l.adjacent,n=new Array(e+2),k=0;e>=k;++k){for(var o=j.slice(),p=0;e>=p;++p)p===k&&(o[p]=-1);var q=o[0];o[0]=o[1],o[1]=q;var r=new c(o,new Array(e+1),!0);m[k]=r,n[k]=r}n[e+1]=l;for(var k=0;e>=k;++k)for(var o=m[k].vertices,s=m[k].adjacent,p=0;e>=p;++p){var t=o[p];if(0>t)s[p]=l;else for(var u=0;e>=u;++u)m[u].vertices.indexOf(t)<0&&(s[p]=m[u])}for(var v=new g(e,f,n),w=!!b,k=e+1;d>k;++k)v.insert(a[k],w);return v.boundary()}a.exports=h;var i=require("robust-orientation"),j=require("simplicial-complex").compareCells;c.prototype.flip=function(){var a=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=a;var b=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=b};var k=[],l=g.prototype;l.handleBoundaryDegeneracy=function(a,b){var c=this.dimension,d=this.vertices.length-1,e=this.tuple,f=this.vertices,g=[a];for(a.lastVisited=-d;g.length>0;){a=g.pop();for(var h=(a.vertices,a.adjacent),i=0;c>=i;++i){var j=h[i];if(j.boundary&&!(j.lastVisited<=-d)){for(var k=j.vertices,l=0;c>=l;++l){var m=k[l];0>m?e[l]=b:e[l]=f[m]}var n=this.orient();if(n>0)return j;j.lastVisited=-d,0===n&&g.push(j)}}}return null},l.walk=function(a,b){var c=this.vertices.length-1,d=this.dimension,e=this.vertices,f=this.tuple,g=b?this.interior.length*Math.random()|0:this.interior.length-1,h=this.interior[g];a:for(;!h.boundary;){for(var i=h.vertices,j=h.adjacent,k=0;d>=k;++k)f[k]=e[i[k]];h.lastVisited=c;for(var k=0;d>=k;++k){var l=j[k];if(!(l.lastVisited>=c)){var m=f[k];f[k]=a;var n=this.orient();if(f[k]=m,0>n){h=l;continue a}l.boundary?l.lastVisited=-c:l.lastVisited=c}}return}return h},l.addPeaks=function(a,b){var f=this.vertices.length-1,g=this.dimension,h=this.vertices,i=this.tuple,j=this.interior,k=this.simplices,l=[b];b.lastVisited=f,b.vertices[b.vertices.indexOf(-1)]=f,b.boundary=!1,j.push(b);for(var m=[];l.length>0;){var b=l.pop(),n=b.vertices,o=b.adjacent,p=n.indexOf(f);if(!(0>p))for(var q=0;g>=q;++q)if(q!==p){var r=o[q];if(r.boundary&&!(r.lastVisited>=f)){var s=r.vertices;if(r.lastVisited!==-f){for(var t=0,u=0;g>=u;++u)s[u]<0?(t=u,i[u]=a):i[u]=h[s[u]];var v=this.orient();if(v>0){s[t]=f,r.boundary=!1,j.push(r),l.push(r),r.lastVisited=f;continue}r.lastVisited=-f}var w=r.adjacent,x=n.slice(),y=o.slice(),z=new c(x,y,!0);k.push(z);var A=w.indexOf(b);if(!(0>A)){w[A]=z,y[p]=r,x[q]=-1,y[q]=b,o[q]=z,z.flip();for(var u=0;g>=u;++u){var B=x[u];if(!(0>B||B===f)){for(var C=new Array(g-1),D=0,E=0;g>=E;++E){var F=x[E];0>F||E===u||(C[D++]=F)}m.push(new d(C,z,u))}}}}}}m.sort(e);for(var q=0;q+1<m.length;q+=2){var G=m[q],H=m[q+1],I=G.index,J=H.index;0>I||0>J||(G.cell.adjacent[G.index]=H.cell,H.cell.adjacent[H.index]=G.cell)}},l.insert=function(a,b){var c=this.vertices;c.push(a);var d=this.walk(a,b);if(d){for(var e=this.dimension,f=this.tuple,g=0;e>=g;++g){var h=d.vertices[g];0>h?f[g]=a:f[g]=c[h]}var i=this.orient(f);0>i||(0!==i||(d=this.handleBoundaryDegeneracy(d,a)))&&this.addPeaks(a,d)}},l.boundary=function(){for(var a=this.dimension,b=[],c=this.simplices,d=c.length,e=0;d>e;++e){var f=c[e];if(f.boundary){for(var g=new Array(a),h=f.vertices,i=0,j=0,k=0;a>=k;++k)h[k]>=0?g[i++]=h[k]:j=1&k;if(j===(1&a)){var l=g[0];g[0]=g[1],g[1]=l}b.push(g)}}return b}},{"robust-orientation":214,"simplicial-complex":194}],192:[function(require,a,b){arguments[4][49][0].apply(b,arguments)},{dup:49}],193:[function(require,a,b){"use strict";"use restrict";function c(a){this.roots=new Array(a),this.ranks=new Array(a);for(var b=0;a>b;++b)this.roots[b]=b,this.ranks[b]=0}a.exports=c;var d=c.prototype;Object.defineProperty(d,"length",{get:function(){return this.roots.length}}),d.makeSet=function(){var a=this.roots.length;return this.roots.push(a),this.ranks.push(0),a},d.find=function(a){for(var b=a,c=this.roots;c[a]!==a;)a=c[a];for(;c[b]!==a;){var d=c[b];c[b]=a,b=d}return a},d.link=function(a,b){var c=this.find(a),d=this.find(b);if(c!==d){var e=this.ranks,f=this.roots,g=e[c],h=e[d];h>g?f[c]=d:g>h?f[d]=c:(f[d]=c,++e[c])}}},{}],194:[function(require,a,b){"use strict";"use restrict";function c(a){for(var b=0,c=Math.max,d=0,e=a.length;e>d;++d)b=c(b,a[d].length);return b-1}function d(a){for(var b=-1,c=Math.max,d=0,e=a.length;e>d;++d)for(var f=a[d],g=0,h=f.length;h>g;++g)b=c(b,f[g]);return b+1}function e(a){for(var b=new Array(a.length),c=0,d=a.length;d>c;++c)b[c]=a[c].slice(0);return b}function f(a,b){var c=a.length,d=a.length-b.length,e=Math.min;if(d)return d;switch(c){case 0:return 0;case 1:return a[0]-b[0];case 2:var f=a[0]+a[1]-b[0]-b[1];return f?f:e(a[0],a[1])-e(b[0],b[1]);case 3:var g=a[0]+a[1],h=b[0]+b[1];if(f=g+a[2]-(h+b[2]))return f;var i=e(a[0],a[1]),j=e(b[0],b[1]),f=e(i,a[2])-e(j,b[2]);return f?f:e(i+a[2],g)-e(j+b[2],h);default:var k=a.slice(0);k.sort();var l=b.slice(0);l.sort();for(var m=0;c>m;++m)if(d=k[m]-l[m])return d;return 0}}function g(a,b){return f(a[0],b[0])}function h(a,b){if(b){for(var c=a.length,d=new Array(c),e=0;c>e;++e)d[e]=[a[e],b[e]];d.sort(g);for(var e=0;c>e;++e)a[e]=d[e][0],b[e]=d[e][1];return a}return a.sort(f),a}function i(a){if(0===a.length)return[];for(var b=1,c=a.length,d=1;c>d;++d){var e=a[d];if(f(e,a[d-1])){if(d===b){b++;continue}a[b++]=e}}return a.length=b,a}function j(a,b){for(var c=0,d=a.length-1,e=-1;d>=c;){var g=c+d>>1,h=f(a[g],b);0>=h?(0===h&&(e=g),c=g+1):h>0&&(d=g-1)}return e}function k(a,b){for(var c=new Array(a.length),d=0,e=c.length;e>d;++d)c[d]=[];for(var g=[],d=0,h=b.length;h>d;++d)for(var i=b[d],k=i.length,l=1,m=1<<k;m>l;++l){g.length=s.popCount(l);for(var n=0,o=0;k>o;++o)l&1<<o&&(g[n++]=i[o]);var p=j(a,g);if(!(0>p))for(;;)if(c[p++].push(d),p>=a.length||0!==f(a[p],g))break}return c}function l(a,b){if(!b)return k(i(n(a,0)),a,0);for(var c=new Array(b),d=0;b>d;++d)c[d]=[];for(var d=0,e=a.length;e>d;++d)for(var f=a[d],g=0,h=f.length;h>g;++g)c[f[g]].push(d);return c}function m(a){for(var b=[],c=0,d=a.length;d>c;++c)for(var e=a[c],f=0|e.length,g=1,i=1<<f;i>g;++g){for(var j=[],k=0;f>k;++k)g>>>k&1&&j.push(e[k]);b.push(j)}return h(b)}function n(a,b){if(0>b)return[];for(var c=[],d=(1<<b+1)-1,e=0;e<a.length;++e)for(var f=a[e],g=d;g<1<<f.length;g=s.nextCombination(g)){for(var i=new Array(b+1),j=0,k=0;k<f.length;++k)g&1<<k&&(i[j++]=f[k]);c.push(i)}return h(c)}function o(a){for(var b=[],c=0,d=a.length;d>c;++c)for(var e=a[c],f=0,g=e.length;g>f;++f){for(var i=new Array(e.length-1),j=0,k=0;g>j;++j)j!==f&&(i[k++]=e[j]);b.push(i)}return h(b)}function p(a,b){for(var c=new t(b),d=0;d<a.length;++d)for(var e=a[d],f=0;f<e.length;++f)for(var g=f+1;g<e.length;++g)c.link(e[f],e[g]);for(var h=[],i=c.ranks,d=0;d<i.length;++d)i[d]=-1;for(var d=0;d<a.length;++d){var j=c.find(a[d][0]);i[j]<0?(i[j]=h.length,h.push([a[d].slice(0)])):h[i[j]].push(a[d].slice(0))}return h}function q(a){for(var b=i(h(n(a,0))),c=new t(b.length),d=0;d<a.length;++d)for(var e=a[d],f=0;f<e.length;++f)for(var g=j(b,[e[f]]),k=f+1;k<e.length;++k)c.link(g,j(b,[e[k]]));for(var l=[],m=c.ranks,d=0;d<m.length;++d)m[d]=-1;for(var d=0;d<a.length;++d){var o=c.find(j(b,[a[d][0]]));m[o]<0?(m[o]=l.length,l.push([a[d].slice(0)])):l[m[o]].push(a[d].slice(0))}return l}function r(a,b){return b?p(a,b):q(a)}var s=require("bit-twiddle"),t=require("union-find");b.dimension=c,b.countVertices=d,b.cloneCells=e,b.compareCells=f,b.normalize=h,b.unique=i,b.findCell=j,b.incidence=k,b.dual=l,b.explode=m,b.skeleton=n,b.boundary=o,b.connectedComponents=r},{"bit-twiddle":192,"union-find":193}],195:[function(require,a,b){"use strict";function c(a){for(var b=new Array(a),c=0;a>c;++c)b[c]=c;return b}a.exports=c},{}],196:[function(require,a,b){"use strict";function c(a,b){function c(a){var b=!1;return"altKey"in a&&(b=b||a.altKey!==p.alt,p.alt=!!a.altKey),"shiftKey"in a&&(b=b||a.shiftKey!==p.shift,p.shift=!!a.shiftKey),"ctrlKey"in a&&(b=b||a.ctrlKey!==p.control,p.control=!!a.ctrlKey),"metaKey"in a&&(b=b||a.metaKey!==p.meta,p.meta=!!a.metaKey),b}function e(a,e){var f=d.x(e),g=d.y(e);
"buttons"in e&&(a=0|e.buttons),(a!==m||f!==n||g!==o||c(e))&&(m=0|a,n=f||0,o=g||0,b(m,n,o,p))}function f(a){e(0,a)}function g(){(m||n||o||p.shift||p.alt||p.meta||p.control)&&(n=o=0,m=0,p.shift=p.alt=p.control=p.meta=!1,b(0,0,0,p))}function h(a){c(a)&&b(m,n,o,p)}function i(a){0===d.buttons(a)?e(0,a):e(m,a)}function j(a){e(m|d.buttons(a),a)}function k(a){e(m&~d.buttons(a),a)}function l(){q||(q=!0,a.addEventListener("mousemove",i),a.addEventListener("mousedown",j),a.addEventListener("mouseup",k),a.addEventListener("mouseleave",f),a.addEventListener("mouseenter",f),a.addEventListener("mouseout",f),a.addEventListener("mouseover",f),a.addEventListener("blur",g),a.addEventListener("keyup",h),a.addEventListener("keydown",h),a.addEventListener("keypress",h),a!==window&&(window.addEventListener("blur",g),window.addEventListener("keyup",h),window.addEventListener("keydown",h),window.addEventListener("keypress",h)))}b||(b=a,a=window);var m=0,n=0,o=0,p={shift:!1,alt:!1,control:!1,meta:!1},q=!1;l();var r={element:a};return Object.defineProperties(r,{enabled:{get:function(){return q},set:function(a){a&&l()},enumerable:!0},buttons:{get:function(){return m},enumerable:!0},x:{get:function(){return n},enumerable:!0},y:{get:function(){return o},enumerable:!0},mods:{get:function(){return p},enumerable:!0}}),r}a.exports=c;var d=require("mouse-event")},{"mouse-event":197}],197:[function(require,a,b){"use strict";function c(a){if("object"==typeof a){if("buttons"in a)return a.buttons;if("which"in a){var b=a.which;if(2===b)return 4;if(3===b)return 2;if(b>0)return 1<<b-1}else if("button"in a){var b=a.button;if(1===b)return 4;if(2===b)return 2;if(b>=0)return 1<<b}}return 0}function d(a){return a.target||a.srcElement||window}function e(a){if("object"==typeof a){if("offsetX"in a)return a.offsetX;var b=d(a),c=b.getBoundingClientRect();return a.clientX-c.left}return 0}function f(a){if("object"==typeof a){if("offsetY"in a)return a.offsetY;var b=d(a),c=b.getBoundingClientRect();return a.clientY-c.top}return 0}b.buttons=c,b.element=d,b.x=e,b.y=f},{}],198:[function(require,a,b){a.exports=function(a,b){b||(b=[0,""]),a=String(a);var c=parseFloat(a,10);return b[0]=c,b[1]=a.match(/[\d.\-\+]*\s*(.*)/)[1]||"",b}},{}],199:[function(require,a,b){"use strict";function c(a,b){var c=f(getComputedStyle(a).getPropertyValue(b));return c[0]*e(c[1],a)}function d(a,b){var d=document.createElement("div");d.style["font-size"]="128"+a,b.appendChild(d);var e=c(d,"font-size")/128;return b.removeChild(d),e}function e(a,b){switch(b=b||document.body,a=(a||"px").trim().toLowerCase(),(b===window||b===document)&&(b=document.body),a){case"%":return b.clientHeight/100;case"ch":case"ex":return d(a,b);case"em":return c(b,"font-size");case"rem":return c(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return g;case"cm":return g/2.54;case"mm":return g/25.4;case"pt":return g/72;case"pc":return g/6}return 1}var f=require("parse-unit");a.exports=e;var g=96},{"parse-unit":198}],200:[function(require,a,b){"use strict";function c(a,b,c){"function"==typeof a&&(c=!!b,b=a,a=window);var e=d("ex",a);a.addEventListener("wheel",function(a){c&&a.preventDefault();var d=a.deltaX||0,f=a.deltaY||0,g=a.deltaZ||0,h=a.deltaMode,i=1;switch(h){case 1:i=e;break;case 2:i=window.innerHeight}return d*=i,f*=i,g*=i,d||f||g?b(d,f,g):void 0})}var d=require("to-px");a.exports=c},{"to-px":199}],201:[function(require,a,b){"use strict";var c=require("cwise/lib/wrapper")({args:["index","array","scalar"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_1_arg1_=_inline_1_arg2_.apply(void 0,_inline_1_arg0_)}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"cwise",blockSize:64});a.exports=function(a,b){return c(a,b),a}},{"cwise/lib/wrapper":69}],202:[function(require,a,b){"use strict";function c(a,b){switch(b.length){case 0:break;case 1:a[0]=1/b[0];break;case 4:d(a,b);break;case 9:e(a,b);break;case 16:f(a,b);break;default:throw new Error("currently supports matrices up to 4x4")}return a}a.exports=c;var d=require("gl-mat2/invert"),e=require("gl-mat3/invert"),f=require("gl-mat4/invert")},{"gl-mat2/invert":203,"gl-mat3/invert":87,"gl-mat4/invert":94}],203:[function(require,a,b){function c(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c*f-e*d;return g?(g=1/g,a[0]=f*g,a[1]=-d*g,a[2]=-e*g,a[3]=c*g,a):null}a.exports=c},{}],204:[function(require,a,b){"use strict";function c(a,b){var c=Math.floor(b),d=b-c,e=c>=0&&c<a.shape[0],f=c+1>=0&&c+1<a.shape[0],g=e?+a.get(c):0,h=f?+a.get(c+1):0;return(1-d)*g+d*h}function d(a,b,c){var d=Math.floor(b),e=b-d,f=d>=0&&d<a.shape[0],g=d+1>=0&&d+1<a.shape[0],h=Math.floor(c),i=c-h,j=h>=0&&h<a.shape[1],k=h+1>=0&&h+1<a.shape[1],l=f&&j?a.get(d,h):0,m=f&&k?a.get(d,h+1):0,n=g&&j?a.get(d+1,h):0,o=g&&k?a.get(d+1,h+1):0;return(1-i)*((1-e)*l+e*n)+i*((1-e)*m+e*o)}function e(a,b,c,d){var e=Math.floor(b),f=b-e,g=e>=0&&e<a.shape[0],h=e+1>=0&&e+1<a.shape[0],i=Math.floor(c),j=c-i,k=i>=0&&i<a.shape[1],l=i+1>=0&&i+1<a.shape[1],m=Math.floor(d),n=d-m,o=m>=0&&m<a.shape[2],p=m+1>=0&&m+1<a.shape[2],q=g&&k&&o?a.get(e,i,m):0,r=g&&l&&o?a.get(e,i+1,m):0,s=h&&k&&o?a.get(e+1,i,m):0,t=h&&l&&o?a.get(e+1,i+1,m):0,u=g&&k&&p?a.get(e,i,m+1):0,v=g&&l&&p?a.get(e,i+1,m+1):0,w=h&&k&&p?a.get(e+1,i,m+1):0,x=h&&l&&p?a.get(e+1,i+1,m+1):0;return(1-n)*((1-j)*((1-f)*q+f*s)+j*((1-f)*r+f*t))+n*((1-j)*((1-f)*u+f*w)+j*((1-f)*v+f*x))}function f(a){var b,c,d=0|a.shape.length,e=new Array(d),f=new Array(d),g=new Array(d),h=new Array(d);for(b=0;d>b;++b)c=+arguments[b+1],e[b]=Math.floor(c),f[b]=c-e[b],g[b]=0<=e[b]&&e[b]<a.shape[b],h[b]=0<=e[b]+1&&e[b]+1<a.shape[b];var i,j,k,l=0;a:for(b=0;1<<d>b;++b){for(j=1,k=a.offset,i=0;d>i;++i)if(b&1<<i){if(!h[i])continue a;j*=f[i],k+=a.stride[i]*(e[i]+1)}else{if(!g[i])continue a;j*=1-f[i],k+=a.stride[i]*e[i]}l+=j*a.data[k]}return l}function g(a,b,g,h){switch(a.shape.length){case 0:return 0;case 1:return c(a,b);case 2:return d(a,b,g);case 3:return e(a,b,g,h);default:return f.apply(void 0,arguments)}}a.exports=g,a.exports.d1=c,a.exports.d2=d,a.exports.d3=e},{}],205:[function(require,a,b){"use strict";var c=require("ndarray-linear-interpolate"),d=require("cwise/lib/wrapper")({args:["index","array","scalar","scalar","scalar"],pre:{body:"{this_warped=new Array(_inline_6_arg4_)}",args:[{name:"_inline_6_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_6_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_6_arg2_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_6_arg3_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_6_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_warped"],localVars:[]},body:{body:"{_inline_7_arg2_(this_warped,_inline_7_arg0_),_inline_7_arg1_=_inline_7_arg3_.apply(void 0,this_warped)}",args:[{name:"_inline_7_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_7_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_7_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_7_arg3_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_warped"],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"warpND",blockSize:64}),e=require("cwise/lib/wrapper")({args:["index","array","scalar","scalar","scalar"],pre:{body:"{this_warped=[0]}",args:[],thisVars:["this_warped"],localVars:[]},body:{body:"{_inline_10_arg2_(this_warped,_inline_10_arg0_),_inline_10_arg1_=_inline_10_arg3_(_inline_10_arg4_,this_warped[0])}",args:[{name:"_inline_10_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_10_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_10_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_10_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_10_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_warped"],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"warp1D",blockSize:64}),f=require("cwise/lib/wrapper")({args:["index","array","scalar","scalar","scalar"],pre:{body:"{this_warped=[0,0]}",args:[],thisVars:["this_warped"],localVars:[]},body:{body:"{_inline_13_arg2_(this_warped,_inline_13_arg0_),_inline_13_arg1_=_inline_13_arg3_(_inline_13_arg4_,this_warped[0],this_warped[1])}",args:[{name:"_inline_13_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_13_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_13_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_13_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_13_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_warped"],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"warp2D",blockSize:64}),g=require("cwise/lib/wrapper")({args:["index","array","scalar","scalar","scalar"],pre:{body:"{this_warped=[0,0,0]}",args:[],thisVars:["this_warped"],localVars:[]},body:{body:"{_inline_16_arg2_(this_warped,_inline_16_arg0_),_inline_16_arg1_=_inline_16_arg3_(_inline_16_arg4_,this_warped[0],this_warped[1],this_warped[2])}",args:[{name:"_inline_16_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_16_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_warped"],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"warp3D",blockSize:64});a.exports=function(a,b,h){switch(b.shape.length){case 1:e(a,h,c.d1,b);break;case 2:f(a,h,c.d2,b);break;case 3:g(a,h,c.d3,b);break;default:d(a,h,c.bind(void 0,b),b.shape.length)}return a}},{"cwise/lib/wrapper":69,"ndarray-linear-interpolate":204}],206:[function(require,a,b){"use strict";function c(a,b,c){var f=b.dimension,g=e([],c);return d(a,b,function(a,b){for(var c=0;f>c;++c){a[c]=g[(f+1)*f+c];for(var d=0;f>d;++d)a[c]+=g[(f+1)*d+c]*b[d]}for(var e=g[(f+1)*(f+1)-1],d=0;f>d;++d)e+=g[(f+1)*d+f]*b[d];for(var h=1/e,c=0;f>c;++c)a[c]*=h;return a}),a}var d=require("ndarray-warp"),e=require("gl-matrix-invert");a.exports=c},{"gl-matrix-invert":202,"ndarray-warp":205}],207:[function(require,a,b){"use strict";function c(a){if(!a)return g;for(var b=0;b<a.args.length;++b){var c=a.args[b];0===b?a.args[b]={name:c,lvalue:!0,rvalue:!!a.rvalue,count:a.count||1}:a.args[b]={name:c,lvalue:!1,rvalue:!0,count:1}}return a.thisVars||(a.thisVars=[]),a.localVars||(a.localVars=[]),a}function d(a){return f({args:a.args,pre:c(a.pre),body:c(a.body),post:c(a.proc),funcName:a.funcName})}function e(a){for(var b=[],c=0;c<a.args.length;++c)b.push("a"+c);var e=new Function("P",["return function ",a.funcName,"_ndarrayops(",b.join(","),") {P(",b.join(","),");return a0}"].join(""));return e(d(a))}var f=require("cwise-compiler"),g={body:"",args:[],thisVars:[],localVars:[]},h={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var a in h){var c=h[a];b[a]=e({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+c+"c"},funcName:a}),b[a+"eq"]=e({args:["array","array"],body:{args:["a","b"],body:"a"+c+"=b"},rvalue:!0,funcName:a+"eq"}),b[a+"s"]=e({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+c+"s"},funcName:a+"s"}),b[a+"seq"]=e({args:["array","scalar"],body:{args:["a","s"],body:"a"+c+"=s"},rvalue:!0,funcName:a+"seq"})}}();var i={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var a in i){var c=i[a];b[a]=e({args:["array","array"],body:{args:["a","b"],body:"a="+c+"b"},funcName:a}),b[a+"eq"]=e({args:["array"],body:{args:["a"],body:"a="+c+"a"},rvalue:!0,count:2,funcName:a+"eq"})}}();var j={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var a in j){var c=j[a];b[a]=e({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+c+"c"},funcName:a}),b[a+"s"]=e({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+c+"s"},funcName:a+"s"}),b[a+"eq"]=e({args:["array","array"],body:{args:["a","b"],body:"a=a"+c+"b"},rvalue:!0,count:2,funcName:a+"eq"}),b[a+"seq"]=e({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+c+"s"},rvalue:!0,count:2,funcName:a+"seq"})}}();var k=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var a=0;a<k.length;++a){var c=k[a];b[c]=e({args:["array","array"],pre:{args:[],body:"this_f=Math."+c,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:c}),b[c+"eq"]=e({args:["array"],pre:{args:[],body:"this_f=Math."+c,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:c+"eq"})}}();var l=["max","min","atan2","pow"];!function(){for(var a=0;a<l.length;++a){var c=l[a];b[c]=e({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+c,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:c}),b[c+"s"]=e({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+c,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:c+"s"}),b[c+"eq"]=e({args:["array","array"],pre:{args:[],body:"this_f=Math."+c,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:c+"eq"}),b[c+"seq"]=e({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+c,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:c+"seq"})}}();var m=["atan2","pow"];!function(){for(var a=0;a<m.length;++a){var c=m[a];b[c+"op"]=e({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+c,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:c+"op"}),b[c+"ops"]=e({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+c,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:c+"ops"}),b[c+"opeq"]=e({args:["array","array"],pre:{args:[],body:"this_f=Math."+c,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:c+"opeq"}),b[c+"opseq"]=e({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+c,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:c+"opseq"})}}(),b.any=f({args:["array"],pre:g,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),b.all=f({args:["array"],pre:g,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),b.sum=f({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),b.prod=f({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),b.norm2squared=f({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),b.norm2=f({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),b.norminf=f({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),b.norm1=f({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),b.sup=f({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),b.inf=f({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),b.argmin=f({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),b.argmax=f({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),b.random=e({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),b.assign=e({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),b.assigns=e({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),b.equals=f({args:["array","array"],pre:g,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},{"cwise-compiler":66}],208:[function(require,a,b){function c(a,b){return a[0]-b[0]}function d(){var a,b=this.stride,d=new Array(b.length);for(a=0;a<d.length;++a)d[a]=[Math.abs(b[a]),a];d.sort(c);var e=new Array(d.length);for(a=0;a<e.length;++a)e[a]=d[a][1];return e}function e(a,b){var c=["View",b,"d",a].join("");0>b&&(c="View_Nil"+a);var e="generic"===a;if(-1===b){var f="function "+c+"(a){this.data=a;};var proto="+c+".prototype;proto.dtype='"+a+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+c+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+c+"(a){return new "+c+"(a);}",g=new Function(f);return g()}if(0===b){var f="function "+c+"(a,d) {this.data = a;this.offset = d};var proto="+c+".prototype;proto.dtype='"+a+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+c+"_copy() {return new "+c+"(this.data,this.offset)};proto.pick=function "+c+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+c+"_get(){return "+(e?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+c+"_set(v){return "+(e?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+c+"(a,b,c,d){return new "+c+"(a,d)}",g=new Function("TrivialArray",f);return g(k[a][0])}var f=["'use strict'"],i=h(b),j=i.map(function(a){return"i"+a}),l="this.offset+"+i.map(function(a){return"this.stride["+a+"]*i"+a}).join("+"),m=i.map(function(a){return"b"+a}).join(","),n=i.map(function(a){return"c"+a}).join(",");f.push("function "+c+"(a,"+m+","+n+",d){this.data=a","this.shape=["+m+"]","this.stride=["+n+"]","this.offset=d|0}","var proto="+c+".prototype","proto.dtype='"+a+"'","proto.dimension="+b),f.push("Object.defineProperty(proto,'size',{get:function "+c+"_size(){return "+i.map(function(a){return"this.shape["+a+"]"}).join("*"),"}})"),1===b?f.push("proto.order=[0]"):(f.push("Object.defineProperty(proto,'order',{get:"),4>b?(f.push("function "+c+"_order(){"),2===b?f.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===b&&f.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):f.push("ORDER})")),f.push("proto.set=function "+c+"_set("+j.join(",")+",v){"),e?f.push("return this.data.set("+l+",v)}"):f.push("return this.data["+l+"]=v}"),f.push("proto.get=function "+c+"_get("+j.join(",")+"){"),e?f.push("return this.data.get("+l+")}"):f.push("return this.data["+l+"]}"),f.push("proto.index=function "+c+"_index(",j.join(),"){return "+l+"}"),f.push("proto.hi=function "+c+"_hi("+j.join(",")+"){return new "+c+"(this.data,"+i.map(function(a){return["(typeof i",a,"!=='number'||i",a,"<0)?this.shape[",a,"]:i",a,"|0"].join("")}).join(",")+","+i.map(function(a){return"this.stride["+a+"]"}).join(",")+",this.offset)}");var o=i.map(function(a){return"a"+a+"=this.shape["+a+"]"}),p=i.map(function(a){return"c"+a+"=this.stride["+a+"]"});f.push("proto.lo=function "+c+"_lo("+j.join(",")+"){var b=this.offset,d=0,"+o.join(",")+","+p.join(","));for(var q=0;b>q;++q)f.push("if(typeof i"+q+"==='number'&&i"+q+">=0){d=i"+q+"|0;b+=c"+q+"*d;a"+q+"-=d}");f.push("return new "+c+"(this.data,"+i.map(function(a){return"a"+a}).join(",")+","+i.map(function(a){return"c"+a}).join(",")+",b)}"),f.push("proto.step=function "+c+"_step("+j.join(",")+"){var "+i.map(function(a){return"a"+a+"=this.shape["+a+"]"}).join(",")+","+i.map(function(a){return"b"+a+"=this.stride["+a+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var q=0;b>q;++q)f.push("if(typeof i"+q+"==='number'){d=i"+q+"|0;if(d<0){c+=b"+q+"*(a"+q+"-1);a"+q+"=ceil(-a"+q+"/d)}else{a"+q+"=ceil(a"+q+"/d)}b"+q+"*=d}");f.push("return new "+c+"(this.data,"+i.map(function(a){return"a"+a}).join(",")+","+i.map(function(a){return"b"+a}).join(",")+",c)}");for(var r=new Array(b),s=new Array(b),q=0;b>q;++q)r[q]="a[i"+q+"]",s[q]="b[i"+q+"]";f.push("proto.transpose=function "+c+"_transpose("+j+"){"+j.map(function(a,b){return a+"=("+a+"===undefined?"+b+":"+a+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+c+"(this.data,"+r.join(",")+","+s.join(",")+",this.offset)}"),f.push("proto.pick=function "+c+"_pick("+j+"){var a=[],b=[],c=this.offset");for(var q=0;b>q;++q)f.push("if(typeof i"+q+"==='number'&&i"+q+">=0){c=(c+this.stride["+q+"]*i"+q+")|0}else{a.push(this.shape["+q+"]);b.push(this.stride["+q+"])}");f.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),f.push("return function construct_"+c+"(data,shape,stride,offset){return new "+c+"(data,"+i.map(function(a){return"shape["+a+"]"}).join(",")+","+i.map(function(a){return"stride["+a+"]"}).join(",")+",offset)}");var g=new Function("CTOR_LIST","ORDER",f.join("\n"));return g(k[a],d)}function f(a){if(i(a))return"buffer";if(j)switch(Object.prototype.toString.call(a)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(a)?"array":"generic"}function g(a,b,c,d){if(void 0===a){var g=k.array[0];return g([])}"number"==typeof a&&(a=[a]),void 0===b&&(b=[a.length]);var h=b.length;if(void 0===c){c=new Array(h);for(var i=h-1,j=1;i>=0;--i)c[i]=j,j*=b[i]}if(void 0===d){d=0;for(var i=0;h>i;++i)c[i]<0&&(d-=(b[i]-1)*c[i])}for(var l=f(a),m=k[l];m.length<=h+1;)m.push(e(l,m.length-1));var g=m[h+1];return g(a,b,c,d)}var h=require("iota-array"),i=require("is-buffer"),j="undefined"!=typeof Float64Array,k={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};a.exports=g},{"iota-array":195,"is-buffer":209}],209:[function(require,a,b){a.exports=function(a){return!(null==a||!(a._isBuffer||a.constructor&&"function"==typeof a.constructor.isBuffer&&a.constructor.isBuffer(a)))}},{}],210:[function(require,a,b){(function(b){a.exports=b.performance&&b.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],211:[function(require,a,b){"use strict";function c(a){for(var b="robustLinearSolve"+a+"d",c=["function ",b,"(A,b){return ["],d=0;a>d;++d){c.push("det([");for(var e=0;a>e;++e){e>0&&c.push(","),c.push("[");for(var f=0;a>f;++f)f>0&&c.push(","),f===d?c.push("+b[",e,"]"):c.push("+A[",e,"][",f,"]");c.push("]")}c.push("]),")}c.push("det(A)]}return ",b);var h=new Function("det",c.join(""));return h(6>a?g[a]:g)}function d(){return[0]}function e(a,b){return[[b[0]],[a[0][0]]]}function f(){for(;i.length<h;)i.push(c(i.length));for(var b=[],d=["function dispatchLinearSolve(A,b){switch(A.length){"],e=0;h>e;++e)b.push("s"+e),d.push("case ",e,":return s",e,"(A,b);");d.push("}var s=CACHE[A.length];if(!s)s=CACHE[A.length]=g(A.length);return s(A,b)}return dispatchLinearSolve"),b.push("CACHE","g",d.join(""));var f=Function.apply(void 0,b);a.exports=f.apply(void 0,i.concat([i,c]));for(var e=0;h>e;++e)a.exports[e]=i[e]}var g=require("robust-determinant"),h=6,i=[d,e];f()},{"robust-determinant":213}],212:[function(require,a,b){"use strict";function c(a){for(var b=a.length,c=a[a.length-1],d=b,e=b-2;e>=0;--e){var f=c,g=a[e];c=f+g;var h=c-f,i=g-h;i&&(a[--d]=c,c=i)}for(var j=0,e=d;b>e;++e){var f=a[e],g=c;c=f+g;var h=c-f,i=g-h;i&&(a[j++]=i)}return a[j++]=c,a.length=j,a}a.exports=c},{}],213:[function(require,a,b){"use strict";function c(a,b){for(var c=new Array(a.length-1),d=1;d<a.length;++d)for(var e=c[d-1]=new Array(a.length-1),f=0,g=0;f<a.length;++f)f!==b&&(e[g++]=a[d][f]);return c}function d(a){for(var b=new Array(a),c=0;a>c;++c){b[c]=new Array(a);for(var d=0;a>d;++d)b[c][d]=["m[",c,"][",d,"]"].join("")}return b}function e(a){return 1&a?"-":""}function f(a){if(1===a.length)return a[0];if(2===a.length)return["sum(",a[0],",",a[1],")"].join("");var b=a.length>>1;return["sum(",f(a.slice(0,b)),",",f(a.slice(b)),")"].join("")}function g(a){if(2===a.length)return["sum(prod(",a[0][0],",",a[1][1],"),prod(-",a[0][1],",",a[1][0],"))"].join("");for(var b=[],d=0;d<a.length;++d)b.push(["scale(",g(c(a,d)),",",e(d),a[0][d],")"].join(""));return f(b)}function h(a){var b=new Function("sum","scale","prod","compress",["function robustDeterminant",a,"(m){return compress(",g(d(a)),")};return robustDeterminant",a].join(""));return b(k,l,j,m)}function i(){for(;o.length<n;)o.push(h(o.length));for(var b=[],c=["function robustDeterminant(m){switch(m.length){"],d=0;n>d;++d)b.push("det"+d),c.push("case ",d,":return det",d,"(m);");c.push("}var det=CACHE[m.length];if(!det)det=CACHE[m.length]=gen(m.length);return det(m);}return robustDeterminant"),b.push("CACHE","gen",c.join(""));var e=Function.apply(void 0,b);a.exports=e.apply(void 0,o.concat([o,h]));for(var d=0;d<o.length;++d)a.exports[d]=o[d]}var j=require("two-product"),k=require("robust-sum"),l=require("robust-scale"),m=require("robust-compress"),n=6,o=[function(){return[0]},function(a){return[a[0][0]]}];i()},{"robust-compress":212,"robust-scale":215,"robust-sum":217,"two-product":231}],214:[function(require,a,b){"use strict";function c(a,b){for(var c=new Array(a.length-1),d=1;d<a.length;++d)for(var e=c[d-1]=new Array(a.length-1),f=0,g=0;f<a.length;++f)f!==b&&(e[g++]=a[d][f]);return c}function d(a){for(var b=new Array(a),c=0;a>c;++c){b[c]=new Array(a);for(var d=0;a>d;++d)b[c][d]=["m",d,"[",a-c-1,"]"].join("")}return b}function e(a){return 1&a?"-":""}function f(a){if(1===a.length)return a[0];if(2===a.length)return["sum(",a[0],",",a[1],")"].join("");var b=a.length>>1;return["sum(",f(a.slice(0,b)),",",f(a.slice(b)),")"].join("")}function g(a){if(2===a.length)return[["sum(prod(",a[0][0],",",a[1][1],"),prod(-",a[0][1],",",a[1][0],"))"].join("")];for(var b=[],d=0;d<a.length;++d)b.push(["scale(",f(g(c(a,d))),",",e(d),a[0][d],")"].join(""));return b}function h(a){for(var b=[],e=[],h=d(a),i=[],j=0;a>j;++j)0===(1&j)?b.push.apply(b,g(c(h,j))):e.push.apply(e,g(c(h,j))),i.push("m"+j);var o=f(b),p=f(e),q="orientation"+a+"Exact",r=["function ",q,"(",i.join(),"){var p=",o,",n=",p,",d=sub(p,n);return d[d.length-1];};return ",q].join(""),s=new Function("sum","prod","scale","sub",r);return s(l,k,m,n)}function i(a){var b=u[a.length];return b||(b=u[a.length]=h(a.length)),b.apply(void 0,a)}function j(){for(;u.length<=o;)u.push(h(u.length));for(var b=[],c=["slow"],d=0;o>=d;++d)b.push("a"+d),c.push("o"+d);for(var e=["function getOrientation(",b.join(),"){switch(arguments.length){case 0:case 1:return 0;"],d=2;o>=d;++d)e.push("case ",d,":return o",d,"(",b.slice(0,d).join(),");");e.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),c.push(e.join(""));var f=Function.apply(void 0,c);a.exports=f.apply(void 0,[i].concat(u));for(var d=0;o>=d;++d)a.exports[d]=u[d]}var k=require("two-product"),l=require("robust-sum"),m=require("robust-scale"),n=require("robust-subtract"),o=5,p=1.1102230246251565e-16,q=(3+16*p)*p,r=(7+56*p)*p,s=h(3),t=h(4),u=[function(){return 0},function(){return 0},function(a,b){return b[0]-a[0]},function(a,b,c){var d,e=(a[1]-c[1])*(b[0]-c[0]),f=(a[0]-c[0])*(b[1]-c[1]),g=e-f;if(e>0){if(0>=f)return g;d=e+f}else{if(!(0>e))return g;if(f>=0)return g;d=-(e+f)}var h=q*d;return g>=h||-h>=g?g:s(a,b,c)},function(a,b,c,d){var e=a[0]-d[0],f=b[0]-d[0],g=c[0]-d[0],h=a[1]-d[1],i=b[1]-d[1],j=c[1]-d[1],k=a[2]-d[2],l=b[2]-d[2],m=c[2]-d[2],n=f*j,o=g*i,p=g*h,q=e*j,s=e*i,u=f*h,v=k*(n-o)+l*(p-q)+m*(s-u),w=(Math.abs(n)+Math.abs(o))*Math.abs(k)+(Math.abs(p)+Math.abs(q))*Math.abs(l)+(Math.abs(s)+Math.abs(u))*Math.abs(m),x=r*w;return v>x||-v>x?v:t(a,b,c,d)}];j()},{"robust-scale":215,"robust-subtract":216,"robust-sum":217,"two-product":231}],215:[function(require,a,b){"use strict";function c(a,b){var c=a.length;if(1===c){var f=d(a[0],b);return f[0]?f:[f[1]]}var g=new Array(2*c),h=[.1,.1],i=[.1,.1],j=0;d(a[0],b,h),h[0]&&(g[j++]=h[0]);for(var k=1;c>k;++k){d(a[k],b,i);var l=h[1];e(l,i[0],h),h[0]&&(g[j++]=h[0]);var m=i[1],n=h[1],o=m+n,p=o-m,q=n-p;h[1]=o,q&&(g[j++]=q)}return h[1]&&(g[j++]=h[1]),
0===j&&(g[j++]=0),g.length=j,g}var d=require("two-product"),e=require("two-sum");a.exports=c},{"two-product":231,"two-sum":232}],216:[function(require,a,b){"use strict";function c(a,b){var c=a+b,d=c-a,e=c-d,f=b-d,g=a-e,h=g+f;return h?[h,c]:[c]}function d(a,b){var d=0|a.length,e=0|b.length;if(1===d&&1===e)return c(a[0],-b[0]);var f,g,h=d+e,i=new Array(h),j=0,k=0,l=0,m=Math.abs,n=a[k],o=m(n),p=-b[l],q=m(p);q>o?(g=n,k+=1,d>k&&(n=a[k],o=m(n))):(g=p,l+=1,e>l&&(p=-b[l],q=m(p))),d>k&&q>o||l>=e?(f=n,k+=1,d>k&&(n=a[k],o=m(n))):(f=p,l+=1,e>l&&(p=-b[l],q=m(p)));for(var r,s,t,u,v,w=f+g,x=w-f,y=g-x,z=y,A=w;d>k&&e>l;)q>o?(f=n,k+=1,d>k&&(n=a[k],o=m(n))):(f=p,l+=1,e>l&&(p=-b[l],q=m(p))),g=z,w=f+g,x=w-f,y=g-x,y&&(i[j++]=y),r=A+w,s=r-A,t=r-s,u=w-s,v=A-t,z=v+u,A=r;for(;d>k;)f=n,g=z,w=f+g,x=w-f,y=g-x,y&&(i[j++]=y),r=A+w,s=r-A,t=r-s,u=w-s,v=A-t,z=v+u,A=r,k+=1,d>k&&(n=a[k]);for(;e>l;)f=p,g=z,w=f+g,x=w-f,y=g-x,y&&(i[j++]=y),r=A+w,s=r-A,t=r-s,u=w-s,v=A-t,z=v+u,A=r,l+=1,e>l&&(p=-b[l]);return z&&(i[j++]=z),A&&(i[j++]=A),j||(i[j++]=0),i.length=j,i}a.exports=d},{}],217:[function(require,a,b){"use strict";function c(a,b){var c=a+b,d=c-a,e=c-d,f=b-d,g=a-e,h=g+f;return h?[h,c]:[c]}function d(a,b){var d=0|a.length,e=0|b.length;if(1===d&&1===e)return c(a[0],b[0]);var f,g,h=d+e,i=new Array(h),j=0,k=0,l=0,m=Math.abs,n=a[k],o=m(n),p=b[l],q=m(p);q>o?(g=n,k+=1,d>k&&(n=a[k],o=m(n))):(g=p,l+=1,e>l&&(p=b[l],q=m(p))),d>k&&q>o||l>=e?(f=n,k+=1,d>k&&(n=a[k],o=m(n))):(f=p,l+=1,e>l&&(p=b[l],q=m(p)));for(var r,s,t,u,v,w=f+g,x=w-f,y=g-x,z=y,A=w;d>k&&e>l;)q>o?(f=n,k+=1,d>k&&(n=a[k],o=m(n))):(f=p,l+=1,e>l&&(p=b[l],q=m(p))),g=z,w=f+g,x=w-f,y=g-x,y&&(i[j++]=y),r=A+w,s=r-A,t=r-s,u=w-s,v=A-t,z=v+u,A=r;for(;d>k;)f=n,g=z,w=f+g,x=w-f,y=g-x,y&&(i[j++]=y),r=A+w,s=r-A,t=r-s,u=w-s,v=A-t,z=v+u,A=r,k+=1,d>k&&(n=a[k]);for(;e>l;)f=p,g=z,w=f+g,x=w-f,y=g-x,y&&(i[j++]=y),r=A+w,s=r-A,t=r-s,u=w-s,v=A-t,z=v+u,A=r,l+=1,e>l&&(p=b[l]);return z&&(i[j++]=z),A&&(i[j++]=A),j||(i[j++]=0),i.length=j,i}a.exports=d},{}],218:[function(require,a,b){"use strict";function c(a){return a.split("").map(function(a){return a in d?d[a]:""}).join("")}a.exports=c;var d={" ":" ",0:"",1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"","+":"","-":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:""}},{}],219:[function(require,a,b){"use strict";function c(a){return"a"+a}function d(a){return"d"+a}function e(a,b){return"c"+a+"_"+b}function f(a){return"s"+a}function g(a,b){return"t"+a+"_"+b}function h(a){return"o"+a}function i(a){return"x"+a}function j(a){return"p"+a}function k(a,b){return"d"+a+"_"+b}function l(a){return"i"+a}function m(a,b){return"u"+a+"_"+b}function n(a){return"b"+a}function o(a){return"y"+a}function p(a){return"e"+a}function q(a){return"v"+a}function r(a,b,c){for(var d=0,e=0;a>e;++e)b&1<<e&&(d|=1<<c[e]);return d}function s(a,b,s,t,B,C){function D(a,b){M.push("for(",l(B[a]),"=",b,";",l(B[a]),"<",f(B[a]),";","++",l(B[a]),"){")}function E(a){for(var b=0;J>b;++b)M.push(j(b),"+=",m(b,B[a]),";");M.push("}")}function F(a){for(var b=a-1;b>=0;--b)D(b,0);for(var c=[],b=0;J>b;++b)C[b]?c.push(d(b)+".get("+j(b)+")"):c.push(d(b)+"["+j(b)+"]");for(var b=0;t>b;++b)c.push(i(b));M.push(w,"[",z,"++]=phase(",c.join(),");");for(var b=0;a>b;++b)E(b);for(var e=0;J>e;++e)M.push(j(e),"+=",m(e,B[a]),";")}function G(a){for(var b=0;J>b;++b)C[b]?M.push(e(b,0),"=",d(b),".get(",j(b),");"):M.push(e(b,0),"=",d(b),"[",j(b),"];");for(var c=[],b=0;J>b;++b)c.push(e(b,0));for(var b=0;t>b;++b)c.push(i(b));M.push(n(0),"=",w,"[",z,"]=phase(",c.join(),");");for(var f=1;1<<K>f;++f)M.push(n(f),"=",w,"[",z,"+",p(f),"];");for(var g=[],f=1;1<<K>f;++f)g.push("("+n(0)+"!=="+n(f)+")");M.push("if(",g.join("||"),"){");for(var h=[],b=0;K>b;++b)h.push(l(b));for(var b=0;J>b;++b){h.push(e(b,0));for(var f=1;1<<K>f;++f)C[b]?M.push(e(b,f),"=",d(b),".get(",j(b),"+",k(b,f),");"):M.push(e(b,f),"=",d(b),"[",j(b),"+",k(b,f),"];"),h.push(e(b,f))}for(var b=0;1<<K>b;++b)h.push(n(b));for(var b=0;t>b;++b)h.push(i(b));M.push("vertex(",h.join(),");",q(0),"=",v,"[",z,"]=",x,"++;");for(var m=(1<<K)-1,o=n(m),f=0;K>f;++f)if(0===(a&~(1<<f))){for(var r=m^1<<f,s=n(r),u=[],y=r;y>0;y=y-1&r)u.push(v+"["+z+"+"+p(y)+"]");u.push(q(0));for(var y=0;J>y;++y)1&f?u.push(e(y,m),e(y,r)):u.push(e(y,r),e(y,m));1&f?u.push(o,s):u.push(s,o);for(var y=0;t>y;++y)u.push(i(y));M.push("if(",o,"!==",s,"){","face(",u.join(),")}")}M.push("}",z,"+=1;")}function H(){for(var a=1;1<<K>a;++a)M.push(A,"=",p(a),";",p(a),"=",o(a),";",o(a),"=",A,";")}function I(a,b){if(0>a)return void G(b);F(a),M.push("if(",f(B[a]),">0){",l(B[a]),"=1;"),I(a-1,b|1<<B[a]);for(var c=0;J>c;++c)M.push(j(c),"+=",m(c,B[a]),";");a===K-1&&(M.push(z,"=0;"),H()),D(a,2),I(a-1,b),a===K-1&&(M.push("if(",l(B[K-1]),"&1){",z,"=0;}"),H()),E(a),M.push("}")}var J=C.length,K=B.length;if(2>K)throw new Error("ndarray-extract-contour: Dimension must be at least 2");for(var L="extractContour"+B.join("_"),M=[],N=[],O=[],P=0;J>P;++P)O.push(c(P));for(var P=0;t>P;++P)O.push(i(P));for(var P=0;K>P;++P)N.push(f(P)+"="+c(0)+".shape["+P+"]|0");for(var P=0;J>P;++P){N.push(d(P)+"="+c(P)+".data",h(P)+"="+c(P)+".offset|0");for(var Q=0;K>Q;++Q)N.push(g(P,Q)+"="+c(P)+".stride["+Q+"]|0")}for(var P=0;J>P;++P){N.push(j(P)+"="+h(P)),N.push(e(P,0));for(var Q=1;1<<K>Q;++Q){for(var R=[],S=0;K>S;++S)Q&1<<S&&R.push("-"+g(P,S));N.push(k(P,Q)+"=("+R.join("")+")|0"),N.push(e(P,Q)+"=0")}}for(var P=0;J>P;++P)for(var Q=0;K>Q;++Q){var T=[g(P,B[Q])];Q>0&&T.push(g(P,B[Q-1])+"*"+f(B[Q-1])),N.push(m(P,B[Q])+"=("+T.join("-")+")|0")}for(var P=0;K>P;++P)N.push(l(P)+"=0");N.push(x+"=0");for(var U=["2"],P=K-2;P>=0;--P)U.push(f(B[P]));N.push(y+"=("+U.join("*")+")|0",w+"=mallocUint32("+y+")",v+"=mallocUint32("+y+")",z+"=0"),N.push(n(0)+"=0");for(var Q=1;1<<K>Q;++Q){for(var V=[],W=[],S=0;K>S;++S)Q&1<<S&&(0===W.length?V.push("1"):V.unshift(W.join("*"))),W.push(f(B[S]));var X="";V[0].indexOf(f(B[K-2]))<0&&(X="-");var Y=r(K,Q,B);N.push(p(Y)+"=(-"+V.join("-")+")|0",o(Y)+"=("+X+V.join("-")+")|0",n(Y)+"=0")}N.push(q(0)+"=0",A+"=0"),I(K-1,0),M.push("freeUint32(",v,");freeUint32(",w,");");var Z=["'use strict';","function ",L,"(",O.join(),"){","var ",N.join(),";",M.join(""),"}","return ",L].join(""),$=new Function("vertex","face","phase","mallocUint32","freeUint32",Z);return $(a,b,s,u.mallocUint32,u.freeUint32)}function t(a){function b(a){throw new Error("ndarray-extract-contour: "+a)}"object"!=typeof a&&b("Must specify arguments");var c=a.order;Array.isArray(c)||b("Must specify order");var d=a.arrayArguments||1;1>d&&b("Must have at least one array argument");var e=a.scalarArguments||0;0>e&&b("Scalar arg count must be > 0"),"function"!=typeof a.vertex&&b("Must specify vertex creation function"),"function"!=typeof a.cell&&b("Must specify cell creation function"),"function"!=typeof a.phase&&b("Must specify phase function");for(var f=a.getters||[],g=new Array(d),h=0;d>h;++h)f.indexOf(h)>=0?g[h]=!0:g[h]=!1;return s(a.vertex,a.cell,a.phase,e,c,g)}var u=require("typedarray-pool");a.exports=t;var v="V",w="P",x="N",y="Q",z="X",A="T"},{"typedarray-pool":233}],220:[function(require,a,b){function c(a){if(0>a)return Number("0/0");for(var b=g[0],c=g.length-1;c>0;--c)b+=g[c]/(a+c);var d=a+f+.5;return.5*Math.log(2*Math.PI)+(a+.5)*Math.log(d)-d+Math.log(b)-Math.log(a)}var d=7,e=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,1.5056327351493116e-7],f=607/128,g=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];a.exports=function h(a){if(.5>a)return Math.PI/(Math.sin(Math.PI*a)*h(1-a));if(a>100)return Math.exp(c(a));a-=1;for(var b=e[0],f=1;d+2>f;f++)b+=e[f]/(a+f);var g=a+d+.5;return Math.sqrt(2*Math.PI)*Math.pow(g,a+.5)*Math.exp(-g)*b},a.exports.log=c},{}],221:[function(require,a,b){"use strict";function c(a){var b=a.length;if(d>b){for(var c=1,f=0;b>f;++f)for(var g=0;f>g;++g)if(a[f]<a[g])c=-c;else if(a[f]===a[g])return 0;return c}for(var h=e.mallocUint8(b),f=0;b>f;++f)h[f]=0;for(var c=1,f=0;b>f;++f)if(!h[f]){var i=1;h[f]=1;for(var g=a[f];g!==f;g=a[g]){if(h[g])return e.freeUint8(h),0;i+=1,h[g]=1}1&i||(c=-c)}return e.freeUint8(h),c}a.exports=c;var d=32,e=require("typedarray-pool")},{"typedarray-pool":233}],222:[function(require,a,b){"use strict";function c(a){var b=a.length;switch(b){case 0:case 1:return 0;case 2:return a[1]}var c,d,g,h=e.mallocUint32(b),i=e.mallocUint32(b),j=0;for(f(a,i),g=0;b>g;++g)h[g]=a[g];for(g=b-1;g>0;--g)d=i[g],c=h[g],h[g]=h[d],h[d]=c,i[g]=i[c],i[c]=d,j=(j+c)*g;return e.freeUint32(i),e.freeUint32(h),j}function d(a,b,c){switch(a){case 0:return c?c:[];case 1:return c?(c[0]=0,c):[0];case 2:return c?(b?(c[0]=0,c[1]=1):(c[0]=1,c[1]=0),c):b?[0,1]:[1,0]}c=c||new Array(a);var d,e,f,g=1;for(c[0]=0,f=1;a>f;++f)c[f]=f,g=g*f|0;for(f=a-1;f>0;--f)d=b/g|0,b=b-d*g|0,g=g/f|0,e=0|c[f],c[f]=0|c[d],c[d]=0|e;return c}var e=require("typedarray-pool"),f=require("invert-permutation");b.rank=c,b.unrank=d},{"invert-permutation":223,"typedarray-pool":233}],223:[function(require,a,b){"use strict";function c(a,b){b=b||new Array(a.length);for(var c=0;c<a.length;++c)b[a[c]]=c;return b}a.exports=c},{}],224:[function(require,a,b){"use strict";function c(a){if(0>a)return[];if(0===a)return[[0]];for(var b=0|Math.round(f(a+1)),c=[],g=0;b>g;++g){for(var h=d.unrank(a,g),i=[0],j=0,k=0;k<h.length;++k)j+=1<<h[k],i.push(j);e(h)<1&&(i[0]=j,i[a]=0),c.push(i)}return c}a.exports=c;var d=require("permutation-rank"),e=require("permutation-parity"),f=require("gamma")},{gamma:220,"permutation-parity":221,"permutation-rank":222}],225:[function(require,a,b){a.exports=require("cwise-compiler")({args:["array",{offset:[1],array:0},"scalar","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\n        var _inline_1_da = _inline_1_arg0_ - _inline_1_arg3_\n        var _inline_1_db = _inline_1_arg1_ - _inline_1_arg3_\n        if((_inline_1_da >= 0) !== (_inline_1_db >= 0)) {\n          _inline_1_arg2_.push(_inline_1_arg4_[0] + 0.5 + 0.5 * (_inline_1_da + _inline_1_db) / (_inline_1_da - _inline_1_db))\n        }\n      }",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg3_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:["_inline_1_da","_inline_1_db"]},funcName:"zeroCrossings"})},{"cwise-compiler":66}],226:[function(require,a,b){"use strict";function c(a,b){var c=[];return b=+b||0,d(a.hi(a.shape[0]-1),c,b),c}a.exports=c;var d=require("./lib/zc-core")},{"./lib/zc-core":225}],227:[function(require,a,b){"use strict";function c(a,b){var c=a.length,d=["'use strict';"],e="surfaceNets"+a.join("_")+"d"+b;d.push("var contour=genContour({","order:[",a.join(),"],","scalarArguments: 3,","phase:function phaseFunc(p,a,b,c) { return (p > c)|0 },"),"generic"===b&&d.push("getters:[0],");for(var h=[],i=[],j=0;c>j;++j)h.push("d"+j),i.push("d"+j);for(var j=0;1<<c>j;++j)h.push("v"+j),i.push("v"+j);for(var j=0;1<<c>j;++j)h.push("p"+j),i.push("p"+j);h.push("a","b","c"),i.push("a","c"),d.push("vertex:function vertexFunc(",h.join(),"){");for(var k=[],j=0;1<<c>j;++j)k.push("(p"+j+"<<"+j+")");d.push("var m=(",k.join("+"),")|0;if(m===0||m===",(1<<(1<<c))-1,"){return}");var l=[],m=[];128>=1<<(1<<c)?(d.push("switch(m){"),m=d):d.push("switch(m>>>7){");for(var j=0;1<<(1<<c)>j;++j){if(1<<(1<<c)>128&&j%128===0){l.length>0&&m.push("}}");var n="vExtra"+l.length;d.push("case ",j>>>7,":",n,"(m&0x7f,",i.join(),");break;"),m=["function ",n,"(m,",i.join(),"){switch(m){"],l.push(m)}m.push("case ",127&j,":");for(var o=new Array(c),p=new Array(c),q=new Array(c),r=new Array(c),s=0,t=0;c>t;++t)o[t]=[],p[t]=[],q[t]=0,r[t]=0;for(var t=0;1<<c>t;++t)for(var u=0;c>u;++u){var v=t^1<<u;if(!(v>t)&&!(j&1<<v)!=!(j&1<<t)){var w=1;j&1<<v?p[u].push("v"+v+"-v"+t):(p[u].push("v"+t+"-v"+v),w=-w),0>w?(o[u].push("-v"+t+"-v"+v),q[u]+=2):(o[u].push("v"+t+"+v"+v),q[u]-=2),s+=1;for(var x=0;c>x;++x)x!==u&&(v&1<<x?r[x]+=1:r[x]-=1)}}for(var y=[],u=0;c>u;++u)if(0===o[u].length)y.push("d"+u+"-0.5");else{var z="";q[u]<0?z=q[u]+"*c":q[u]>0&&(z="+"+q[u]+"*c");var A=.5*(o[u].length/s),B=.5+.5*(r[u]/s);y.push("d"+u+"-"+B+"-"+A+"*("+o[u].join("+")+z+")/("+p[u].join("+")+")")}m.push("a.push([",y.join(),"]);","break;")}d.push("}},"),l.length>0&&m.push("}}");for(var C=[],j=0;1<<c-1>j;++j)C.push("v"+j);C.push("c0","c1","p0","p1","a","b","c"),d.push("cell:function cellFunc(",C.join(),"){");var D=g(c-1);d.push("if(p0){b.push(",D.map(function(a){return"["+a.map(function(a){return"v"+a})+"]"}).join(),")}else{b.push(",D.map(function(a){var b=a.slice();return b.reverse(),"["+b.map(function(a){return"v"+a})+"]"}).join(),")}}});function ",e,"(array,level){var verts=[],cells=[];contour(array,verts,cells,level);return {positions:verts,cells:cells};} return ",e,";");for(var j=0;j<l.length;++j)d.push(l[j].join(""));var E=new Function("genContour",d.join(""));return E(f)}function d(a,b){for(var c=h(a,b),d=c.length,e=new Array(d),f=new Array(d),g=0;d>g;++g)e[g]=[c[g]],f[g]=[g];return{positions:e,cells:f}}function e(a,b){if(a.dimension<=0)return{positions:[],cells:[]};if(1===a.dimension)return d(a,b);var e=a.order.join()+"-"+a.dtype,f=i[e],b=+b||0;return f||(f=i[e]=c(a.order,a.dtype)),f(a,b)}a.exports=e;var f=require("ndarray-extract-contour"),g=require("triangulate-hypercube"),h=require("zero-crossings"),i={}},{"ndarray-extract-contour":219,"triangulate-hypercube":224,"zero-crossings":226}],228:[function(require,a,b){(function(b){"use strict";function c(a){for(var b=a.cells,c=a.positions,d=new Float32Array(6*b.length),e=0,f=0,g=0;g<b.length;++g)for(var h=b[g],i=0;3>i;++i){var j=c[h[i]];d[e++]=j[0],d[e++]=j[1]+1.4,f=Math.max(j[0],f)}return{data:d,shape:f}}function d(a,b){var f=g[a];f||(f=g[a]={" ":{data:new Float32Array(0),shape:.2}});var h=f[b];if(!h)if(b.length<=1||!/\d/.test(b))h=f[b]=c(e(b,{triangles:!0,font:a,textAlign:"left",textBaseline:"alphabetic"}));else{for(var i=b.split(/(\d|\s)/),j=new Array(i.length),k=0,l=0,m=0;m<i.length;++m)j[m]=d(a,i[m]),k+=j[m].data.length,l+=j[m].shape,m>0&&(l+=.02);for(var n=new Float32Array(k),o=0,p=-.5*l,m=0;m<j.length;++m){for(var q=j[m].data,r=0;r<q.length;r+=2)n[o++]=q[r]+p,n[o++]=q[r+1];p+=j[m].shape+.02}h=f[b]={data:n,shape:l}}return h}a.exports=d;var e=require("vectorize-text"),f=window||b.global||{},g=f.__TEXT_CACHE||{};f.__TEXT_CACHE={}}).call(this,require("_process"))},{_process:55,"vectorize-text":235}],229:[function(require,b,c){!function(){function c(a,b){if(a=a?a:"",b=b||{},a instanceof c)return a;if(!(this instanceof c))return new c(a,b);var e=d(a);this._originalInput=a,this._r=e.r,this._g=e.g,this._b=e.b,this._a=e.a,this._roundA=P(100*this._a)/100,this._format=b.format||e.format,this._gradientType=b.gradientType,this._r<1&&(this._r=P(this._r)),this._g<1&&(this._g=P(this._g)),this._b<1&&(this._b=P(this._b)),this._ok=e.ok,this._tc_id=N++}function d(a){var b={r:0,g:0,b:0},c=1,d=!1,f=!1;return"string"==typeof a&&(a=J(a)),"object"==typeof a&&(a.hasOwnProperty("r")&&a.hasOwnProperty("g")&&a.hasOwnProperty("b")?(b=e(a.r,a.g,a.b),d=!0,f="%"===String(a.r).substr(-1)?"prgb":"rgb"):a.hasOwnProperty("h")&&a.hasOwnProperty("s")&&a.hasOwnProperty("v")?(a.s=G(a.s),a.v=G(a.v),b=i(a.h,a.s,a.v),d=!0,f="hsv"):a.hasOwnProperty("h")&&a.hasOwnProperty("s")&&a.hasOwnProperty("l")&&(a.s=G(a.s),a.l=G(a.l),b=g(a.h,a.s,a.l),d=!0,f="hsl"),a.hasOwnProperty("a")&&(c=a.a)),c=z(c),{ok:d,format:a.format||f,r:Q(255,R(b.r,0)),g:Q(255,R(b.g,0)),b:Q(255,R(b.b,0)),a:c}}function e(a,b,c){return{r:255*A(a,255),g:255*A(b,255),b:255*A(c,255)}}function f(a,b,c){a=A(a,255),b=A(b,255),c=A(c,255);var d,e,f=R(a,b,c),g=Q(a,b,c),h=(f+g)/2;if(f==g)d=e=0;else{var i=f-g;switch(e=h>.5?i/(2-f-g):i/(f+g),f){case a:d=(b-c)/i+(c>b?6:0);break;case b:d=(c-a)/i+2;break;case c:d=(a-b)/i+4}d/=6}return{h:d,s:e,l:h}}function g(a,b,c){function d(a,b,c){return 0>c&&(c+=1),c>1&&(c-=1),1/6>c?a+6*(b-a)*c:.5>c?b:2/3>c?a+(b-a)*(2/3-c)*6:a}var e,f,g;if(a=A(a,360),b=A(b,100),c=A(c,100),0===b)e=f=g=c;else{var h=.5>c?c*(1+b):c+b-c*b,i=2*c-h;e=d(i,h,a+1/3),f=d(i,h,a),g=d(i,h,a-1/3)}return{r:255*e,g:255*f,b:255*g}}function h(a,b,c){a=A(a,255),b=A(b,255),c=A(c,255);var d,e,f=R(a,b,c),g=Q(a,b,c),h=f,i=f-g;if(e=0===f?0:i/f,f==g)d=0;else{switch(f){case a:d=(b-c)/i+(c>b?6:0);break;case b:d=(c-a)/i+2;break;case c:d=(a-b)/i+4}d/=6}return{h:d,s:e,v:h}}function i(a,b,c){a=6*A(a,360),b=A(b,100),c=A(c,100);var d=O.floor(a),e=a-d,f=c*(1-b),g=c*(1-e*b),h=c*(1-(1-e)*b),i=d%6,j=[c,g,f,f,h,c][i],k=[h,c,c,g,f,f][i],l=[f,f,h,c,c,g][i];return{r:255*j,g:255*k,b:255*l}}function j(a,b,c,d){var e=[F(P(a).toString(16)),F(P(b).toString(16)),F(P(c).toString(16))];return d&&e[0].charAt(0)==e[0].charAt(1)&&e[1].charAt(0)==e[1].charAt(1)&&e[2].charAt(0)==e[2].charAt(1)?e[0].charAt(0)+e[1].charAt(0)+e[2].charAt(0):e.join("")}function k(a,b,c,d){var e=[F(H(d)),F(P(a).toString(16)),F(P(b).toString(16)),F(P(c).toString(16))];return e.join("")}function l(a,b){b=0===b?0:b||10;var d=c(a).toHsl();return d.s-=b/100,d.s=B(d.s),c(d)}function m(a,b){b=0===b?0:b||10;var d=c(a).toHsl();return d.s+=b/100,d.s=B(d.s),c(d)}function n(a){return c(a).desaturate(100)}function o(a,b){b=0===b?0:b||10;var d=c(a).toHsl();return d.l+=b/100,d.l=B(d.l),c(d)}function p(a,b){b=0===b?0:b||10;var d=c(a).toRgb();return d.r=R(0,Q(255,d.r-P(255*-(b/100)))),d.g=R(0,Q(255,d.g-P(255*-(b/100)))),d.b=R(0,Q(255,d.b-P(255*-(b/100)))),c(d)}function q(a,b){b=0===b?0:b||10;var d=c(a).toHsl();return d.l-=b/100,d.l=B(d.l),c(d)}function r(a,b){var d=c(a).toHsl(),e=(P(d.h)+b)%360;return d.h=0>e?360+e:e,c(d)}function s(a){var b=c(a).toHsl();return b.h=(b.h+180)%360,c(b)}function t(a){var b=c(a).toHsl(),d=b.h;return[c(a),c({h:(d+120)%360,s:b.s,l:b.l}),c({h:(d+240)%360,s:b.s,l:b.l})]}function u(a){var b=c(a).toHsl(),d=b.h;return[c(a),c({h:(d+90)%360,s:b.s,l:b.l}),c({h:(d+180)%360,s:b.s,l:b.l}),c({h:(d+270)%360,s:b.s,l:b.l})]}function v(a){var b=c(a).toHsl(),d=b.h;return[c(a),c({h:(d+72)%360,s:b.s,l:b.l}),c({h:(d+216)%360,s:b.s,l:b.l})]}function w(a,b,d){b=b||6,d=d||30;var e=c(a).toHsl(),f=360/d,g=[c(a)];for(e.h=(e.h-(f*b>>1)+720)%360;--b;)e.h=(e.h+f)%360,g.push(c(e));return g}function x(a,b){b=b||6;for(var d=c(a).toHsv(),e=d.h,f=d.s,g=d.v,h=[],i=1/b;b--;)h.push(c({h:e,s:f,v:g})),g=(g+i)%1;return h}function y(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);return b}function z(a){return a=parseFloat(a),(isNaN(a)||0>a||a>1)&&(a=1),a}function A(a,b){D(a)&&(a="100%");var c=E(a);return a=Q(b,R(0,parseFloat(a))),c&&(a=parseInt(a*b,10)/100),O.abs(a-b)<1e-6?1:a%b/parseFloat(b)}function B(a){return Q(1,R(0,a))}function C(a){return parseInt(a,16)}function D(a){return"string"==typeof a&&-1!=a.indexOf(".")&&1===parseFloat(a)}function E(a){return"string"==typeof a&&-1!=a.indexOf("%")}function F(a){return 1==a.length?"0"+a:""+a}function G(a){return 1>=a&&(a=100*a+"%"),a}function H(a){return Math.round(255*parseFloat(a)).toString(16)}function I(a){return C(a)/255}function J(a){a=a.replace(L,"").replace(M,"").toLowerCase();var b=!1;if(T[a])a=T[a],b=!0;else if("transparent"==a)return{r:0,g:0,b:0,a:0,format:"name"};var c;return(c=V.rgb.exec(a))?{r:c[1],g:c[2],b:c[3]}:(c=V.rgba.exec(a))?{r:c[1],g:c[2],b:c[3],a:c[4]}:(c=V.hsl.exec(a))?{h:c[1],s:c[2],l:c[3]}:(c=V.hsla.exec(a))?{h:c[1],s:c[2],l:c[3],a:c[4]}:(c=V.hsv.exec(a))?{h:c[1],s:c[2],v:c[3]}:(c=V.hsva.exec(a))?{h:c[1],s:c[2],v:c[3],a:c[4]}:(c=V.hex8.exec(a))?{a:I(c[1]),r:C(c[2]),g:C(c[3]),b:C(c[4]),format:b?"name":"hex8"}:(c=V.hex6.exec(a))?{r:C(c[1]),g:C(c[2]),b:C(c[3]),format:b?"name":"hex"}:(c=V.hex3.exec(a))?{r:C(c[1]+""+c[1]),g:C(c[2]+""+c[2]),b:C(c[3]+""+c[3]),format:b?"name":"hex"}:!1}function K(a){var b,c;return a=a||{level:"AA",size:"small"},b=(a.level||"AA").toUpperCase(),c=(a.size||"small").toLowerCase(),"AA"!==b&&"AAA"!==b&&(b="AA"),"small"!==c&&"large"!==c&&(c="small"),{level:b,size:c}}var L=/^\s+/,M=/\s+$/,N=0,O=Math,P=O.round,Q=O.min,R=O.max,S=O.random;c.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var a=this.toRgb();return(299*a.r+587*a.g+114*a.b)/1e3},getLuminance:function(){var a,b,c,d,e,f,g=this.toRgb();return a=g.r/255,b=g.g/255,c=g.b/255,d=.03928>=a?a/12.92:Math.pow((a+.055)/1.055,2.4),e=.03928>=b?b/12.92:Math.pow((b+.055)/1.055,2.4),f=.03928>=c?c/12.92:Math.pow((c+.055)/1.055,2.4),.2126*d+.7152*e+.0722*f},setAlpha:function(a){return this._a=z(a),this._roundA=P(100*this._a)/100,this},toHsv:function(){var a=h(this._r,this._g,this._b);return{h:360*a.h,s:a.s,v:a.v,a:this._a}},toHsvString:function(){var a=h(this._r,this._g,this._b),b=P(360*a.h),c=P(100*a.s),d=P(100*a.v);return 1==this._a?"hsv("+b+", "+c+"%, "+d+"%)":"hsva("+b+", "+c+"%, "+d+"%, "+this._roundA+")"},toHsl:function(){var a=f(this._r,this._g,this._b);return{h:360*a.h,s:a.s,l:a.l,a:this._a}},toHslString:function(){var a=f(this._r,this._g,this._b),b=P(360*a.h),c=P(100*a.s),d=P(100*a.l);return 1==this._a?"hsl("+b+", "+c+"%, "+d+"%)":"hsla("+b+", "+c+"%, "+d+"%, "+this._roundA+")"},toHex:function(a){return j(this._r,this._g,this._b,a)},toHexString:function(a){return"#"+this.toHex(a)},toHex8:function(){return k(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:P(this._r),g:P(this._g),b:P(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+P(this._r)+", "+P(this._g)+", "+P(this._b)+")":"rgba("+P(this._r)+", "+P(this._g)+", "+P(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:P(100*A(this._r,255))+"%",g:P(100*A(this._g,255))+"%",b:P(100*A(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+P(100*A(this._r,255))+"%, "+P(100*A(this._g,255))+"%, "+P(100*A(this._b,255))+"%)":"rgba("+P(100*A(this._r,255))+"%, "+P(100*A(this._g,255))+"%, "+P(100*A(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":this._a<1?!1:U[j(this._r,this._g,this._b,!0)]||!1},toFilter:function(a){var b="#"+k(this._r,this._g,this._b,this._a),d=b,e=this._gradientType?"GradientType = 1, ":"";if(a){var f=c(a);d=f.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+e+"startColorstr="+b+",endColorstr="+d+")"},toString:function(a){var b=!!a;a=a||this._format;var c=!1,d=this._a<1&&this._a>=0,e=!b&&d&&("hex"===a||"hex6"===a||"hex3"===a||"name"===a);return e?"name"===a&&0===this._a?this.toName():this.toRgbString():("rgb"===a&&(c=this.toRgbString()),"prgb"===a&&(c=this.toPercentageRgbString()),("hex"===a||"hex6"===a)&&(c=this.toHexString()),"hex3"===a&&(c=this.toHexString(!0)),"hex8"===a&&(c=this.toHex8String()),"name"===a&&(c=this.toName()),"hsl"===a&&(c=this.toHslString()),"hsv"===a&&(c=this.toHsvString()),c||this.toHexString())},clone:function(){return c(this.toString())},_applyModification:function(a,b){var c=a.apply(null,[this].concat([].slice.call(b)));return this._r=c._r,this._g=c._g,this._b=c._b,this.setAlpha(c._a),this},lighten:function(){return this._applyModification(o,arguments)},brighten:function(){return this._applyModification(p,arguments)},darken:function(){return this._applyModification(q,arguments)},desaturate:function(){return this._applyModification(l,arguments)},saturate:function(){return this._applyModification(m,arguments)},greyscale:function(){return this._applyModification(n,arguments)},spin:function(){return this._applyModification(r,arguments)},_applyCombination:function(a,b){return a.apply(null,[this].concat([].slice.call(b)))},analogous:function(){return this._applyCombination(w,arguments)},complement:function(){return this._applyCombination(s,arguments)},monochromatic:function(){return this._applyCombination(x,arguments)},splitcomplement:function(){return this._applyCombination(v,arguments)},triad:function(){return this._applyCombination(t,arguments)},tetrad:function(){return this._applyCombination(u,arguments)}},c.fromRatio=function(a,b){if("object"==typeof a){var d={};for(var e in a)a.hasOwnProperty(e)&&("a"===e?d[e]=a[e]:d[e]=G(a[e]));a=d}return c(a,b)},c.equals=function(a,b){return a&&b?c(a).toRgbString()==c(b).toRgbString():!1},c.random=function(){return c.fromRatio({r:S(),g:S(),b:S()})},c.mix=function(a,b,d){d=0===d?0:d||50;var e,f=c(a).toRgb(),g=c(b).toRgb(),h=d/100,i=2*h-1,j=g.a-f.a;e=i*j==-1?i:(i+j)/(1+i*j),e=(e+1)/2;var k=1-e,l={r:g.r*e+f.r*k,g:g.g*e+f.g*k,b:g.b*e+f.b*k,a:g.a*h+f.a*(1-h)};return c(l)},c.readability=function(a,b){var d=c(a),e=c(b);return(Math.max(d.getLuminance(),e.getLuminance())+.05)/(Math.min(d.getLuminance(),e.getLuminance())+.05)},c.isReadable=function(a,b,d){var e,f,g=c.readability(a,b);switch(f=!1,e=K(d),e.level+e.size){case"AAsmall":case"AAAlarge":f=g>=4.5;break;case"AAlarge":f=g>=3;break;case"AAAsmall":f=g>=7}return f},c.mostReadable=function(a,b,d){var e,f,g,h,i=null,j=0;d=d||{},f=d.includeFallbackColors,g=d.level,h=d.size;for(var k=0;k<b.length;k++)e=c.readability(a,b[k]),e>j&&(j=e,i=c(b[k]));return c.isReadable(a,i,{level:g,size:h})||!f?i:(d.includeFallbackColors=!1,c.mostReadable(a,["#fff","#000"],d))};var T=c.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},U=c.hexNames=y(T),V=function(){var a="[-\\+]?\\d+%?",b="[-\\+]?\\d*\\.\\d+%?",c="(?:"+b+")|(?:"+a+")",d="[\\s|\\(]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")\\s*\\)?",e="[\\s|\\(]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")\\s*\\)?";return{rgb:new RegExp("rgb"+d),rgba:new RegExp("rgba"+e),hsl:new RegExp("hsl"+d),hsla:new RegExp("hsla"+e),hsv:new RegExp("hsv"+d),hsva:new RegExp("hsva"+e),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof b&&b.exports?b.exports=c:"function"==typeof a&&a.amd?a(function(){return c}):window.tinycolor=c}()},{}],230:[function(require,b,c){!function(){function c(a,b){function c(b){var c,d=a.arcs[0>b?~b:b],e=d[0];return a.transform?(c=[0,0],d.forEach(function(a){c[0]+=a[0],c[1]+=a[1]})):c=d[d.length-1],0>b?[c,e]:[e,c]}function d(a,b){for(var c in a){var d=a[c];delete b[d.start],delete d.start,delete d.end,d.forEach(function(a){e[0>a?~a:a]=1}),h.push(d)}}var e={},f={},g={},h=[],i=-1;return b.forEach(function(c,d){var e,f=a.arcs[0>c?~c:c];f.length<3&&!f[1][0]&&!f[1][1]&&(e=b[++i],b[i]=c,b[d]=e)}),b.forEach(function(a){var b,d,e=c(a),h=e[0],i=e[1];if(b=g[h])if(delete g[b.end],b.push(a),b.end=i,d=f[i]){delete f[d.start];var j=d===b?b:b.concat(d);f[j.start=b.start]=g[j.end=d.end]=j}else f[b.start]=g[b.end]=b;else if(b=f[i])if(delete f[b.start],b.unshift(a),b.start=h,d=g[h]){delete g[d.end];var k=d===b?b:d.concat(b);f[k.start=d.start]=g[k.end=b.end]=k}else f[b.start]=g[b.end]=b;else b=[a],f[b.start=h]=g[b.end=i]=b}),d(g,f),d(f,g),b.forEach(function(a){e[0>a?~a:a]||h.push([a])}),h}function d(a,b,d){function e(a){var b=0>a?~a:a;(k[b]||(k[b]=[])).push({i:a,g:j})}function f(a){a.forEach(e)}function g(a){a.forEach(f)}function h(a){"GeometryCollection"===a.type?a.geometries.forEach(h):a.type in l&&(j=a,l[a.type](a.arcs))}var i=[];if(arguments.length>1){var j,k=[],l={LineString:f,MultiLineString:g,Polygon:g,MultiPolygon:function(a){a.forEach(g)}};h(b),k.forEach(arguments.length<3?function(a){i.push(a[0].i)}:function(a){d(a[0].g,a[a.length-1].g)&&i.push(a[0].i)})}else for(var m=0,n=a.arcs.length;n>m;++m)i.push(m);return{type:"MultiLineString",arcs:c(a,i)}}function e(a,b){function d(a){a.forEach(function(b){b.forEach(function(b){(f[b=0>b?~b:b]||(f[b]=[])).push(a)})}),g.push(a)}function e(b){return m(h(a,{type:"Polygon",arcs:[b]}).coordinates[0])>0}var f={},g=[],i=[];return b.forEach(function(a){"Polygon"===a.type?d(a.arcs):"MultiPolygon"===a.type&&a.arcs.forEach(d)}),g.forEach(function(a){if(!a._){var b=[],c=[a];for(a._=1,i.push(b);a=c.pop();)b.push(a),a.forEach(function(a){a.forEach(function(a){f[0>a?~a:a].forEach(function(a){a._||(a._=1,c.push(a))})})})}}),g.forEach(function(a){delete a._}),{type:"MultiPolygon",arcs:i.map(function(b){var d,g=[];if(b.forEach(function(a){a.forEach(function(a){a.forEach(function(a){f[0>a?~a:a].length<2&&g.push(a)})})}),g=c(a,g),(d=g.length)>1)for(var h,i=e(b[0][0]),j=0;d>j;++j)if(i===e(g[j])){h=g[0],g[0]=g[j],g[j]=h;break}return g})}}function f(a,b){return"GeometryCollection"===b.type?{type:"FeatureCollection",features:b.geometries.map(function(b){return g(a,b)})}:g(a,b)}function g(a,b){var c={type:"Feature",id:b.id,properties:b.properties||{},geometry:h(a,b)};return null==b.id&&delete c.id,c}function h(a,b){function c(a,b){b.length&&b.pop();for(var c,d=k[0>a?~a:a],e=0,f=d.length;f>e;++e)b.push(c=d[e].slice()),j(c,e);0>a&&i(b,f)}function d(a){return a=a.slice(),j(a,0),a}function e(a){for(var b=[],d=0,e=a.length;e>d;++d)c(a[d],b);return b.length<2&&b.push(b[0].slice()),
b}function f(a){for(var b=e(a);b.length<4;)b.push(b[0].slice());return b}function g(a){return a.map(f)}function h(a){var b=a.type;return"GeometryCollection"===b?{type:b,geometries:a.geometries.map(h)}:b in l?{type:b,coordinates:l[b](a)}:null}var j=q(a.transform),k=a.arcs,l={Point:function(a){return d(a.coordinates)},MultiPoint:function(a){return a.coordinates.map(d)},LineString:function(a){return e(a.arcs)},MultiLineString:function(a){return a.arcs.map(e)},Polygon:function(a){return g(a.arcs)},MultiPolygon:function(a){return a.arcs.map(g)}};return h(b)}function i(a,b){for(var c,d=a.length,e=d-b;e<--d;)c=a[e],a[e++]=a[d],a[d]=c}function j(a,b){for(var c=0,d=a.length;d>c;){var e=c+d>>>1;a[e]<b?c=e+1:d=e}return c}function k(a){function b(a,b){a.forEach(function(a){0>a&&(a=~a);var c=e[a];c?c.push(b):e[a]=[b]})}function c(a,c){a.forEach(function(a){b(a,c)})}function d(a,b){"GeometryCollection"===a.type?a.geometries.forEach(function(a){d(a,b)}):a.type in g&&g[a.type](a.arcs,b)}var e={},f=a.map(function(){return[]}),g={LineString:b,MultiLineString:c,Polygon:c,MultiPolygon:function(a,b){a.forEach(function(a){c(a,b)})}};a.forEach(d);for(var h in e)for(var i=e[h],k=i.length,l=0;k>l;++l)for(var m=l+1;k>m;++m){var n,o=i[l],p=i[m];(n=f[o])[h=j(n,p)]!==p&&n.splice(h,0,p),(n=f[p])[h=j(n,o)]!==o&&n.splice(h,0,o)}return f}function l(a,b){function c(a){f.remove(a),a[1][2]=b(a),f.push(a)}var d=q(a.transform),e=r(a.transform),f=p();return b||(b=n),a.arcs.forEach(function(a){for(var g,h,i=[],j=0,k=0,l=a.length;l>k;++k)h=a[k],d(a[k]=[h[0],h[1],1/0],k);for(var k=1,l=a.length-1;l>k;++k)g=a.slice(k-1,k+2),g[1][2]=b(g),i.push(g),f.push(g);for(var k=0,l=i.length;l>k;++k)g=i[k],g.previous=i[k-1],g.next=i[k+1];for(;g=f.pop();){var m=g.previous,n=g.next;g[1][2]<j?g[1][2]=j:j=g[1][2],m&&(m.next=n,m[2]=g[2],c(m)),n&&(n.previous=m,n[0]=g[0],c(n))}a.forEach(e)}),a}function m(a){for(var b,c=-1,d=a.length,e=a[d-1],f=0;++c<d;)b=e,e=a[c],f+=b[0]*e[1]-b[1]*e[0];return f/2}function n(a){var b=a[0],c=a[1],d=a[2];return Math.abs((b[0]-d[0])*(c[1]-b[1])-(b[0]-c[0])*(d[1]-b[1]))}function o(a,b){return a[1][2]-b[1][2]}function p(){function a(a,b){for(;b>0;){var c=(b+1>>1)-1,e=d[c];if(o(a,e)>=0)break;d[e._=b]=e,d[a._=b=c]=a}}function b(a,b){for(;;){var c=b+1<<1,f=c-1,g=b,h=d[g];if(e>f&&o(d[f],h)<0&&(h=d[g=f]),e>c&&o(d[c],h)<0&&(h=d[g=c]),g===b)break;d[h._=b]=h,d[a._=b=g]=a}}var c={},d=[],e=0;return c.push=function(b){return a(d[b._=e]=b,e++),e},c.pop=function(){if(!(0>=e)){var a,c=d[0];return--e>0&&(a=d[e],b(d[a._=0]=a,0)),c}},c.remove=function(c){var f,g=c._;if(d[g]===c)return g!==--e&&(f=d[e],(o(f,c)<0?a:b)(d[f._=g]=f,g)),g},c}function q(a){if(!a)return s;var b,c,d=a.scale[0],e=a.scale[1],f=a.translate[0],g=a.translate[1];return function(a,h){h||(b=c=0),a[0]=(b+=a[0])*d+f,a[1]=(c+=a[1])*e+g}}function r(a){if(!a)return s;var b,c,d=a.scale[0],e=a.scale[1],f=a.translate[0],g=a.translate[1];return function(a,h){h||(b=c=0);var i=(a[0]-f)/d|0,j=(a[1]-g)/e|0;a[0]=i-b,a[1]=j-c,b=i,c=j}}function s(){}var t={version:"1.6.20",mesh:function(a){return h(a,d.apply(this,arguments))},meshArcs:d,merge:function(a){return h(a,e.apply(this,arguments))},mergeArcs:e,feature:f,neighbors:k,presimplify:l};"function"==typeof a&&a.amd?a(t):"object"==typeof b&&b.exports?b.exports=t:this.topojson=t}()},{}],231:[function(require,a,b){"use strict";function c(a,b,c){var e=a*b,f=d*a,g=f-a,h=f-g,i=a-h,j=d*b,k=j-b,l=j-k,m=b-l,n=e-h*l,o=n-i*l,p=o-h*m,q=i*m-p;return c?(c[0]=q,c[1]=e,c):[q,e]}a.exports=c;var d=+(Math.pow(2,27)+1)},{}],232:[function(require,a,b){"use strict";function c(a,b,c){var d=a+b,e=d-a,f=d-e,g=b-e,h=a-f;return c?(c[0]=h+g,c[1]=d,c):[h+g,d]}a.exports=c},{}],233:[function(require,a,b){(function(a,c){"use strict";function d(a){if(a){var b=a.length||a.byteLength,c=r.log2(b);v[c].push(a)}}function e(a){d(a.buffer)}function f(a){var a=r.nextPow2(a),b=r.log2(a),c=v[b];return c.length>0?c.pop():new ArrayBuffer(a)}function g(a){return new Uint8Array(f(a),0,a)}function h(a){return new Uint16Array(f(2*a),0,a)}function i(a){return new Uint32Array(f(4*a),0,a)}function j(a){return new Int8Array(f(a),0,a)}function k(a){return new Int16Array(f(2*a),0,a)}function l(a){return new Int32Array(f(4*a),0,a)}function m(a){return new Float32Array(f(4*a),0,a)}function n(a){return new Float64Array(f(8*a),0,a)}function o(a){return t?new Uint8ClampedArray(f(a),0,a):g(a)}function p(a){return new DataView(f(a),0,a)}function q(a){a=r.nextPow2(a);var b=r.log2(a),d=w[b];return d.length>0?d.pop():new c(a)}var r=require("bit-twiddle"),s=require("dup");a.__TYPEDARRAY_POOL||(a.__TYPEDARRAY_POOL={UINT8:s([32,0]),UINT16:s([32,0]),UINT32:s([32,0]),INT8:s([32,0]),INT16:s([32,0]),INT32:s([32,0]),FLOAT:s([32,0]),DOUBLE:s([32,0]),DATA:s([32,0]),UINT8C:s([32,0]),BUFFER:s([32,0])});var t="undefined"!=typeof Uint8ClampedArray,u=a.__TYPEDARRAY_POOL;u.UINT8C||(u.UINT8C=s([32,0])),u.BUFFER||(u.BUFFER=s([32,0]));var v=u.DATA,w=u.BUFFER;b.free=function(a){if(c.isBuffer(a))w[r.log2(a.length)].push(a);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(a)&&(a=a.buffer),!a)return;var b=a.length||a.byteLength,d=0|r.log2(b);v[d].push(a)}},b.freeUint8=b.freeUint16=b.freeUint32=b.freeInt8=b.freeInt16=b.freeInt32=b.freeFloat32=b.freeFloat=b.freeFloat64=b.freeDouble=b.freeUint8Clamped=b.freeDataView=e,b.freeArrayBuffer=d,b.freeBuffer=function(a){w[r.log2(a.length)].push(a)},b.malloc=function(a,b){if(void 0===b||"arraybuffer"===b)return f(a);switch(b){case"uint8":return g(a);case"uint16":return h(a);case"uint32":return i(a);case"int8":return j(a);case"int16":return k(a);case"int32":return l(a);case"float":case"float32":return m(a);case"double":case"float64":return n(a);case"uint8_clamped":return o(a);case"buffer":return q(a);case"data":case"dataview":return p(a);default:return null}return null},b.mallocArrayBuffer=f,b.mallocUint8=g,b.mallocUint16=h,b.mallocUint32=i,b.mallocInt8=j,b.mallocInt16=k,b.mallocInt32=l,b.mallocFloat32=b.mallocFloat=m,b.mallocFloat64=b.mallocDouble=n,b.mallocUint8Clamped=o,b.mallocDataView=p,b.mallocBuffer=q,b.clearCache=function(){for(var a=0;32>a;++a)u.UINT8[a].length=0,u.UINT16[a].length=0,u.UINT32[a].length=0,u.INT8[a].length=0,u.INT16[a].length=0,u.INT32[a].length=0,u.FLOAT[a].length=0,u.DOUBLE[a].length=0,u.UINT8C[a].length=0,v[a].length=0,w[a].length=0}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer)},{"bit-twiddle":49,buffer:50,dup:72}],234:[function(require,a,b){"use strict";function c(a,b){for(var c=1,d=a.length,e=a[0],f=a[0],g=1;d>g;++g)if(f=e,e=a[g],b(e,f)){if(g===c){c++;continue}a[c++]=e}return a.length=c,a}function d(a){for(var b=1,c=a.length,d=a[0],e=a[0],f=1;c>f;++f,e=d)if(e=d,d=a[f],d!==e){if(f===b){b++;continue}a[b++]=d}return a.length=b,a}function e(a,b,e){return 0===a.length?a:b?(e||a.sort(b),c(a,b)):(e||a.sort(),d(a))}a.exports=e},{}],235:[function(require,a,b){"use strict";function c(a,b){return("object"!=typeof b||null===b)&&(b={}),d(a,b.canvas||e,b.context||f,b)}a.exports=c;var d=require("./lib/vtext"),e=null,f=null;"undefined"!=typeof document&&(e=document.createElement("canvas"),e.width=8192,e.height=1024,f=e.getContext("2d"))},{"./lib/vtext":236}],236:[function(require,a,b){"use strict";function c(a,b,c){for(var d=b.textAlign||"start",e=b.textBaseline||"alphabetic",f=[1<<30,1<<30],g=[0,0],h=a.length,i=0;h>i;++i)for(var j=a[i],k=0;2>k;++k)f[k]=0|Math.min(f[k],j[k]),g[k]=0|Math.max(g[k],j[k]);var l=0;switch(d){case"center":l=-.5*(f[0]+g[0]);break;case"right":case"end":l=-g[0];break;case"left":case"start":l=-f[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+d+"'")}var m=0;switch(e){case"hanging":case"top":m=-f[1];break;case"middle":m=-.5*(f[1]+g[1]);break;case"alphabetic":case"ideographic":m=-3*c;break;case"bottom":m=-g[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+e+"'")}var n=1/c;return"lineHeight"in b?n*=+b.lineHeight:"width"in b?n=b.width/(g[0]-f[0]):"height"in b&&(n=b.height/(g[1]-f[1])),a.map(function(a){return[n*(a[0]+l),n*(a[1]+m)]})}function d(a,b,c,d){var e=0|Math.ceil(b.measureText(c).width+2*d);if(e>8192)throw new Error("vectorize-text: String too long (sorry, this will get fixed later)");var f=3*d;a.height<f&&(a.height=f),b.fillStyle="#000",b.fillRect(0,0,a.width,a.height),b.fillStyle="#fff",b.fillText(c,d,2*d);var g=b.getImageData(0,0,e,f),h=j(g.data,[f,e,4]);return h.pick(-1,-1,0).transpose(1,0)}function e(a,b){var c=i(a,128);return b?k(c.cells,c.positions,.25):{edges:c.cells,positions:c.positions}}function f(a,b,d,f){var g=e(a,f),h=c(g.positions,b,d),i=g.edges,j="ccw"===b.orientation;if(l(h,i),b.polygons||b.polygon||b.polyline){for(var k=n(i,h),o=new Array(k.length),p=0;p<k.length;++p){for(var q=k[p],r=new Array(q.length),s=0;s<q.length;++s){for(var t=q[s],u=new Array(t.length),v=0;v<t.length;++v)u[v]=h[t[v]].slice();j&&u.reverse(),r[s]=u}o[p]=r}return o}return b.triangles||b.triangulate||b.triangle?{cells:m(h,i,{delaunay:!1,exterior:!1,interior:!0}),positions:h}:{edges:i,positions:h}}function g(a,b,c){try{return f(a,b,c,!0)}catch(d){}try{return f(a,b,c,!1)}catch(d){}return b.polygons||b.polyline||b.polygon?[]:b.triangles||b.triangulate||b.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function h(a,b,c,e){var f=e.size||64,h=e.font||"normal";c.font=f+"px "+h,c.textAlign="start",c.textBaseline="alphabetic",c.direction="ltr";var i=d(b,c,a,f);return g(i,e,f)}a.exports=h,a.exports.processPixels=g;var i=require("surface-nets"),j=require("ndarray"),k=require("simplify-planar-graph"),l=require("clean-pslg"),m=require("cdt2d"),n=require("planar-graph-to-polyline")},{cdt2d:237,"clean-pslg":244,ndarray:208,"planar-graph-to-polyline":290,"simplify-planar-graph":294,"surface-nets":227}],237:[function(require,a,b){"use strict";function c(a){return[Math.min(a[0],a[1]),Math.max(a[0],a[1])]}function d(a,b){return a[0]-b[0]||a[1]-b[1]}function e(a){return a.map(c).sort(d)}function f(a,b,c){return b in a?a[b]:c}function g(a,b,c){Array.isArray(b)?(c=c||{},b=b||[]):(c=b||{},b=[]);var d=!!f(c,"delaunay",!0),g=!!f(c,"interior",!0),l=!!f(c,"exterior",!0),m=!!f(c,"infinity",!1);if(!g&&!l||0===a.length)return[];var n=h(a,b);if(d||g!==l||m){for(var o=i(a.length,e(b)),p=0;p<n.length;++p){var q=n[p];o.addTriangle(q[0],q[1],q[2])}return d&&j(a,o),l?g?m?k(o,0,m):o.cells():k(o,1,m):k(o,-1)}return n}var h=require("./lib/monotone"),i=require("./lib/triangulation"),j=require("./lib/delaunay"),k=require("./lib/filter");a.exports=g},{"./lib/delaunay":238,"./lib/filter":239,"./lib/monotone":240,"./lib/triangulation":241}],238:[function(require,a,b){"use strict";function c(a,b,c,d,f,g){var h=b.opposite(d,f);if(!(0>h)){if(d>f){var i=d;d=f,f=i,i=g,g=h,h=i}b.isConstraint(d,f)||e(a[d],a[f],a[g],a[h])<0&&c.push(d,f)}}function d(a,b){for(var d=[],f=a.length,g=b.stars,h=0;f>h;++h)for(var i=g[h],j=1;j<i.length;j+=2){var k=i[j];if(!(h>k||b.isConstraint(h,k))){for(var l=i[j-1],m=-1,n=1;n<i.length;n+=2)if(i[n-1]===k){m=i[n];break}0>m||e(a[h],a[k],a[l],a[m])<0&&d.push(h,k)}}for(;d.length>0;){for(var k=d.pop(),h=d.pop(),l=-1,m=-1,i=g[h],o=1;o<i.length;o+=2){var p=i[o-1],q=i[o];p===k?m=q:q===k&&(l=p)}0>l||0>m||e(a[h],a[k],a[l],a[m])>=0||(b.flip(h,k),c(a,b,d,l,h,m),c(a,b,d,h,m,l),c(a,b,d,m,k,l),c(a,b,d,k,l,m))}}var e=require("robust-in-sphere")[4];require("binary-search-bounds");a.exports=d},{"binary-search-bounds":242,"robust-in-sphere":243}],239:[function(require,a,b){"use strict";function c(a,b,c,d,e,f,g){this.cells=a,this.neighbor=b,this.flags=d,this.constraint=c,this.active=e,this.next=f,this.boundary=g}function d(a,b){return a[0]-b[0]||a[1]-b[1]||a[2]-b[2]}function e(a,b){for(var e=a.cells(),f=e.length,g=0;f>g;++g){var h=e[g],i=h[0],j=h[1],k=h[2];k>j?i>j&&(h[0]=j,h[1]=k,h[2]=i):i>k&&(h[0]=k,h[1]=i,h[2]=j)}e.sort(d);for(var l=new Array(f),g=0;g<l.length;++g)l[g]=0;var m=[],n=[],o=new Array(3*f),p=new Array(3*f),q=null;b&&(q=[]);for(var r=new c(e,o,p,l,m,n,q),g=0;f>g;++g)for(var h=e[g],s=0;3>s;++s){var i=h[s],j=h[(s+1)%3],t=o[3*g+s]=r.locate(j,i,a.opposite(j,i)),u=p[3*g+s]=a.isConstraint(i,j);0>t&&(u?n.push(g):(m.push(g),l[g]=1),b&&q.push([j,i,-1]))}return r}function f(a,b,c){for(var d=0,e=0;e<a.length;++e)b[e]===c&&(a[d++]=a[e]);return a.length=d,a}function g(a,b,c){var d=e(a,c);if(0===b)return c?d.cells.concat(d.boundary):d.cells;for(var g=1,h=d.active,i=d.next,j=d.flags,k=d.cells,l=d.constraint,m=d.neighbor;h.length>0||i.length>0;){for(;h.length>0;){var n=h.pop();if(j[n]!==-g){j[n]=g;for(var o=(k[n],0);3>o;++o){var p=m[3*n+o];p>=0&&0===j[p]&&(l[3*n+o]?i.push(p):(h.push(p),j[p]=g))}}}var q=i;i=h,h=q,i.length=0,g=-g}var r=f(k,j,b);return c?r.concat(d.boundary):r}var h=require("binary-search-bounds");a.exports=g;var i=c.prototype;i.locate=function(){var a=[0,0,0];return function(b,c,e){var f=b,g=c,i=e;return e>c?b>c&&(f=c,g=e,i=b):b>e&&(f=e,g=b,i=c),0>f?-1:(a[0]=f,a[1]=g,a[2]=i,h.eq(this.cells,a,d))}}()},{"binary-search-bounds":242}],240:[function(require,a,b){"use strict";function c(a,b,c,d,e){this.a=a,this.b=b,this.idx=c,this.lowerIds=d,this.upperIds=e}function d(a,b,c,d){this.a=a,this.b=b,this.type=c,this.idx=d}function e(a,b){var c=a.a[0]-b.a[0]||a.a[1]-b.a[1]||a.type-b.type;return c?c:a.type!==n&&(c=m(a.a,a.b,b.b))?c:a.idx-b.idx}function f(a,b){return m(a.a,a.b,b)}function g(a,b,c,d,e){for(var g=l.lt(b,d,f),h=l.gt(b,d,f),i=g;h>i;++i){for(var j=b[i],k=j.lowerIds,n=k.length;n>1&&m(c[k[n-2]],c[k[n-1]],d)>0;)a.push([k[n-1],k[n-2],e]),n-=1;k.length=n,k.push(e);for(var o=j.upperIds,n=o.length;n>1&&m(c[o[n-2]],c[o[n-1]],d)<0;)a.push([o[n-2],o[n-1],e]),n-=1;o.length=n,o.push(e)}}function h(a,b){var c;return(c=a.a[0]<b.a[0]?m(a.a,a.b,b.a):m(b.b,b.a,a.a))?c:(c=b.b[0]<a.b[0]?m(a.a,a.b,b.b):m(b.b,b.a,a.b),c||a.idx-b.idx)}function i(a,b,d){var e=l.le(a,d,h),f=a[e],g=f.upperIds,i=g[g.length-1];f.upperIds=[i],a.splice(e+1,0,new c(d.a,d.b,d.idx,[i],g))}function j(a,b,c){var d=c.a;c.a=c.b,c.b=d;var e=l.eq(a,c,h),f=a[e],g=a[e-1];g.upperIds=f.upperIds,a.splice(e,1)}function k(a,b){for(var f=a.length,h=b.length,k=[],l=0;f>l;++l)k.push(new d(a[l],null,n,l));for(var l=0;h>l;++l){var m=b[l],q=a[m[0]],r=a[m[1]];q[0]<r[0]?k.push(new d(q,r,p,l),new d(r,q,o,l)):q[0]>r[0]&&k.push(new d(r,q,p,l),new d(q,r,o,l))}k.sort(e);for(var s=k[0].a[0]-(1+Math.abs(k[0].a[0]))*Math.pow(2,-52),t=[new c([s,1],[s,0],-1,[],[],[],[])],u=[],l=0,v=k.length;v>l;++l){var w=k[l],x=w.type;x===n?g(u,t,a,w.a,w.idx):x===p?i(t,a,w):j(t,a,w)}return u}var l=require("binary-search-bounds"),m=require("robust-orientation")[3],n=0,o=1,p=2;a.exports=k},{"binary-search-bounds":242,"robust-orientation":214}],241:[function(require,a,b){"use strict";function c(a,b){this.stars=a,this.edges=b}function d(a,b,c){for(var d=1,e=a.length;e>d;d+=2)if(a[d-1]===b&&a[d]===c)return a[d-1]=a[e-2],a[d]=a[e-1],void(a.length=e-2)}function e(a,b){for(var d=new Array(a),e=0;a>e;++e)d[e]=[];return new c(d,b)}var f=require("binary-search-bounds");a.exports=e;var g=c.prototype;g.isConstraint=function(){function a(a,b){return a[0]-b[0]||a[1]-b[1]}var b=[0,0];return function(c,d){return b[0]=Math.min(c,d),b[1]=Math.max(c,d),f.eq(this.edges,b,a)>=0}}(),g.removeTriangle=function(a,b,c){var e=this.stars;d(e[a],b,c),d(e[b],c,a),d(e[c],a,b)},g.addTriangle=function(a,b,c){var d=this.stars;d[a].push(b,c),d[b].push(c,a),d[c].push(a,b)},g.opposite=function(a,b){for(var c=this.stars[b],d=1,e=c.length;e>d;d+=2)if(c[d]===a)return c[d-1];return-1},g.flip=function(a,b){var c=this.opposite(a,b),d=this.opposite(b,a);this.removeTriangle(a,b,c),this.removeTriangle(b,a,d),this.addTriangle(a,d,c),this.addTriangle(b,c,d)},g.edges=function(){for(var a=this.stars,b=[],c=0,d=a.length;d>c;++c)for(var e=a[c],f=0,g=e.length;g>f;f+=2)b.push([e[f],e[f+1]]);return b},g.cells=function(){for(var a=this.stars,b=[],c=0,d=a.length;d>c;++c)for(var e=a[c],f=0,g=e.length;g>f;f+=2){var h=e[f],i=e[f+1];c<Math.min(h,i)&&b.push([c,h,i])}return b}},{"binary-search-bounds":242}],242:[function(require,a,b){arguments[4][121][0].apply(b,arguments)},{dup:121}],243:[function(require,a,b){"use strict";function c(a,b){for(var c=new Array(a.length-1),d=1;d<a.length;++d)for(var e=c[d-1]=new Array(a.length-1),f=0,g=0;f<a.length;++f)f!==b&&(e[g++]=a[d][f]);return c}function d(a){for(var b=new Array(a),c=0;a>c;++c){b[c]=new Array(a);for(var d=0;a>d;++d)b[c][d]=["m",d,"[",a-c-2,"]"].join("")}return b}function e(a){if(1===a.length)return a[0];if(2===a.length)return["sum(",a[0],",",a[1],")"].join("");var b=a.length>>1;return["sum(",e(a.slice(0,b)),",",e(a.slice(b)),")"].join("")}function f(a,b){if("m"===a.charAt(0)){if("w"===b.charAt(0)){var c=a.split("[");return["w",b.substr(1),"m",c[0].substr(1)].join("")}return["prod(",a,",",b,")"].join("")}return f(b,a)}function g(a){return a&!0?"-":""}function h(a){if(2===a.length)return[["diff(",f(a[0][0],a[1][1]),",",f(a[1][0],a[0][1]),")"].join("")];for(var b=[],d=0;d<a.length;++d)b.push(["scale(",e(h(c(a,d))),",",g(d),a[0][d],")"].join(""));return b}function i(a,b){for(var c=[],d=0;b-2>d;++d)c.push(["prod(m",a,"[",d,"],m",a,"[",d,"])"].join(""));return e(c)}function j(a){for(var b=[],f=[],g=d(a),j=0;a>j;++j)g[0][j]="1",g[a-1][j]="w"+j;for(var j=0;a>j;++j)0===(1&j)?b.push.apply(b,h(c(g,j))):f.push.apply(f,h(c(g,j)));for(var k=e(b),l=e(f),m="exactInSphere"+a,n=[],j=0;a>j;++j)n.push("m"+j);for(var o=["function ",m,"(",n.join(),"){"],j=0;a>j;++j){o.push("var w",j,"=",i(j,a),";");for(var t=0;a>t;++t)t!==j&&o.push("var w",j,"m",t,"=scale(w",j,",m",t,"[0]);")}o.push("var p=",k,",n=",l,",d=diff(p,n);return d[d.length-1];}return ",m);var u=new Function("sum","diff","prod","scale",o.join(""));return u(q,r,p,s)}function k(){return 0}function l(){return 0}function m(){return 0}function n(a){var b=u[a.length];return b||(b=u[a.length]=j(a.length)),b.apply(void 0,a)}function o(){for(;u.length<=t;)u.push(j(u.length));for(var b=[],c=["slow"],d=0;t>=d;++d)b.push("a"+d),c.push("o"+d);for(var e=["function testInSphere(",b.join(),"){switch(arguments.length){case 0:case 1:return 0;"],d=2;t>=d;++d)e.push("case ",d,":return o",d,"(",b.slice(0,d).join(),");");e.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return testInSphere"),c.push(e.join(""));var f=Function.apply(void 0,c);a.exports=f.apply(void 0,[n].concat(u));for(var d=0;t>=d;++d)a.exports[d]=u[d]}var p=require("two-product"),q=require("robust-sum"),r=require("robust-subtract"),s=require("robust-scale"),t=6,u=[k,l,m];o()},{"robust-scale":215,"robust-subtract":216,"robust-sum":217,"two-product":231}],244:[function(require,a,b){"use strict";function c(a){var b=t(a),c=s(r(b),a);return 0>c?[b,v(b,1/0)]:c>0?[v(b,-(1/0)),b]:[b,b]}function d(a,b){for(var c=new Array(b.length),d=0;d<b.length;++d){var e=b[d],f=a[e[0]],g=a[e[1]];c[d]=[Math.min(f[0],g[0]),Math.min(f[1],g[1]),Math.max(f[0],g[0]),Math.max(f[1],g[1])]}return c}function e(a){for(var b=new Array(a.length),c=0;c<a.length;++c){var d=a[c];b[c]=[d[0],d[1],d[0],d[1]]}return b}function f(a,b,c){var d=[];return p(c,function(c,e){var f=b[c],g=b[e];if(f[0]!==g[0]&&f[0]!==g[1]&&f[1]!==g[0]&&f[1]!==g[1]){var h=a[f[0]],i=a[f[1]],j=a[g[0]],k=a[g[1]];q(h,i,j,k)&&d.push([c,e])}}),d}function g(a,b,c,d){var e=[];return p(c,d,function(c,d){var f=b[c];if(f[0]!==d&&f[1]!==d){var g=a[d],h=a[f[0]],i=a[f[1]];q(h,i,g,g)&&e.push([c,d])}}),e}function h(a,b,c,d,e){function f(b){if(b>=a.length)return g[b-a.length];var c=a[b];return[r(c[0]),r(c[1])]}for(var g=[],h=0;h<c.length;++h){var i=c[h],j=i[0],k=i[1],l=b[j],m=b[k],n=w(u(a[l[0]]),u(a[l[1]]),u(a[m[0]]),u(a[m[1]]));if(n){var o=g.length+a.length;g.push(n),d.push([j,o],[k,o])}}d.sort(function(a,b){if(a[0]!==b[0])return a[0]-b[0];var c=f(a[1]),d=f(b[1]);return s(c[0],d[0])||s(c[1],d[1])});for(var h=d.length-1;h>=0;--h){var p=d[h],j=p[0],q=b[j],t=q[0],v=q[1],x=a[t],y=a[v];if((x[0]-y[0]||x[1]-y[1])<0){var z=t;t=v,v=z}q[0]=t;var A,B=q[1]=p[1];for(e&&(A=q[2]);h>0&&d[h-1][0]===j;){var p=d[--h],C=p[1];e?b.push([B,C,A]):b.push([B,C]),B=C}e?b.push([B,v,A]):b.push([B,v])}return g}function i(a,b,d){for(var e=a.length+b.length,f=new o(e),g=d,h=0;h<b.length;++h){var i=b[h],j=c(i[0]),k=c(i[1]);g.push([j[0],k[0],j[1],k[1]]),a.push([t(i[0]),t(i[1])])}p(g,function(a,b){f.link(a,b)});for(var l=0,m=!0,n=new Array(e),h=0;e>h;++h){var q=f.find(h);q===h?(n[h]=l,a[l++]=a[h]):(m=!1,n[h]=-1)}if(a.length=l,m)return null;for(var h=0;e>h;++h)n[h]<0&&(n[h]=n[f.find(h)]);return n}function j(a,b){return a[0]-b[0]||a[1]-b[1]}function k(a,b){var c=a[0]-b[0]||a[1]-b[1];return c?c:a[2]<b[2]?-1:a[2]>b[2]?1:0}function l(a,b,c){if(0!==a.length){if(b)for(var d=0;d<a.length;++d){var e=a[d],f=b[e[0]],g=b[e[1]];e[0]=Math.min(f,g),e[1]=Math.max(f,g)}else for(var d=0;d<a.length;++d){var e=a[d],f=e[0],g=e[1];e[0]=Math.min(f,g),e[1]=Math.max(f,g)}c?a.sort(k):a.sort(j);for(var h=1,d=1;d<a.length;++d){var i=a[d-1],l=a[d];(l[0]!==i[0]||l[1]!==i[1]||c&&l[2]!==i[2])&&(a[h++]=l)}a.length=h}}function m(a,b,c){var j=d(a,b),k=f(a,b,j),m=e(a),n=g(a,b,j,m),o=h(a,b,k,n,c),p=i(a,o,m);return l(b,p,c),p?!0:k.length>0||n.length>0}function n(a,b,c){var d,e=!1;if(c){d=b;for(var f=new Array(b.length),g=0;g<b.length;++g){var h=b[g];f[g]=[h[0],h[1],c[g]]}b=f}for(;m(a,b,!!c);)e=!0;if(c&&e){d.length=0,c.length=0;for(var g=0;g<b.length;++g){var h=b[g];d.push([h[0],h[1]]),c.push(h[2])}}return e}a.exports=n;var o=require("union-find"),p=require("box-intersect"),q=(require("compare-cell"),require("robust-segment-intersect")),r=require("big-rat"),s=require("big-rat/cmp"),t=require("big-rat/to-float"),u=require("rat-vec"),v=require("nextafter"),w=require("./lib/rat-seg-intersect")},{"./lib/rat-seg-intersect":245,"big-rat":249,"big-rat/cmp":247,"big-rat/to-float":262,"box-intersect":263,"compare-cell":59,nextafter:271,"rat-vec":273,"robust-segment-intersect":276,"union-find":277}],245:[function(require,a,b){"use strict";function c(a,b){return g(e(a[0],b[1]),e(a[1],b[0]))}function d(a,b,d,e){var g=i(b,a),l=i(e,d),m=c(g,l);if(0===h(m))return null;var n=i(a,d),o=c(l,n),p=f(o,m);return j(a,k(g,p))}a.exports=d;var e=require("big-rat/mul"),f=require("big-rat/div"),g=require("big-rat/sub"),h=require("big-rat/sign"),i=require("rat-vec/sub"),j=require("rat-vec/add"),k=require("rat-vec/muls");require("big-rat/to-float")},{"big-rat/div":248,"big-rat/mul":258,"big-rat/sign":260,"big-rat/sub":261,"big-rat/to-float":262,"rat-vec/add":272,"rat-vec/muls":274,"rat-vec/sub":275}],246:[function(require,a,b){"use strict";function c(a,b){return d(a[0].mul(b[1]).add(b[0].mul(a[1])),a[1].mul(b[1]))}var d=require("./lib/rationalize");a.exports=c},{"./lib/rationalize":256}],247:[function(require,a,b){"use strict";function c(a,b){return a[0].mul(b[1]).cmp(b[0].mul(a[1]))}a.exports=c},{}],248:[function(require,a,b){"use strict";function c(a,b){return d(a[0].mul(b[1]),a[1].mul(b[0]))}var d=require("./lib/rationalize");a.exports=c},{"./lib/rationalize":256}],249:[function(require,a,b){"use strict";function c(a,b){if(d(a))return b?i(a,c(b)):[a[0].clone(),a[1].clone()];var j,k,l=0;if(e(a))j=a.clone();else if("string"==typeof a)j=g(a);else{if(0===a)return[f(0),f(1)];if(a===Math.floor(a))j=f(a);else{for(;a!==Math.floor(a);)a*=Math.pow(2,256),l-=256;j=f(a)}}if(d(b))j.mul(b[1]),k=b[0].clone();else if(e(b))k=b.clone();else if("string"==typeof b)k=g(b);else if(b)if(b===Math.floor(b))k=f(b);else{for(;b!==Math.floor(b);)b*=Math.pow(2,256),l+=256;k=f(b)}else k=f(1);return l>0?j=j.shln(l):0>l&&(k=k.shln(-l)),h(j,k)}var d=require("./is-rat"),e=require("./lib/is-bn"),f=require("./lib/num-to-bn"),g=require("./lib/str-to-bn"),h=require("./lib/rationalize"),i=require("./div");a.exports=c},{"./div":248,"./is-rat":250,"./lib/is-bn":254,"./lib/num-to-bn":255,"./lib/rationalize":256,"./lib/str-to-bn":257}],250:[function(require,a,b){"use strict";function c(a){return Array.isArray(a)&&2===a.length&&d(a[0])&&d(a[1])}var d=require("./lib/is-bn");a.exports=c},{"./lib/is-bn":254}],251:[function(require,a,b){"use strict";function c(a){return a.cmp(new d(0))}var d=require("bn.js");a.exports=c},{"bn.js":259}],252:[function(require,a,b){"use strict";function c(a){var b=a.length,c=a.words,d=0;if(1===b)d=c[0];else if(2===b)d=c[0]+67108864*c[1];else for(var d=0,e=0;b>e;e++){var f=c[e];d+=f*Math.pow(67108864,e)}return a.sign?-d:d}a.exports=c},{}],253:[function(require,a,b){"use strict";function c(a){var b=e(d.lo(a));if(32>b)return b;var c=e(d.hi(a));return c>20?52:c+32}var d=require("double-bits"),e=require("bit-twiddle").countTrailingZeros;a.exports=c},{"bit-twiddle":49,"double-bits":270}],254:[function(require,a,b){"use strict";function c(a){return a&&"object"==typeof a&&Boolean(a.words)}require("bn.js");a.exports=c},{"bn.js":259}],255:[function(require,a,b){"use strict";function c(a){var b=e.exponent(a);return 52>b?new d(a):new d(a*Math.pow(2,52-b)).shln(b-52)}var d=require("bn.js"),e=require("double-bits");a.exports=c},{"bn.js":259,"double-bits":270}],256:[function(require,a,b){"use strict";function c(a,b){var c=e(a),f=e(b);if(0===c)return[d(0),d(1)];if(0===f)return[d(0),d(0)];0>f&&(a=a.neg(),b=b.neg());var g=a.gcd(b);return g.cmpn(1)?[a.div(g),b.div(g)]:[a,b]}var d=require("./num-to-bn"),e=require("./bn-sign");a.exports=c},{"./bn-sign":251,"./num-to-bn":255}],257:[function(require,a,b){"use strict";function c(a){return new d(a)}var d=require("bn.js");a.exports=c},{"bn.js":259}],258:[function(require,a,b){"use strict";function c(a,b){return d(a[0].mul(b[0]),a[1].mul(b[1]))}var d=require("./lib/rationalize");a.exports=c},{"./lib/rationalize":256}],259:[function(require,a,b){!function(a,b){"use strict";function c(a,b){if(!a)throw new Error(b||"Assertion failed")}function d(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}function e(a,b,c){return null!==a&&"object"==typeof a&&Array.isArray(a.words)?a:(this.sign=!1,this.words=null,this.length=0,this.red=null,("le"===b||"be"===b)&&(c=b,b=10),void(null!==a&&this._init(a||0,b||10,c||"be")))}function f(a,b,c){for(var d=0,e=Math.min(a.length,c),f=b;e>f;f++){var g=a.charCodeAt(f)-48;d<<=4,d|=g>=49&&54>=g?g-49+10:g>=17&&22>=g?g-17+10:15&g}return d}function g(a,b,c,d){for(var e=0,f=Math.min(a.length,c),g=b;f>g;g++){var h=a.charCodeAt(g)-48;e*=d,e+=h>=49?h-49+10:h>=17?h-17+10:h}return e}function h(a,b){this.name=a,this.p=new e(b,16),this.n=this.p.bitLength(),this.k=new e(1).ishln(this.n).isub(this.p),this.tmp=this._tmp()}function i(){h.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function j(){h.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function k(){h.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function l(){h.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function m(a){if("string"==typeof a){var b=e._prime(a);this.m=b.p,this.prime=b}else this.m=a,this.prime=null}function n(a){m.call(this,a),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new e(1).ishln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv.sign=!0,this.minv=this.minv.mod(this.r)}"object"==typeof a?a.exports=e:b.BN=e,e.BN=e,e.wordSize=26,e.prototype._init=function(a,b,d){if("number"==typeof a)return this._initNumber(a,b,d);if("object"==typeof a)return this._initArray(a,b,d);"hex"===b&&(b=16),c(b===(0|b)&&b>=2&&36>=b),a=a.toString().replace(/\s+/g,"");var e=0;"-"===a[0]&&e++,16===b?this._parseHex(a,e):this._parseBase(a,b,e),"-"===a[0]&&(this.sign=!0),this.strip(),"le"===d&&this._initArray(this.toArray(),b,d)},e.prototype._initNumber=function(a,b,d){0>a&&(this.sign=!0,a=-a),67108864>a?(this.words=[67108863&a],this.length=1):4503599627370496>a?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(c(9007199254740992>a),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===d&&this._initArray(this.toArray(),b,d)},e.prototype._initArray=function(a,b,d){if(c("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var e=0;e<this.length;e++)this.words[e]=0;var f=0;if("be"===d)for(var e=a.length-1,g=0;e>=0;e-=3){var h=a[e]|a[e-1]<<8|a[e-2]<<16;this.words[g]|=h<<f&67108863,this.words[g+1]=h>>>26-f&67108863,f+=24,f>=26&&(f-=26,g++)}else if("le"===d)for(var e=0,g=0;e<a.length;e+=3){var h=a[e]|a[e+1]<<8|a[e+2]<<16;this.words[g]|=h<<f&67108863,this.words[g+1]=h>>>26-f&67108863,f+=24,f>=26&&(f-=26,g++)}return this.strip()},e.prototype._parseHex=function(a,b){this.length=Math.ceil((a.length-b)/6),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;for(var d=0,c=a.length-6,e=0;c>=b;c-=6){var g=f(a,c,c+6);this.words[e]|=g<<d&67108863,this.words[e+1]|=g>>>26-d&4194303,d+=24,d>=26&&(d-=26,e++)}if(c+6!==b){var g=f(a,b,c+6);this.words[e]|=g<<d&67108863,this.words[e+1]|=g>>>26-d&4194303}this.strip()},e.prototype._parseBase=function(a,b,c){this.words=[0],this.length=1;for(var d=0,e=1;67108863>=e;e*=b)d++;d--,e=e/b|0;for(var f=a.length-c,h=f%d,i=Math.min(f,f-h)+c,j=0,k=c;i>k;k+=d)j=g(a,k,k+d,b),this.imuln(e),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j);if(0!==h){for(var l=1,j=g(a,k,a.length,b),k=0;h>k;k++)l*=b;this.imuln(l),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j)}},e.prototype.copy=function(a){a.words=new Array(this.length);for(var b=0;b<this.length;b++)a.words[b]=this.words[b];a.length=this.length,a.sign=this.sign,a.red=this.red},e.prototype.clone=function(){var a=new e(null);return this.copy(a),a},e.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},e.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.sign=!1),this},e.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var o=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],q=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];e.prototype.toString=function(a,b){if(a=a||10,16===a||"hex"===a){for(var d="",e=0,b=0|b||1,f=0,g=0;g<this.length;g++){var h=this.words[g],i=(16777215&(h<<e|f)).toString(16);f=h>>>24-e&16777215,d=0!==f||g!==this.length-1?o[6-i.length]+i+d:i+d,e+=2,e>=26&&(e-=26,g--)}for(0!==f&&(d=f.toString(16)+d);d.length%b!==0;)d="0"+d;return this.sign&&(d="-"+d),d}if(a===(0|a)&&a>=2&&36>=a){var j=p[a],k=q[a],d="",l=this.clone();for(l.sign=!1;0!==l.cmpn(0);){var m=l.modn(k).toString(a);l=l.idivn(k),d=0!==l.cmpn(0)?o[j-m.length]+m+d:m+d}return 0===this.cmpn(0)&&(d="0"+d),this.sign&&(d="-"+d),d}c(!1,"Base should be between 2 and 36")},e.prototype.toJSON=function(){return this.toString(16)},e.prototype.toArray=function(a){this.strip();var b=new Array(this.byteLength());b[0]=0;var c=this.clone();if("le"!==a)for(var d=0;0!==c.cmpn(0);d++){var e=c.andln(255);c.ishrn(8),b[b.length-d-1]=e}else for(var d=0;0!==c.cmpn(0);d++){var e=c.andln(255);c.ishrn(8),b[d]=e}return b},Math.clz32?e.prototype._countBits=function(a){return 32-Math.clz32(a)}:e.prototype._countBits=function(a){var b=a,c=0;return b>=4096&&(c+=13,b>>>=13),b>=64&&(c+=7,b>>>=7),b>=8&&(c+=4,b>>>=4),b>=2&&(c+=2,b>>>=2),c+b},e.prototype._zeroBits=function(a){if(0===a)return 26;var b=a,c=0;return 0===(8191&b)&&(c+=13,b>>>=13),0===(127&b)&&(c+=7,b>>>=7),0===(15&b)&&(c+=4,b>>>=4),0===(3&b)&&(c+=2,
b>>>=2),0===(1&b)&&c++,c},e.prototype.bitLength=function(){var a=0,b=this.words[this.length-1],a=this._countBits(b);return 26*(this.length-1)+a},e.prototype.zeroBits=function(){if(0===this.cmpn(0))return 0;for(var a=0,b=0;b<this.length;b++){var c=this._zeroBits(this.words[b]);if(a+=c,26!==c)break}return a},e.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},e.prototype.neg=function(){if(0===this.cmpn(0))return this.clone();var a=this.clone();return a.sign=!this.sign,a},e.prototype.ior=function(a){for(this.sign=this.sign||a.sign;this.length<a.length;)this.words[this.length++]=0;for(var b=0;b<a.length;b++)this.words[b]=this.words[b]|a.words[b];return this.strip()},e.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},e.prototype.iand=function(a){this.sign=this.sign&&a.sign;var b;b=this.length>a.length?a:this;for(var c=0;c<b.length;c++)this.words[c]=this.words[c]&a.words[c];return this.length=b.length,this.strip()},e.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},e.prototype.ixor=function(a){this.sign=this.sign||a.sign;var b,c;this.length>a.length?(b=this,c=a):(b=a,c=this);for(var d=0;d<c.length;d++)this.words[d]=b.words[d]^c.words[d];if(this!==b)for(;d<b.length;d++)this.words[d]=b.words[d];return this.length=b.length,this.strip()},e.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},e.prototype.setn=function(a,b){c("number"==typeof a&&a>=0);for(var d=a/26|0,e=a%26;this.length<=d;)this.words[this.length++]=0;return b?this.words[d]=this.words[d]|1<<e:this.words[d]=this.words[d]&~(1<<e),this.strip()},e.prototype.iadd=function(a){if(this.sign&&!a.sign){this.sign=!1;var b=this.isub(a);return this.sign=!this.sign,this._normSign()}if(!this.sign&&a.sign){a.sign=!1;var b=this.isub(a);return a.sign=!0,b._normSign()}var c,d;this.length>a.length?(c=this,d=a):(c=a,d=this);for(var e=0,f=0;f<d.length;f++){var b=c.words[f]+d.words[f]+e;this.words[f]=67108863&b,e=b>>>26}for(;0!==e&&f<c.length;f++){var b=c.words[f]+e;this.words[f]=67108863&b,e=b>>>26}if(this.length=c.length,0!==e)this.words[this.length]=e,this.length++;else if(c!==this)for(;f<c.length;f++)this.words[f]=c.words[f];return this},e.prototype.add=function(a){if(a.sign&&!this.sign){a.sign=!1;var b=this.sub(a);return a.sign=!0,b}if(!a.sign&&this.sign){this.sign=!1;var b=a.sub(this);return this.sign=!0,b}return this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},e.prototype.isub=function(a){if(a.sign){a.sign=!1;var b=this.iadd(a);return a.sign=!0,b._normSign()}if(this.sign)return this.sign=!1,this.iadd(a),this.sign=!0,this._normSign();var c=this.cmp(a);if(0===c)return this.sign=!1,this.length=1,this.words[0]=0,this;var d,e;c>0?(d=this,e=a):(d=a,e=this);for(var f=0,g=0;g<e.length;g++){var b=d.words[g]-e.words[g]+f;f=b>>26,this.words[g]=67108863&b}for(;0!==f&&g<d.length;g++){var b=d.words[g]+f;f=b>>26,this.words[g]=67108863&b}if(0===f&&g<d.length&&d!==this)for(;g<d.length;g++)this.words[g]=d.words[g];return this.length=Math.max(this.length,g),d!==this&&(this.sign=!0),this.strip()},e.prototype.sub=function(a){return this.clone().isub(a)},e.prototype._smallMulTo=function(a,b){b.sign=a.sign!==this.sign,b.length=this.length+a.length;for(var c=0,d=0;d<b.length-1;d++){for(var e=c>>>26,f=67108863&c,g=Math.min(d,a.length-1),h=Math.max(0,d-this.length+1);g>=h;h++){var i=d-h,j=0|this.words[i],k=0|a.words[h],l=j*k,m=67108863&l;e=e+(l/67108864|0)|0,m=m+f|0,f=67108863&m,e=e+(m>>>26)|0}b.words[d]=f,c=e}return 0!==c?b.words[d]=c:b.length--,b.strip()},e.prototype._bigMulTo=function(a,b){b.sign=a.sign!==this.sign,b.length=this.length+a.length;for(var c=0,d=0,e=0;e<b.length-1;e++){var f=d;d=0;for(var g=67108863&c,h=Math.min(e,a.length-1),i=Math.max(0,e-this.length+1);h>=i;i++){var j=e-i,k=0|this.words[j],l=0|a.words[i],m=k*l,n=67108863&m;f=f+(m/67108864|0)|0,n=n+g|0,g=67108863&n,f=f+(n>>>26)|0,d+=f>>>26,f&=67108863}b.words[e]=g,c=f,f=d}return 0!==c?b.words[e]=c:b.length--,b.strip()},e.prototype.mulTo=function(a,b){var c;return c=this.length+a.length<63?this._smallMulTo(a,b):this._bigMulTo(a,b)},e.prototype.mul=function(a){var b=new e(null);return b.words=new Array(this.length+a.length),this.mulTo(a,b)},e.prototype.imul=function(a){if(0===this.cmpn(0)||0===a.cmpn(0))return this.words[0]=0,this.length=1,this;var b=this.length,c=a.length;this.sign=a.sign!==this.sign,this.length=this.length+a.length,this.words[this.length-1]=0;for(var d=this.length-2;d>=0;d--){for(var e=0,f=0,g=Math.min(d,c-1),h=Math.max(0,d-b+1);g>=h;h++){var i=d-h,j=this.words[i],k=a.words[h],l=j*k,m=67108863&l;e+=l/67108864|0,m+=f,f=67108863&m,e+=m>>>26}this.words[d]=f,this.words[d+1]+=e,e=0}for(var e=0,i=1;i<this.length;i++){var n=this.words[i]+e;this.words[i]=67108863&n,e=n>>>26}return this.strip()},e.prototype.imuln=function(a){c("number"==typeof a);for(var b=0,d=0;d<this.length;d++){var e=this.words[d]*a,f=(67108863&e)+(67108863&b);b>>=26,b+=e/67108864|0,b+=f>>>26,this.words[d]=67108863&f}return 0!==b&&(this.words[d]=b,this.length++),this},e.prototype.muln=function(a){return this.clone().imuln(a)},e.prototype.sqr=function(){return this.mul(this)},e.prototype.isqr=function(){return this.mul(this)},e.prototype.ishln=function(a){c("number"==typeof a&&a>=0);var b=a%26,d=(a-b)/26,e=67108863>>>26-b<<26-b;if(0!==b){for(var f=0,g=0;g<this.length;g++){var h=this.words[g]&e,i=this.words[g]-h<<b;this.words[g]=i|f,f=h>>>26-b}f&&(this.words[g]=f,this.length++)}if(0!==d){for(var g=this.length-1;g>=0;g--)this.words[g+d]=this.words[g];for(var g=0;d>g;g++)this.words[g]=0;this.length+=d}return this.strip()},e.prototype.ishrn=function(a,b,d){c("number"==typeof a&&a>=0);var e;e=b?(b-b%26)/26:0;var f=a%26,g=Math.min((a-f)/26,this.length),h=67108863^67108863>>>f<<f,i=d;if(e-=g,e=Math.max(0,e),i){for(var j=0;g>j;j++)i.words[j]=this.words[j];i.length=g}if(0===g);else if(this.length>g){this.length-=g;for(var j=0;j<this.length;j++)this.words[j]=this.words[j+g]}else this.words[0]=0,this.length=1;for(var k=0,j=this.length-1;j>=0&&(0!==k||j>=e);j--){var l=this.words[j];this.words[j]=k<<26-f|l>>>f,k=l&h}return i&&0!==k&&(i.words[i.length++]=k),0===this.length&&(this.words[0]=0,this.length=1),this.strip(),this},e.prototype.shln=function(a){return this.clone().ishln(a)},e.prototype.shrn=function(a){return this.clone().ishrn(a)},e.prototype.testn=function(a){c("number"==typeof a&&a>=0);var b=a%26,d=(a-b)/26,e=1<<b;if(this.length<=d)return!1;var f=this.words[d];return!!(f&e)},e.prototype.imaskn=function(a){c("number"==typeof a&&a>=0);var b=a%26,d=(a-b)/26;if(c(!this.sign,"imaskn works only with positive numbers"),0!==b&&d++,this.length=Math.min(d,this.length),0!==b){var e=67108863^67108863>>>b<<b;this.words[this.length-1]&=e}return this.strip()},e.prototype.maskn=function(a){return this.clone().imaskn(a)},e.prototype.iaddn=function(a){return c("number"==typeof a),0>a?this.isubn(-a):this.sign?1===this.length&&this.words[0]<a?(this.words[0]=a-this.words[0],this.sign=!1,this):(this.sign=!1,this.isubn(a),this.sign=!0,this):this._iaddn(a)},e.prototype._iaddn=function(a){this.words[0]+=a;for(var b=0;b<this.length&&this.words[b]>=67108864;b++)this.words[b]-=67108864,b===this.length-1?this.words[b+1]=1:this.words[b+1]++;return this.length=Math.max(this.length,b+1),this},e.prototype.isubn=function(a){if(c("number"==typeof a),0>a)return this.iaddn(-a);if(this.sign)return this.sign=!1,this.iaddn(a),this.sign=!0,this;this.words[0]-=a;for(var b=0;b<this.length&&this.words[b]<0;b++)this.words[b]+=67108864,this.words[b+1]-=1;return this.strip()},e.prototype.addn=function(a){return this.clone().iaddn(a)},e.prototype.subn=function(a){return this.clone().isubn(a)},e.prototype.iabs=function(){return this.sign=!1,this},e.prototype.abs=function(){return this.clone().iabs()},e.prototype._ishlnsubmul=function(a,b,d){var e,f=a.length+d;if(this.words.length<f){for(var g=new Array(f),e=0;e<this.length;e++)g[e]=this.words[e];this.words=g}else e=this.length;for(this.length=Math.max(this.length,f);e<this.length;e++)this.words[e]=0;for(var h=0,e=0;e<a.length;e++){var i=this.words[e+d]+h,j=a.words[e]*b;i-=67108863&j,h=(i>>26)-(j/67108864|0),this.words[e+d]=67108863&i}for(;e<this.length-d;e++){var i=this.words[e+d]+h;h=i>>26,this.words[e+d]=67108863&i}if(0===h)return this.strip();c(-1===h),h=0;for(var e=0;e<this.length;e++){var i=-this.words[e]+h;h=i>>26,this.words[e]=67108863&i}return this.sign=!0,this.strip()},e.prototype._wordDiv=function(a,b){var c=this.length-a.length,d=this.clone(),f=a,g=f.words[f.length-1],h=this._countBits(g);c=26-h,0!==c&&(f=f.shln(c),d.ishln(c),g=f.words[f.length-1]);var i,j=d.length-f.length;if("mod"!==b){i=new e(null),i.length=j+1,i.words=new Array(i.length);for(var k=0;k<i.length;k++)i.words[k]=0}var l=d.clone()._ishlnsubmul(f,1,j);l.sign||(d=l,i&&(i.words[j]=1));for(var m=j-1;m>=0;m--){var n=67108864*d.words[f.length+m]+d.words[f.length+m-1];for(n=Math.min(n/g|0,67108863),d._ishlnsubmul(f,n,m);d.sign;)n--,d.sign=!1,d._ishlnsubmul(f,1,m),0!==d.cmpn(0)&&(d.sign=!d.sign);i&&(i.words[m]=n)}return i&&i.strip(),d.strip(),"div"!==b&&0!==c&&d.ishrn(c),{div:i?i:null,mod:d}},e.prototype.divmod=function(a,b){if(c(0!==a.cmpn(0)),this.sign&&!a.sign){var d,f,g=this.neg().divmod(a,b);return"mod"!==b&&(d=g.div.neg()),"div"!==b&&(f=0===g.mod.cmpn(0)?g.mod:a.sub(g.mod)),{div:d,mod:f}}if(!this.sign&&a.sign){var d,g=this.divmod(a.neg(),b);return"mod"!==b&&(d=g.div.neg()),{div:d,mod:g.mod}}return this.sign&&a.sign?this.neg().divmod(a.neg(),b):a.length>this.length||this.cmp(a)<0?{div:new e(0),mod:this}:1===a.length?"div"===b?{div:this.divn(a.words[0]),mod:null}:"mod"===b?{div:null,mod:new e(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new e(this.modn(a.words[0]))}:this._wordDiv(a,b)},e.prototype.div=function(a){return this.divmod(a,"div").div},e.prototype.mod=function(a){return this.divmod(a,"mod").mod},e.prototype.divRound=function(a){var b=this.divmod(a);if(0===b.mod.cmpn(0))return b.div;var c=b.div.sign?b.mod.isub(a):b.mod,d=a.shrn(1),e=a.andln(1),f=c.cmp(d);return 0>f||1===e&&0===f?b.div:b.div.sign?b.div.isubn(1):b.div.iaddn(1)},e.prototype.modn=function(a){c(67108863>=a);for(var b=(1<<26)%a,d=0,e=this.length-1;e>=0;e--)d=(b*d+this.words[e])%a;return d},e.prototype.idivn=function(a){c(67108863>=a);for(var b=0,d=this.length-1;d>=0;d--){var e=this.words[d]+67108864*b;this.words[d]=e/a|0,b=e%a}return this.strip()},e.prototype.divn=function(a){return this.clone().idivn(a)},e.prototype.egcd=function(a){c(!a.sign),c(0!==a.cmpn(0));var b=this,d=a.clone();b=b.sign?b.mod(a):b.clone();for(var f=new e(1),g=new e(0),h=new e(0),i=new e(1),j=0;b.isEven()&&d.isEven();)b.ishrn(1),d.ishrn(1),++j;for(var k=d.clone(),l=b.clone();0!==b.cmpn(0);){for(;b.isEven();)b.ishrn(1),f.isEven()&&g.isEven()?(f.ishrn(1),g.ishrn(1)):(f.iadd(k).ishrn(1),g.isub(l).ishrn(1));for(;d.isEven();)d.ishrn(1),h.isEven()&&i.isEven()?(h.ishrn(1),i.ishrn(1)):(h.iadd(k).ishrn(1),i.isub(l).ishrn(1));b.cmp(d)>=0?(b.isub(d),f.isub(h),g.isub(i)):(d.isub(b),h.isub(f),i.isub(g))}return{a:h,b:i,gcd:d.ishln(j)}},e.prototype._invmp=function(a){c(!a.sign),c(0!==a.cmpn(0));var b=this,d=a.clone();b=b.sign?b.mod(a):b.clone();for(var f=new e(1),g=new e(0),h=d.clone();b.cmpn(1)>0&&d.cmpn(1)>0;){for(;b.isEven();)b.ishrn(1),f.isEven()?f.ishrn(1):f.iadd(h).ishrn(1);for(;d.isEven();)d.ishrn(1),g.isEven()?g.ishrn(1):g.iadd(h).ishrn(1);b.cmp(d)>=0?(b.isub(d),f.isub(g)):(d.isub(b),g.isub(f))}return 0===b.cmpn(1)?f:g},e.prototype.gcd=function(a){if(0===this.cmpn(0))return a.clone();if(0===a.cmpn(0))return this.clone();var b=this.clone(),c=a.clone();b.sign=!1,c.sign=!1;for(var d=0;b.isEven()&&c.isEven();d++)b.ishrn(1),c.ishrn(1);for(;;){for(;b.isEven();)b.ishrn(1);for(;c.isEven();)c.ishrn(1);var e=b.cmp(c);if(0>e){var f=b;b=c,c=f}else if(0===e||0===c.cmpn(1))break;b.isub(c)}return c.ishln(d)},e.prototype.invm=function(a){return this.egcd(a).a.mod(a)},e.prototype.isEven=function(){return 0===(1&this.words[0])},e.prototype.isOdd=function(){return 1===(1&this.words[0])},e.prototype.andln=function(a){return this.words[0]&a},e.prototype.bincn=function(a){c("number"==typeof a);var b=a%26,d=(a-b)/26,e=1<<b;if(this.length<=d){for(var f=this.length;d+1>f;f++)this.words[f]=0;return this.words[d]|=e,this.length=d+1,this}for(var g=e,f=d;0!==g&&f<this.length;f++){var h=this.words[f];h+=g,g=h>>>26,h&=67108863,this.words[f]=h}return 0!==g&&(this.words[f]=g,this.length++),this},e.prototype.cmpn=function(a){var b=0>a;if(b&&(a=-a),this.sign&&!b)return-1;if(!this.sign&&b)return 1;a&=67108863,this.strip();var c;if(this.length>1)c=1;else{var d=this.words[0];c=d===a?0:a>d?-1:1}return this.sign&&(c=-c),c},e.prototype.cmp=function(a){if(this.sign&&!a.sign)return-1;if(!this.sign&&a.sign)return 1;var b=this.ucmp(a);return this.sign?-b:b},e.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var b=0,c=this.length-1;c>=0;c--){var d=this.words[c],e=a.words[c];if(d!==e){e>d?b=-1:d>e&&(b=1);break}}return b},e.red=function(a){return new m(a)},e.prototype.toRed=function(a){return c(!this.red,"Already a number in reduction context"),c(!this.sign,"red works only with positives"),a.convertTo(this)._forceRed(a)},e.prototype.fromRed=function(){return c(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},e.prototype._forceRed=function(a){return this.red=a,this},e.prototype.forceRed=function(a){return c(!this.red,"Already a number in reduction context"),this._forceRed(a)},e.prototype.redAdd=function(a){return c(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},e.prototype.redIAdd=function(a){return c(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},e.prototype.redSub=function(a){return c(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},e.prototype.redISub=function(a){return c(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},e.prototype.redShl=function(a){return c(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},e.prototype.redMul=function(a){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},e.prototype.redIMul=function(a){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},e.prototype.redSqr=function(){return c(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},e.prototype.redISqr=function(){return c(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},e.prototype.redSqrt=function(){return c(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},e.prototype.redInvm=function(){return c(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},e.prototype.redNeg=function(){return c(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},e.prototype.redPow=function(a){return c(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var r={k256:null,p224:null,p192:null,p25519:null};h.prototype._tmp=function(){var a=new e(null);return a.words=new Array(Math.ceil(this.n/13)),a},h.prototype.ireduce=function(a){var b,c=a;do this.split(c,this.tmp),c=this.imulK(c),c=c.iadd(this.tmp),b=c.bitLength();while(b>this.n);var d=b<this.n?-1:c.ucmp(this.p);return 0===d?(c.words[0]=0,c.length=1):d>0?c.isub(this.p):c.strip(),c},h.prototype.split=function(a,b){a.ishrn(this.n,0,b)},h.prototype.imulK=function(a){return a.imul(this.k)},d(i,h),i.prototype.split=function(a,b){for(var c=4194303,d=Math.min(a.length,9),e=0;d>e;e++)b.words[e]=a.words[e];if(b.length=d,a.length<=9)return a.words[0]=0,void(a.length=1);var f=a.words[9];b.words[b.length++]=f&c;for(var e=10;e<a.length;e++){var g=a.words[e];a.words[e-10]=(g&c)<<4|f>>>22,f=g}a.words[e-10]=f>>>22,a.length-=9},i.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var b,c=0,d=0;d<a.length;d++){var e=a.words[d];b=64*e,c+=977*e,b+=c/67108864|0,c&=67108863,a.words[d]=c,c=b}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},d(j,h),d(k,h),d(l,h),l.prototype.imulK=function(a){for(var b=0,c=0;c<a.length;c++){var d=19*a.words[c]+b,e=67108863&d;d>>>=26,a.words[c]=e,b=d}return 0!==b&&(a.words[a.length++]=b),a},e._prime=function s(a){if(r[a])return r[a];var s;if("k256"===a)s=new i;else if("p224"===a)s=new j;else if("p192"===a)s=new k;else{if("p25519"!==a)throw new Error("Unknown prime "+a);s=new l}return r[a]=s,s},m.prototype._verify1=function(a){c(!a.sign,"red works only with positives"),c(a.red,"red works only with red numbers")},m.prototype._verify2=function(a,b){c(!a.sign&&!b.sign,"red works only with positives"),c(a.red&&a.red===b.red,"red works only with red numbers")},m.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.mod(this.m)._forceRed(this)},m.prototype.neg=function(a){var b=a.clone();return b.sign=!b.sign,b.iadd(this.m)._forceRed(this)},m.prototype.add=function(a,b){this._verify2(a,b);var c=a.add(b);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},m.prototype.iadd=function(a,b){this._verify2(a,b);var c=a.iadd(b);return c.cmp(this.m)>=0&&c.isub(this.m),c},m.prototype.sub=function(a,b){this._verify2(a,b);var c=a.sub(b);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},m.prototype.isub=function(a,b){this._verify2(a,b);var c=a.isub(b);return c.cmpn(0)<0&&c.iadd(this.m),c},m.prototype.shl=function(a,b){return this._verify1(a),this.imod(a.shln(b))},m.prototype.imul=function(a,b){return this._verify2(a,b),this.imod(a.imul(b))},m.prototype.mul=function(a,b){return this._verify2(a,b),this.imod(a.mul(b))},m.prototype.isqr=function(a){return this.imul(a,a)},m.prototype.sqr=function(a){return this.mul(a,a)},m.prototype.sqrt=function(a){if(0===a.cmpn(0))return a.clone();var b=this.m.andln(3);if(c(b%2===1),3===b){var d=this.m.add(new e(1)).ishrn(2),f=this.pow(a,d);return f}for(var g=this.m.subn(1),h=0;0!==g.cmpn(0)&&0===g.andln(1);)h++,g.ishrn(1);c(0!==g.cmpn(0));var i=new e(1).toRed(this),j=i.redNeg(),k=this.m.subn(1).ishrn(1),l=this.m.bitLength();for(l=new e(2*l*l).toRed(this);0!==this.pow(l,k).cmp(j);)l.redIAdd(j);for(var m=this.pow(l,g),f=this.pow(a,g.addn(1).ishrn(1)),n=this.pow(a,g),o=h;0!==n.cmp(i);){for(var p=n,q=0;0!==p.cmp(i);q++)p=p.redSqr();c(o>q);var r=this.pow(m,new e(1).ishln(o-q-1));f=f.redMul(r),m=r.redSqr(),n=n.redMul(m),o=q}return f},m.prototype.invm=function(a){var b=a._invmp(this.m);return b.sign?(b.sign=!1,this.imod(b).redNeg()):this.imod(b)},m.prototype.pow=function(a,b){var c=[];if(0===b.cmpn(0))return new e(1);for(var d=b.clone();0!==d.cmpn(0);)c.push(d.andln(1)),d.ishrn(1);for(var f=a,g=0;g<c.length&&0===c[g];g++,f=this.sqr(f));if(++g<c.length)for(var d=this.sqr(f);g<c.length;g++,d=this.sqr(d))0!==c[g]&&(f=this.mul(f,d));return f},m.prototype.convertTo=function(a){var b=a.mod(this.m);return b===a?b.clone():b},m.prototype.convertFrom=function(a){var b=a.clone();return b.red=null,b},e.mont=function(a){return new n(a)},d(n,m),n.prototype.convertTo=function(a){return this.imod(a.shln(this.shift))},n.prototype.convertFrom=function(a){var b=this.imod(a.mul(this.rinv));return b.red=null,b},n.prototype.imul=function(a,b){if(0===a.cmpn(0)||0===b.cmpn(0))return a.words[0]=0,a.length=1,a;var c=a.imul(b),d=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=c.isub(d).ishrn(this.shift),f=e;return e.cmp(this.m)>=0?f=e.isub(this.m):e.cmpn(0)<0&&(f=e.iadd(this.m)),f._forceRed(this)},n.prototype.mul=function(a,b){if(0===a.cmpn(0)||0===b.cmpn(0))return new e(0)._forceRed(this);var c=a.mul(b),d=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),f=c.isub(d).ishrn(this.shift),g=f;return f.cmp(this.m)>=0?g=f.isub(this.m):f.cmpn(0)<0&&(g=f.iadd(this.m)),g._forceRed(this)},n.prototype.invm=function(a){var b=this.imod(a._invmp(this.m).mul(this.r2));return b._forceRed(this)}}("undefined"==typeof a||a,this)},{}],260:[function(require,a,b){"use strict";function c(a){return d(a[0])*d(a[1])}var d=require("./lib/bn-sign");a.exports=c},{"./lib/bn-sign":251}],261:[function(require,a,b){"use strict";function c(a,b){return d(a[0].mul(b[1]).sub(a[1].mul(b[0])),a[1].mul(b[1]))}var d=require("./lib/rationalize");a.exports=c},{"./lib/rationalize":256}],262:[function(require,a,b){"use strict";function c(a){var b=a[0],c=a[1];if(0===b.cmpn(0))return 0;var f=b.divmod(c),g=f.div,h=d(g),i=f.mod;if(0===i.cmpn(0))return h;if(h){var j=e(h)+4,k=d(i.shln(j).divRound(c));return 0>h&&(k=-k),h+k*Math.pow(2,-j)}var l=c.bitLength()-i.bitLength()+53,k=d(i.shln(l).divRound(c));return 1023>l?k*Math.pow(2,-l):(k*=Math.pow(2,-1023),k*Math.pow(2,1023-l))}var d=require("./lib/bn-to-num"),e=require("./lib/ctz");a.exports=c},{"./lib/bn-to-num":252,"./lib/ctz":253}],263:[function(require,a,b){"use strict";function c(a,b){for(var c=0;a>c;++c)if(!(b[c]<=b[c+a]))return!0;return!1}function d(a,b,d,e){for(var f=0,g=0,h=0,i=a.length;i>h;++h){var j=a[h];if(!c(b,j)){for(var k=0;2*b>k;++k)d[f++]=j[k];e[g++]=h}}return g}function e(a,b,c,e){var f=a.length,g=b.length;if(!(0>=f||0>=g)){var h=a[0].length>>>1;if(!(0>=h)){var i,j=k.mallocDouble(2*h*f),n=k.mallocInt32(f);if(f=d(a,h,j,n),f>0){if(1===h&&e)l.init(f),i=l.sweepComplete(h,c,0,f,j,n,0,f,j,n);else{var o=k.mallocDouble(2*h*g),p=k.mallocInt32(g);g=d(b,h,o,p),g>0&&(l.init(f+g),i=1===h?l.sweepBipartite(h,c,0,f,j,n,0,g,o,p):m(h,c,e,f,j,n,g,o,p),k.free(o),k.free(p))}k.free(j),k.free(n)}return i}}}function f(a,b){j.push([a,b])}function g(a){return j=[],e(a,a,f,!0),j}function h(a,b){return j=[],e(a,b,f,!1),j}function i(a,b,c){switch(arguments.length){case 1:return g(a);case 2:return"function"==typeof b?e(a,a,b,!0):h(a,b);case 3:return e(a,b,c,!1);default:throw new Error("box-intersect: Invalid arguments")}}a.exports=i;var j,k=require("typedarray-pool"),l=require("./lib/sweep"),m=require("./lib/intersect")},{"./lib/intersect":265,"./lib/sweep":269,"typedarray-pool":233}],264:[function(require,a,b){"use strict";function c(a,b,c){var d="bruteForce"+(a?"Red":"Blue")+(b?"Flip":"")+(c?"Full":""),h=["function ",d,"(",v.join(),"){","var ",i,"=2*",e,";"],w="for(var i="+j+","+n+"="+i+"*"+j+";i<"+k+";++i,"+n+"+="+i+"){var x0="+l+"["+f+"+"+n+"],x1="+l+"["+f+"+"+n+"+"+e+"],xi="+m+"[i];",x="for(var j="+o+","+s+"="+i+"*"+o+";j<"+p+";++j,"+s+"+="+i+"){var y0="+q+"["+f+"+"+s+"],"+(c?"y1="+q+"["+f+"+"+s+"+"+e+"],":"")+"yi="+r+"[j];";return a?h.push(w,u,":",x):h.push(x,u,":",w),c?h.push("if(y1<x0||x1<y0)continue;"):b?h.push("if(y0<=x0||x1<y0)continue;"):h.push("if(y0<x0||x1<y0)continue;"),h.push("for(var k="+f+"+1;k<"+e+";++k){var r0="+l+"[k+"+n+"],r1="+l+"[k+"+e+"+"+n+"],b0="+q+"[k+"+s+"],b1="+q+"[k+"+e+"+"+s+"];if(r1<b0||b1<r0)continue "+u+";}var "+t+"="+g+"("),b?h.push("yi,xi"):h.push("xi,yi"),h.push(");if("+t+"!==void 0)return "+t+";}}}"),{name:d,code:h.join("")}}function d(a){function b(b,d){var f=c(b,d,a);e.push(f.code),g.push("return "+f.name+"("+v.join()+");")}var d="bruteForce"+(a?"Full":"Partial"),e=[],f=v.slice();a||f.splice(3,0,h);var g=["function "+d+"("+f.join()+"){"];g.push("if("+k+"-"+j+">"+p+"-"+o+"){"),a?(b(!0,!1),g.push("}else{"),b(!1,!1)):(g.push("if("+h+"){"),b(!0,!0),g.push("}else{"),b(!0,!1),g.push("}}else{if("+h+"){"),b(!1,!0),g.push("}else{"),b(!1,!1),g.push("}")),g.push("}}return "+d);var i=e.join("")+g.join(""),l=new Function(i);return l()}var e="d",f="ax",g="vv",h="fp",i="es",j="rs",k="re",l="rb",m="ri",n="rp",o="bs",p="be",q="bb",r="bi",s="bp",t="rv",u="Q",v=[e,f,g,j,k,l,m,o,p,q,r];b.partial=d(!1),b.full=d(!0)},{}],265:[function(require,a,b){"use strict";function c(a,b){var c=8*i.log2(b+1)*(a+1)|0,d=i.nextPow2(y*c);B.length<d&&(h.free(B),B=h.mallocInt32(d));var e=i.nextPow2(z*c);e>C&&(h.free(C),C=h.mallocDouble(e))}function d(a,b,c,d,e,f,g,h,i){var j=y*a;B[j]=b,B[j+1]=c,B[j+2]=d,B[j+3]=e,B[j+4]=f,B[j+5]=g;var k=z*a;C[k]=h,C[k+1]=i}function e(a,b,c,d,e,f,g,h,i,j,k){var l=2*a,m=i*l,n=j[m+b];a:for(var o=e,p=e*l;f>o;++o,p+=l){var q=g[p+b],r=g[p+b+a];if(!(q>n||n>r||d&&n===q)){for(var s=h[o],t=b+1;a>t;++t){var q=g[p+t],r=g[p+t+a],u=j[m+t],v=j[m+t+a];if(u>r||q>v)continue a}var w;if(w=d?c(k,s):c(s,k),void 0!==w)return w}}}function f(a,b,c,d,e,f,g,h,i,j){var k=2*a,l=h*k,m=i[l+b];a:for(var n=d,o=d*k;e>n;++n,o+=k){var p=g[n];if(p!==j){var q=f[o+b],r=f[o+b+a];if(!(q>m||m>r)){for(var s=b+1;a>s;++s){var q=f[o+s],r=f[o+s+a],t=i[l+s],u=i[l+s+a];if(t>r||q>u)continue a}var v=c(p,j);if(void 0!==v)return v}}}}function g(a,b,g,h,i,j,o,A,D){c(a,h+o);var E,F=0,G=2*a;for(d(F++,0,0,h,0,o,g?16:0,-(1/0),1/0),g||d(F++,0,0,o,0,h,1,-(1/0),1/0);F>0;){F-=1;var H=F*y,I=B[H],J=B[H+1],K=B[H+2],L=B[H+3],M=B[H+4],N=B[H+5],O=F*z,P=C[O],Q=C[O+1],R=1&N,S=!!(16&N),T=i,U=j,V=A,W=D;if(R&&(T=A,U=D,V=i,W=j),!(2&N&&(K=u(a,I,J,K,T,U,Q),J>=K)||4&N&&(J=v(a,I,J,K,T,U,P),J>=K))){var X=K-J,Y=M-L;if(S){if(r>a*X*(X+Y)){if(E=m.scanComplete(a,I,b,J,K,T,U,L,M,V,W),void 0!==E)return E;continue}}else{if(a*Math.min(X,Y)<p){if(E=k(a,I,b,R,J,K,T,U,L,M,V,W),void 0!==E)return E;continue}if(q>a*X*Y){if(E=m.scanBipartite(a,I,b,R,J,K,T,U,L,M,V,W),void 0!==E)return E;continue}}var Z=s(a,I,J,K,T,U,P,Q);if(Z>J)if(p>a*(Z-J)){if(E=l(a,I+1,b,J,Z,T,U,L,M,V,W),void 0!==E)return E}else if(I===a-2){if(E=R?m.sweepBipartite(a,b,L,M,V,W,J,Z,T,U):m.sweepBipartite(a,b,J,Z,T,U,L,M,V,W),void 0!==E)return E}else d(F++,I+1,J,Z,L,M,R,-(1/0),1/0),d(F++,I+1,L,M,J,Z,1^R,-(1/0),1/0);if(K>Z){var $=n(a,I,L,M,V,W),_=V[G*$+I],aa=t(a,I,$,M,V,W,_);if(M>aa&&d(F++,I,Z,K,aa,M,(4|R)+(S?16:0),_,Q),$>L&&d(F++,I,Z,K,L,$,(2|R)+(S?16:0),P,_),$+1===aa){if(E=S?f(a,I,b,Z,K,T,U,$,V,W[$]):e(a,I,b,R,Z,K,T,U,$,V,W[$]),void 0!==E)return E}else if(aa>$){var ba;if(S){if(ba=w(a,I,Z,K,T,U,_),ba>Z){var ca=t(a,I,Z,ba,T,U,_);if(I===a-2){if(ca>Z&&(E=m.sweepComplete(a,b,Z,ca,T,U,$,aa,V,W),void 0!==E))return E;if(ba>ca&&(E=m.sweepBipartite(a,b,ca,ba,T,U,$,aa,V,W),void 0!==E))return E}else ca>Z&&d(F++,I+1,Z,ca,$,aa,16,-(1/0),1/0),ba>ca&&(d(F++,I+1,ca,ba,$,aa,0,-(1/0),1/0),d(F++,I+1,$,aa,ca,ba,1,-(1/0),1/0))}}else ba=R?x(a,I,Z,K,T,U,_):w(a,I,Z,K,T,U,_),ba>Z&&(I===a-2?E=R?m.sweepBipartite(a,b,$,aa,V,W,Z,ba,T,U):m.sweepBipartite(a,b,Z,ba,T,U,$,aa,V,W):(d(F++,I+1,Z,ba,$,aa,R,-(1/0),1/0),d(F++,I+1,$,aa,Z,ba,1^R,-(1/0),1/0)))}}}}}a.exports=g;var h=require("typedarray-pool"),i=require("bit-twiddle"),j=require("./brute"),k=j.partial,l=j.full,m=require("./sweep"),n=require("./median"),o=require("./partition"),p=128,q=1<<22,r=1<<22,s=o("!(lo>=p0)&&!(p1>=hi)",["p0","p1"]),t=o("lo===p0",["p0"]),u=o("lo<p0",["p0"]),v=o("hi<=p0",["p0"]),w=o("lo<=p0&&p0<=hi",["p0"]),x=o("lo<p0&&p0<=hi",["p0"]),y=6,z=2,A=1024,B=h.mallocInt32(A),C=h.mallocDouble(A)},{"./brute":264,"./median":266,"./partition":267,"./sweep":269,"bit-twiddle":49,"typedarray-pool":233}],266:[function(require,a,b){"use strict";function c(a,b,c,d,e,f){for(var g=2*a,h=g*(c+1)+b,i=c+1;d>i;++i,h+=g)for(var j=e[h],k=i,l=g*(i-1);k>c&&e[l+b]>j;--k,l-=g){for(var m=l,n=l+g,o=0;g>o;++o,++m,++n){var p=e[m];e[m]=e[n],e[n]=p}var q=f[k];f[k]=f[k-1],f[k-1]=q}}function d(a,b,d,e,h,i){if(d+1>=e)return d;for(var j=d,k=e,l=e+d>>>1,m=2*a,n=l,o=h[m*l+b];k>j;){if(g>k-j){c(a,b,j,k,h,i),o=h[m*l+b];break}var p=k-j,q=Math.random()*p+j|0,r=h[m*q+b],s=Math.random()*p+j|0,t=h[m*s+b],u=Math.random()*p+j|0,v=h[m*u+b];t>=r?v>=t?(n=s,o=t):r>=v?(n=q,o=r):(n=u,o=v):t>=v?(n=s,o=t):v>=r?(n=q,o=r):(n=u,o=v);for(var w=m*(k-1),x=m*n,y=0;m>y;++y,++w,++x){var z=h[w];h[w]=h[x],h[x]=z}var A=i[k-1];i[k-1]=i[n],i[n]=A,n=f(a,b,j,k-1,h,i,o);for(var w=m*(k-1),x=m*n,y=0;m>y;++y,++w,++x){var z=h[w];h[w]=h[x],h[x]=z}var A=i[k-1];if(i[k-1]=i[n],i[n]=A,n>l){for(k=n-1;k>j&&h[m*(k-1)+b]===o;)k-=1;k+=1}else{if(!(l>n))break;for(j=n+1;k>j&&h[m*j+b]===o;)j+=1}}return f(a,b,d,l,h,i,h[m*l+b])}a.exports=d;var e=require("./partition"),f=e("lo<p0",["p0"]),g=8},{"./partition":267}],267:[function(require,a,b){"use strict";function c(a,b){var c="abcdef".split("").concat(b),e=[];return a.indexOf("lo")>=0&&e.push("lo=e[k+n]"),a.indexOf("hi")>=0&&e.push("hi=e[k+o]"),c.push(d.replace("_",e.join()).replace("$",a)),Function.apply(void 0,c)}a.exports=c;var d="for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m"},{}],268:[function(require,a,b){"use strict";function c(a,b){4*l>=b?d(0,b-1,a):k(0,b-1,a)}function d(a,b,c){for(var d=2*(a+1),e=a+1;b>=e;++e){for(var f=c[d++],g=c[d++],h=e,i=d-2;h-- >a;){var j=c[i-2],k=c[i-1];if(f>j)break;if(j===f&&g>k)break;c[i]=j,c[i+1]=k,i-=2}c[i]=f,c[i+1]=g}}function e(a,b,c){a*=2,b*=2;var d=c[a],e=c[a+1];c[a]=c[b],c[a+1]=c[b+1],c[b]=d,c[b+1]=e}function f(a,b,c){a*=2,b*=2,c[a]=c[b],c[a+1]=c[b+1]}function g(a,b,c,d){a*=2,b*=2,c*=2;var e=d[a],f=d[a+1];d[a]=d[b],d[a+1]=d[b+1],d[b]=d[c],d[b+1]=d[c+1],d[c]=e,d[c+1]=f}function h(a,b,c,d,e){a*=2,b*=2,e[a]=e[b],e[b]=c,e[a+1]=e[b+1],e[b+1]=d}function i(a,b,c){a*=2,b*=2;var d=c[a],e=c[b];return e>d?!1:d===e?c[a+1]>c[b+1]:!0}function j(a,b,c,d){a*=2;var e=d[a];return b>e?!0:e===b?d[a+1]<c:!1}function k(a,b,c){var m=(b-a+1)/6|0,n=a+m,o=b-m,p=a+b>>1,q=p-m,r=p+m,s=n,t=q,u=p,v=r,w=o,x=a+1,y=b-1,z=0;i(s,t,c)&&(z=s,s=t,t=z),i(v,w,c)&&(z=v,v=w,w=z),i(s,u,c)&&(z=s,s=u,u=z),i(t,u,c)&&(z=t,t=u,u=z),i(s,v,c)&&(z=s,s=v,v=z),i(u,v,c)&&(z=u,u=v,v=z),i(t,w,c)&&(z=t,t=w,w=z),i(t,u,c)&&(z=t,t=u,u=z),i(v,w,c)&&(z=v,v=w,w=z);for(var A=c[2*t],B=c[2*t+1],C=c[2*v],D=c[2*v+1],E=2*s,F=2*u,G=2*w,H=2*n,I=2*p,J=2*o,K=0;2>K;++K){var L=c[E+K],M=c[F+K],N=c[G+K];c[H+K]=L,c[I+K]=M,c[J+K]=N}f(q,a,c),f(r,b,c);for(var O=x;y>=O;++O)if(j(O,A,B,c))O!==x&&e(O,x,c),++x;else if(!j(O,C,D,c))for(;;){if(j(y,C,D,c)){j(y,A,B,c)?(g(O,x,y,c),++x,--y):(e(O,y,c),--y);break}if(--y<O)break}h(a,x-1,A,B,c),h(b,y+1,C,D,c),l>=x-2-a?d(a,x-2,c):k(a,x-2,c),l>=b-(y+2)?d(y+2,b,c):k(y+2,b,c),l>=y-x?d(x,y,c):k(x,y,c)}a.exports=c;var l=32},{}],269:[function(require,a,b){"use strict";function c(a){var b=k.nextPow2(a);o.length<b&&(j.free(o),o=j.mallocInt32(b)),p.length<b&&(j.free(p),p=j.mallocInt32(b)),q.length<b&&(j.free(q),q=j.mallocInt32(b)),r.length<b&&(j.free(r),r=j.mallocInt32(b)),s.length<b&&(j.free(s),s=j.mallocInt32(b)),t.length<b&&(j.free(t),t=j.mallocInt32(b));var c=8*b;u.length<c&&(j.free(u),u=j.mallocDouble(c))}function d(a,b,c,d){var e=b[d],f=a[c-1];a[e]=f,b[f]=e}function e(a,b,c,d){a[c]=d,b[d]=c}function f(a,b,c,f,g,h,i,j,k,n){for(var s=0,t=2*a,v=a-1,w=t-1,x=c;f>x;++x){var y=h[x],z=t*x;u[s++]=g[z+v],u[s++]=-(y+1),u[s++]=g[z+w],u[s++]=y}for(var x=i;j>x;++x){var y=n[x]+m,A=t*x;u[s++]=k[A+v],u[s++]=-y,u[s++]=k[A+w],u[s++]=y}var B=s>>>1;l(u,B);for(var C=0,D=0,x=0;B>x;++x){var E=0|u[2*x+1];if(E>=m)E=E-m|0,d(q,r,D--,E);else if(E>=0)d(o,p,C--,E);else if(-m>=E){E=-E-m|0;for(var F=0;C>F;++F){var G=b(o[F],E);if(void 0!==G)return G}e(q,r,D++,E)}else{E=-E-1|0;for(var F=0;D>F;++F){var G=b(E,q[F]);if(void 0!==G)return G}e(o,p,C++,E)}}}function g(a,b,c,f,g,h,i,j,k,m){for(var n=0,v=2*a,w=a-1,x=v-1,y=c;f>y;++y){var z=h[y]+1<<1,A=v*y;u[n++]=g[A+w],u[n++]=-z,u[n++]=g[A+x],u[n++]=z}for(var y=i;j>y;++y){var z=m[y]+1<<1,B=v*y;u[n++]=k[B+w],u[n++]=1|-z,u[n++]=k[B+x],u[n++]=1|z}var C=n>>>1;l(u,C);for(var D=0,E=0,F=0,y=0;C>y;++y){var G=0|u[2*y+1],H=1&G;if(C-1>y&&G>>1===u[2*y+3]>>1&&(H=2,y+=1),0>G){for(var I=-(G>>1)-1,J=0;F>J;++J){var K=b(s[J],I);if(void 0!==K)return K}if(0!==H)for(var J=0;D>J;++J){var K=b(o[J],I);if(void 0!==K)return K}if(1!==H)for(var J=0;E>J;++J){var K=b(q[J],I);if(void 0!==K)return K}0===H?e(o,p,D++,I):1===H?e(q,r,E++,I):2===H&&e(s,t,F++,I)}else{var I=(G>>1)-1;0===H?d(o,p,D--,I):1===H?d(q,r,E--,I):2===H&&d(s,t,F--,I)}}}function h(a,b,c,f,g,h,i,j,k,n,q,r){var s=0,t=2*a,v=b,w=b+a,x=1,y=1;f?y=m:x=m;for(var z=g;h>z;++z){var A=z+x,B=t*z;u[s++]=i[B+v],u[s++]=-A,u[s++]=i[B+w],u[s++]=A}for(var z=k;n>z;++z){var A=z+y,C=t*z;u[s++]=q[C+v],u[s++]=-A}var D=s>>>1;l(u,D);for(var E=0,z=0;D>z;++z){var F=0|u[2*z+1];if(0>F){var A=-F,G=!1;if(A>=m?(G=!f,A-=m):(G=!!f,A-=1),G)e(o,p,E++,A);else{var H=r[A],I=t*A,J=q[I+b+1],K=q[I+b+1+a];a:for(var L=0;E>L;++L){
var M=o[L],N=t*M;if(!(K<i[N+b+1]||i[N+b+1+a]<J)){for(var O=b+2;a>O;++O)if(q[I+O+a]<i[N+O]||i[N+O+a]<q[I+O])continue a;var P,Q=j[M];if(P=f?c(H,Q):c(Q,H),void 0!==P)return P}}}}else d(o,p,E--,F-x)}}function i(a,b,c,d,e,f,g,h,i,j,k){for(var n=0,p=2*a,q=b,r=b+a,s=d;e>s;++s){var t=s+m,v=p*s;u[n++]=f[v+q],u[n++]=-t,u[n++]=f[v+r],u[n++]=t}for(var s=h;i>s;++s){var t=s+1,w=p*s;u[n++]=j[w+q],u[n++]=-t}var x=n>>>1;l(u,x);for(var y=0,s=0;x>s;++s){var z=0|u[2*s+1];if(0>z){var t=-z;if(t>=m)o[y++]=t-m;else{t-=1;var A=k[t],B=p*t,C=j[B+b+1],D=j[B+b+1+a];a:for(var E=0;y>E;++E){var F=o[E],G=g[F];if(G===A)break;var H=p*F;if(!(D<f[H+b+1]||f[H+b+1+a]<C)){for(var I=b+2;a>I;++I)if(j[B+I+a]<f[H+I]||f[H+I+a]<j[B+I])continue a;var J=c(G,A);if(void 0!==J)return J}}}}else{for(var t=z-m,E=y-1;E>=0;--E)if(o[E]===t){for(var I=E+1;y>I;++I)o[I-1]=o[I];break}--y}}}a.exports={init:c,sweepBipartite:f,sweepComplete:g,scanBipartite:h,scanComplete:i};var j=require("typedarray-pool"),k=require("bit-twiddle"),l=require("./sort"),m=1<<28,n=1024,o=j.mallocInt32(n),p=j.mallocInt32(n),q=j.mallocInt32(n),r=j.mallocInt32(n),s=j.mallocInt32(n),t=j.mallocInt32(n),u=j.mallocDouble(8*n)},{"./sort":268,"bit-twiddle":49,"typedarray-pool":233}],270:[function(require,a,b){(function(b){function c(a,b){return n[0]=a,n[1]=b,m[0]}function d(a){return m[0]=a,n[0]}function e(a){return m[0]=a,n[1]}function f(a,b){return n[1]=a,n[0]=b,m[0]}function g(a){return m[0]=a,n[1]}function h(a){return m[0]=a,n[0]}function i(a,b){return o.writeUInt32LE(a,0,!0),o.writeUInt32LE(b,4,!0),o.readDoubleLE(0,!0)}function j(a){return o.writeDoubleLE(a,0,!0),o.readUInt32LE(0,!0)}function k(a){return o.writeDoubleLE(a,0,!0),o.readUInt32LE(4,!0)}var l=!1;if("undefined"!=typeof Float64Array){var m=new Float64Array(1),n=new Uint32Array(m.buffer);m[0]=1,l=!0,1072693248===n[1]?(a.exports=function(a){return m[0]=a,[n[0],n[1]]},a.exports.pack=c,a.exports.lo=d,a.exports.hi=e):1072693248===n[0]?(a.exports=function(a){return m[0]=a,[n[1],n[0]]},a.exports.pack=f,a.exports.lo=g,a.exports.hi=h):l=!1}if(!l){var o=new b(8);a.exports=function(a){return o.writeDoubleLE(a,0,!0),[o.readUInt32LE(0,!0),o.readUInt32LE(4,!0)]},a.exports.pack=i,a.exports.lo=j,a.exports.hi=k}a.exports.sign=function(b){return a.exports.hi(b)>>>31},a.exports.exponent=function(b){var c=a.exports.hi(b);return(c<<1>>>21)-1023},a.exports.fraction=function(b){var c=a.exports.lo(b),d=a.exports.hi(b),e=1048575&d;return 2146435072&d&&(e+=1<<20),[c,e]},a.exports.denormalized=function(b){var c=a.exports.hi(b);return!(2146435072&c)}}).call(this,require("buffer").Buffer)},{buffer:50}],271:[function(require,a,b){"use strict";function c(a,b){if(isNaN(a)||isNaN(b))return NaN;if(a===b)return a;if(0===a)return 0>b?-e:e;var c=d.hi(a),g=d.lo(a);return b>a==a>0?g===f?(c+=1,g=0):g+=1:0===g?(g=f,c-=1):g-=1,d.pack(g,c)}var d=require("double-bits"),e=Math.pow(2,-1074),f=-1>>>0;a.exports=c},{"double-bits":270}],272:[function(require,a,b){"use strict";function c(a,b){for(var c=a.length,e=new Array(c),f=0;c>f;++f)e[f]=d(a[f],b[f]);return e}var d=require("big-rat/add");a.exports=c},{"big-rat/add":246}],273:[function(require,a,b){"use strict";function c(a){for(var b=new Array(a.length),c=0;c<a.length;++c)b[c]=d(a[c]);return b}a.exports=c;var d=require("big-rat")},{"big-rat":249}],274:[function(require,a,b){"use strict";function c(a,b){for(var c=d(b),f=a.length,g=new Array(f),h=0;f>h;++h)g[h]=e(a[h],c);return g}var d=require("big-rat"),e=require("big-rat/mul");a.exports=c},{"big-rat":249,"big-rat/mul":258}],275:[function(require,a,b){"use strict";function c(a,b){for(var c=a.length,e=new Array(c),f=0;c>f;++f)e[f]=d(a[f],b[f]);return e}var d=require("big-rat/sub");a.exports=c},{"big-rat/sub":261}],276:[function(require,a,b){"use strict";function c(a,b,c,d){for(var e=0;2>e;++e){var f=a[e],g=b[e],h=Math.min(f,g),i=Math.max(f,g),j=c[e],k=d[e],l=Math.min(j,k),m=Math.max(j,k);if(h>m||l>i)return!1}return!0}function d(a,b,d,f){var g=e(a,d,f),h=e(b,d,f);if(g>0&&h>0||0>g&&0>h)return!1;var i=e(d,a,b),j=e(f,a,b);return i>0&&j>0||0>i&&0>j?!1:0===g&&0===h&&0===i&&0===j?c(a,b,d,f):!0}a.exports=d;var e=require("robust-orientation")[3]},{"robust-orientation":214}],277:[function(require,a,b){arguments[4][193][0].apply(b,arguments)},{dup:193}],278:[function(require,a,b){"use strict";function c(a,b){for(var c=d(a,b.length),e=new Array(b.length),f=new Array(b.length),g=[],h=0;h<b.length;++h){var i=c[h].length;f[h]=i,e[h]=!0,1>=i&&g.push(h)}for(;g.length>0;){var j=g.pop();e[j]=!1;for(var k=c[j],h=0;h<k.length;++h){var l=k[h];0===--f[l]&&g.push(l)}}for(var m=new Array(b.length),n=[],h=0;h<b.length;++h)if(e[h]){var j=n.length;m[h]=j,n.push(b[h])}else m[h]=-1;for(var o=[],h=0;h<a.length;++h){var p=a[h];e[p[0]]&&e[p[1]]&&o.push([m[p[0]],m[p[1]]])}return[o,n]}a.exports=c;var d=require("edges-to-adjacency-list")},{"edges-to-adjacency-list":279}],279:[function(require,a,b){"use strict";function c(a,b){var c=a.length;if("number"!=typeof b){b=0;for(var e=0;c>e;++e){var f=a[e];b=Math.max(b,f[0],f[1])}b=(0|b)+1}b=0|b;for(var g=new Array(b),e=0;b>e;++e)g[e]=[];for(var e=0;c>e;++e){var f=a[e];g[f[0]].push(f[1]),g[f[1]].push(f[0])}for(var h=0;b>h;++h)d(g[h],function(a,b){return a-b});return g}a.exports=c;var d=require("uniq")},{uniq:234}],280:[function(require,a,b){"use strict";function c(a,b){function c(a,b){var c=j[b][a[b]];c.splice(c.indexOf(a),1)}function e(a,e,f){for(var g,h,i,k=0;2>k;++k)if(j[k][e].length>0){g=j[k][e][0],i=k;break}h=g[1^i];for(var l=0;2>l;++l)for(var m=j[l][e],n=0;n<m.length;++n){var o=m[n],p=o[1^l],q=d(b[a],b[e],b[h],b[p]);q>0&&(g=o,h=p,i=l)}return f?h:(g&&c(g,i),h)}function f(a,f){var g=j[f][a][0],h=[a];c(g,f);for(var i=g[1^f];;){for(;i!==a;)h.push(i),i=e(h[h.length-2],i,!1);if(j[0][a].length+j[1][a].length===0)break;var k=h[h.length-1],l=a,m=h[1],n=e(k,l,!0);if(d(b[k],b[l],b[m],b[n])<0)break;h.push(a),i=e(k,l)}return h}function g(a,b){return b[1]===b[b.length-1]}for(var h=0|b.length,i=a.length,j=[new Array(h),new Array(h)],k=0;h>k;++k)j[0][k]=[],j[1][k]=[];for(var k=0;i>k;++k){var l=a[k];j[0][l[0]].push(l),j[1][l[1]].push(l)}for(var m=[],k=0;h>k;++k)j[0][k].length+j[1][k].length===0&&m.push([k]);for(var k=0;h>k;++k)for(var n=0;2>n;++n){for(var o=[];j[n][k].length>0;){var p=(j[0][k].length,f(k,n));g(o,p)?o.push.apply(o,p):(o.length>0&&m.push(o),o=p)}o.length>0&&m.push(o)}return m}a.exports=c;var d=require("compare-angle")},{"compare-angle":281}],281:[function(require,a,b){"use strict";function c(a,b,c){var d=g(a[0],-b[0]),e=g(a[1],-b[1]),f=g(c[0],-b[0]),j=g(c[1],-b[1]),k=i(h(d,f),h(e,j));return k[k.length-1]>=0}function d(a,b,d,g){var h=e(b,d,g);if(0===h){var i=f(e(a,b,d)),j=f(e(a,b,g));if(i===j){if(0===i){var k=c(a,b,d),l=c(a,b,g);return k===l?0:k?1:-1}return 0}return 0===j?i>0?-1:c(a,b,g)?-1:1:0===i?j>0?1:c(a,b,d)?1:-1:f(j-i)}var m=e(a,b,d);if(m>0)return h>0&&e(a,b,g)>0?1:-1;if(0>m)return h>0||e(a,b,g)>0?1:-1;var n=e(a,b,g);return n>0?1:c(a,b,d)?1:-1}a.exports=d;var e=require("robust-orientation"),f=require("signum"),g=require("two-sum"),h=require("robust-product"),i=require("robust-sum")},{"robust-orientation":214,"robust-product":282,"robust-sum":217,signum:283,"two-sum":232}],282:[function(require,a,b){"use strict";function c(a,b){if(1===a.length)return e(b,a[0]);if(1===b.length)return e(a,b[0]);if(0===a.length||0===b.length)return[0];var c=[0];if(a.length<b.length)for(var f=0;f<a.length;++f)c=d(c,e(b,a[f]));else for(var f=0;f<b.length;++f)c=d(c,e(a,b[f]));return c}var d=require("robust-sum"),e=require("robust-scale");a.exports=c},{"robust-scale":215,"robust-sum":217}],283:[function(require,a,b){"use strict";a.exports=function(a){return 0>a?-1:a>0?1:0}},{}],284:[function(require,a,b){arguments[4][20][0].apply(b,arguments)},{dup:20}],285:[function(require,a,b){"use strict";function c(a,b,c,d,e){this.mid=a,this.left=b,this.right=c,this.leftPoints=d,this.rightPoints=e,this.count=(b?b.count:0)+(c?c.count:0)+d.length}function d(a,b){a.mid=b.mid,a.left=b.left,a.right=b.right,a.leftPoints=b.leftPoints,a.rightPoints=b.rightPoints,a.count=b.count}function e(a,b){var c=n(b);a.mid=c.mid,a.left=c.left,a.right=c.right,a.leftPoints=c.leftPoints,a.rightPoints=c.rightPoints,a.count=c.count}function f(a,b){var c=a.intervals([]);c.push(b),e(a,c)}function g(a,b){var c=a.intervals([]),d=c.indexOf(b);return 0>d?r:(c.splice(d,1),e(a,c),s)}function h(a,b,c){for(var d=0;d<a.length&&a[d][0]<=b;++d){var e=c(a[d]);if(e)return e}}function i(a,b,c){for(var d=a.length-1;d>=0&&a[d][1]>=b;--d){var e=c(a[d]);if(e)return e}}function j(a,b){for(var c=0;c<a.length;++c){var d=b(a[c]);if(d)return d}}function k(a,b){return a-b}function l(a,b){var c=a[0]-b[0];return c?c:a[1]-b[1]}function m(a,b){var c=a[1]-b[1];return c?c:a[0]-b[0]}function n(a){if(0===a.length)return null;for(var b=[],d=0;d<a.length;++d)b.push(a[d][0],a[d][1]);b.sort(k);for(var e=b[b.length>>1],f=[],g=[],h=[],d=0;d<a.length;++d){var i=a[d];i[1]<e?f.push(i):e<i[0]?g.push(i):h.push(i)}var j=h,o=h.slice();return j.sort(l),o.sort(m),new c(e,n(f),n(g),j,o)}function o(a){this.root=a}function p(a){return new o(a&&0!==a.length?n(a):null)}var q=require("binary-search-bounds"),r=0,s=1,t=2;a.exports=p;var u=c.prototype;u.intervals=function(a){return a.push.apply(a,this.leftPoints),this.left&&this.left.intervals(a),this.right&&this.right.intervals(a),a},u.insert=function(a){var b=this.count-this.leftPoints.length;if(this.count+=1,a[1]<this.mid)this.left?4*(this.left.count+1)>3*(b+1)?f(this,a):this.left.insert(a):this.left=n([a]);else if(a[0]>this.mid)this.right?4*(this.right.count+1)>3*(b+1)?f(this,a):this.right.insert(a):this.right=n([a]);else{var c=q.ge(this.leftPoints,a,l),d=q.ge(this.rightPoints,a,m);this.leftPoints.splice(c,0,a),this.rightPoints.splice(d,0,a)}},u.remove=function(a){var b=this.count-this.leftPoints;if(a[1]<this.mid){if(!this.left)return r;var c=this.right?this.right.count:0;if(4*c>3*(b-1))return g(this,a);var e=this.left.remove(a);return e===t?(this.left=null,this.count-=1,s):(e===s&&(this.count-=1),e)}if(a[0]>this.mid){if(!this.right)return r;var f=this.left?this.left.count:0;if(4*f>3*(b-1))return g(this,a);var e=this.right.remove(a);return e===t?(this.right=null,this.count-=1,s):(e===s&&(this.count-=1),e)}if(1===this.count)return this.leftPoints[0]===a?t:r;if(1===this.leftPoints.length&&this.leftPoints[0]===a){if(this.left&&this.right){for(var h=this,i=this.left;i.right;)h=i,i=i.right;if(h===this)i.right=this.right;else{var j=this.left,e=this.right;h.count-=i.count,h.right=i.left,i.left=j,i.right=e}d(this,i),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?d(this,this.left):d(this,this.right);return s}for(var j=q.ge(this.leftPoints,a,l);j<this.leftPoints.length&&this.leftPoints[j][0]===a[0];++j)if(this.leftPoints[j]===a){this.count-=1,this.leftPoints.splice(j,1);for(var e=q.ge(this.rightPoints,a,m);e<this.rightPoints.length&&this.rightPoints[e][1]===a[1];++e)if(this.rightPoints[e]===a)return this.rightPoints.splice(e,1),s}return r},u.queryPoint=function(a,b){if(a<this.mid){if(this.left){var c=this.left.queryPoint(a,b);if(c)return c}return h(this.leftPoints,a,b)}if(a>this.mid){if(this.right){var c=this.right.queryPoint(a,b);if(c)return c}return i(this.rightPoints,a,b)}return j(this.leftPoints,b)},u.queryInterval=function(a,b,c){if(a<this.mid&&this.left){var d=this.left.queryInterval(a,b,c);if(d)return d}if(b>this.mid&&this.right){var d=this.right.queryInterval(a,b,c);if(d)return d}return b<this.mid?h(this.leftPoints,b,c):a>this.mid?i(this.rightPoints,a,c):j(this.leftPoints,c)};var v=o.prototype;v.insert=function(a){this.root?this.root.insert(a):this.root=new c(a[0],null,null,[a],[a])},v.remove=function(a){if(this.root){var b=this.root.remove(a);return b===t&&(this.root=null),b!==r}return!1},v.queryPoint=function(a,b){return this.root?this.root.queryPoint(a,b):void 0},v.queryInterval=function(a,b,c){return b>=a&&this.root?this.root.queryInterval(a,b,c):void 0},Object.defineProperty(v,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(v,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},{"binary-search-bounds":284}],286:[function(require,a,b){"use strict";function c(a,b){var c,d;if(b[0][0]<b[1][0])c=b[0],d=b[1];else{if(!(b[0][0]>b[1][0])){var f=Math.min(a[0][1],a[1][1]),g=Math.max(a[0][1],a[1][1]),h=Math.min(b[0][1],b[1][1]),i=Math.max(b[0][1],b[1][1]);return h>g?g-h:f>i?f-i:g-i}c=b[1],d=b[0]}var j,k;a[0][1]<a[1][1]?(j=a[0],k=a[1]):(j=a[1],k=a[0]);var l=e(d,c,j);return l?l:(l=e(d,c,k),l?l:k-d)}function d(a,b){var d,f;if(b[0][0]<b[1][0])d=b[0],f=b[1];else{if(!(b[0][0]>b[1][0]))return c(b,a);d=b[1],f=b[0]}var g,h;if(a[0][0]<a[1][0])g=a[0],h=a[1];else{if(!(a[0][0]>a[1][0]))return-c(a,b);g=a[1],h=a[0]}var i=e(d,f,h),j=e(d,f,g);if(0>i){if(0>=j)return i}else if(i>0){if(j>=0)return i}else if(j)return j;if(i=e(h,g,f),j=e(h,g,d),0>i){if(0>=j)return i}else if(i>0){if(j>=0)return i}else if(j)return j;return f[0]-h[0]}a.exports=d;var e=require("robust-orientation")},{"robust-orientation":214}],287:[function(require,a,b){"use strict";function c(a,b,c,d,e,f){this._color=a,this.key=b,this.value=c,this.left=d,this.right=e,this._count=f}function d(a){return new c(a._color,a.key,a.value,a.left,a.right,a._count)}function e(a,b){return new c(a,b.key,b.value,b.left,b.right,b._count)}function f(a){a._count=1+(a.left?a.left._count:0)+(a.right?a.right._count:0)}function g(a,b){this._compare=a,this.root=b}function h(a,b){if(b.left){var c=h(a,b.left);if(c)return c}var c=a(b.key,b.value);return c?c:b.right?h(a,b.right):void 0}function i(a,b,c,d){var e=b(a,d.key);if(0>=e){if(d.left){var f=i(a,b,c,d.left);if(f)return f}var f=c(d.key,d.value);if(f)return f}return d.right?i(a,b,c,d.right):void 0}function j(a,b,c,d,e){var f,g=c(a,e.key),h=c(b,e.key);if(0>=g){if(e.left&&(f=j(a,b,c,d,e.left)))return f;if(h>0&&(f=d(e.key,e.value)))return f}return h>0&&e.right?j(a,b,c,d,e.right):void 0}function k(a,b){this.tree=a,this._stack=b}function l(a,b){a.key=b.key,a.value=b.value,a.left=b.left,a.right=b.right,a._color=b._color,a._count=b._count}function m(a){for(var b,c,g,h,i=a.length-1;i>=0;--i){if(b=a[i],0===i)return void(b._color=q);if(c=a[i-1],c.left===b){if(g=c.right,g.right&&g.right._color===p){if(g=c.right=d(g),h=g.right=d(g.right),c.right=g.left,g.left=c,g.right=h,g._color=c._color,b._color=q,c._color=q,h._color=q,f(c),f(g),i>1){var j=a[i-2];j.left===c?j.left=g:j.right=g}return void(a[i-1]=g)}if(g.left&&g.left._color===p){if(g=c.right=d(g),h=g.left=d(g.left),c.right=h.left,g.left=h.right,h.left=c,h.right=g,h._color=c._color,c._color=q,g._color=q,b._color=q,f(c),f(g),f(h),i>1){var j=a[i-2];j.left===c?j.left=h:j.right=h}return void(a[i-1]=h)}if(g._color===q){if(c._color===p)return c._color=q,void(c.right=e(p,g));c.right=e(p,g);continue}if(g=d(g),c.right=g.left,g.left=c,g._color=c._color,c._color=p,f(c),f(g),i>1){var j=a[i-2];j.left===c?j.left=g:j.right=g}a[i-1]=g,a[i]=c,i+1<a.length?a[i+1]=b:a.push(b),i+=2}else{if(g=c.left,g.left&&g.left._color===p){if(g=c.left=d(g),h=g.left=d(g.left),c.left=g.right,g.right=c,g.left=h,g._color=c._color,b._color=q,c._color=q,h._color=q,f(c),f(g),i>1){var j=a[i-2];j.right===c?j.right=g:j.left=g}return void(a[i-1]=g)}if(g.right&&g.right._color===p){if(g=c.left=d(g),h=g.right=d(g.right),c.left=h.right,g.right=h.left,h.right=c,h.left=g,h._color=c._color,c._color=q,g._color=q,b._color=q,f(c),f(g),f(h),i>1){var j=a[i-2];j.right===c?j.right=h:j.left=h}return void(a[i-1]=h)}if(g._color===q){if(c._color===p)return c._color=q,void(c.left=e(p,g));c.left=e(p,g);continue}if(g=d(g),c.left=g.right,g.right=c,g._color=c._color,c._color=p,f(c),f(g),i>1){var j=a[i-2];j.right===c?j.right=g:j.left=g}a[i-1]=g,a[i]=c,i+1<a.length?a[i+1]=b:a.push(b),i+=2}}}function n(a,b){return b>a?-1:a>b?1:0}function o(a){return new g(a||n,null)}a.exports=o;var p=0,q=1,r=g.prototype;Object.defineProperty(r,"keys",{get:function(){var a=[];return this.forEach(function(b,c){a.push(b)}),a}}),Object.defineProperty(r,"values",{get:function(){var a=[];return this.forEach(function(b,c){a.push(c)}),a}}),Object.defineProperty(r,"length",{get:function(){return this.root?this.root._count:0}}),r.insert=function(a,b){for(var d=this._compare,h=this.root,i=[],j=[];h;){var k=d(a,h.key);i.push(h),j.push(k),h=0>=k?h.left:h.right}i.push(new c(p,a,b,null,null,1));for(var l=i.length-2;l>=0;--l){var h=i[l];j[l]<=0?i[l]=new c(h._color,h.key,h.value,i[l+1],h.right,h._count+1):i[l]=new c(h._color,h.key,h.value,h.left,i[l+1],h._count+1)}for(var l=i.length-1;l>1;--l){var m=i[l-1],h=i[l];if(m._color===q||h._color===q)break;var n=i[l-2];if(n.left===m)if(m.left===h){var o=n.right;if(!o||o._color!==p){if(n._color=p,n.left=m.right,m._color=q,m.right=n,i[l-2]=m,i[l-1]=h,f(n),f(m),l>=3){var r=i[l-3];r.left===n?r.left=m:r.right=m}break}m._color=q,n.right=e(q,o),n._color=p,l-=1}else{var o=n.right;if(!o||o._color!==p){if(m.right=h.left,n._color=p,n.left=h.right,h._color=q,h.left=m,h.right=n,i[l-2]=h,i[l-1]=m,f(n),f(m),f(h),l>=3){var r=i[l-3];r.left===n?r.left=h:r.right=h}break}m._color=q,n.right=e(q,o),n._color=p,l-=1}else if(m.right===h){var o=n.left;if(!o||o._color!==p){if(n._color=p,n.right=m.left,m._color=q,m.left=n,i[l-2]=m,i[l-1]=h,f(n),f(m),l>=3){var r=i[l-3];r.right===n?r.right=m:r.left=m}break}m._color=q,n.left=e(q,o),n._color=p,l-=1}else{var o=n.left;if(!o||o._color!==p){if(m.left=h.right,n._color=p,n.right=h.left,h._color=q,h.right=m,h.left=n,i[l-2]=h,i[l-1]=m,f(n),f(m),f(h),l>=3){var r=i[l-3];r.right===n?r.right=h:r.left=h}break}m._color=q,n.left=e(q,o),n._color=p,l-=1}}return i[0]._color=q,new g(d,i[0])},r.forEach=function(a,b,c){if(this.root)switch(arguments.length){case 1:return h(a,this.root);case 2:return i(b,this._compare,a,this.root);case 3:if(this._compare(b,c)>=0)return;return j(b,c,this._compare,a,this.root)}},Object.defineProperty(r,"begin",{get:function(){for(var a=[],b=this.root;b;)a.push(b),b=b.left;return new k(this,a)}}),Object.defineProperty(r,"end",{get:function(){for(var a=[],b=this.root;b;)a.push(b),b=b.right;return new k(this,a)}}),r.at=function(a){if(0>a)return new k(this,[]);for(var b=this.root,c=[];;){if(c.push(b),b.left){if(a<b.left._count){b=b.left;continue}a-=b.left._count}if(!a)return new k(this,c);if(a-=1,!b.right)break;if(a>=b.right._count)break;b=b.right}return new k(this,[])},r.ge=function(a){for(var b=this._compare,c=this.root,d=[],e=0;c;){var f=b(a,c.key);d.push(c),0>=f&&(e=d.length),c=0>=f?c.left:c.right}return d.length=e,new k(this,d)},r.gt=function(a){for(var b=this._compare,c=this.root,d=[],e=0;c;){var f=b(a,c.key);d.push(c),0>f&&(e=d.length),c=0>f?c.left:c.right}return d.length=e,new k(this,d)},r.lt=function(a){for(var b=this._compare,c=this.root,d=[],e=0;c;){var f=b(a,c.key);d.push(c),f>0&&(e=d.length),c=0>=f?c.left:c.right}return d.length=e,new k(this,d)},r.le=function(a){for(var b=this._compare,c=this.root,d=[],e=0;c;){var f=b(a,c.key);d.push(c),f>=0&&(e=d.length),c=0>f?c.left:c.right}return d.length=e,new k(this,d)},r.find=function(a){for(var b=this._compare,c=this.root,d=[];c;){var e=b(a,c.key);if(d.push(c),0===e)return new k(this,d);c=0>=e?c.left:c.right}return new k(this,[])},r.remove=function(a){var b=this.find(a);return b?b.remove():this},r.get=function(a){for(var b=this._compare,c=this.root;c;){var d=b(a,c.key);if(0===d)return c.value;c=0>=d?c.left:c.right}};var s=k.prototype;Object.defineProperty(s,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(s,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),s.clone=function(){return new k(this.tree,this._stack.slice())},s.remove=function(){var a=this._stack;if(0===a.length)return this.tree;var b=new Array(a.length),d=a[a.length-1];b[b.length-1]=new c(d._color,d.key,d.value,d.left,d.right,d._count);for(var e=a.length-2;e>=0;--e){var d=a[e];d.left===a[e+1]?b[e]=new c(d._color,d.key,d.value,b[e+1],d.right,d._count):b[e]=new c(d._color,d.key,d.value,d.left,b[e+1],d._count)}if(d=b[b.length-1],d.left&&d.right){var f=b.length;for(d=d.left;d.right;)b.push(d),d=d.right;var h=b[f-1];b.push(new c(d._color,h.key,h.value,d.left,d.right,d._count)),b[f-1].key=d.key,b[f-1].value=d.value;for(var e=b.length-2;e>=f;--e)d=b[e],b[e]=new c(d._color,d.key,d.value,d.left,b[e+1],d._count);b[f-1].left=b[f]}if(d=b[b.length-1],d._color===p){var i=b[b.length-2];i.left===d?i.left=null:i.right===d&&(i.right=null),b.pop();for(var e=0;e<b.length;++e)b[e]._count--;return new g(this.tree._compare,b[0])}if(d.left||d.right){d.left?l(d,d.left):d.right&&l(d,d.right),d._color=q;for(var e=0;e<b.length-1;++e)b[e]._count--;return new g(this.tree._compare,b[0])}if(1===b.length)return new g(this.tree._compare,null);for(var e=0;e<b.length;++e)b[e]._count--;var j=b[b.length-2];return m(b),j.left===d?j.left=null:j.right=null,new g(this.tree._compare,b[0])},Object.defineProperty(s,"key",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1].key:void 0},enumerable:!0}),Object.defineProperty(s,"value",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1].value:void 0},enumerable:!0}),Object.defineProperty(s,"index",{get:function(){var a=0,b=this._stack;if(0===b.length){var c=this.tree.root;return c?c._count:0}b[b.length-1].left&&(a=b[b.length-1].left._count);for(var d=b.length-2;d>=0;--d)b[d+1]===b[d].right&&(++a,b[d].left&&(a+=b[d].left._count));return a},enumerable:!0}),s.next=function(){var a=this._stack;if(0!==a.length){var b=a[a.length-1];if(b.right)for(b=b.right;b;)a.push(b),b=b.left;else for(a.pop();a.length>0&&a[a.length-1].right===b;)b=a[a.length-1],a.pop()}},Object.defineProperty(s,"hasNext",{get:function(){var a=this._stack;if(0===a.length)return!1;if(a[a.length-1].right)return!0;for(var b=a.length-1;b>0;--b)if(a[b-1].left===a[b])return!0;return!1}}),s.update=function(a){var b=this._stack;if(0===b.length)throw new Error("Can't update empty node!");var d=new Array(b.length),e=b[b.length-1];d[d.length-1]=new c(e._color,e.key,a,e.left,e.right,e._count);for(var f=b.length-2;f>=0;--f)e=b[f],e.left===b[f+1]?d[f]=new c(e._color,e.key,e.value,d[f+1],e.right,e._count):d[f]=new c(e._color,e.key,e.value,e.left,d[f+1],e._count);return new g(this.tree._compare,d[0])},s.prev=function(){var a=this._stack;if(0!==a.length){var b=a[a.length-1];if(b.left)for(b=b.left;b;)a.push(b),b=b.right;else for(a.pop();a.length>0&&a[a.length-1].left===b;)b=a[a.length-1],a.pop()}},Object.defineProperty(s,"hasPrev",{get:function(){var a=this._stack;if(0===a.length)return!1;if(a[a.length-1].left)return!0;for(var b=a.length-1;b>0;--b)if(a[b-1].right===a[b])return!0;return!1}})},{}],288:[function(require,a,b){"use strict";function c(a,b,c){this.slabs=a,this.coordinates=b,this.horizontal=c}function d(a,b){return a.y-b}function e(a,b){for(var c=null;a;){var d,f,g=a.key;g[0][0]<g[1][0]?(d=g[0],f=g[1]):(d=g[1],f=g[0]);var h=k(d,f,b);if(0>h)a=a.left;else if(h>0)if(b[0]!==g[1][0])c=a,a=a.right;else{var i=e(a.right,b);if(i)return i;a=a.left}else{if(b[0]!==g[1][0])return a;var i=e(a.right,b);if(i)return i;a=a.left}}return c}function f(a,b,c,d){this.y=a,this.index=b,this.start=c,this.closed=d}function g(a,b,c,d){this.x=a,this.segment=b,this.create=c,this.index=d}function h(a){for(var b=a.length,d=2*b,e=new Array(d),h=0;b>h;++h){var i=a[h],k=i[0][0]<i[1][0];e[2*h]=new g(i[0][0],i,k,h),e[2*h+1]=new g(i[1][0],i,!k,h)}e.sort(function(a,b){var c=a.x-b.x;return c?c:(c=a.create-b.create,c?c:Math.min(a.segment[0][1],a.segment[1][1])-Math.min(b.segment[0][1],b.segment[1][1]))});for(var m=j(l),n=[],o=[],p=[],h=0;d>h;){for(var q=e[h].x,r=[];d>h;){var s=e[h];if(s.x!==q)break;h+=1,s.segment[0][0]===s.x&&s.segment[1][0]===s.x?s.create&&(s.segment[0][1]<s.segment[1][1]?(r.push(new f(s.segment[0][1],s.index,!0,!0)),r.push(new f(s.segment[1][1],s.index,!1,!1))):(r.push(new f(s.segment[1][1],s.index,!0,!1)),r.push(new f(s.segment[0][1],s.index,!1,!0)))):m=s.create?m.insert(s.segment,s.index):m.remove(s.segment)}n.push(m.root),o.push(q),p.push(r)}return new c(n,o,p)}a.exports=h;var i=require("binary-search-bounds"),j=require("functional-red-black-tree"),k=require("robust-orientation"),l=require("./lib/order-segments"),m=c.prototype;m.castUp=function(a){var b=i.le(this.coordinates,a[0]);if(0>b)return-1;var c=(this.slabs[b],e(this.slabs[b],a)),f=-1;if(c&&(f=c.value),this.coordinates[b]===a[0]){var g=null;if(c&&(g=c.key),b>0){var h=e(this.slabs[b-1],a);h&&(g?l(h.key,g)>0&&(g=h.key,f=h.value):(f=h.value,g=h.key))}var j=this.horizontal[b];if(j.length>0){var m=i.ge(j,a[1],d);if(m<j.length){var n=j[m];if(a[1]===n.y){if(n.closed)return n.index;for(;m<j.length-1&&j[m+1].y===a[1];)if(m+=1,n=j[m],n.closed)return n.index;if(n.y===a[1]&&!n.start){if(m+=1,m>=j.length)return f;n=j[m]}}if(n.start)if(g){var o=k(g[0],g[1],[a[0],n.y]);g[0][0]>g[1][0]&&(o=-o),o>0&&(f=n.index)}else f=n.index;else n.y!==a[1]&&(f=n.index)}}}return f}},{"./lib/order-segments":286,"binary-search-bounds":284,"functional-red-black-tree":287,"robust-orientation":214}],289:[function(require,a,b){function c(){return!0}function d(a){return function(b,d){var e=a[b];return e?!!e.queryPoint(d,c):!1}}function e(a){for(var b={},c=0;c<a.length;++c){var e=a[c],f=e[0][0],g=e[0][1],h=e[1][1],i=[Math.min(g,h),Math.max(g,h)];f in b?b[f].push(i):b[f]=[i]}for(var j={},k=Object.keys(b),c=0;c<k.length;++c){var l=b[k[c]];j[k[c]]=m(l)}return d(j)}function f(a,b){return function(c){var d=n.le(b,c[0]);if(0>d)return 1;var e=a[d];if(!e){if(!(d>0&&b[d]===c[0]))return 1;e=a[d-1]}for(var f=1;e;){var g=e.key,h=k(c,g[0],g[1]);if(g[0][0]<g[1][0])if(0>h)e=e.left;else{if(!(h>0))return 0;f=-1,e=e.right}else if(h>0)e=e.left;else{if(!(0>h))return 0;f=1,e=e.right}}return f}}function g(a){return 1}function h(a){return function(b){return a(b[0],b[1])?0:1}}function i(a,b){return function(c){return a(c[0],c[1])?0:b(c)}}function j(a){for(var b=a.length,c=[],d=[],j=0;b>j;++j)for(var k=a[j],m=k.length,n=m-1,o=0;m>o;n=o++){var p=k[n],q=k[o];p[0]===q[0]?d.push([p,q]):c.push([p,q])}if(0===c.length)return 0===d.length?g:h(e(d));var r=l(c),s=f(r.slabs,r.coordinates);return 0===d.length?s:i(e(d),s)}a.exports=j;var k=require("robust-orientation")[3],l=require("slab-decomposition"),m=require("interval-tree-1d"),n=require("binary-search-bounds")},{"binary-search-bounds":284,"interval-tree-1d":285,"robust-orientation":214,"slab-decomposition":288}],290:[function(require,a,b){"use strict";function c(a,b){for(var c=new Array(a),d=0;a>d;++d)c[d]=b;return c}function d(a){for(var b=new Array(a),c=0;a>c;++c)b[c]=[];return b}function e(a,b){function e(a){for(var c=a.length,d=[0],e=0;c>e;++e){var f=b[a[e]],g=b[a[(e+1)%c]],h=i(-f[0],f[1]),k=i(-f[0],g[1]),l=i(g[0],f[1]),m=i(g[0],g[1]);d=j(d,j(j(h,k),j(l,m)))}return d[d.length-1]>0}function m(a){for(var b=a.length,c=0;b>c;++c)if(!I[a[c]])return!1;return!0}var n=l(a,b);a=n[0],b=n[1];for(var o=b.length,p=(a.length,f(a,b.length)),q=0;o>q;++q)if(p[q].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var r=g(a,b);r=r.filter(e);for(var s=r.length,t=new Array(s),u=new Array(s),q=0;s>q;++q){t[q]=q;var v=new Array(s),w=r[q].map(function(a){return b[a]}),x=h([w]),y=0;a:for(var z=0;s>z;++z)if(v[z]=0,q!==z){for(var A=r[z],B=A.length,C=0;B>C;++C){var D=x(b[A[C]]);if(0!==D){0>D&&(v[z]=1,y+=1);continue a}}v[z]=1,y+=1}u[q]=[y,q,v]}u.sort(function(a,b){return b[0]-a[0]});for(var q=0;s>q;++q)for(var v=u[q],E=v[1],F=v[2],z=0;s>z;++z)F[z]&&(t[z]=E);for(var G=d(s),q=0;s>q;++q)G[q].push(t[q]),G[t[q]].push(q);for(var H={},I=c(o,!1),q=0;s>q;++q)for(var A=r[q],B=A.length,z=0;B>z;++z){var J=A[z],K=A[(z+1)%B],L=Math.min(J,K)+":"+Math.max(J,K);if(L in H){var M=H[L];G[M].push(q),G[q].push(M),I[J]=I[K]=!0}else H[L]=q}for(var N=[],O=c(s,-1),q=0;s>q;++q)t[q]!==q||m(r[q])?O[q]=-1:(N.push(q),O[q]=0);for(var n=[];N.length>0;){var P=N.pop(),Q=G[P];k(Q,function(a,b){return a-b});var R,S=Q.length,T=O[P];if(0===T){var A=r[P];R=[A]}for(var q=0;S>q;++q){var U=Q[q];if(!(O[U]>=0)&&(O[U]=1^T,N.push(U),0===T)){var A=r[U];m(A)||(A.reverse(),R.push(A))}}0===T&&n.push(R)}return n}a.exports=e;var f=require("edges-to-adjacency-list"),g=require("planar-dual"),h=require("point-in-big-polygon"),i=require("two-product"),j=require("robust-sum"),k=require("uniq"),l=require("./lib/trim-leaves")},{"./lib/trim-leaves":278,"edges-to-adjacency-list":279,"planar-dual":280,"point-in-big-polygon":289,"robust-sum":217,"two-product":231,uniq:234}],291:[function(require,a,b){arguments[4][49][0].apply(b,arguments)},{dup:49}],292:[function(require,a,b){"use strict";"use restrict";function c(a){this.roots=new Array(a),this.ranks=new Array(a);for(var b=0;a>b;++b)this.roots[b]=b,this.ranks[b]=0}a.exports=c,c.prototype.length=function(){return this.roots.length},c.prototype.makeSet=function(){var a=this.roots.length;return this.roots.push(a),this.ranks.push(0),a},c.prototype.find=function(a){for(var b=this.roots;b[a]!==a;){var c=b[a];b[a]=b[c],a=c}return a},c.prototype.link=function(a,b){var c=this.find(a),d=this.find(b);if(c!==d){var e=this.ranks,f=this.roots,g=e[c],h=e[d];h>g?f[c]=d:g>h?f[d]=c:(f[d]=c,++e[c])}}},{}],293:[function(require,a,b){arguments[4][194][0].apply(b,arguments)},{"bit-twiddle":291,dup:194,"union-find":292}],294:[function(require,a,b){"use strict";function c(a,b,c){var d=Math.abs(e(a,b,c)),f=Math.sqrt(Math.pow(b[0]-c[0],2)+Math.pow(b[1]-c[1],2));return d/f}function d(a,b,d){function e(a){if(u[a])return 1/0;var d=r[a],e=s[a];return 0>d||0>e?1/0:c(b[a],b[d],b[e])}function g(a,b){var c=z[a],d=z[b];z[a]=d,z[b]=c,A[c]=b,A[d]=a}function h(a){return t[z[a]]}function i(a){return 1&a?a-1>>1:(a>>1)-1}function j(a){for(var b=h(a);;){var c=b,d=2*a+1,e=2*(a+1),f=a;if(C>d){var i=h(d);c>i&&(f=d,c=i)}if(C>e){var j=h(e);c>j&&(f=e)}if(f===a)return a;g(a,f),a=f}}function k(a){for(var b=h(a);a>0;){var c=i(a);if(c>=0){var d=h(c);if(d>b){g(a,c),a=c;continue}}return a}}function l(){if(C>0){var a=z[0];return g(0,C-1),C-=1,j(0),a}return-1}function m(a,b){var c=z[a];return t[c]===b?a:(t[c]=-(1/0),k(a),l(),t[c]=b,C+=1,k(C-1))}function n(a){if(!u[a]){u[a]=!0;var b=r[a],c=s[a];r[c]>=0&&(r[c]=b),s[b]>=0&&(s[b]=c),A[b]>=0&&m(A[b],e(b)),A[c]>=0&&m(A[c],e(c))}}function o(a,b){if(a[b]<0)return b;var c=b,d=b;do{var e=a[d];if(!u[d]||0>e||e===d)break;if(d=e,e=a[d],!u[d]||0>e||e===d)break;d=e,c=a[c]}while(c!==d);for(var f=b;f!==d;f=a[f])a[f]=d;return d}for(var p=b.length,q=a.length,r=new Array(p),s=new Array(p),t=new Array(p),u=new Array(p),v=0;p>v;++v)r[v]=s[v]=-1,t[v]=1/0,u[v]=!1;for(var v=0;q>v;++v){var w=a[v];if(2!==w.length)throw new Error("Input must be a graph");var x=w[1],y=w[0];-1!==s[y]?s[y]=-2:s[y]=x,-1!==r[x]?r[x]=-2:r[x]=y}for(var z=[],A=new Array(p),v=0;p>v;++v){var B=t[v]=e(v);1/0>B?(A[v]=z.length,z.push(v)):A[v]=-1}for(var C=z.length,v=C>>1;v>=0;--v)j(v);for(;;){var D=l();if(0>D||t[D]>d)break;n(D)}for(var E=[],v=0;p>v;++v)u[v]||(A[v]=E.length,E.push(b[v].slice()));var F=(E.length,[]);return a.forEach(function(a){var b=o(r,a[0]),c=o(s,a[1]);if(b>=0&&c>=0&&b!==c){var d=A[b],e=A[c];d!==e&&F.push([d,e])}}),f.unique(f.normalize(F)),{positions:E,edges:F}}a.exports=d;var e=require("robust-orientation"),f=require("simplicial-complex")},{"robust-orientation":214,"simplicial-complex":293}],295:[function(require,a,b){"use strict";a.exports=["",{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0},{path:"M2,2V-2H-2V2Z",backoff:0}]},{}],296:[function(require,a,b){"use strict";var c=require("./arrow_paths"),d=require("../../plots/cartesian"),e=require("../../plots/font_attributes"),f=require("../../lib/extend").extendFlat;a.exports={_isLinkedToArray:!0,text:{valType:"string"},textangle:{valType:"angle",dflt:0},font:f({},e,{}),opacity:{valType:"number",min:0,max:1,dflt:1},align:{valType:"enumerated",values:["left","center","right"],dflt:"center"},bgcolor:{valType:"color",
dflt:"rgba(0,0,0,0)"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)"},borderpad:{valType:"number",min:0,dflt:1},borderwidth:{valType:"number",min:0,dflt:1},showarrow:{valType:"boolean",dflt:!0},arrowcolor:{valType:"color"},arrowhead:{valType:"integer",min:0,max:c.length,dflt:1},arrowsize:{valType:"number",min:.3,dflt:1},arrowwidth:{valType:"number",min:.1},ax:{valType:"number",dflt:-10},ay:{valType:"number",dflt:-30},xref:{valType:"enumerated",values:["paper",d.idRegex.x.toString()]},x:{valType:"number"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yref:{valType:"enumerated",values:["paper",d.idRegex.y.toString()]},y:{valType:"number"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto"},_deprecated:{ref:{valType:"string"}}}},{"../../lib/extend":344,"../../plots/cartesian":371,"../../plots/font_attributes":374,"./arrow_paths":295}],297:[function(require,a,b){"use strict";function c(a,b){function c(b,c){return f.Lib.coerce(a,d,i.layoutAttributes,b,c)}var d={};c("opacity"),c("align"),c("bgcolor");var e=c("bordercolor"),g=f.Color.opacity(e);c("borderpad");var h=c("borderwidth"),j=c("showarrow");j&&(c("arrowcolor",g?d.bordercolor:f.Color.defaultLine),c("arrowhead"),c("arrowsize"),c("arrowwidth",2*(g&&h||1)),c("ax"),c("ay"),f.Lib.noneOrAll(a,d,["ax","ay"])),c("text",j?"&nbsp;":"new text"),c("textangle"),f.Lib.coerceFont(c,"font",b.font);for(var k=["x","y"],l=0;2>l;l++){var m=k[l],n={_fullLayout:b},o=f.Axes.coerceRef(a,d,n,m),p=.5;if("paper"!==o){var q=f.Axes.getFromId(n,o);if(p=q.range[0]+p*(q.range[1]-q.range[0]),-1!==["date","category"].indexOf(q.type)&&"string"==typeof a[m]){var r;"date"===q.type?(r=f.Lib.dateTime2ms(a[m]),r!==!1&&(a[m]=r)):(q._categories||[]).length&&(r=q._categories.indexOf(a[m]),-1!==r&&(a[m]=r))}}c(m,p),j||c(m+"anchor")}return f.Lib.noneOrAll(a,d,["x","y"]),d}function d(a){var b=a._fullLayout;b.annotations.forEach(function(b){var c=f.Axes.getFromId(a,b.xref),d=f.Axes.getFromId(a,b.yref);if(c||d){var e=(b._xsize||0)/2,g=b._xshift||0,h=(b._ysize||0)/2,i=b._yshift||0,j=e-g,k=e+g,l=h-i,m=h+i;if(b.showarrow){var n=3*b.arrowsize*b.arrowwidth;j=Math.max(j,n),k=Math.max(k,n),l=Math.max(l,n),m=Math.max(m,n)}c&&c.autorange&&f.Axes.expand(c,[c.l2c(b.x)],{ppadplus:k,ppadminus:j}),d&&d.autorange&&f.Axes.expand(d,[d.l2c(b.y)],{ppadplus:m,ppadminus:l})}})}function e(a,b,c,d,e,f,g,h){var i=c-a,j=e-a,k=g-e,l=d-b,m=f-b,n=h-f,o=i*n-k*l;if(0===o)return null;var p=(j*n-k*m)/o,q=(j*l-i*m)/o;return 0>q||q>1||0>p||p>1?null:{x:a+i*p,y:b+l*p}}var f=require("../../plotly"),g=require("d3"),h=require("fast-isnumeric"),i=a.exports={};i.ARROWPATHS=require("./arrow_paths"),i.layoutAttributes=require("./attributes"),i.supplyLayoutDefaults=function(a,b){for(var d=a.annotations||[],e=b.annotations=[],f=0;f<d.length;f++)e.push(c(d[f]||{},b))},i.drawAll=function(a){var b=a._fullLayout;b._infolayer.selectAll(".annotation").remove();for(var c=0;c<b.annotations.length;c++)i.draw(a,c);return f.Plots.previousPromises(a)},i.add=function(a){var b=a._fullLayout.annotations.length;f.relayout(a,"annotations["+b+"]","add")},i.draw=function(a,b,d,j){function k(a){return a.call(f.Drawing.font,U).attr({"text-anchor":{left:"start",right:"end"}[I.align]||"middle"}),f.util.convertToTspans(a,l),a}function l(){function c(a,b){return"auto"===b&&(b=1/3>a?"left":a>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[b]}V.selectAll("tspan.line").attr({y:0,x:0});var d=P.select(".annotation-math-group"),h=!d.empty(),j=f.Drawing.bBox((h?d:V).node()),k=j.width,l=j.height,m=Math.round(k+2*S),n=Math.round(l+2*S);I._w=k,I._h=l;var p=!1;if(["x","y"].forEach(function(b){var d,e=f.Axes.getFromId(a,I[b+"ref"]||b),g=(M+("x"===b?0:90))*Math.PI/180,h=m*Math.abs(Math.cos(g))+n*Math.abs(Math.sin(g)),i=I[b+"anchor"];if(e){if(!e.autorange&&(I[b]-e.range[0])*(I[b]-e.range[1])>0)return void(p=!0);L[b]=e._offset+e.l2p(I[b]),d=.5}else d=I[b],"y"===b&&(d=1-d),L[b]="x"===b?w.l+w.w*d:w.t+w.h*d;var j=0;j=I.showarrow?I["a"+b]:h*c(d,i),L[b]+=j,I["_"+b+"type"]=e&&e.type,I["_"+b+"size"]=h,I["_"+b+"shift"]=j}),p)return void P.remove();var q,r;I.showarrow&&(q=f.Lib.constrain(L.x-I.ax,1,o.width-1),r=f.Lib.constrain(L.y-I.ay,1,o.height-1)),L.x=f.Lib.constrain(L.x,1,o.width-1),L.y=f.Lib.constrain(L.y,1,o.height-1);var s=S-j.top,t=S-j.left;h?d.select("svg").attr({x:S-1,y:S}):(V.attr({x:t,y:s}),V.selectAll("tspan.line").attr({y:s,x:t})),T.call(f.Drawing.setRect,Q/2,Q/2,m-Q,n-Q),P.call(f.Drawing.setRect,Math.round(L.x-m/2),Math.round(L.y-n/2),m,n);var u="annotations["+b+"]",v=function(c,d){g.select(a).selectAll('.annotation-arrow-g[data-index="'+b+'"]').remove();var h=L.x+c,j=L.y+d,k=f.Lib.rotationXYMatrix(M,h,j),l=f.Lib.apply2DTransform(k),m=f.Lib.apply2DTransform2(k),n=T.attr("width")/2,o=T.attr("height")/2,p=[[h-n,j-o,h-n,j+o],[h-n,j+o,h+n,j+o],[h+n,j+o,h+n,j-o],[h+n,j-o,h-n,j-o]].map(m);if(!p.reduce(function(a,b){return a^!!e(q,r,q+1e6,r+1e6,b[0],b[1],b[2],b[3])},!1)){p.forEach(function(a){var b=e(h,j,q,r,a[0],a[1],a[2],a[3]);b&&(h=b.x,j=b.y)});var s=I.arrowwidth,t=I.arrowcolor,v=N.append("g").style({opacity:f.Color.opacity(t)}).classed("annotation-arrow-g",!0).attr("data-index",String(b)),x=v.append("path").attr("d","M"+h+","+j+"L"+q+","+r).style("stroke-width",s+"px").call(f.Color.stroke,f.Color.rgb(t));i.arrowhead(x,I.arrowhead,"end",I.arrowsize);var y=v.append("path").classed("annotation",!0).classed("anndrag",!0).attr({"data-index":String(b),d:"M3,3H-3V-3H3ZM0,0L"+(h-q)+","+(j-r),transform:"translate("+q+","+r+")"}).style("stroke-width",s+6+"px").call(f.Color.stroke,"rgba(0,0,0,0)").call(f.Color.fill,"rgba(0,0,0,0)");if(a._context.editable){var z,A,B;f.Fx.dragElement({element:y.node(),prepFn:function(){A=Number(P.attr("x")),B=Number(P.attr("y")),z={},J&&J.autorange&&(z[J._name+".autorange"]=!0),K&&K.autorange&&(z[K._name+".autorange"]=!0)},moveFn:function(a,b){v.attr("transform","translate("+a+","+b+")");var c=l(A,B),d=c[0]+a,e=c[1]+b;P.call(f.Drawing.setPosition,d,e),z[u+".x"]=J?I.x+a/J._m:(q+a-w.l)/w.w,z[u+".y"]=K?I.y+b/K._m:1-(r+b-w.t)/w.h,O.attr({transform:"rotate("+M+","+d+","+e+")"})},doneFn:function(b){if(b){f.relayout(a,z);var c=document.querySelector(".js-notes-box-panel");c&&c.redraw(c.selectedObj)}}})}}};I.showarrow&&v(0,0);var x=f.Lib.rotationXYMatrix(M,L.x,L.y),y=f.Lib.apply2DTransform(x);if(a._context.editable){var z,A,B;f.Fx.dragElement({element:P.node(),prepFn:function(){z=Number(P.attr("x")),A=Number(P.attr("y")),B={}},moveFn:function(a,b){P.call(f.Drawing.setPosition,z+a,A+b);var c="pointer";if(I.showarrow)B[u+".ax"]=I.ax+a,B[u+".ay"]=I.ay+b,v(a,b);else{if(J)B[u+".x"]=I.x+a/J._m;else{var d=I._xsize/w.w,e=I.x+I._xshift/w.w-d/2;B[u+".x"]=f.Fx.dragAlign(e+a/w.w,d,0,1,I.xanchor)}if(K)B[u+".y"]=I.y+b/K._m;else{var g=I._ysize/w.h,h=I.y-I._yshift/w.h-g/2;B[u+".y"]=f.Fx.dragAlign(h-b/w.h,g,0,1,I.yanchor)}J&&K||(c=f.Fx.dragCursors(J?.5:B[u+".x"],K?.5:B[u+".y"],I.xanchor,I.yanchor))}var i=y(z,A),j=i[0]+a,k=i[1]+b;P.call(f.Drawing.setPosition,j,k),O.attr({transform:"rotate("+M+","+j+","+k+")"}),f.Fx.setCursor(P,c)},doneFn:function(b){if(f.Fx.setCursor(P),b){f.relayout(a,B);var c=document.querySelector(".js-notes-box-panel");c&&c.redraw(c.selectedObj)}}})}}var m,n=a.layout,o=a._fullLayout;if(!h(b)||-1===b){if(!b&&Array.isArray(j))return n.annotations=j,i.supplyLayoutDefaults(n,o),void i.drawAll(a);if("remove"===j)return delete n.annotations,o.annotations=[],void i.drawAll(a);if(d&&"add"!==j){for(m=0;m<o.annotations.length;m++)i.draw(a,m,d,j);return}b=o.annotations.length,o.annotations.push({})}if(!d&&j){if("remove"===j){for(o._infolayer.selectAll('.annotation[data-index="'+b+'"]').remove(),o.annotations.splice(b,1),n.annotations.splice(b,1),m=b;m<o.annotations.length;m++)o._infolayer.selectAll('.annotation[data-index="'+(m+1)+'"]').attr("data-index",String(m)),i.draw(a,m);return}if("add"===j||f.Lib.isPlainObject(j)){o.annotations.splice(b,0,{});var p=f.Lib.isPlainObject(j)?f.Lib.extendFlat({},j):{text:"New text"};for(n.annotations?n.annotations.splice(b,0,p):n.annotations=[p],m=o.annotations.length-1;m>b;m--)o._infolayer.selectAll('.annotation[data-index="'+(m-1)+'"]').attr("data-index",String(m)),i.draw(a,m)}}o._infolayer.selectAll('.annotation[data-index="'+b+'"]').remove();var q=n.annotations[b],r=o.annotations[b];if(q){var s={xref:q.xref,yref:q.yref},t={};"string"==typeof d&&d?t[d]=j:f.Lib.isPlainObject(d)&&(t=d);var u=Object.keys(t);for(m=0;m<u.length;m++){var v=u[m];f.Lib.nestedProperty(q,v).set(t[v])}var w=o._size,x=["x","y"];for(m=0;2>m;m++){var y=x[m];if(void 0===t[y]&&void 0!==q[y]){var z=f.Axes.getFromId(a,f.Axes.coerceRef(s,{},a,y)),A=f.Axes.getFromId(a,f.Axes.coerceRef(q,{},a,y)),B=q[y],C=r["_"+y+"type"];if(void 0!==t[y+"ref"]){var D="auto"===q[y+"anchor"],E="x"===y?w.w:w.h,F=(r["_"+y+"size"]||0)/(2*E);if(z&&A)B=(B-z.range[0])/(z.range[1]-z.range[0]),B=A.range[0]+B*(A.range[1]-A.range[0]);else if(z){if(B=(B-z.range[0])/(z.range[1]-z.range[0]),B=z.domain[0]+B*(z.domain[1]-z.domain[0]),D){var G=B+F,H=B-F;2/3>B+H?B=H:B+G>4/3&&(B=G)}}else A&&(D&&(1/3>B?B+=F:B>2/3&&(B-=F)),B=(B-A.domain[0])/(A.domain[1]-A.domain[0]),B=A.range[0]+B*(A.range[1]-A.range[0]))}A&&A===z&&C&&("log"===C&&"log"!==A.type?B=Math.pow(10,B):"log"!==C&&"log"===A.type&&(B=B>0?Math.log(B)/Math.LN10:void 0)),q[y]=B}}var I=c(q,o);o.annotations[b]=I;var J=f.Axes.getFromId(a,I.xref),K=f.Axes.getFromId(a,I.yref),L={x:0,y:0},M=+I.textangle||0,N=o._infolayer.append("g").classed("annotation",!0).attr("data-index",String(b)).style("opacity",I.opacity).on("click",function(){a._dragging=!1,a.emit("plotly_clickannotation",{index:b,annotation:q,fullAnnotation:I})}),O=N.append("g").classed("annotation-text-g",!0).attr("data-index",String(b)),P=O.append("svg").call(f.Drawing.setPosition,0,0),Q=I.borderwidth,R=I.borderpad,S=Q+R,T=P.append("rect").attr("class","bg").style("stroke-width",Q+"px").call(f.Color.stroke,I.bordercolor).call(f.Color.fill,I.bgcolor),U=I.font,V=P.append("text").classed("annotation",!0).attr("data-unformatted",I.text).text(I.text);a._context.editable?V.call(f.util.makeEditable,P).call(k).on("edit",function(c){I.text=c,this.attr({"data-unformatted":I.text}),this.call(k);var d={};d["annotations["+b+"].text"]=I.text,J&&J.autorange&&(d[J._name+".autorange"]=!0),K&&K.autorange&&(d[K._name+".autorange"]=!0),f.relayout(a,d)}):V.call(k),O.attr({transform:"rotate("+M+","+L.x+","+L.y+")"}).call(f.Drawing.setPosition,L.x,L.y)}},i.arrowhead=function(a,b,c,d){h(d)||(d=1);var e=a.node(),j=i.ARROWPATHS[b||0];if(j){"string"==typeof c&&c||(c="end");var k,l,m,n,o=(f.Drawing.getPx(a,"stroke-width")||1)*d,p=a.style("stroke")||f.Color.defaultLine,q=a.style("stroke-opacity")||1,r=c.indexOf("start")>=0,s=c.indexOf("end")>=0,t=j.backoff*o;if("line"===e.nodeName){if(k={x:+a.attr("x1"),y:+a.attr("y1")},l={x:+a.attr("x2"),y:+a.attr("y2")},m=Math.atan2(k.y-l.y,k.x-l.x),n=m+Math.PI,t){var u=t*Math.cos(m),v=t*Math.sin(m);r&&(k.x-=u,k.y-=v,a.attr({x1:k.x,y1:k.y})),s&&(l.x+=u,l.y+=v,a.attr({x2:l.x,y2:l.y}))}}else if("path"===e.nodeName){var w=e.getTotalLength(),x="";if(r){var y=e.getPointAtLength(0),z=e.getPointAtLength(.1);m=Math.atan2(y.y-z.y,y.x-z.x),k=e.getPointAtLength(Math.min(t,w)),t&&(x="0px,"+t+"px,")}if(s){var A=e.getPointAtLength(w),B=e.getPointAtLength(w-.1);if(n=Math.atan2(A.y-B.y,A.x-B.x),l=e.getPointAtLength(Math.max(0,w-t)),t){var C=x?2*t:t;x+=w-C+"px,"+w+"px"}}else x&&(x+=w+"px");x&&a.style("stroke-dasharray",x)}var D=function(c,d){b>5&&(d=0),g.select(e.parentElement).append("path").attr({"class":a.attr("class"),d:j.path,transform:"translate("+c.x+","+c.y+")rotate("+180*d/Math.PI+")scale("+o+")"}).style({fill:p,opacity:q,"stroke-width":0})};r&&D(k,m),s&&D(l,n)}},i.calcAutorange=function(a){var b=a._fullLayout,c=b.annotations;if(c.length&&a._fullData.length){var e={};c.forEach(function(a){e[a.xref]=!0,e[a.yref]=!0});var g=f.Axes.list(a).filter(function(a){return a.autorange&&e[a._id]});if(g.length)return f.Lib.syncOrAsync([i.drawAll,d],a)}}},{"../../plotly":365,"./arrow_paths":295,"./attributes":296,d3:70,"fast-isnumeric":74}],298:[function(require,a,b){"use strict";b.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],b.defaultLine="#444",b.lightLine="#eee",b.background="#fff"},{}],299:[function(require,a,b){"use strict";function c(a){if(e(a)||"string"!=typeof a)return a;var b=a.trim();if("rgb"!==b.substr(0,3))return a;var c=b.match(/^rgba?\s*\(([^()]*)\)$/);if(!c)return a;var d=c[1].trim().split(/\s*[\s,]\s*/),f="a"===b.charAt(3)&&4===d.length;if(!f&&3!==d.length)return a;for(var g=0;g<d.length;g++){if(!d[g].length)return a;if(d[g]=Number(d[g]),!(d[g]>=0))return a;if(3===g)d[g]>1&&(d[g]=1);else if(d[g]>=1)return a}var h=Math.round(255*d[0])+", "+Math.round(255*d[1])+", "+Math.round(255*d[2]);return f?"rgba("+h+", "+d[3]+")":"rgb("+h+")"}var d=require("tinycolor2"),e=require("fast-isnumeric"),f=a.exports={},g=require("./attributes");f.defaults=g.defaults,f.defaultLine=g.defaultLine,f.lightLine=g.lightLine,f.background=g.background,f.tinyRGB=function(a){var b=a.toRgb();return"rgb("+Math.round(b.r)+", "+Math.round(b.g)+", "+Math.round(b.b)+")"},f.rgb=function(a){return f.tinyRGB(d(a))},f.opacity=function(a){return a?d(a).getAlpha():0},f.addOpacity=function(a,b){var c=d(a).toRgb();return"rgba("+Math.round(c.r)+", "+Math.round(c.g)+", "+Math.round(c.b)+", "+b+")"},f.combine=function(a,b){var c=d(a).toRgb();if(1===c.a)return d(a).toRgbString();var e=d(b||f.background).toRgb(),g=1===e.a?e:{r:255*(1-e.a)+e.r*e.a,g:255*(1-e.a)+e.g*e.a,b:255*(1-e.a)+e.b*e.a},h={r:g.r*(1-c.a)+c.r*c.a,g:g.g*(1-c.a)+c.g*c.a,b:g.b*(1-c.a)+c.b*c.a};return d(h).toRgbString()},f.stroke=function(a,b){var c=d(b);a.style({stroke:f.tinyRGB(c),"stroke-opacity":c.getAlpha()})},f.fill=function(a,b){var c=d(b);a.style({fill:f.tinyRGB(c),"fill-opacity":c.getAlpha()})},f.clean=function(a){if(a&&"object"==typeof a){var b,d,e,g,h=Object.keys(a);for(b=0;b<h.length;b++)if(e=h[b],g=a[e],"color"===e.substr(e.length-5))if(Array.isArray(g))for(d=0;d<g.length;d++)g[d]=c(g[d]);else a[e]=c(g);else if("colorscale"===e.substr(e.length-10)&&Array.isArray(g))for(d=0;d<g.length;d++)Array.isArray(g[d])&&(g[d][1]=c(g[d][1]));else if(Array.isArray(g)){var i=g[0];if(!Array.isArray(i)&&i&&"object"==typeof i)for(d=0;d<g.length;d++)f.clean(g[d])}else g&&"object"==typeof g&&f.clean(g)}}},{"./attributes":298,"fast-isnumeric":74,tinycolor2:229}],300:[function(require,a,b){"use strict";var c=require("../../plots/cartesian/layout_attributes"),d=require("../../plots/font_attributes"),e=require("../../lib/extend").extendFlat;a.exports={thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",dflt:1.02,min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",dflt:.5,min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle"},ypad:{valType:"number",min:0,dflt:10},outlinecolor:c.linecolor,outlinewidth:c.linewidth,bordercolor:c.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:c.tickmode,nticks:c.nticks,tick0:c.tick0,dtick:c.dtick,tickvals:c.tickvals,ticktext:c.ticktext,ticks:e({},c.ticks,{dflt:""}),ticklen:c.ticklen,tickwidth:c.tickwidth,tickcolor:c.tickcolor,showticklabels:c.showticklabels,tickfont:c.tickfont,tickangle:c.tickangle,tickformat:c.tickformat,tickprefix:c.tickprefix,showtickprefix:c.showtickprefix,ticksuffix:c.ticksuffix,showticksuffix:c.showticksuffix,exponentformat:c.exponentformat,showexponent:c.showexponent,title:{valType:"string",dflt:"Click to enter colorscale title"},titlefont:e({},d,{}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},{"../../lib/extend":344,"../../plots/cartesian/layout_attributes":372,"../../plots/font_attributes":374}],301:[function(require,a,b){"use strict";var c=require("../../plots/cartesian/axes"),d=require("../../lib"),e=require("./attributes");a.exports=function(a,b,f){function g(a,b){return d.coerce(i,h,e,a,b)}var h=b.colorbar={},i=a.colorbar||{},j=g("thicknessmode");g("thickness","fraction"===j?30/(f.width-f.margin.l-f.margin.r):30);var k=g("lenmode");g("len","fraction"===k?1:f.height-f.margin.t-f.margin.b),g("x"),g("xanchor"),g("xpad"),g("y"),g("yanchor"),g("ypad"),d.noneOrAll(i,h,["x","y"]),g("outlinecolor"),g("outlinewidth"),g("bordercolor"),g("borderwidth"),g("bgcolor"),c.handleTickValueDefaults(i,h,g,"linear"),c.handleTickDefaults(i,h,g,"linear",{outerTicks:!1,font:f.font,noHover:!0}),g("title"),d.coerceFont(g,"titlefont",f.font),g("titleside")}},{"../../lib":348,"../../plots/cartesian/axes":368,"./attributes":300}],302:[function(require,a,b){"use strict";var c=require("d3"),d=require("../../plotly"),e=require("./attributes");a.exports=function(a,b){function f(){function e(a,b){return d.Lib.coerce(J,K,d.Axes.layoutAttributes,a,b)}function h(){if(-1!==["top","bottom"].indexOf(g.titleside)){var b=Q.select(".cbtitle"),e=b.select("text"),f=[-g.outlinewidth/2,g.outlinewidth/2],h=b.select(".h"+K._id+"title-math-group").node(),i=15.6;if(e.node()&&(i=1.3*parseInt(e.style("font-size"),10)),h?(S=d.Drawing.bBox(h).height,S>i&&(f[1]-=(S-i)/2)):e.node()&&!e.classed("js-placeholder")&&(S=d.Drawing.bBox(b.node()).height),S){if(S+=5,"top"===g.titleside)K.domain[1]-=S/j._size.h,f[1]*=-1;else{K.domain[0]+=S/j._size.h;var k=Math.max(1,e.selectAll("tspan.line").size());f[1]+=(1-k)*i}b.attr("transform","translate("+f+")"),K.setScale()}}Q.selectAll(".cbfills,.cblines,.cbaxis").attr("transform","translate(0,"+Math.round(j._size.h*(1-K.domain[1]))+")");var q=Q.select(".cbfills").selectAll("rect.cbfill").data(n);q.enter().append("rect").classed("cbfill",!0).style("stroke","none"),q.exit().remove(),q.each(function(a,b){var d=[0===b?l[0]:(n[b]+n[b-1])/2,b===n.length-1?l[1]:(n[b]+n[b+1])/2].map(K.c2p).map(Math.round);b!==n.length-1&&(d[1]+=d[1]>d[0]?1:-1),c.select(this).attr({x:E,width:Math.max(x,2),y:c.min(d),height:Math.max(c.max(d)-c.min(d),2)}).style("fill",p(a))});var r=Q.select(".cblines").selectAll("path.cbline").data(g.line.color&&g.line.width?m:[]);return r.enter().append("path").classed("cbline",!0),r.exit().remove(),r.each(function(a){c.select(this).attr("d","M"+E+","+(Math.round(K.c2p(a))+g.line.width/2%1)+"h"+x).call(d.Drawing.lineGroupStyle,g.line.width,o(a),g.line.dash)}),K._axislayer.selectAll("g."+K._id+"tick,path").remove(),K._pos=E+x+(g.outlinewidth||0)/2-("outside"===g.ticks?1:0),K.side="right",d.Axes.doTicks(a,K)}function i(){var c=x+g.outlinewidth/2+d.Drawing.bBox(K._axislayer.node()).width;if(u=R.select("text"),u.node()&&!u.classed("js-placeholder")){var e,f=R.select(".h"+K._id+"title-math-group").node();e=f&&-1!==["top","bottom"].indexOf(g.titleside)?d.Drawing.bBox(f).width:d.Drawing.bBox(R.node()).right-E-j._size.l,c=Math.max(c,e)}var h=2*g.xpad+c+g.borderwidth+g.outlinewidth/2,i=H-I;Q.select(".cbbg").attr({x:E-g.xpad-(g.borderwidth+g.outlinewidth)/2,y:I-C,width:Math.max(h,2),height:Math.max(i+2*C,2)}).call(d.Color.fill,g.bgcolor).call(d.Color.stroke,g.bordercolor).style({"stroke-width":g.borderwidth}),Q.selectAll(".cboutline").attr({x:E,y:I+g.ypad+("top"===g.titleside?S:0),width:Math.max(x,2),height:Math.max(i-2*g.ypad-S,2)}).call(d.Color.stroke,g.outlinecolor).style({fill:"None","stroke-width":g.outlinewidth});var k=({center:.5,right:1}[g.xanchor]||0)*h;Q.attr("transform","translate("+(j._size.l-k)+","+j._size.t+")"),d.Plots.autoMargin(a,b,{x:g.x,y:g.y,l:h*({right:1,center:.5}[g.xanchor]||0),r:h*({left:1,center:.5}[g.xanchor]||0),t:i*({bottom:1,middle:.5}[g.yanchor]||0),b:i*({top:1,middle:.5}[g.yanchor]||0)})}var j=a._fullLayout;if("function"!=typeof g.fillcolor&&"function"!=typeof g.line.color)return void j._infolayer.selectAll("g."+b).remove();var k,l=c.extent(("function"==typeof g.fillcolor?g.fillcolor:g.line.color).domain()),m=[],n=[],o="function"==typeof g.line.color?g.line.color:function(){return g.line.color},p="function"==typeof g.fillcolor?g.fillcolor:function(){return g.fillcolor},q=g.levels.end+g.levels.size/100,r=g.levels.size,s=1.001*l[0]-.001*l[1],t=1.001*l[1]-.001*l[0];for(k=g.levels.start;0>(k-q)*r;k+=r)k>s&&t>k&&m.push(k);if("function"==typeof g.fillcolor)if(g.filllevels)for(q=g.filllevels.end+g.filllevels.size/100,r=g.filllevels.size,k=g.filllevels.start;0>(k-q)*r;k+=r)k>l[0]&&k<l[1]&&n.push(k);else n=m.map(function(a){return a-g.levels.size/2}),n.push(n[n.length-1]+g.levels.size);else g.fillcolor&&"string"==typeof g.fillcolor&&(n=[0]);g.levels.size<0&&(m.reverse(),n.reverse());var u,v=j.height-j.margin.t-j.margin.b,w=j.width-j.margin.l-j.margin.r,x=Math.round(g.thickness*("fraction"===g.thicknessmode?w:1)),y=x/j._size.w,z=Math.round(g.len*("fraction"===g.lenmode?v:1)),A=z/j._size.h,B=g.xpad/j._size.w,C=(g.borderwidth+g.outlinewidth)/2,D=g.ypad/j._size.h,E=Math.round(g.x*j._size.w+g.xpad),F=g.x-y*({middle:.5,right:1}[g.xanchor]||0),G=g.y+A*(({top:-.5,bottom:.5}[g.yanchor]||0)-.5),H=Math.round(j._size.h*(1-G)),I=H-z,J={type:"linear",range:l,tickmode:g.tickmode,nticks:g.nticks,tick0:g.tick0,dtick:g.dtick,tickvals:g.tickvals,ticktext:g.ticktext,ticks:g.ticks,ticklen:g.ticklen,tickwidth:g.tickwidth,tickcolor:g.tickcolor,showticklabels:g.showticklabels,tickfont:g.tickfont,tickangle:g.tickangle,tickformat:g.tickformat,exponentformat:g.exponentformat,showexponent:g.showexponent,showtickprefix:g.showtickprefix,tickprefix:g.tickprefix,showticksuffix:g.showticksuffix,ticksuffix:g.ticksuffix,title:g.title,titlefont:g.titlefont,anchor:"free",position:1},K={},L={letter:"y",font:j.font,noHover:!0};if(d.Axes.handleAxisDefaults(J,K,e,L),d.Axes.handleAxisPositioningDefaults(J,K,e,L),K._id="y"+b,K._td=a,K.position=g.x+B+y,f.axis=K,-1!==["top","bottom"].indexOf(g.titleside)&&(K.titleside=g.titleside,K.titlex=g.x+B,K.titley=G+("top"===g.titleside?A-D:D)),g.line.color&&"auto"===g.tickmode){K.tickmode="linear",K.tick0=g.levels.start;var M=g.levels.size,N=d.Lib.constrain((H-I)/50,4,15)+1,O=(l[1]-l[0])/((g.nticks||N)*M);if(O>1){var P=Math.pow(10,Math.floor(Math.log(O)/Math.LN10));M*=P*d.Lib.roundUp(O/P,[2,5,10]),(Math.abs(g.levels.start)/g.levels.size+1e-6)%1<2e-6&&(K.tick0=0)}K.dtick=M}K.domain=[G+D,G+A-D],K.setScale();var Q=j._infolayer.selectAll("g."+b).data([0]);Q.enter().append("g").classed(b,!0).each(function(){var a=c.select(this);a.append("rect").classed("cbbg",!0),a.append("g").classed("cbfills",!0),a.append("g").classed("cblines",!0),a.append("g").classed("cbaxis",!0).classed("crisp",!0),a.append("g").classed("cbtitleunshift",!0).append("g").classed("cbtitle",!0),a.append("rect").classed("cboutline",!0)}),Q.attr("transform","translate("+Math.round(j._size.l)+","+Math.round(j._size.t)+")");var R=Q.select(".cbtitleunshift").attr("transform","translate(-"+Math.round(j._size.l)+",-"+Math.round(j._size.t)+")");K._axislayer=Q.select(".cbaxis");var S=0;-1!==["top","bottom"].indexOf(g.titleside)&&d.Titles.draw(a,K._id+"title");var T=d.Lib.syncOrAsync([d.Plots.previousPromises,h,d.Plots.previousPromises,i],a);if(T&&T.then&&(a._promises||[]).push(T),a._context.editable){var U,V,W;d.Fx.dragElement({element:Q.node(),prepFn:function(){U=Q.attr("transform"),d.Fx.setCursor(Q)},moveFn:function(b,c){var e=a._fullLayout._size;Q.attr("transform",U+" translate("+b+","+c+")"),V=d.Fx.dragAlign(F+b/e.w,y,0,1,g.xanchor),W=d.Fx.dragAlign(G-c/e.h,A,0,1,g.yanchor);var f=d.Fx.dragCursors(V,W,g.xanchor,g.yanchor);d.Fx.setCursor(Q,f)},doneFn:function(c){if(d.Fx.setCursor(Q),c&&void 0!==V&&void 0!==W){var e,f=b.substr(2);a._fullData.some(function(a){return a.uid===f?(e=a.index,!0):void 0}),d.restyle(a,{"colorbar.x":V,"colorbar.y":W},e)}}})}return T}var g={};return Object.keys(e).forEach(function(a){g[a]=null}),g.fillcolor=null,g.line={color:null,width:null,dash:null},g.levels={start:null,end:null,size:null},g.filllevels=null,Object.keys(g).forEach(function(a){f[a]=function(b){return arguments.length?(g[a]=d.Lib.isPlainObject(g[a])?d.Lib.extendFlat(g[a],b):b,f):g[a]}}),f.options=function(a){return Object.keys(a).forEach(function(b){"function"==typeof f[b]&&f[b](a[b])}),f},f._opts=g,f}},{"../../plotly":365,"./attributes":300,d3:70}],303:[function(require,a,b){"use strict";a.exports=function(a){return"object"==typeof a.colorbar&&null!==a.colorbar}},{}],304:[function(require,a,b){"use strict";b.attributes=require("./attributes"),b.supplyDefaults=require("./defaults"),b.draw=require("./draw"),b.hasColorbar=require("./has_colorbar")},{"./attributes":300,"./defaults":301,"./draw":302,"./has_colorbar":303}],305:[function(require,a,b){"use strict";a.exports={zauto:{valType:"boolean",dflt:!0},zmin:{valType:"number",dflt:null},zmax:{valType:"number",dflt:null},colorscale:{valType:"colorscale"},autocolorscale:{valType:"boolean",dflt:!0},reversescale:{valType:"boolean",dflt:!1},showscale:{valType:"boolean",dflt:!0},_deprecated:{scl:{valType:"colorscale"},reversescl:{valType:"boolean"}}}},{}],306:[function(require,a,b){"use strict";var c=require("../../lib"),d=require("./scales"),e=require("./flip_scale");a.exports=function(a,b,f,g){var h,i;f?(h=c.nestedProperty(a,f).get(),i=c.nestedProperty(a._input,f).get()):(h=a,i=a._input);var j=h[g+"auto"],k=h[g+"min"],l=h[g+"max"],m=h.colorscale;(j!==!1||void 0===k)&&(k=c.aggNums(Math.min,null,b)),(j!==!1||void 0===l)&&(l=c.aggNums(Math.max,null,b)),k===l&&(k-=.5,l+=.5),h[g+"min"]=k,h[g+"max"]=l,i[g+"min"]=k,i[g+"max"]=l,h.autocolorscale&&(m=0>k*l?d.RdBu:k>=0?d.Reds:d.Blues,i.colorscale=m,h.reversescale&&(m=e(m)),h.colorscale=m)}},{"../../lib":348,"./flip_scale":309,"./scales":316}],307:[function(require,a,b){"use strict";var c=require("./scales");a.exports=c.RdBu},{"./scales":316}],308:[function(require,a,b){"use strict";var c=require("fast-isnumeric"),d=require("../../lib"),e=require("../colorbar/has_colorbar"),f=require("../colorbar/defaults"),g=require("./is_valid_scale"),h=require("./flip_scale");a.exports=function(a,b,i,j,k){var l=k.prefix,m=k.cLetter,n=l.slice(0,l.length-1),o=l?d.nestedProperty(a,n).get()||{}:a,p=l?d.nestedProperty(b,n).get()||{}:b,q=o[m+"min"],r=o[m+"max"],s=o.colorscale,t=c(q)&&c(r)&&r>q;j(l+m+"auto",!t),j(l+m+"min"),j(l+m+"max");var u;void 0!==s&&(u=!g(s)),j(l+"autocolorscale",u);var v=j(l+"colorscale"),w=j(l+"reversescale");if(w&&(p.colorscale=h(v)),"marker.line."!==l){var x;l&&(x=e(o));var y=j(l+"showscale",x);y&&f(o,p,i)}}},{"../../lib":348,"../colorbar/defaults":301,"../colorbar/has_colorbar":303,"./flip_scale":309,"./is_valid_scale":313,"fast-isnumeric":74}],309:[function(require,a,b){"use strict";a.exports=function(a){for(var b,c=a.length,d=new Array(c),e=c-1,f=0;e>=0;e--,f++)b=a[e],d[f]=[1-b[0],b[1]];return d}},{}],310:[function(require,a,b){"use strict";var c=require("./scales"),d=require("./default_scale"),e=require("./is_valid_scale_array");a.exports=function(a,b){function f(){try{a=c[a]||JSON.parse(a)}catch(d){a=b}}return b||(b=d),a?("string"==typeof a&&(f(),"string"==typeof a&&f()),e(a)?a:b):b}},{"./default_scale":307,"./is_valid_scale_array":314,"./scales":316}],311:[function(require,a,b){"use strict";var c=require("fast-isnumeric"),d=require("../../lib"),e=require("./is_valid_scale");a.exports=function(a,b){var f=b?d.nestedProperty(a,b).get()||{}:a,g=f.color,h=!1;if(Array.isArray(g))for(var i=0;i<g.length;i++)if(c(g[i])){h=!0;break}return"object"==typeof f&&null!==f&&(h||f.showscale===!0||c(f.cmin)&&c(f.cmax)||e(f.colorscale)||"object"==typeof f.colorbar&&null!==f.colorbar)}},{"../../lib":348,"./is_valid_scale":313,"fast-isnumeric":74}],312:[function(require,a,b){"use strict";b.scales=require("./scales"),b.defaultScale=require("./default_scale"),b.attributes=require("./attributes"),b.handleDefaults=require("./defaults"),b.calc=require("./calc"),b.hasColorscale=require("./has_colorscale"),b.isValidScale=require("./is_valid_scale"),b.getScale=require("./get_scale"),b.flipScale=require("./flip_scale"),b.makeScaleFunction=require("./make_scale_function")},{"./attributes":305,"./calc":306,"./default_scale":307,"./defaults":308,"./flip_scale":309,"./get_scale":310,"./has_colorscale":311,"./is_valid_scale":313,"./make_scale_function":315,"./scales":316}],313:[function(require,a,b){"use strict";var c=require("./scales"),d=require("./is_valid_scale_array");a.exports=function(a){return void 0!==c[a]?!0:d(a)}},{"./is_valid_scale_array":314,"./scales":316}],314:[function(require,a,b){"use strict";var c=require("tinycolor2");a.exports=function(a){var b,d=!0,e=0;if(Array.isArray(a)){if(0!==+a[0][0]||1!==+a[a.length-1][0])return!1;for(var f=0;f<a.length;f++){if(b=a[f],2!==b.length||+b[0]<e||!c(b[1]).isValid()){d=!1;break}e=+b[0]}return d}return!1}},{tinycolor2:229}],315:[function(require,a,b){"use strict";var c=require("d3"),d=require("tinycolor2"),e=require("fast-isnumeric"),f=require("../color");a.exports=function(a,b,g){for(var h,i=a.length,j=new Array(i),k=new Array(i),l=0;i>l;l++)h=a[l],j[l]=b+h[0]*(g-b),k[l]=h[1];var m=c.scale.linear().domain(j).interpolate(c.interpolateRgb).range(k);return function(a){return e(a)?m(a):d(a).isValid()?a:f.defaultLine}}},{"../color":299,d3:70,"fast-isnumeric":74,tinycolor2:229}],316:[function(require,a,b){"use strict";a.exports={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YIGnBu:[[0,"rgb(8, 29, 88)"],[.125,"rgb(37, 52, 148)"],[.25,"rgb(34, 94, 168)"],[.375,"rgb(29, 145, 192)"],[.5,"rgb(65, 182, 196)"],[.625,"rgb(127, 205, 187)"],[.75,"rgb(199, 233, 180)"],[.875,"rgb(237, 248, 217)"],[1,"rgb(255, 255, 217)"]],Greens:[[0,"rgb(0, 68, 27)"],[.125,"rgb(0, 109, 44)"],[.25,"rgb(35, 139, 69)"],[.375,"rgb(65, 171, 93)"],[.5,"rgb(116, 196, 118)"],[.625,"rgb(161, 217, 155)"],[.75,"rgb(199, 233, 192)"],[.875,"rgb(229, 245, 224)"],[1,"rgb(247, 252, 245)"]],YIOrRd:[[0,"rgb(128, 0, 38)"],[.125,"rgb(189, 0, 38)"],[.25,"rgb(227, 26, 28)"],[.375,"rgb(252, 78, 42)"],[.5,"rgb(253, 141, 60)"],[.625,"rgb(254, 178, 76)"],[.75,"rgb(254, 217, 118)"],[.875,"rgb(255, 237, 160)"],[1,"rgb(255, 255, 204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5, 10, 172)"],[.35,"rgb(106, 137, 247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220, 170, 132)"],[.7,"rgb(230, 145, 90)"],[1,"rgb(178, 10, 28)"]],Reds:[[0,"rgb(220, 220, 220)"],[.2,"rgb(245, 195, 157)"],[.4,"rgb(245, 160, 105)"],[1,"rgb(178, 10, 28)"]],Blues:[[0,"rgb(5, 10, 172)"],[.35,"rgb(40, 60, 190)"],[.5,"rgb(70, 100, 245)"],[.6,"rgb(90, 120, 245)"],[.7,"rgb(106, 137, 247)"],[1,"rgb(220, 220, 220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0, 0, 200)"],[.25,"rgb(0, 25, 255)"],[.375,"rgb(0, 152, 255)"],[.5,"rgb(44, 255, 150)"],[.625,"rgb(151, 255, 0)"],[.75,"rgb(255, 234, 0)"],[.875,"rgb(255, 111, 0)"],[1,"rgb(255, 0, 0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]]
}},{}],317:[function(require,a,b){"use strict";function c(a,b,c,d){var f=a[0]-b[0],g=a[1]-b[1],h=c[0]-b[0],i=c[1]-b[1],j=Math.pow(f*f+g*g,p/2),k=Math.pow(h*h+i*i,p/2),l=(k*k*f-j*j*h)*d,m=(k*k*g-j*j*i)*d,n=3*k*(j+k),o=3*j*(j+k);return[[e.round(b[0]+(n&&l/n),2),e.round(b[1]+(n&&m/n),2)],[e.round(b[0]-(o&&l/o),2),e.round(b[1]-(o&&m/o),2)]]}var d=require("../../plotly"),e=require("d3"),f=require("fast-isnumeric"),g=require("../../constants/xmlns_namespaces"),h=require("../../traces/scatter/subtypes"),i=require("../../traces/scatter/make_bubble_size_func"),j=a.exports={};j.font=function(a,b,c,e){b&&b.family&&(e=b.color,c=b.size,b=b.family),b&&a.style("font-family",b),c+1&&a.style("font-size",c+"px"),e&&a.call(d.Color.fill,e)},j.setPosition=function(a,b,c){a.attr("x",b).attr("y",c)},j.setSize=function(a,b,c){a.attr("width",b).attr("height",c)},j.setRect=function(a,b,c,d,e){a.call(j.setPosition,b,c).call(j.setSize,d,e)},j.translatePoints=function(a,b,c){a.each(function(a){var d=a.xp||b.c2p(a.x),g=a.yp||c.c2p(a.y),h=e.select(this);f(d)&&f(g)?"text"===this.nodeName?h.attr("x",d).attr("y",g):h.attr("transform","translate("+d+","+g+")"):h.remove()})},j.getPx=function(a,b){return Number(a.style(b).replace(/px$/,""))},j.crispRound=function(a,b,c){return b&&f(b)?a._context.staticPlot?b:1>b?1:Math.round(b):c||0},j.lineGroupStyle=function(a,b,c,f){a.style("fill","none").each(function(a){var g=(((a||[])[0]||{}).trace||{}).line||{},h=b||g.width||0,i=f||g.dash||"";e.select(this).call(d.Color.stroke,c||g.color).call(j.dashLine,i,h)})},j.dashLine=function(a,b,c){var d=Math.max(c,3);"solid"===b?b="":"dot"===b?b=d+"px,"+d+"px":"dash"===b?b=3*d+"px,"+3*d+"px":"longdash"===b?b=5*d+"px,"+5*d+"px":"dashdot"===b?b=3*d+"px,"+d+"px,"+d+"px,"+d+"px":"longdashdot"===b&&(b=5*d+"px,"+2*d+"px,"+d+"px,"+2*d+"px"),a.style({"stroke-dasharray":b,"stroke-width":c+"px"})},j.fillGroupStyle=function(a){a.style("stroke-width",0).each(function(b){var c=e.select(this);try{c.call(d.Color.fill,b[0].trace.fillcolor)}catch(f){console.log(f,a),c.remove()}})};var k=require("./symbol_defs");j.symbolNames=[],j.symbolFuncs=[],j.symbolNeedLines={},j.symbolNoDot={},j.symbolList=[],Object.keys(k).forEach(function(a){var b=k[a];j.symbolList=j.symbolList.concat([b.n,a,b.n+100,a+"-open"]),j.symbolNames[b.n]=a,j.symbolFuncs[b.n]=b.f,b.needLine&&(j.symbolNeedLines[b.n]=!0),b.noDot?j.symbolNoDot[b.n]=!0:j.symbolList=j.symbolList.concat([b.n+200,a+"-dot",b.n+300,a+"-open-dot"])});var l=j.symbolNames.length,m="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";j.symbolNumber=function(a){if("string"==typeof a){var b=0;a.indexOf("-open")>0&&(b=100,a=a.replace("-open","")),a.indexOf("-dot")>0&&(b+=200,a=a.replace("-dot","")),a=j.symbolNames.indexOf(a),a>=0&&(a+=b)}return a%100>=l||a>=400?0:Math.floor(Math.max(a,0))},j.pointStyle=function(a,b){if(a.size()){var c=b.marker,f=c.line;if(d.Plots.traceIs(b,"symbols")){var g=i(b);a.attr("d",function(a){var d;d="various"===a.ms||"various"===c.size?3:h.isBubble(b)?g(a.ms):(c.size||6)/2,a.mrc=d;var e=j.symbolNumber(a.mx||c.symbol)||0,f=e%100;return a.om=e%200>=100,j.symbolFuncs[f](d)+(e>=200?m:"")}).style("opacity",function(a){return(a.mo+1||c.opacity+1)-1})}var k=(b._input||{}).marker||{},l=j.tryColorscale(c,k,""),n=j.tryColorscale(c,k,"line.");a.each(function(a){var b,g,h;a.so?(h=f.outlierwidth,g=f.outliercolor,b=c.outliercolor):(h=(a.mlw+1||f.width+1||(a.trace?a.trace.marker.line.width:0)+1)-1,g="mlc"in a?a.mlcc=n(a.mlc):Array.isArray(f.color)?d.Color.defaultLine:f.color,b="mc"in a?a.mcc=l(a.mc):Array.isArray(c.color)?d.Color.defaultLine:c.color||"rgba(0,0,0,0)");var i=e.select(this);a.om?i.call(d.Color.stroke,b).style({"stroke-width":(h||1)+"px",fill:"none"}):(i.style("stroke-width",h+"px").call(d.Color.fill,b),h&&i.call(d.Color.stroke,g))})}},j.tryColorscale=function(a,b,c){var e=d.Lib.nestedProperty(a,c+"color").get(),g=d.Lib.nestedProperty(a,c+"colorscale").get(),h=d.Lib.nestedProperty(a,c+"cauto").get(),i=d.Lib.nestedProperty(a,c+"cmin"),j=d.Lib.nestedProperty(a,c+"cmax"),k=i.get(),l=j.get();return g&&Array.isArray(e)?(!h&&f(k)&&f(l)||(k=1/0,l=-(1/0),e.forEach(function(a){f(a)&&(k>a&&(k=+a),a>l&&(l=+a))}),k>l&&(k=0,l=1),i.set(k),j.set(l),d.Lib.nestedProperty(b,c+"cmin").set(k),d.Lib.nestedProperty(b,c+"cmax").set(l)),d.Colorscale.makeScaleFunction(g,k,l)):d.Lib.identity};var n={start:1,end:-1,middle:0,bottom:1,top:-1},o=1.3;j.textPointStyle=function(a,b){a.each(function(a){var c=e.select(this),g=a.tx||b.text;if(!g||Array.isArray(g))return void c.remove();var h=a.tp||b.textposition,i=-1!==h.indexOf("top")?"top":-1!==h.indexOf("bottom")?"bottom":"middle",k=-1!==h.indexOf("left")?"end":-1!==h.indexOf("right")?"start":"middle",l=a.ts||b.textfont.size,m=a.mrc?a.mrc/.8+1:0;l=f(l)&&l>0?l:0,c.call(j.font,a.tf||b.textfont.family,l,a.tc||b.textfont.color).attr("text-anchor",k).text(g).call(d.util.convertToTspans);var p=e.select(this.parentNode),q=c.selectAll("tspan.line"),r=((q[0].length||1)-1)*o+1,s=n[k]*m,t=.75*l+n[i]*m+(n[i]-1)*r*l/2;p.attr("transform","translate("+s+","+t+")"),r>1&&q.attr({x:c.attr("x"),y:c.attr("y")})})};var p=.5;j.smoothopen=function(a,b){if(a.length<3)return"M"+a.join("L");var d,e="M"+a[0],f=[];for(d=1;d<a.length-1;d++)f.push(c(a[d-1],a[d],a[d+1],b));for(e+="Q"+f[0][0]+" "+a[1],d=2;d<a.length-1;d++)e+="C"+f[d-2][1]+" "+f[d-1][0]+" "+a[d];return e+="Q"+f[a.length-3][1]+" "+a[a.length-1]},j.smoothclosed=function(a,b){if(a.length<3)return"M"+a.join("L")+"Z";var d,e="M"+a[0],f=a.length-1,g=[c(a[f],a[0],a[1],b)];for(d=1;f>d;d++)g.push(c(a[d-1],a[d],a[d+1],b));for(g.push(c(a[f-1],a[f],a[0],b)),d=1;f>=d;d++)e+="C"+g[d-1][1]+" "+g[d][0]+" "+a[d];return e+="C"+g[f][1]+" "+g[0][0]+" "+a[0]+"Z"};var q={hv:function(a,b){return"H"+e.round(b[0],2)+"V"+e.round(b[1],2)},vh:function(a,b){return"V"+e.round(b[1],2)+"H"+e.round(b[0],2)},hvh:function(a,b){return"H"+e.round((a[0]+b[0])/2,2)+"V"+e.round(b[1],2)+"H"+e.round(b[0],2)},vhv:function(a,b){return"V"+e.round((a[1]+b[1])/2,2)+"H"+e.round(b[0],2)+"V"+e.round(b[1],2)}},r=function(a,b){return"L"+e.round(b[0],2)+","+e.round(b[1],2)};j.steps=function(a){var b=q[a]||r;return function(a){for(var c="M"+e.round(a[0][0],2)+","+e.round(a[0][1],2),d=1;d<a.length;d++)c+=b(a[d-1],a[d]);return c}},j.makeTester=function(a){var b=e.select("body").selectAll("#js-plotly-tester").data([0]);b.enter().append("svg").attr("id","js-plotly-tester").attr(g.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px"});var c=b.selectAll(".js-reference-point").data([0]);c.enter().append("path").classed("js-reference-point",!0).attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"}),b.node()._cache||(b.node()._cache={}),a._tester=b,a._testref=c};var s=[],t=1e4;j.bBox=function(a){var b=a.attributes["data-bb"];if(b&&b.value)return d.Lib.extendFlat({},s[b.value]);var c=e.select("#js-plotly-tester"),f=c.node(),g=a.cloneNode(!0);f.appendChild(g),e.select(g).attr({x:0,y:0,transform:""});var h=g.getBoundingClientRect(),i=c.select(".js-reference-point").node().getBoundingClientRect();f.removeChild(g);var j={height:h.height,width:h.width,left:h.left-i.left,top:h.top-i.top,right:h.right-i.left,bottom:h.bottom-i.top};return s.length>=t&&(e.selectAll("[data-bb]").attr("data-bb",null),s=[]),a.setAttribute("data-bb",s.length),s.push(j),d.Lib.extendFlat({},j)},j.setClipUrl=function(a,b){if(!b)return void a.attr("clip-path",null);var c="#"+b,d=e.select("base");d.size()&&d.attr("href")&&(c=window.location.href+c),a.attr("clip-path","url("+c+")")}},{"../../constants/xmlns_namespaces":337,"../../plotly":365,"../../traces/scatter/make_bubble_size_func":505,"../../traces/scatter/subtypes":511,"./symbol_defs":318,d3:70,"fast-isnumeric":74}],318:[function(require,a,b){"use strict";var c=require("d3");a.exports={circle:{n:0,f:function(a){var b=c.round(a,2);return"M"+b+",0A"+b+","+b+" 0 1,1 0,-"+b+"A"+b+","+b+" 0 0,1 "+b+",0Z"}},square:{n:1,f:function(a){var b=c.round(a,2);return"M"+b+","+b+"H-"+b+"V-"+b+"H"+b+"Z"}},diamond:{n:2,f:function(a){var b=c.round(1.3*a,2);return"M"+b+",0L0,"+b+"L-"+b+",0L0,-"+b+"Z"}},cross:{n:3,f:function(a){var b=c.round(.4*a,2),d=c.round(1.2*a,2);return"M"+d+","+b+"H"+b+"V"+d+"H-"+b+"V"+b+"H-"+d+"V-"+b+"H-"+b+"V-"+d+"H"+b+"V-"+b+"H"+d+"Z"}},x:{n:4,f:function(a){var b=c.round(.8*a/Math.sqrt(2),2),d="l"+b+","+b,e="l"+b+",-"+b,f="l-"+b+",-"+b,g="l-"+b+","+b;return"M0,"+b+d+e+f+e+f+g+f+g+d+g+d+"Z"}},"triangle-up":{n:5,f:function(a){var b=c.round(2*a/Math.sqrt(3),2),d=c.round(a/2,2),e=c.round(a,2);return"M-"+b+","+d+"H"+b+"L0,-"+e+"Z"}},"triangle-down":{n:6,f:function(a){var b=c.round(2*a/Math.sqrt(3),2),d=c.round(a/2,2),e=c.round(a,2);return"M-"+b+",-"+d+"H"+b+"L0,"+e+"Z"}},"triangle-left":{n:7,f:function(a){var b=c.round(2*a/Math.sqrt(3),2),d=c.round(a/2,2),e=c.round(a,2);return"M"+d+",-"+b+"V"+b+"L-"+e+",0Z"}},"triangle-right":{n:8,f:function(a){var b=c.round(2*a/Math.sqrt(3),2),d=c.round(a/2,2),e=c.round(a,2);return"M-"+d+",-"+b+"V"+b+"L"+e+",0Z"}},"triangle-ne":{n:9,f:function(a){var b=c.round(.6*a,2),d=c.round(1.2*a,2);return"M-"+d+",-"+b+"H"+b+"V"+d+"Z"}},"triangle-se":{n:10,f:function(a){var b=c.round(.6*a,2),d=c.round(1.2*a,2);return"M"+b+",-"+d+"V"+b+"H-"+d+"Z"}},"triangle-sw":{n:11,f:function(a){var b=c.round(.6*a,2),d=c.round(1.2*a,2);return"M"+d+","+b+"H-"+b+"V-"+d+"Z"}},"triangle-nw":{n:12,f:function(a){var b=c.round(.6*a,2),d=c.round(1.2*a,2);return"M-"+b+","+d+"V-"+b+"H"+d+"Z"}},pentagon:{n:13,f:function(a){var b=c.round(.951*a,2),d=c.round(.588*a,2),e=c.round(-a,2),f=c.round(a*-.309,2),g=c.round(.809*a,2);return"M"+b+","+f+"L"+d+","+g+"H-"+d+"L-"+b+","+f+"L0,"+e+"Z"}},hexagon:{n:14,f:function(a){var b=c.round(a,2),d=c.round(a/2,2),e=c.round(a*Math.sqrt(3)/2,2);return"M"+e+",-"+d+"V"+d+"L0,"+b+"L-"+e+","+d+"V-"+d+"L0,-"+b+"Z"}},hexagon2:{n:15,f:function(a){var b=c.round(a,2),d=c.round(a/2,2),e=c.round(a*Math.sqrt(3)/2,2);return"M-"+d+","+e+"H"+d+"L"+b+",0L"+d+",-"+e+"H-"+d+"L-"+b+",0Z"}},octagon:{n:16,f:function(a){var b=c.round(.924*a,2),d=c.round(.383*a,2);return"M-"+d+",-"+b+"H"+d+"L"+b+",-"+d+"V"+d+"L"+d+","+b+"H-"+d+"L-"+b+","+d+"V-"+d+"Z"}},star:{n:17,f:function(a){var b=1.4*a,d=c.round(.225*b,2),e=c.round(.951*b,2),f=c.round(.363*b,2),g=c.round(.588*b,2),h=c.round(-b,2),i=c.round(b*-.309,2),j=c.round(.118*b,2),k=c.round(.809*b,2),l=c.round(.382*b,2);return"M"+d+","+i+"H"+e+"L"+f+","+j+"L"+g+","+k+"L0,"+l+"L-"+g+","+k+"L-"+f+","+j+"L-"+e+","+i+"H-"+d+"L0,"+h+"Z"}},hexagram:{n:18,f:function(a){var b=c.round(.66*a,2),d=c.round(.38*a,2),e=c.round(.76*a,2);return"M-"+e+",0l-"+d+",-"+b+"h"+e+"l"+d+",-"+b+"l"+d+","+b+"h"+e+"l-"+d+","+b+"l"+d+","+b+"h-"+e+"l-"+d+","+b+"l-"+d+",-"+b+"h-"+e+"Z"}},"star-triangle-up":{n:19,f:function(a){var b=c.round(a*Math.sqrt(3)*.8,2),d=c.round(.8*a,2),e=c.round(1.6*a,2),f=c.round(4*a,2),g="A "+f+","+f+" 0 0 1 ";return"M-"+b+","+d+g+b+","+d+g+"0,-"+e+g+"-"+b+","+d+"Z"}},"star-triangle-down":{n:20,f:function(a){var b=c.round(a*Math.sqrt(3)*.8,2),d=c.round(.8*a,2),e=c.round(1.6*a,2),f=c.round(4*a,2),g="A "+f+","+f+" 0 0 1 ";return"M"+b+",-"+d+g+"-"+b+",-"+d+g+"0,"+e+g+b+",-"+d+"Z"}},"star-square":{n:21,f:function(a){var b=c.round(1.1*a,2),d=c.round(2*a,2),e="A "+d+","+d+" 0 0 1 ";return"M-"+b+",-"+b+e+"-"+b+","+b+e+b+","+b+e+b+",-"+b+e+"-"+b+",-"+b+"Z"}},"star-diamond":{n:22,f:function(a){var b=c.round(1.4*a,2),d=c.round(1.9*a,2),e="A "+d+","+d+" 0 0 1 ";return"M-"+b+",0"+e+"0,"+b+e+b+",0"+e+"0,-"+b+e+"-"+b+",0Z"}},"diamond-tall":{n:23,f:function(a){var b=c.round(.7*a,2),d=c.round(1.4*a,2);return"M0,"+d+"L"+b+",0L0,-"+d+"L-"+b+",0Z"}},"diamond-wide":{n:24,f:function(a){var b=c.round(1.4*a,2),d=c.round(.7*a,2);return"M0,"+d+"L"+b+",0L0,-"+d+"L-"+b+",0Z"}},hourglass:{n:25,f:function(a){var b=c.round(a,2);return"M"+b+","+b+"H-"+b+"L"+b+",-"+b+"H-"+b+"Z"},noDot:!0},bowtie:{n:26,f:function(a){var b=c.round(a,2);return"M"+b+","+b+"V-"+b+"L-"+b+","+b+"V-"+b+"Z"},noDot:!0},"circle-cross":{n:27,f:function(a){var b=c.round(a,2);return"M0,"+b+"V-"+b+"M"+b+",0H-"+b+"M"+b+",0A"+b+","+b+" 0 1,1 0,-"+b+"A"+b+","+b+" 0 0,1 "+b+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(a){var b=c.round(a,2),d=c.round(a/Math.sqrt(2),2);return"M"+d+","+d+"L-"+d+",-"+d+"M"+d+",-"+d+"L-"+d+","+d+"M"+b+",0A"+b+","+b+" 0 1,1 0,-"+b+"A"+b+","+b+" 0 0,1 "+b+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(a){var b=c.round(a,2);return"M0,"+b+"V-"+b+"M"+b+",0H-"+b+"M"+b+","+b+"H-"+b+"V-"+b+"H"+b+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(a){var b=c.round(a,2);return"M"+b+","+b+"L-"+b+",-"+b+"M"+b+",-"+b+"L-"+b+","+b+"M"+b+","+b+"H-"+b+"V-"+b+"H"+b+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(a){var b=c.round(1.3*a,2);return"M"+b+",0L0,"+b+"L-"+b+",0L0,-"+b+"ZM0,-"+b+"V"+b+"M-"+b+",0H"+b},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(a){var b=c.round(1.3*a,2),d=c.round(.65*a,2);return"M"+b+",0L0,"+b+"L-"+b+",0L0,-"+b+"ZM-"+d+",-"+d+"L"+d+","+d+"M-"+d+","+d+"L"+d+",-"+d},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(a){var b=c.round(1.4*a,2);return"M0,"+b+"V-"+b+"M"+b+",0H-"+b},needLine:!0,noDot:!0},"x-thin":{n:34,f:function(a){var b=c.round(a,2);return"M"+b+","+b+"L-"+b+",-"+b+"M"+b+",-"+b+"L-"+b+","+b},needLine:!0,noDot:!0},asterisk:{n:35,f:function(a){var b=c.round(1.2*a,2),d=c.round(.85*a,2);return"M0,"+b+"V-"+b+"M"+b+",0H-"+b+"M"+d+","+d+"L-"+d+",-"+d+"M"+d+",-"+d+"L-"+d+","+d},needLine:!0,noDot:!0},hash:{n:36,f:function(a){var b=c.round(a/2,2),d=c.round(a,2);return"M"+b+","+d+"V-"+d+"m-"+d+",0V"+d+"M"+d+","+b+"H-"+d+"m0,-"+d+"H"+d},needLine:!0},"y-up":{n:37,f:function(a){var b=c.round(1.2*a,2),d=c.round(1.6*a,2),e=c.round(.8*a,2);return"M-"+b+","+e+"L0,0M"+b+","+e+"L0,0M0,-"+d+"L0,0"},needLine:!0,noDot:!0},"y-down":{n:38,f:function(a){var b=c.round(1.2*a,2),d=c.round(1.6*a,2),e=c.round(.8*a,2);return"M-"+b+",-"+e+"L0,0M"+b+",-"+e+"L0,0M0,"+d+"L0,0"},needLine:!0,noDot:!0},"y-left":{n:39,f:function(a){var b=c.round(1.2*a,2),d=c.round(1.6*a,2),e=c.round(.8*a,2);return"M"+e+","+b+"L0,0M"+e+",-"+b+"L0,0M-"+d+",0L0,0"},needLine:!0,noDot:!0},"y-right":{n:40,f:function(a){var b=c.round(1.2*a,2),d=c.round(1.6*a,2),e=c.round(.8*a,2);return"M-"+e+","+b+"L0,0M-"+e+",-"+b+"L0,0M"+d+",0L0,0"},needLine:!0,noDot:!0},"line-ew":{n:41,f:function(a){var b=c.round(1.4*a,2);return"M"+b+",0H-"+b},needLine:!0,noDot:!0},"line-ns":{n:42,f:function(a){var b=c.round(1.4*a,2);return"M0,"+b+"V-"+b},needLine:!0,noDot:!0},"line-ne":{n:43,f:function(a){var b=c.round(a,2);return"M"+b+",-"+b+"L-"+b+","+b},needLine:!0,noDot:!0},"line-nw":{n:44,f:function(a){var b=c.round(a,2);return"M"+b+","+b+"L-"+b+",-"+b},needLine:!0,noDot:!0}}},{d3:70}],319:[function(require,a,b){"use strict";a.exports={visible:{valType:"boolean"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"]},symmetric:{valType:"boolean"},array:{valType:"data_array"},arrayminus:{valType:"data_array"},value:{valType:"number",min:0,dflt:10},valueminus:{valType:"number",min:0,dflt:10},traceref:{valType:"integer",min:0,dflt:0},tracerefminus:{valType:"integer",min:0,dflt:0},copy_ystyle:{valType:"boolean"},copy_zstyle:{valType:"boolean"},color:{valType:"color"},thickness:{valType:"number",min:0,dflt:2},width:{valType:"number",min:0},_deprecated:{opacity:{valType:"number"}}}},{}],320:[function(require,a,b){"use strict";function c(a,b,c,e){var h=b["error_"+e]||{},i=h.visible&&-1!==["linear","log"].indexOf(c.type),j=[];if(i){for(var k=g(h),l=0;l<a.length;l++){var m=a[l],n=m[e];if(d(c.c2l(n))){var o=k(n,l);if(d(o[0])&&d(o[1])){var p=m[e+"s"]=n-o[0],q=m[e+"h"]=n+o[1];j.push(p,q)}}}f.expand(c,j,{padded:!0})}}var d=require("fast-isnumeric"),e=require("../../plots/plots"),f=require("../../plots/cartesian/axes"),g=require("./compute_error");a.exports=function(a){for(var b=a.calcdata,d=0;d<b.length;d++){var g=b[d],h=g[0].trace;if(e.traceIs(h,"errorBarsOK")){var i=f.getFromId(a,h.xaxis),j=f.getFromId(a,h.yaxis);c(g,h,i,"x"),c(g,h,j,"y")}}}},{"../../plots/cartesian/axes":368,"../../plots/plots":404,"./compute_error":321,"fast-isnumeric":74}],321:[function(require,a,b){"use strict";function c(a,b){return"percent"===a?function(a){return Math.abs(a*b/100)}:"constant"===a?function(){return Math.abs(b)}:"sqrt"===a?function(a){return Math.sqrt(Math.abs(a))}:void 0}a.exports=function(a){var b=a.type,d=a.symmetric;if("data"===b){var e=a.array,f=a.arrayminus;return d||void 0===f?function(a,b){var c=+e[b];return[c,c]}:function(a,b){return[+f[b],+e[b]]}}var g=c(b,a.value),h=c(b,a.valueminus);return d||void 0===a.valueminus?function(a){var b=g(a);return[b,b]}:function(a){return[h(a),g(a)]}}},{}],322:[function(require,a,b){"use strict";var c=require("fast-isnumeric"),d=require("../../plots/plots"),e=require("../../lib"),f=require("./attributes");a.exports=function(a,b,g,h){function i(a,b){return e.coerce(l,k,f,a,b)}var j="error_"+h.axis,k=b[j]={},l=a[j]||{},m=void 0!==l.array||void 0!==l.value||"sqrt"===l.type,n=i("visible",m);if(n!==!1){var o=i("type","array"in l?"data":"percent"),p=!0;if("sqrt"!==o&&(p=i("symmetric",!(("data"===o?"arrayminus":"valueminus")in l))),"data"===o){var q=i("array");if(q||(k.array=[]),i("traceref"),!p){var r=i("arrayminus");r||(k.arrayminus=[]),i("tracerefminus")}}else("percent"===o||"constant"===o)&&(i("value"),p||i("valueminus"));var s="copy_"+h.inherit+"style";if(h.inherit){var t=b["error_"+h.inherit];(t||{}).visible&&i(s,!(l.color||c(l.thickness)||c(l.width)))}h.inherit&&k[s]||(i("color",g),i("thickness"),i("width",d.traceIs(b,"gl3d")?0:4))}}},{"../../lib":348,"../../plots/plots":404,"./attributes":319,"fast-isnumeric":74}],323:[function(require,a,b){"use strict";function c(a,b,c){var d={x:b.c2p(a.x),y:c.c2p(a.y)};return void 0!==a.yh&&(d.yh=c.c2p(a.yh),d.ys=c.c2p(a.ys),e(d.ys)||(d.noYS=!0,d.ys=c.c2p(a.ys,!0))),void 0!==a.xh&&(d.xh=b.c2p(a.xh),d.xs=b.c2p(a.xs),e(d.xs)||(d.noXS=!0,d.xs=b.c2p(a.xs,!0))),d}var d=require("d3"),e=require("fast-isnumeric"),f=require("../../lib"),g=require("../color"),h=require("../../traces/scatter/subtypes"),i=a.exports={};i.attributes=require("./attributes"),i.supplyDefaults=require("./defaults"),i.calc=require("./calc"),i.calcFromTrace=function(a,b){for(var c=a.x||[],d=a.y,e=c.length||d.length,f=new Array(e),g=0;e>g;g++)f[g]={x:c[g],y:d[g]};return f[0].trace=a,i.calc({calcdata:[f],_fullLayout:b}),f},i.plot=function(a,b,g){var i=b.x(),j=b.y();b.plot.select(".errorlayer").selectAll("g.errorbars").remove();var k;b.plot.select(".errorlayer").selectAll("g.errorbars").data(g).enter().append("g").attr("class","errorbars").each(function(a){var b=a[0].trace,g=b.error_x,l=b.error_y,m=h.hasMarkers(b)&&b.marker.maxdisplayed>0;(l.visible||g.visible)&&d.select(this).selectAll("g").data(f.identity).enter().append("g").each(function(a){k=c(a,i,j);var b,f=d.select(this);if(!m||a.vis){if(l.visible&&e(k.x)&&e(k.yh)&&e(k.ys)){var h=l.width;b="M"+(k.x-h)+","+k.yh+"h"+2*h+"m-"+h+",0V"+k.ys,k.noYS||(b+="m-"+h+",0h"+2*h),f.append("path").classed("yerror",!0).attr("d",b)}if(g.visible&&e(k.y)&&e(k.xh)&&e(k.xs)){var n=(g.copy_ystyle?l:g).width;b="M"+k.xh+","+(k.y-n)+"v"+2*n+"m0,-"+n+"H"+k.xs,k.noXS||(b+="m0,-"+n+"v"+2*n),f.append("path").classed("xerror",!0).attr("d",b)}}})})},i.style=function(a){d.select(a).selectAll("g.errorbars").each(function(a){var b=d.select(this),c=a[0].trace,e=c.error_y||{},f=c.error_x||{};b.selectAll("g path.yerror").style("stroke-width",e.thickness+"px").call(g.stroke,e.color),f.copy_ystyle&&(f=e),b.selectAll("g path.xerror").style("stroke-width",f.thickness+"px").call(g.stroke,f.color)})},i.hoverInfo=function(a,b,c){b.error_y.visible&&(c.yerr=a.yh-a.y,b.error_y.symmetric||(c.yerrneg=a.y-a.ys)),b.error_x.visible&&(c.xerr=a.xh-a.x,b.error_x.symmetric||(c.xerrneg=a.x-a.xs))}},{"../../lib":348,"../../traces/scatter/subtypes":511,"../color":299,"./attributes":319,"./calc":320,"./defaults":322,d3:70,"fast-isnumeric":74}],324:[function(require,a,b){"use strict";var c=require("../../plots/font_attributes"),d=require("../color/attributes"),e=require("../../lib/extend").extendFlat;a.exports={bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:d.defaultLine},borderwidth:{valType:"number",min:0,dflt:0},font:e({},c,{}),traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"]},tracegroupgap:{valType:"number",min:0,dflt:10},x:{valType:"number",min:-2,max:3,dflt:1.02},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto"}}},{"../../lib/extend":344,"../../plots/font_attributes":374,"../color/attributes":298}],325:[function(require,a,b){"use strict";function c(a){return a.visible&&f.Plots.traceIs(a,"showLegend")}function d(a){return-1!==(a.traceorder||"").indexOf("grouped")}function e(a){return-1!==(a.traceorder||"").indexOf("reversed")}var f=require("../../plotly"),g=require("d3"),h=require("../../traces/scatter/subtypes"),i=require("../../traces/pie/style_one"),j=a.exports={};j.layoutAttributes=require("./attributes"),j.supplyLayoutDefaults=function(a,b,g){function h(a,b){return f.Lib.coerce(k,l,j.layoutAttributes,a,b)}for(var i,k=a.legend||{},l=b.legend={},m=0,n="normal",o=0;o<g.length;o++)i=g[o],c(i)&&(m++,f.Plots.traceIs(i,"pie")&&m++),(f.Plots.traceIs(i,"bar")&&"stack"===b.barmode||-1!==["tonextx","tonexty"].indexOf(i.fill))&&(n=d({traceorder:n})?"grouped+reversed":"reversed"),void 0!==i.legendgroup&&""!==i.legendgroup&&(n=e({traceorder:n})?"reversed+grouped":"grouped");var p=f.Lib.coerce(a,b,f.Plots.layoutAttributes,"showlegend",m>1);p!==!1&&(h("bgcolor",b.paper_bgcolor),h("bordercolor"),h("borderwidth"),f.Lib.coerceFont(h,"font",b.font),h("traceorder",n),d(b.legend)&&h("tracegroupgap"),h("x"),h("xanchor"),h("y"),h("yanchor"),f.Lib.noneOrAll(k,l,["x","y"]))},j.lines=function(a){var b=a[0].trace,c=b.visible&&b.fill&&"none"!==b.fill,d=h.hasLines(b),e=g.select(this).select(".legendfill").selectAll("path").data(c?[a]:[]);e.enter().append("path").classed("js-fill",!0),e.exit().remove(),e.attr("d","M5,0h30v6h-30z").call(f.Drawing.fillGroupStyle);var i=g.select(this).select(".legendlines").selectAll("path").data(d?[a]:[]);i.enter().append("path").classed("js-line",!0).attr("d","M5,0h30"),i.exit().remove(),i.call(f.Drawing.lineGroupStyle)},j.points=function(a){function b(a,b,c){var d=f.Lib.nestedProperty(j,a).get(),e=Array.isArray(d)&&b?b(d):d;if(c){if(e<c[0])return c[0];if(e>c[1])return c[1]}return e}function c(a){return a[0]}var d,e,i=a[0],j=i.trace,k=h.hasMarkers(j),l=h.hasText(j),m=h.hasLines(j);if(k||l||m){var n={},o={};k&&(n.mc=b("marker.color",c),n.mo=b("marker.opacity",f.Lib.mean,[.2,1]),n.ms=b("marker.size",f.Lib.mean,[2,16]),n.mlc=b("marker.line.color",c),n.mlw=b("marker.line.width",f.Lib.mean,[0,5]),o.marker={sizeref:1,sizemin:1,sizemode:"diameter"}),m&&(o.line={width:b("line.width",c,[0,10])}),l&&(n.tx="Aa",n.tp=b("textposition",c),n.ts=10,n.tc=b("textfont.color",c),n.tf=b("textfont.family",c)),d=[f.Lib.minExtend(i,n)],e=f.Lib.minExtend(j,o)}var p=g.select(this).select("g.legendpoints"),q=p.selectAll("path.scatterpts").data(k?d:[]);q.enter().append("path").classed("scatterpts",!0).attr("transform","translate(20,0)"),q.exit().remove(),q.call(f.Drawing.pointStyle,e),k&&(d[0].mrc=3);var r=p.selectAll("g.pointtext").data(l?d:[]);r.enter().append("g").classed("pointtext",!0).append("text").attr("transform","translate(20,0)"),r.exit().remove(),r.selectAll("text").call(f.Drawing.textPointStyle,e)},j.bars=function(a){var b=a[0].trace,c=b.marker||{},d=c.line||{},e=g.select(this).select("g.legendpoints").selectAll("path.legendbar").data(f.Plots.traceIs(b,"bar")?[a]:[]);e.enter().append("path").classed("legendbar",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),e.exit().remove(),e.each(function(a){var b=(a.mlw+1||d.width+1)-1,e=g.select(this);e.style("stroke-width",b+"px").call(f.Color.fill,a.mc||c.color),b&&e.call(f.Color.stroke,a.mlc||d.color)})},j.boxes=function(a){var b=a[0].trace,c=g.select(this).select("g.legendpoints").selectAll("path.legendbox").data(f.Plots.traceIs(b,"box")&&b.visible?[a]:[]);c.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),c.exit().remove(),c.each(function(a){var c=(a.lw+1||b.line.width+1)-1,d=g.select(this);d.style("stroke-width",c+"px").call(f.Color.fill,a.fc||b.fillcolor),c&&d.call(f.Color.stroke,a.lc||b.line.color)})},j.pie=function(a){var b=a[0].trace,c=g.select(this).select("g.legendpoints").selectAll("path.legendpie").data(f.Plots.traceIs(b,"pie")&&b.visible?[a]:[]);c.enter().append("path").classed("legendpie",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),c.exit().remove(),c.size()&&c.call(i,a[0],b)},j.style=function(a){a.each(function(a){var b=g.select(this),c=b.selectAll("g.legendfill").data([a]);c.enter().append("g").classed("legendfill",!0);var d=b.selectAll("g.legendlines").data([a]);d.enter().append("g").classed("legendlines",!0);var e=b.selectAll("g.legendsymbols").data([a]);e.enter().append("g").classed("legendsymbols",!0),e.style("opacity",a[0].trace.opacity),e.selectAll("g.legendpoints").data([a]).enter().append("g").classed("legendpoints",!0)}).each(j.bars).each(j.boxes).each(j.pie).each(j.lines).each(j.points)},j.texts=function(a,b,c,d,e){function h(a){f.util.convertToTspans(a,function(){b.firstRender&&j.repositionLegend(b,e)}),a.selectAll("tspan.line").attr({x:a.attr("x")})}var i=b._fullLayout,k=c[0].trace,l=f.Plots.traceIs(k,"pie"),m=k.index,n=l?c[0].label:k.name,o=g.select(a).selectAll("text.legendtext").data([0]);o.enter().append("text").classed("legendtext",!0),o.attr({x:40,y:0}).style("text-anchor","start").call(f.Drawing.font,i.legend.font).text(n).attr({"data-unformatted":n}),b._context.editable&&!l?o.call(f.util.makeEditable).call(h).on("edit",function(a){this.attr({"data-unformatted":a}),this.text(a).call(h),this.text()||(a="    "),f.restyle(b,"name",a,m)}):o.call(h)},j.getLegendData=function(a,b){function g(a,c){if(""!==a&&d(b))-1===p.indexOf(a)?(p.push(a),q=!0,o[a]=[[c]]):o[a].push([c]);else{var e="~~i"+s;p.push(e),o[e]=[[c]],s++}}var h,i,j,k,l,m,n,o={},p=[],q=!1,r={},s=0;for(l=0;l<a.length;l++)if(h=a[l],i=h[0],j=i.trace,k=j.legendgroup,c(j)&&j.showlegend)if(f.Plots.traceIs(j,"pie"))for(r[k]||(r[k]={}),m=0;m<h.length;m++)n=h[m].label,r[k][n]||(g(k,{label:n,color:h[m].color,i:h[m].i,trace:j}),r[k][n]=!0);else g(k,i);if(!p.length)return[];var t,u,v=p.length;if(q&&d(b))for(u=new Array(v),l=0;v>l;l++)t=o[p[l]],u[l]=e(b)?t.reverse():t;else{for(u=[new Array(v)],l=0;v>l;l++)t=o[p[l]][0],u[0][e(b)?v-l-1:l]=t;v=1}return b._lgroupsLength=v,u},j.draw=function(a){var b=a._fullLayout;if(b._infolayer&&a.calcdata){var c=b.legend,e=b.showlegend&&j.getLegendData(a.calcdata,c),h=b.hiddenlabels||[];if(!b.showlegend||!e.length)return b._infolayer.selectAll(".legend").remove(),void f.Plots.autoMargin(a,"legend");"undefined"==typeof a.firstRender?a.firstRender=!0:a.firstRender&&(a.firstRender=!1);var i=b._infolayer.selectAll("svg.legend").data([0]);i.enter(0).append("svg").attr("class","legend");var k=i.selectAll("rect.bg").data([0]);k.enter(0).append("rect").attr("class","bg"),k.call(f.Color.stroke,c.bordercolor).call(f.Color.fill,c.bgcolor).style("stroke-width",c.borderwidth+"px");var l=i.selectAll("g.groups").data(e);l.enter().append("g").attr("class","groups"),l.exit().remove(),d(c)&&l.attr("transform",function(a,b){return"translate(0,"+b*c.tracegroupgap+")"});var m=l.selectAll("g.traces").data(f.Lib.identity);if(m.enter().append("g").attr("class","traces"),m.exit().remove(),m.call(j.style).style("opacity",function(a){var b=a[0].trace;return f.Plots.traceIs(b,"pie")?-1!==h.indexOf(a[0].label)?.5:1:"legendonly"===b.visible?.5:1}).each(function(b,c){j.texts(this,a,b,c,m);var d=g.select(this).selectAll("rect").data([0]);d.enter().append("rect").classed("legendtoggle",!0).style("cursor","pointer").attr("pointer-events","all").call(f.Color.fill,"rgba(0,0,0,0)"),d.on("click",function(){if(!a._dragged){var c,d,e=a._fullData,g=b[0].trace,i=g.legendgroup,j=[];if(f.Plots.traceIs(g,"pie")){var k=b[0].label,l=h.slice(),m=l.indexOf(k);-1===m?l.push(k):l.splice(m,1),f.relayout(a,"hiddenlabels",l)}else{if(""===i)j=[g.index];else for(var n=0;n<e.length;n++)c=e[n],c.legendgroup===i&&j.push(c.index);d=g.visible===!0?"legendonly":!0,f.restyle(a,"visible",d,j)}}})}),j.repositionLegend(a,m),a._context.editable){var n,o,p,q,r,s;f.Fx.dragElement({element:i.node(),prepFn:function(){p=Number(i.attr("x")),q=Number(i.attr("y")),r=Number(i.attr("width")),s=Number(i.attr("height")),f.Fx.setCursor(i)},moveFn:function(b,d){var e=a._fullLayout._size;i.call(f.Drawing.setPosition,p+b,q+d),n=f.Fx.dragAlign(p+b,r,e.l,e.l+e.w,c.xanchor),o=f.Fx.dragAlign(q+d+s,-s,e.t+e.h,e.t,c.yanchor);var g=f.Fx.dragCursors(n,o,c.xanchor,c.yanchor);f.Fx.setCursor(i,g)},doneFn:function(b){f.Fx.setCursor(i),b&&void 0!==n&&void 0!==o&&f.relayout(a,{"legend.x":n,"legend.y":o})}})}}},j.repositionLegend=function(a,b){var c=a._fullLayout,e=c._size,h=c.legend,i=h.borderwidth,j=0,k=0;b.each(function(a){var b,c,d=a[0].trace,e=g.select(this),l=e.selectAll(".legendtoggle"),m=e.selectAll(".legendtext"),n=e.selectAll(".legendtext>tspan"),o=1.3*h.font.size,p=n[0].length||1,q=m.node()&&f.Drawing.bBox(m.node()).width,r=e.select("g[class*=math-group]");if(!d.showlegend)return void e.remove();if(r.node()){var s=f.Drawing.bBox(r.node());o=s.height,q=s.width,r.attr("transform","translate(0,"+o/4+")")}else b=o*(.3+(1-p)/2),m.attr("y",b),n.attr("y",b);c=Math.max(o*p,16)+3,e.attr("transform","translate("+i+","+(5+i+k+c/2)+")"),l.attr({x:0,y:-c/2,height:c}),k+=c,j=Math.max(j,q||0)}),d(h)&&(k+=(h._lgroupsLength-1)*h.tracegroupgap),b.selectAll(".legendtoggle").attr("width",(a._context.editable?0:j)+40),j+=45+2*i,k+=10+2*i;var l=e.l+e.w*h.x,m=e.t+e.h*(1-h.y),n="left";"right"===h.xanchor||"auto"===h.xanchor&&h.x>=2/3?(l-=j,n="right"):("center"===h.xanchor||"auto"===h.xanchor&&h.x>1/3)&&(l-=j/2,n="center");var o="top";"bottom"===h.yanchor||"auto"===h.yanchor&&h.y<=1/3?(m-=k,o="bottom"):("middle"===h.yanchor||"auto"===h.yanchor&&h.y<2/3)&&(m-=k/2,o="middle"),j=Math.ceil(j),k=Math.ceil(k),l=Math.round(l),m=Math.round(m),c._infolayer.selectAll("svg.legend").call(f.Drawing.setRect,l,m,j,k),c._infolayer.selectAll("svg.legend .bg").call(f.Drawing.setRect,i/2,i/2,j-i,k-i),f.Plots.autoMargin(a,"legend",{x:h.x,y:h.y,l:j*({right:1,center:.5}[n]||0),r:j*({left:1,center:.5}[n]||0),b:k*({top:1,middle:.5}[o]||0),t:k*({bottom:1,middle:.5}[o]||0)})}},{"../../plotly":365,"../../traces/pie/style_one":491,"../../traces/scatter/subtypes":511,"./attributes":324,d3:70}],326:[function(require,a,b){"use strict";function c(a,b){var c=b.currentTarget,d=c.getAttribute("data-attr"),e=c.getAttribute("data-val")||!0,f=a._fullLayout,g={};if("zoom"===d)for(var i,j,k,l="in"===e?.5:2,n=(1+l)/2,o=(1-l)/2,p=h.Axes.list(a,null,!0),q=0;q<p.length;q++)i=p[q],i.fixedrange||(j=i._name,"auto"===e?g[j+".autorange"]=!0:"reset"===e?void 0===i._rangeInitial?g[j+".autorange"]=!0:g[j+".range"]=i._rangeInitial.slice():(k=i.range,g[j+".range"]=[n*k[0]+o*k[1],n*k[1]+o*k[0]]));else"hovermode"!==d||"x"!==e&&"y"!==e||(e=f._isHoriz?"y":"x",c.setAttribute("data-val",e)),g[d]=e;h.relayout(a,g).then(function(){"dragmode"===d&&(f._hasCartesian&&h.Fx.setCursor(f._paper.select(".nsewdrag"),m[e]),h.Fx.supplyLayoutDefaults(a.layout,f,a._fullData),h.Fx.init(a))})}function d(a,b){var c=b.currentTarget,d=c.getAttribute("data-attr"),e=c.getAttribute("data-val")||!0,f={};f[d]=e,h.relayout(a,f)}function e(a,b){for(var c=b.currentTarget,d=c.getAttribute("data-attr"),e=a.layout,f=a._fullLayout,g=h.Plots.getSubplotIds(f,"gl3d"),i=0;i<g.length;i++){var j=g[i],k=e[j],l=f[j],m=l._scene;if(k&&"resetDefault"!==d){if("resetLastSave"===d){var n=k.camera;n?m.setCamera(n):m.setCameraToDefault()}}else m.setCameraToDefault()}}function f(a,b){for(var c=b.currentTarget,d=c.getAttribute("data-attr"),e=c.getAttribute("data-val")||!0,f=a._fullLayout,g=h.Plots.getSubplotIds(f,"geo"),i=0;i<g.length;i++){var j=f[g[i]]._geo;if("zoom"===d){var k=j.projection.scale(),l="in"===e?2*k:.5*k;j.projection.scale(l),
j.zoom.scale(l),j.render()}else"reset"===d?j.zoomReset():"hovermode"===d&&(j.showHover=!j.showHover)}}function g(a){var b=a._fullLayout.hovermode?!1:"closest";h.relayout(a,"hovermode",b)}var h=require("../../plotly"),i=require("../../lib"),j=require("../../snapshot"),k=require("../../../build/ploticon"),l=a.exports={};l.toImage={name:"toImage",title:"Download plot as a png",icon:k.camera,click:function(a){var b="png";if(i.isIE())return void i.notifier("Snapshotting is unavailable in Internet Explorer. Consider exporting your images using the Plotly Cloud","long");if(a._snapshotInProgress)return void i.notifier("Snapshotting is still in progress - please hold","long");a._snapshotInProgress=!0,i.notifier("Taking snapshot - this may take a few seconds","long");var c=j.toImage(a,{format:b}),d=a.fn||"newplot";d+="."+b,c.once("success",function(b){a._snapshotInProgress=!1;var e=document.createElement("a");e.href=b,e.download=d,document.body.appendChild(e),e.click(),document.body.removeChild(e),c.clean()}),c.once("error",function(d){a._snapshotInProgress=!1,i.notifier("Sorry there was a problem downloading your "+b,"long"),console.error(d),c.clean()})}},l.sendDataToCloud={name:"sendDataToCloud",title:"Save and edit plot in cloud",icon:k.disk,click:function(a){h.Plots.sendDataToCloud(a)}},l.zoom2d={name:"zoom2d",title:"Zoom",attr:"dragmode",val:"zoom",icon:k.zoombox,click:c},l.pan2d={name:"pan2d",title:"Pan",attr:"dragmode",val:"pan",icon:k.pan,click:c},l.select2d={name:"select2d",title:"Box Select",attr:"dragmode",val:"select",icon:k.selectbox,click:c},l.lasso2d={name:"lasso2d",title:"Lasso Select",attr:"dragmode",val:"lasso",icon:k.lasso,click:c},l.zoomIn2d={name:"zoomIn2d",title:"Zoom in",attr:"zoom",val:"in",icon:k.zoom_plus,click:c},l.zoomOut2d={name:"zoomOut2d",title:"Zoom out",attr:"zoom",val:"out",icon:k.zoom_minus,click:c},l.autoScale2d={name:"autoScale2d",title:"Autoscale",attr:"zoom",val:"auto",icon:k.autoscale,click:c},l.resetScale2d={name:"resetScale2d",title:"Reset axes",attr:"zoom",val:"reset",icon:k.home,click:c},l.hoverClosestCartesian={name:"hoverClosestCartesian",title:"Show closest data on hover",attr:"hovermode",val:"closest",icon:k.tooltip_basic,gravity:"ne",click:c},l.hoverCompareCartesian={name:"hoverCompareCartesian",title:"Compare data on hover",attr:"hovermode",val:function(a){return a._fullLayout._isHoriz?"y":"x"},icon:k.tooltip_compare,gravity:"ne",click:c};var m={pan:"move",zoom:"crosshair",select:"crosshair",lasso:"crosshair"};l.zoom3d={name:"zoom3d",title:"Zoom",attr:"dragmode",val:"zoom",icon:k.zoombox,click:d},l.pan3d={name:"pan3d",title:"Pan",attr:"dragmode",val:"pan",icon:k.pan,click:d},l.orbitRotation={name:"orbitRotation",title:"orbital rotation",attr:"dragmode",val:"orbit",icon:k["3d_rotate"],click:d},l.tableRotation={name:"tableRotation",title:"turntable rotation",attr:"dragmode",val:"turntable",icon:k["z-axis"],click:d},l.resetCameraDefault3d={name:"resetCameraDefault3d",title:"Reset camera to default",attr:"resetDefault",icon:k.home,click:e},l.resetCameraLastSave3d={name:"resetCameraLastSave3d",title:"Reset camera to last save",attr:"resetLastSave",icon:k.movie,click:e},l.hoverClosest3d={name:"hoverClosest3d",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:k.tooltip_basic,gravity:"ne",click:function(a,b){var c=b.currentTarget,d=JSON.parse(c.getAttribute("data-val"))||!1,e=a._fullLayout,f=h.Plots.getSubplotIds(e,"gl3d"),g=["xaxis","yaxis","zaxis"],i=["showspikes","spikesides","spikethickness","spikecolor"],j={},k={},l={};if(d)l=d,c.setAttribute("data-val",JSON.stringify(null));else{l={"allaxes.showspikes":!1};for(var m=0;m<f.length;m++)for(var n=f[m],o=e[n],p=j[n]={},q=0;3>q;q++){var r=g[q];k=p[r]={};for(var s=0;s<i.length;s++){var t=i[s];k[t]=o[r][t]}}c.setAttribute("data-val",JSON.stringify(j))}h.relayout(a,l)}},l.zoomInGeo={name:"zoomInGeo",title:"Zoom in",attr:"zoom",val:"in",icon:k.zoom_plus,click:f},l.zoomOutGeo={name:"zoomOutGeo",title:"Zoom out",attr:"zoom",val:"out",icon:k.zoom_minus,click:f},l.resetGeo={name:"resetGeo",title:"Reset",attr:"reset",val:null,icon:k.autoscale,click:f},l.hoverClosestGeo={name:"hoverClosestGeo",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:k.tooltip_basic,gravity:"ne",click:f},l.hoverClosestGl2d={name:"hoverClosestGl2d",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:k.tooltip_basic,gravity:"ne",click:g},l.hoverClosestPie={name:"hoverClosestPie",title:"Toggle show closest data on hover",attr:"hovermode",val:"closest",icon:k.tooltip_basic,gravity:"ne",click:g}},{"../../../build/ploticon":2,"../../lib":348,"../../plotly":365,"../../snapshot":411}],327:[function(require,a,b){"use strict";function c(a){this.container=a.container,this.element=document.createElement("div"),this.update(a.graphInfo,a.buttons),this.container.appendChild(this.element)}function d(a,b){var d=a._fullLayout,e=new c({graphInfo:a,container:d._paperdiv.node(),buttons:b});return d._privateplot&&f.select(e.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),e}var e=require("../../plotly"),f=require("d3"),g=require("../../../build/ploticon"),h=c.prototype;h.update=function(a,b){this.graphInfo=a;var c=this.graphInfo._context;"hover"===c.displayModeBar?this.element.className="modebar modebar--hover":this.element.className="modebar";var d=!this.hasButtons(b),e=this.hasLogo!==c.displaylogo;(d||e)&&(this.removeAllButtons(),this.updateButtons(b),c.displaylogo&&(this.element.appendChild(this.getLogo()),this.hasLogo=!0)),this.updateActiveButton()},h.updateButtons=function(a){var b=this;this.buttons=a,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(a){var c=b.createGroup();a.forEach(function(a){var d=a.name;if(!d)throw new Error("must provide button 'name' in button config");if(-1!==b.buttonsNames.indexOf(d))throw new Error("button name '"+d+"' is taken");b.buttonsNames.push(d);var e=b.createButton(a);b.buttonElements.push(e),c.appendChild(e)}),b.element.appendChild(c)})},h.createGroup=function(){var a=document.createElement("div");return a.className="modebar-group",a},h.createButton=function(a){var b=this,c=document.createElement("a");c.setAttribute("rel","tooltip"),c.className="modebar-btn";var d=a.title;void 0===d&&(d=a.name),(d||0===d)&&c.setAttribute("data-title",d),void 0!==a.attr&&c.setAttribute("data-attr",a.attr);var e=a.val;void 0!==e&&("function"==typeof e&&(e=e(this.graphInfo)),c.setAttribute("data-val",e));var f=a.click;if("function"!=typeof f)throw new Error("must provide button 'click' function in button config");return c.addEventListener("click",function(c){a.click(b.graphInfo,c),b.updateActiveButton(c.currentTarget)}),c.setAttribute("data-toggle",a.toggle||!1),a.toggle&&c.classList.add("active"),c.appendChild(this.createIcon(a.icon||g.question)),c.setAttribute("data-gravity",a.gravity||"n"),c},h.createIcon=function(a){var b=a.ascent-a.descent,c="http://www.w3.org/2000/svg",d=document.createElementNS(c,"svg"),e=document.createElementNS(c,"path");return d.setAttribute("height","1em"),d.setAttribute("width",a.width/b+"em"),d.setAttribute("viewBox",[0,0,a.width,b].join(" ")),e.setAttribute("d",a.path),e.setAttribute("transform","matrix(1 0 0 -1 0 "+a.ascent+")"),d.appendChild(e),d},h.updateActiveButton=function(a){var b=this.graphInfo._fullLayout,c=void 0!==a?a.getAttribute("data-attr"):null;this.buttonElements.forEach(function(a){var d=a.getAttribute("data-val")||!0,e=a.getAttribute("data-attr"),g="true"===a.getAttribute("data-toggle"),h=f.select(a);g?e===c&&h.classed("active",!h.classed("active")):h.classed("active",b[e]===d)})},h.hasButtons=function(a){var b=this.buttons;if(!b)return!1;if(a.length!==b.length)return!1;for(var c=0;c<a.length;++c){if(a[c].length!==b[c].length)return!1;for(var d=0;d<a[c].length;d++)if(a[c][d].name!==b[c][d].name)return!1}return!0},h.getLogo=function(){var a=this.createGroup(),b=document.createElement("a");return b.href="https://plot.ly/",b.target="_blank",b.setAttribute("data-title","Produced with Plotly"),b.className="modebar-btn plotlyjsicon modebar-btn--logo",b.appendChild(this.createIcon(g.plotlylogo)),a.appendChild(b),a},h.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},h.destroy=function(){e.Lib.removeElement(this.container.querySelector(".modebar"))},a.exports=d},{"../../../build/ploticon":2,"../../plotly":365,d3:70}],328:[function(require,a,b){"use strict";function c(a,b,c){function e(a){for(var c=[],d=0;d<a.length;d++){var e=a[d];-1===b.indexOf(e)&&c.push(i[e])}l.push(c)}var f,h,j=a._fullLayout,k=a._fullData,l=[];e(["toImage","sendDataToCloud"]),j._hasGL3D&&(e(["zoom3d","pan3d","orbitRotation","tableRotation"]),e(["resetCameraDefault3d","resetCameraLastSave3d"]),e(["hoverClosest3d"])),j._hasGeo&&(e(["zoomInGeo","zoomOutGeo","resetGeo"]),e(["hoverClosestGeo"]));var m=j._hasCartesian,n=j._hasGL2D,o=d(j),p=[];if(!m&&!n||o||(p=["zoom2d","pan2d"]),m){var q=!1;for(f=0;f<k.length&&!q;f++)h=k[f],h._module&&h._module.selectPoints&&("scatter"===h.type?(g.hasMarkers(h)||g.hasText(h))&&(q=!0):q=!0);q&&(p.push("select2d"),p.push("lasso2d"))}if(p.length&&e(p),!m&&!n||o||e(["zoomIn2d","zoomOut2d","autoScale2d","resetScale2d"]),m&&e(["hoverClosestCartesian","hoverCompareCartesian"]),n&&e(["hoverClosestGl2d"]),j._hasPie&&e(["hoverClosestPie"]),c.length)if(Array.isArray(c[0]))for(f=0;f<c.length;f++)l.push(c[f]);else l.push(c);return l}function d(a){for(var b=f.Axes.list({_fullLayout:a},null,!0),c=!0,d=0;d<b.length;d++)if(!b[d].fixedrange){c=!1;break}return c}function e(a){for(var b=0;b<a.length;b++)for(var c=a[b],d=0;d<c.length;d++){var e=c[d];if("string"==typeof e){if(void 0===i[e])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));a[b][d]=i[e]}}return a}var f=require("../../plotly"),g=require("../../traces/scatter/subtypes"),h=require("./"),i=require("./buttons");a.exports=function(a){var b=a._fullLayout,d=a._context,f=b._modeBar;if(!d.displayModeBar)return void(f&&(f.destroy(),delete b._modeBar));if(!Array.isArray(d.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(d.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var g,i=d.modeBarButtons;g=Array.isArray(i)&&i.length?e(i):c(a,d.modeBarButtonsToRemove,d.modeBarButtonsToAdd),f?f.update(a,g):b._modeBar=h(a,g)}},{"../../plotly":365,"../../traces/scatter/subtypes":511,"./":327,"./buttons":326}],329:[function(require,a,b){"use strict";var c=require("../annotations/attributes"),d=require("../../traces/scatter/attributes"),e=require("../../lib/extend").extendFlat,f=d.line;a.exports={_isLinkedToArray:!0,type:{valType:"enumerated",values:["circle","rect","path","line"]},xref:e({},c.xref,{}),x0:{valType:"any"},x1:{valType:"any"},yref:e({},c.yref,{}),y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string"},opacity:{valType:"number",min:0,max:1,dflt:1},line:{color:f.color,width:f.width,dash:f.dash},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"}}},{"../../lib/extend":344,"../../traces/scatter/attributes":493,"../annotations/attributes":296}],330:[function(require,a,b){"use strict";function c(a,b){function c(b,c){return i.Lib.coerce(a,d,k.layoutAttributes,b,c)}var d={};c("opacity"),c("fillcolor"),c("line.color"),c("line.width"),c("line.dash");for(var f=a.path?"path":"rect",g=c("type",f),h=["x","y"],j=0;2>j;j++){var l=h[j],m={_fullLayout:b},n=i.Axes.coerceRef(a,d,m,l);if("path"!==g){var o=.25,p=.75;if("paper"!==n){var q=i.Axes.getFromId(m,n),r=e(q);o=r(q.range[0]+o*(q.range[1]-q.range[0])),p=r(q.range[0]+p*(q.range[1]-q.range[0]))}c(l+"0",o),c(l+"1",p)}}return"path"===g?c("path"):i.Lib.noneOrAll(a,d,["x0","x1","y0","y1"]),d}function d(a){return"category"===a.type?a.c2l:a.d2l}function e(a){return"category"===a.type?a.l2c:a.l2d}function f(a){return function(b){return a(b.replace("_"," "))}}function g(a,b){var c,e,g,h,j=b.type,l=i.Axes.getFromId(a,b.xref),m=i.Axes.getFromId(a,b.yref),n=a._fullLayout._size;if(l?(c=d(l),e=function(a){return l._offset+l.l2p(c(a,!0))}):e=function(a){return n.l+n.w*a},m?(g=d(m),h=function(a){return m._offset+m.l2p(g(a,!0))}):h=function(a){return n.t+n.h*(1-a)},"path"===j)return l&&"date"===l.type&&(e=f(e)),m&&"date"===m.type&&(h=f(h)),k.convertPath(b.path,e,h);var o=e(b.x0),p=e(b.x1),q=h(b.y0),r=h(b.y1);if("line"===j)return"M"+o+","+q+"L"+p+","+r;if("rect"===j)return"M"+o+","+q+"H"+p+"V"+r+"H"+o+"Z";var s=(o+p)/2,t=(q+r)/2,u=Math.abs(s-o),v=Math.abs(t-q),w="A"+u+","+v,x=s+u+","+t,y=s+","+(t-v);return"M"+x+w+" 0 1,1 "+y+w+" 0 0,1 "+x+"Z"}function h(a,b,c,d,e){var g="category"===a.type?Number:a.d2c;if(void 0!==b)return[g(b),g(c)];if(d){var h,i,j,k,n,o=1/0,p=-(1/0),q=d.match(l);for("date"===a.type&&(g=f(g)),h=0;h<q.length;h++)i=q[h],j=e[i.charAt(0)].drawn,void 0!==j&&(k=q[h].substr(1).match(m),!k||k.length<j||(n=g(k[j]),o>n&&(o=n),n>p&&(p=n)));return p>=o?[o,p]:void 0}}var i=require("../../plotly"),j=require("fast-isnumeric"),k=a.exports={};k.layoutAttributes=require("./attributes"),k.supplyLayoutDefaults=function(a,b){for(var d=a.shapes||[],e=b.shapes=[],f=0;f<d.length;f++)e.push(c(d[f]||{},b))},k.drawAll=function(a){var b=a._fullLayout;b._shapelayer.selectAll("path").remove();for(var c=0;c<b.shapes.length;c++)k.draw(a,c)},k.add=function(a){var b=a._fullLayout.shapes.length;i.relayout(a,"shapes["+b+"]","add")},k.draw=function(a,b,f,h){var l,m=a.layout,n=a._fullLayout;if(!j(b)||-1===b){if(!b&&Array.isArray(h))return m.shapes=h,k.supplyLayoutDefaults(m,n),void k.drawAll(a);if("remove"===h)return delete m.shapes,n.shapes=[],void k.drawAll(a);if(f&&"add"!==h){for(l=0;l<n.shapes.length;l++)k.draw(a,l,f,h);return}b=n.shapes.length,n.shapes.push({})}if(!f&&h){if("remove"===h){for(n._shapelayer.selectAll('[data-index="'+b+'"]').remove(),n.shapes.splice(b,1),m.shapes.splice(b,1),l=b;l<n.shapes.length;l++)n._shapelayer.selectAll('[data-index="'+(l+1)+'"]').attr("data-index",String(l)),k.draw(a,l);return}if("add"===h||i.Lib.isPlainObject(h)){n.shapes.splice(b,0,{});var o=i.Lib.isPlainObject(h)?i.Lib.extendFlat({},h):{text:"New text"};for(m.shapes?m.shapes.splice(b,0,o):m.shapes=[o],l=n.shapes.length-1;l>b;l--)n._shapelayer.selectAll('[data-index="'+(l-1)+'"]').attr("data-index",String(l)),k.draw(a,l)}}n._shapelayer.selectAll('[data-index="'+b+'"]').remove();var p=m.shapes[b];if(p){var q={xref:p.xref,yref:p.yref},r={};"string"==typeof f&&f?r[f]=h:i.Lib.isPlainObject(f)&&(r=f);var s=Object.keys(r);for(l=0;l<r.length;l++){var t=s[l];i.Lib.nestedProperty(p,t).set(r[t])}var u=["x0","x1","y0","y1"];for(l=0;4>l;l++){var v=u[l];if(void 0===r[v]&&void 0!==p[v]){var w,x=v.charAt(0),y=i.Axes.getFromId(a,i.Axes.coerceRef(q,{},a,x)),z=i.Axes.getFromId(a,i.Axes.coerceRef(p,{},a,x)),A=p[v];void 0!==r[x+"ref"]&&(y?(w=d(y)(A),A=(w-y.range[0])/(y.range[1]-y.range[0])):A=(A-z.domain[0])/(z.domain[1]-z.domain[0]),z?(w=z.range[0]+A*(z.range[1]-z.range[0]),A=e(z)(w)):A=y.domain[0]+A*(y.domain[1]-y.domain[0])),p[v]=A}}var B=c(p,n);n.shapes[b]=B;var C={"data-index":String(b),"fill-rule":"evenodd",d:g(a,B)},D=(B.xref+B.yref).replace(/paper/g,""),E=B.line.width?B.line.color:"rgba(0,0,0,0)",F=n._shapelayer.append("path").attr(C).style("opacity",B.opacity).call(i.Color.stroke,E).call(i.Color.fill,B.fillcolor).call(i.Drawing.dashLine,B.line.dash,B.line.width);D&&F.call(i.Drawing.setClipUrl,"clip"+n._uid+D)}};var l=/[MLHVQCTSZ][^MLHVQCTSZ]*/g,m=/[^\s,]+/g,n={M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},o={M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},p={M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0};k.convertPath=function(a,b,c){return a.replace(l,function(a){var d=0,e=a.charAt(0),f=n[e],g=o[e],h=p[e],i=a.substr(1).replace(m,function(a){return f[d]?a=b(a):g[d]&&(a=c(a)),d++,d>h&&(a="X"),a});return d>h&&(i=i.replace(/[\s,]*X.*/,""),console.log("ignoring extra params in segment "+a)),e+i})},k.calcAutorange=function(a){var b,c,d,e,f,g=a._fullLayout,j=g.shapes;if(j.length&&a._fullData.length)for(b=0;b<j.length;b++)c=j[b],d=c.line.width/2,"paper"!==c.xref&&(e=i.Axes.getFromId(a,c.xref),f=h(e,c.x0,c.x1,c.path,n),f&&i.Axes.expand(e,f,{ppad:d})),"paper"!==c.yref&&(e=i.Axes.getFromId(a,c.yref),f=h(e,c.y0,c.y1,c.path,o),f&&i.Axes.expand(e,f,{ppad:d}))}},{"../../plotly":365,"./attributes":329,"fast-isnumeric":74}],331:[function(require,a,b){"use strict";var c=require("../../plotly"),d=require("d3"),e=require("fast-isnumeric"),f=c.Plots,g=a.exports={};g.draw=function(a,b){function h(a){c.Lib.syncOrAsync([i,j],a)}function i(b){return b.attr("transform",D?"rotate("+[D.rotate,n.x,n.y]+") translate(0, "+D.offset+")":null),b.style({"font-family":A,"font-size":d.round(B,2)+"px",fill:c.Color.rgb(C),opacity:G*c.Color.opacity(C),"font-weight":f.fontWeight}).attr(n).call(c.util.convertToTspans).attr(n),b.selectAll("tspan.line").attr(n),f.previousPromises(a)}function j(a){var b=d.select(a.node().parentNode);if(E&&E.selection&&E.side&&I){b.attr("transform",null);var f=0,g={left:"right",right:"left",top:"bottom",bottom:"top"}[E.side],h=-1!==["left","top"].indexOf(E.side)?-1:1,i=e(E.pad)?E.pad:2,j=c.Drawing.bBox(b.node()),k={left:0,top:0,right:o.width,bottom:o.height},l=r?o.width:(k[E.side]-j[E.side])*("left"===E.side||"top"===E.side?-1:1);if(0>l?f=l:(j.left-=E.offsetLeft,j.right-=E.offsetLeft,j.top-=E.offsetTop,j.bottom-=E.offsetTop,E.selection.each(function(){var a=c.Drawing.bBox(this);c.Lib.bBoxIntersect(j,a,i)&&(f=Math.max(f,h*(a[E.side]-j[g])+i))}),f=Math.min(l,f)),f>0||0>l){var m={left:[-f,0],right:[f,0],top:[0,-f],bottom:[0,f]}[E.side];b.attr("transform","translate("+m+")")}}}function k(){G=0,H=!0,I=M,o._infolayer.select("."+b).attr({"data-unformatted":I}).text(I).on("mouseover.opacity",function(){d.select(this).transition().duration(100).style("opacity",1)}).on("mouseout.opacity",function(){d.select(this).transition().duration(1e3).style("opacity",0)})}if(!b)return c.Axes.listIds(a).forEach(function(b){g.draw(a,b+"title")}),void g.draw(a,"gtitle");var l,m,n,o=a._fullLayout,p=o._size,q=b.charAt(0),r="cb"===b.substr(1,2);if(r){var s=b.substr(3).replace("title","");a._fullData.some(function(b,c){return b.uid===s?(l=c,m=a.calcdata[c][0].t.cb.axis,!0):void 0})}else m=o[c.Axes.id2name(b.replace("title",""))]||o;var t,u,v,w,x,y=m===o?"title":m._name+".title",z=r?"colorscale":(m._id||q).toUpperCase()+" axis",A=m.titlefont.family,B=m.titlefont.size,C=m.titlefont.color,D="",E={selection:d.select(a).selectAll("g."+m._id+"tick"),side:m.side},F=r?0:1.5;r?(E.offsetLeft=p.l,E.offsetTop=p.t):E.selection.size()&&(x=d.select(E.selection.node().parentNode).attr("transform").match(/translate\(([-\.\d]+),([-\.\d]+)\)/),x&&(E.offsetLeft=+x[1],E.offsetTop=+x[2])),r&&m.titleside?(t=p.l+m.titlex*p.w,u=p.t+(1-m.titley)*p.h+("top"===m.titleside?3+.75*B:-3-.25*B),n={x:t,y:u,"text-anchor":"start"},E={},b="h"+b):"x"===q?(v=m,w="free"===v.anchor?{_offset:p.t+(1-(v.position||0))*p.h,_length:0}:c.Axes.getFromId(a,v.anchor),t=v._offset+v._length/2,u=w._offset+("top"===v.side?-10-B*(F+(v.showticklabels?1:0)):w._length+10+B*(F+(v.showticklabels?1.5:.5))),n={x:t,y:u,"text-anchor":"middle"},E.side||(E.side="bottom")):"y"===q?(w=m,v="free"===w.anchor?{_offset:p.l+(w.position||0)*p.w,_length:0}:c.Axes.getFromId(a,w.anchor),u=w._offset+w._length/2,t=v._offset+("right"===w.side?v._length+10+B*(F+(w.showticklabels?1:.5)):-10-B*(F+(w.showticklabels?.5:0))),n={x:t,y:u,"text-anchor":"middle"},D={rotate:"-90",offset:0},E.side||(E.side="left")):(z="Plot",B=o.titlefont.size,t=o.width/2,u=o._size.t/2,n={x:t,y:u,"text-anchor":"middle"},E={});var G=1,H=!1,I=m.title.trim();""===I&&(G=0),I.match(/Click to enter .+ title/)&&(G=.2,H=!0);var J;if(r){J=d.select(a).selectAll("."+m._id.substr(1)+" .cbtitle");var K="h"===b.charAt(0)?b.substr(1):"h"+b;J.selectAll("."+K+",."+K+"-math-group").remove()}else J=o._infolayer.selectAll(".g-"+b).data([0]),J.enter().append("g").classed("g-"+b,!0);var L=J.selectAll("text").data([0]);L.enter().append("text"),L.text(I).attr("class",b),L.attr({"data-unformatted":I}).call(h);var M="Click to enter "+z.replace(/\d+/,"")+" title";a._context.editable?(I||k(),L.call(c.util.makeEditable).on("edit",function(b){if(r){var d=a._fullData[l];f.traceIs(d,"markerColorscale")?c.restyle(a,"marker.colorbar.title",b,l):c.restyle(a,"colorbar.title",b,l)}else c.relayout(a,y,b)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(h)}).on("input",function(a){this.text(a||" ").attr(n).selectAll("tspan.line").attr(n)})):(!I||I.match(/Click to enter .+ title/))&&L.remove(),L.classed("js-placeholder",H)}},{"../../plotly":365,d3:70,"fast-isnumeric":74}],332:[function(require,a,b){"use strict";a.exports={DZA:"algeria",AGO:"angola",EGY:"egypt",BGD:"bangladesh|^(?=.*east).*paki?stan",NER:"\\bniger(?!ia)",LIE:"liechtenstein",NAM:"namibia",BGR:"bulgaria",BOL:"bolivia",GHA:"ghana|gold.?coast",CCK:"\\bcocos|keeling",PAK:"^(?!.*east).*paki?stan",CPV:"verde",JOR:"jordan",LBR:"liberia",LBY:"libya",MYS:"malaysia",IOT:"british.?indian.?ocean",PRI:"puerto.?rico",MYT:"mayotte",PRK:"^(?=.*democrat).*\\bkorea|^(?=.*people).*\\bkorea|^(?=.*north).*\\bkorea|\\bd\\.?p\\.?r\\.?k",PSE:"palestin|\\bgaza|west.?bank",TZA:"tanzania",BWA:"botswana|bechuana",KHM:"cambodia|kampuchea|khmer|^p\\.?r\\.?k\\.?$",UMI:"minor.?outlying.?is",TTO:"trinidad|tobago",PRY:"paraguay",HKG:"hong.?kong",SAU:"\\bsa\\w*.?arabia",LBN:"lebanon",SVN:"slovenia",BFA:"burkina|\\bfaso|upper.?volta",SVK:"^(?!.*cze).*slovak",MRT:"mauritania",HRV:"croatia",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai).*china|^p\\.?r\\.?c\\.?$",KNA:"kitts|\\bnevis",JAM:"jamaica",SMR:"san.?marino",GIB:"gibraltar",DJI:"djibouti",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",FIN:"finland",URY:"uruguay",VAT:"holy.?see|vatican|papal.?st",STP:"\\bs(a|)o.?tom(e|)",SYC:"seychell",NPL:"nepal",CXR:"christmas",LAO:"\\blaos?\\b",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",BVT:"bouvet",ZAF:"\\bs\\w*.?africa",KIR:"kiribati",PHL:"philippines",SXM:"^(?!.*martin)(?!.*saba).*maarten",ROU:"r(o|u|ou)mania",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",SYR:"syria",MAC:"maca(o|u)",NFK:"norfolk",NIC:"nicaragua",MLT:"\\bmalta",KAZ:"kazak",TCA:"turks",PYF:"french.?polynesia|tahiti",NIU:"niue",DMA:"dominica(?!n)",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",BEN:"benin|dahome",GUF:"^(?=.*french).*guiana",BEL:"^(?!.*luxem).*belgium",MSR:"montserrat",TGO:"togo",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GUM:"\\bguam",LKA:"sri.?lanka|ceylon",SSD:"\\bs\\w*.?sudan",FLK:"falkland|malvinas",PCN:"pitcairn",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",GUY:"guyana|british.?guiana",CRI:"costa.?rica",COK:"\\bcook",MAR:"morocco|\\bmaroc",MNP:"mariana",LSO:"lesotho|basuto",HUN:"^(?!.*austr).*hungary",TKM:"turkmen",SUR:"surinam|dutch.?guiana",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",BMU:"bermuda",HMD:"heard.*mcdonald",TCD:"\\bchad",GEO:"^(?!.*south).*georgia",MNE:"^(?!.*serbia).*montenegro",MNG:"mongolia",MHL:"marshall",MTQ:"martinique",CSK:"czechoslovakia",BLZ:"belize|^(?=.*british).*honduras",DDR:"german.?democratic.?republic|^(d|g)\\.?d\\.?r\\.?$|^(?=.*east).*germany",MMR:"myanmar|burma",AFG:"afghan",BDI:"burundi",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",BLR:"belarus|byelo",BLM:"barth(e|)lemy",GRD:"grenada",TKL:"tokelau",GRC:"greece|hellenic|hellas",GRL:"greenland",SHN:"helena",AND:"andorra",MOZ:"mozambique",TJK:"tajik",THA:"thailand|\\bsiam",HTI:"haiti",MEX:"\\bmexic",ANT:"^(?=.*\\bant).*(nether|dutch)",ZWE:"zimbabwe|^(?!.*northern).*rhodesia",LCA:"\\blucia",IND:"india(?!.*ocea)",LVA:"latvia",BTN:"bhutan",VCT:"vincent",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",NOR:"norway",CZE:"^(?=.*rep).*czech|czechia|bohemia",ATF:"french.?southern|\\bfr.*\\bso.*\\ban.*\\b\\bt",ATG:"antigua",FJI:"fiji",HND:"^(?!.*brit).*honduras",MUS:"mauritius",DOM:"dominican",LUX:"^(?!.*belg).*luxem",ISR:"israel",YUG:"yugoslavia",FSM:"micronesia",PER:"peru",REU:"r(e|)union",IDN:"indonesia",VUT:"vanuatu|new.?hebrides",MKD:"macedonia|^f\\.?y\\.?r\\.?o\\.?m\\.?$",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bdr|\\bdr.*congo|\\bd\\.?r\\.?c|\\bd\\.?r\\.?o\\.?c|\\br\\.?d\\.?c|belgian.?congo|congo.?free.?state|kinshasa|zaire|l\\w{1,2}opoldville",COG:"^(?!.*\\bdem)(?!.*\\bdr)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l\\w{1,2}opoldville)(?!.*free).*\\bcongo",ISL:"iceland",GLP:"guadeloupe",ETH:"ethiopia|abyssinia",COM:"comoro",COL:"colombia",NGA:"nigeria",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TWN:"taiwan|taipei|formosa",PRT:"portugal",MDA:"moldov|b(a|e)ssarabia",GGY:"guernsey",MDG:"madagascar|malagasy",ATA:"antarctica",ECU:"ecuador",SEN:"senegal",ESH:"sahara",MDV:"maldive",ASM:"^(?=.*americ).*samoa",SPM:"miquelon",CUW:"^(?!.*bonaire).*\\bcura(c|)ao",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",LTU:"lithuania",RWA:"rwanda",ZMB:"zambia|northern.?rhodesia",GMB:"gambia",WLF:"futuna|wallis",JEY:"jersey",FRO:"faroe|faeroe",GTM:"guatemala",DNK:"denmark",IMN:"^(?=.*isle).*\\bman",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baust.*\\bemp",SJM:"svalbard",VEN:"venezuela",PLW:"palau",KEN:"kenya|british.?east.?africa|east.?africa.?prot",TUR:"turkey",ALB:"albania",OMN:"\\boman|trucial",TUV:"tuvalu",ALA:"\\b(a|)land",BRN:"brunei",TUN:"tunisia",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",BRB:"barbados",BRA:"brazil",CIV:"ivoire|ivory",SRB:"^(?!.*monte).*serbia",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",USA:"^(?!.*islands).*united.?states|^u\\.?s\\.?a\\.?$|^u\\.?s\\.?$",QAT:"qatar",WSM:"^(?!.*amer).*samoa",AZE:"azerbaijan",GNB:"bissau|^(?=.*portu).*guinea",SWZ:"swaziland",TON:"tonga",CAN:"canada",UKR:"ukrain",KOR:"^(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea|\\br\\.?o\\.?k\\b",AIA:"anguill?a",CAF:"\\bcen.*\\baf|^c\\.?a\\.?r\\.?$",CHE:"switz|swiss",CYP:"cyprus",BIH:"herzegovina|bosnia",SGP:"singapore",SGS:"south.?georgia|sandwich",SOM:"somali",UZB:"uzbek",CMR:"cameroon",POL:"poland",EAZ:"zanz",KWT:"kuwait",ERI:"eritrea",GAB:"gabon",CYM:"cayman",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",EST:"estonia",MWI:"malawi|nyasa",ESP:"spain",IRQ:"\\biraq|mesopotamia",SLV:"el.?salvador",MLI:"\\bmali\\b",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",IRL:"ireland",IRN:"\\biran|persia",ABW:"^(?!.*bonaire).*\\baruba",SLE:"sierra",PAN:"panama",SDN:"^(?!.*\\bs(?!u)).*sudan",SLB:"solomon",NZL:"new.?zealand",MCO:"monaco",ITA:"italy",JPN:"japan",KGZ:"kyrgyz|kirghiz",UGA:"uganda",NCL:"new.?caledonia",PNG:"papua|\\bp.*\\bn.*\\bguin.*|^p\\.?n\\.?g\\.?$|new.?guinea",ARG:"argentin",SWE:"sweden",BHS:"bahamas",BHR:"bahrain",ARM:"armenia",NRU:"nauru",CUB:"\\bcuba"}},{}],333:[function(require,a,b){"use strict";var c=a.exports={};c.projNames={equirectangular:"equirectangular",mercator:"mercator",orthographic:"orthographic","natural earth":"naturalEarth",kavrayskiy7:"kavrayskiy7",miller:"miller",robinson:"robinson",eckert4:"eckert4","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant","conic equal area":"conicEqualArea","conic conformal":"conicConformal","conic equidistant":"conicEquidistant",gnomonic:"gnomonic",stereographic:"stereographic",mollweide:"mollweide",hammer:"hammer","transverse mercator":"transverseMercator","albers usa":"albersUsa"},c.axesNames=["lonaxis","lataxis"],c.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},c.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},c.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,80],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},c.clipPad=.001,c.precision=.1,c.landColor="#F0DC82",c.waterColor="#3399FF",c.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},c.sphereSVG={type:"Sphere"},c.fillLayers=["ocean","land","lakes"],c.lineLayers=["subunits","countries","coastlines","rivers","frame"],c.baseLayers=["ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame"],c.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"},c.baseLayersOverChoropleth=["rivers","lakes"]},{}],334:[function(require,a,b){"use strict";a.exports={solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}},{}],335:[function(require,a,b){"use strict";a.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},{}],336:[function(require,a,b){"use strict";a.exports={circle:"","circle-open":"",square:"","square-open":"",diamond:"","diamond-open":"",cross:"+",x:""}},{}],337:[function(require,a,b){"use strict";b.xmlns="http://www.w3.org/2000/xmlns/",b.svg="http://www.w3.org/2000/svg",b.xlink="http://www.w3.org/1999/xlink",b.svgAttrs={xmlns:b.svg,"xmlns:xlink":b.xlink}},{}],338:[function(require,a,b){"use strict";var c=require("./plotly");b.version="1.5.1",b.plot=c.plot,b.newPlot=c.newPlot,b.restyle=c.restyle,b.relayout=c.relayout,b.redraw=c.redraw,b.extendTraces=c.extendTraces,b.prependTraces=c.prependTraces,b.addTraces=c.addTraces,b.deleteTraces=c.deleteTraces,b.moveTraces=c.moveTraces,b.setPlotConfig=require("./plot_api/set_plot_config"),b.register=c.register,b.Icons=require("../build/ploticon"),b.Plots=c.Plots,b.Fx=c.Fx,b.Snapshot=c.Snapshot,b.PlotSchema=c.PlotSchema,b.Queue=c.Queue,b.d3=require("d3")},{"../build/ploticon":2,"./plot_api/set_plot_config":364,"./plotly":365,d3:70}],339:[function(require,a,b){"use strict";"undefined"!=typeof MathJax?(b.MathJax=!0,MathJax.Hub.Config({messageStyle:"none",skipStartupTypeset:!0,displayAlign:"left",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}}),MathJax.Hub.Configured()):b.MathJax=!1},{}],340:[function(require,a,b){"use strict";a.exports=function(a,b,c,d){Array.isArray(a)&&(b[c]=a[d])}},{}],341:[function(require,a,b){"use strict";var c=require("fast-isnumeric"),d=require("tinycolor2"),e=require("./nested_property"),f=require("../components/colorscale/get_scale");Object.keys(require("../components/colorscale/scales"));b.valObjects={data_array:{coerceFunction:function(a,b,c){Array.isArray(a)?b.set(a):void 0!==c&&b.set(c)}},enumerated:{coerceFunction:function(a,b,c,d){d.coerceNumber&&(a=+a),-1===d.values.indexOf(a)?b.set(c):b.set(a)}},"boolean":{coerceFunction:function(a,b,c){a===!0||a===!1?b.set(a):b.set(c)}},number:{coerceFunction:function(a,b,d,e){!c(a)||void 0!==e.min&&a<e.min||void 0!==e.max&&a>e.max?b.set(d):b.set(+a)}},integer:{coerceFunction:function(a,b,d,e){a%1||!c(a)||void 0!==e.min&&a<e.min||void 0!==e.max&&a>e.max?b.set(d):b.set(+a)}},string:{coerceFunction:function(a,b,c,d){if(d.strict===!0&&"string"!=typeof a)return void b.set(c);var e=String(a);
void 0===a||d.noBlank===!0&&!e?b.set(c):b.set(e)}},color:{coerceFunction:function(a,b,c){d(a).isValid()?b.set(a):b.set(c)}},colorscale:{coerceFunction:function(a,b,c){b.set(f(a,c))}},angle:{coerceFunction:function(a,b,d){"auto"===a?b.set("auto"):c(a)?(Math.abs(a)>180&&(a-=360*Math.round(a/360)),b.set(+a)):b.set(d)}},axisid:{coerceFunction:function(a,b,c){if("string"==typeof a&&a.charAt(0)===c){var d=Number(a.substr(1));if(d%1===0&&d>1)return void b.set(a)}b.set(c)}},sceneid:{coerceFunction:function(a,b,c){if("string"==typeof a&&a.substr(0,5)===c){var d=Number(a.substr(5));if(d%1===0&&d>1)return void b.set(a)}b.set(c)}},geoid:{coerceFunction:function(a,b,c){if("string"==typeof a&&a.substr(0,3)===c){var d=Number(a.substr(3));if(d%1===0&&d>1)return void b.set(a)}b.set(c)}},flaglist:{coerceFunction:function(a,b,c,d){if("string"!=typeof a)return void b.set(c);if(-1!==d.extras.indexOf(a))return void b.set(a);for(var e=a.split("+"),f=0;f<e.length;){var g=e[f];-1===d.flags.indexOf(g)||e.indexOf(g)<f?e.splice(f,1):f++}e.length?b.set(e.join("+")):b.set(c)}},any:{coerceFunction:function(a,b,c){void 0===a?b.set(c):b.set(a)}},info_array:{coerceFunction:function(a,c,d,e){if(!Array.isArray(a))return void c.set(d);var f=e.items,g=[];d=Array.isArray(d)?d:[];for(var h=0;h<f.length;h++)b.coerce(a,g,f,"["+h+"]",d[h]);c.set(g)}}},b.coerce=function(a,c,d,f,g){var h=e(d,f).get(),i=e(a,f),j=e(c,f),k=i.get();return void 0===g&&(g=h.dflt),h.arrayOk&&Array.isArray(k)?(j.set(k),k):(b.valObjects[h.valType].coerceFunction(k,j,g,h),j.get())},b.coerce2=function(a,c,d,f,g){var h=e(a,f),i=b.coerce(a,c,d,f,g);return h.get()?i:!1},b.coerceFont=function(a,b,c){var d={};return c=c||{},d.family=a(b+".family",c.family),d.size=a(b+".size",c.size),d.color=a(b+".color",c.color),d}},{"../components/colorscale/get_scale":310,"../components/colorscale/scales":316,"./nested_property":351,"fast-isnumeric":74,tinycolor2:229}],342:[function(require,a,b){"use strict";function c(a,b){return String(a+Math.pow(10,b)).substr(1)}function d(a){var b;return b=r.test(a)?"Y":"y",b+=s.test(a)?"b":""}function e(a){var b;return b=u.test(a)?t.test(a)?"I":"H":"D"}var f=require("d3"),g=require("fast-isnumeric");b.dateTime2ms=function(a){try{if(a.getTime)return+a}catch(b){return!1}var c,d,e,f,h=String(a).split(" ");if(h.length>2)return!1;var i=h[0].split("-");if(i.length>3||3!==i.length&&h[1])return!1;if(4===i[0].length)c=Number(i[0]);else{if(2!==i[0].length)return!1;var j=(new Date).getFullYear();c=((Number(i[0])-j+70)%100+200)%100+j-70}return g(c)?1===i.length?new Date(c,0,1).getTime():(d=Number(i[1])-1,i[1].length>2||!(d>=0&&11>=d)?!1:2===i.length?new Date(c,d,1).getTime():(e=Number(i[2]),i[2].length>2||!(e>=1&&31>=e)?!1:(e=new Date(c,d,e).getTime(),h[1]?(i=h[1].split(":"),i.length>3?!1:(f=Number(i[0]),i[0].length>2||!(f>=0&&23>=f)?!1:(e+=36e5*f,1===i.length?e:(d=Number(i[1]),i[1].length>2||!(d>=0&&59>=d)?!1:(e+=6e4*d,2===i.length?e:(a=Number(i[2]),a>=0&&60>a?e+1e3*a:!1)))))):e))):!1},b.isDateTime=function(a){return b.dateTime2ms(a)!==!1},b.ms2DateTime=function(a,b){if("undefined"==typeof f)return void console.log("d3 is not defined");b||(b=0);var d=new Date(a),e=f.time.format("%Y-%m-%d")(d);return 7776e6>b?(e+=" "+c(d.getHours(),2),432e6>b&&(e+=":"+c(d.getMinutes(),2),108e5>b&&(e+=":"+c(d.getSeconds(),2),3e5>b&&(e+="."+c(d.getMilliseconds(),3)))),e.replace(/([:\s]00)*\.?[0]*$/,"")):e};var h={H:["%H:%M:%S~%L","%H:%M:%S","%H:%M"],I:["%I:%M:%S~%L%p","%I:%M:%S%p","%I:%M%p"],D:["%H","%I%p","%Hh"]},i={Y:["%Y~%m~%d","%Y%m%d","%y%m%d","%m~%d~%Y","%d~%m~%Y"],Yb:["%b~%d~%Y","%d~%b~%Y","%Y~%d~%b","%Y~%b~%d"],y:["%m~%d~%y","%d~%m~%y","%y~%m~%d"],yb:["%b~%d~%y","%d~%b~%y","%y~%d~%b","%y~%b~%d"]},j=f.time.format.utc,k={Y:{H:["%Y~%m~%dT%H:%M:%S","%Y~%m~%dT%H:%M:%S~%L"].map(j),I:[],D:["%Y%m%d%H%M%S","%Y~%m","%m~%Y"].map(j)},Yb:{H:[],I:[],D:["%Y~%b","%b~%Y"].map(j)},y:{H:[],I:[],D:[]},yb:{H:[],I:[],D:[]}};["Y","Yb","y","yb"].forEach(function(a){i[a].forEach(function(b){k[a].D.push(j(b)),["H","I","D"].forEach(function(c){h[c].forEach(function(d){var e=k[a][c];e.push(j(b+"~"+d)),e.push(j(d+"~"+b))})})})});var l=/[a-z]*/g,m=function(a){return a.substr(0,3)},n=/(mon|tue|wed|thu|fri|sat|sun|the|of|st|nd|rd|th)/g,o=/[\s,\/\-\.\(\)]+/g,p=/~?([ap])~?m(~|$)/,q=function(a,b){return b+"m "},r=/\d\d\d\d/,s=/(^|~)[a-z]{3}/,t=/[ap]m/,u=/:/,v=/q([1-4])/,w=["31~mar","30~jun","30~sep","31~dec"],x=function(a,b){return w[b-1]},y=/ ?([+\-]\d\d:?\d\d|Z)$/;b.parseDate=function(a){if(a.getTime)return a;if("string"!=typeof a)return!1;a=a.toLowerCase().replace(l,m).replace(n,"").replace(o,"~").replace(p,q).replace(v,x).trim().replace(y,"");var b,c,f=null,g=d(a),h=e(a);b=k[g][h],c=b.length;for(var i=0;c>i&&!(f=b[i].parse(a));i++);if(!(f instanceof Date))return!1;var j=f.getTimezoneOffset();return f.setTime(f.getTime()+60*j*1e3),f}},{d3:70,"fast-isnumeric":74}],343:[function(require,a,b){"use strict";var c=require("events").EventEmitter,d={init:function(a){if(a._ev instanceof c)return a;var b=new c;return a._ev=b,a.on=b.on.bind(b),a.once=b.once.bind(b),a.removeListener=b.removeListener.bind(b),a.removeAllListeners=b.removeAllListeners.bind(b),a.emit=function(c,d){"undefined"!=typeof $&&$(a).trigger(c,d),b.emit(c,d)},a},triggerHandler:function(a,b,c){var d,e;"undefined"!=typeof $&&(d=$(a).triggerHandler(b,c));var f=a._ev;if(!f)return d;var g=f._events[b];if(!g)return d;"function"==typeof g&&(g=[g]);for(var h=g.pop(),i=0;i<g.length;i++)g[i](c);return e=h(c),void 0!==d?d:e}};a.exports=d},{events:54}],344:[function(require,a,b){"use strict";function c(a,b,f){for(var g,h,i,j,k,l,m=a[0],n=a.length,o=1;n>o;o++){g=a[o];for(h in g)i=m[h],j=g[h],b&&j&&(d(j)||(k=e(j)))?(k?(k=!1,l=i&&e(i)?i:[]):l=i&&d(i)?i:{},m[h]=c([l,j],b,f)):("undefined"!=typeof j||f)&&(m[h]=j)}return m}var d=require("./is_plain_object.js"),e=Array.isArray;b.extendFlat=function(){return c(arguments,!1,!1)},b.extendDeep=function(){return c(arguments,!0,!1)},b.extendDeepAll=function(){return c(arguments,!0,!0)}},{"./is_plain_object.js":349}],345:[function(require,a,b){"use strict";function c(a,b){var c=i[a];return c(b)}function d(a){for(var b,c,d=0;d<h.length;d++)if(b=h[d],c=new RegExp(g[b]),c.test(a.toLowerCase()))return b;console.warn("unrecognized country name: "+a+".")}var e=a.exports={},f=require("../plotly"),g=require("../constants/country-name_to_iso3"),h=Object.keys(g),i={"ISO-3":f.Lib.identity,"USA-states":f.Lib.identity,"country names":d};e.locationToFeature=function(a,b,d){for(var e,f=c(a,b),g=0;g<d.length;g++)if(e=d[g],e.id===f)return e;console.warn(["location with id",f,"does not have a matching topojson feature at this resolution."].join(" "))}},{"../constants/country-name_to_iso3":332,"../plotly":365}],346:[function(require,a,b){"use strict";function c(a,b){var c=j(a);return c[3]*=b,c}function d(a){return h(a).isValid()?a:k}function e(a){return i(a)?a:l}function f(a,b,f){var h,i,j,m,n,o=a.color,p=Array.isArray(o),q=Array.isArray(b),r=[];if(h=void 0!==a.colorscale?g.Colorscale.makeScaleFunction(a.colorscale,a.cmin,a.cmax):d,i=p?function(a,b){return void 0===a[b]?k:h(a[b])}:d,j=q?function(a,b){return void 0===a[b]?l:e(a[b])}:e,p||q)for(var s=0;f>s;s++)m=i(o,s),n=j(b,s),r[s]=c(m,n);else r=c(o,b);return r}var g=require("../plotly"),h=require("tinycolor2"),i=require("fast-isnumeric"),j=require("./str2rgbarray"),k=require("../components/color/attributes").defaultLine,l=1;a.exports=f},{"../components/color/attributes":298,"../plotly":365,"./str2rgbarray":358,"fast-isnumeric":74,tinycolor2:229}],347:[function(require,a,b){"use strict";function c(a){for(var b=0;(b=a.indexOf("<sup>",b))>=0;){var c=a.indexOf("</sup>",b);if(b>c)break;a=a.slice(0,b)+h(a.slice(b+5,c))+a.slice(c+6)}return a}function d(a){return a.replace(/\<br\>/g,"\n")}function e(a){return a.replace(/\<.*\>/g,"")}function f(a){for(var b=0;(b=a.indexOf("&",b))>=0;){var c=a.indexOf(";",b);if(b>c)b+=1;else{var d=i[a.slice(b+1,c)];a=d?a.slice(0,b)+d+a.slice(c+1):a.slice(0,b)+a.slice(c+1)}}return a}function g(a){return""+f(e(c(d(a))))}var h=require("superscript-text"),i={mu:"",amp:"&",lt:"<",gt:">"};a.exports=g},{"superscript-text":218}],348:[function(require,a,b){"use strict";var c=require("d3"),d=a.exports={};d.nestedProperty=require("./nested_property"),d.isPlainObject=require("./is_plain_object");var e=require("./coerce");d.valObjects=e.valObjects,d.coerce=e.coerce,d.coerce2=e.coerce2,d.coerceFont=e.coerceFont;var f=require("./dates");d.dateTime2ms=f.dateTime2ms,d.isDateTime=f.isDateTime,d.ms2DateTime=f.ms2DateTime,d.parseDate=f.parseDate;var g=require("./search");d.findBin=g.findBin,d.sorterAsc=g.sorterAsc,d.sorterDes=g.sorterDes,d.distinctVals=g.distinctVals,d.roundUp=g.roundUp;var h=require("./stats");d.aggNums=h.aggNums,d.len=h.len,d.mean=h.mean,d.variance=h.variance,d.stdev=h.stdev,d.interp=h.interp;var i=require("./matrix");d.init2dArray=i.init2dArray,d.transposeRagged=i.transposeRagged,d.dot=i.dot,d.translationMatrix=i.translationMatrix,d.rotationMatrix=i.rotationMatrix,d.rotationXYMatrix=i.rotationXYMatrix,d.apply2DTransform=i.apply2DTransform,d.apply2DTransform2=i.apply2DTransform2;var j=require("./extend");d.extendFlat=j.extendFlat,d.extendDeep=j.extendDeep,d.extendDeepAll=j.extendDeepAll,d.notifier=require("./notifier"),d.swapAttrs=function(a,b,c,e){c||(c="x"),e||(e="y");for(var f=0;f<b.length;f++){var g=b[f],h=d.nestedProperty(a,g.replace("?",c)),i=d.nestedProperty(a,g.replace("?",e)),j=h.get();h.set(i.get()),i.set(j)}},d.pauseEvent=function(a){return a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.cancelBubble=!0,!1},d.VERBOSE=!1,d.TIMER=(new Date).getTime(),d.log=function(){d.VERBOSE&&console.log.apply(console,arguments)},d.markTime=function(a){if(d.VERBOSE){var b=(new Date).getTime();console.log(a,b-d.TIMER,"(msec)"),"trace"===d.VERBOSE&&console.trace(),d.TIMER=b}},d.constrain=function(a,b,c){return b>c?Math.max(c,Math.min(b,a)):Math.max(b,Math.min(c,a))},d.bBoxIntersect=function(a,b,c){return c=c||0,a.left<=b.right+c&&b.left<=a.right+c&&a.top<=b.bottom+c&&b.top<=a.bottom+c},d.identity=function(a){return a},d.randstr=function k(a,b,c){if(c||(c=16),void 0===b&&(b=24),0>=b)return"0";var d,e,f,g=Math.log(Math.pow(2,b))/Math.log(c),h="";for(d=2;g===1/0;d*=2)g=Math.log(Math.pow(2,b/d))/Math.log(c)*d;var i=g-Math.floor(g);for(d=0;d<Math.floor(g);d++)f=Math.floor(Math.random()*c).toString(c),h=f+h;i&&(e=Math.pow(c,i),f=Math.floor(Math.random()*e).toString(c),h=f+h);var j=parseInt(h,c);return a&&a.indexOf(h)>-1||j!==1/0&&j>=Math.pow(2,b)?k(a,b,c):h},d.OptionControl=function(a,b){a||(a={}),b||(b="opt");var c={};return c.optionList=[],c._newoption=function(d){d[b]=a,c[d.name]=d,c.optionList.push(d)},c["_"+b]=a,c},d.smooth=function(a,b){if(b=Math.round(b)||0,2>b)return a;var c,d,e,f,g=a.length,h=2*g,i=2*b-1,j=new Array(i),k=new Array(g);for(c=0;i>c;c++)j[c]=(1-Math.cos(Math.PI*(c+1)/b))/(2*b);for(c=0;g>c;c++){for(f=0,d=0;i>d;d++)e=c+d+1-b,-g>e?e-=h*Math.round(e/h):e>=h&&(e-=h*Math.floor(e/h)),0>e?e=-1-e:e>=g&&(e=h-1-e),f+=a[e]*j[d];k[c]=f}return k},d.promiseError=function(a){console.log(a,a.stack)},d.syncOrAsync=function(a,b,c){function e(){return d.markTime("async done "+g.name),d.syncOrAsync(a,b,c)}for(var f,g;a.length;){if(g=a.splice(0,1)[0],f=g(b),f&&f.then)return f.then(e).then(void 0,d.promiseError);d.markTime("sync done "+g.name)}return c&&c(b)},d.stripTrailingSlash=function(a){return"/"===a.substr(-1)?a.substr(0,a.length-1):a},d.noneOrAll=function(a,b,c){if(a){var d,e,f=!1,g=!0;for(d=0;d<c.length;d++)e=a[c[d]],void 0!==e&&null!==e?f=!0:g=!1;if(f&&!g)for(d=0;d<c.length;d++)a[c[d]]=b[c[d]]}},d.mergeArray=function(a,b,c){if(Array.isArray(a))for(var d=Math.min(a.length,b.length),e=0;d>e;e++)b[e][c]=a[e]},d.minExtend=function(a,b){var c={};"object"!=typeof b&&(b={});var e,f,g,h=3,i=Object.keys(a);for(e=0;e<i.length;e++)f=i[e],g=a[f],"_"!==f.charAt(0)&&"function"!=typeof g&&("module"===f?c[f]=g:Array.isArray(g)?c[f]=g.slice(0,h):g&&"object"==typeof g?c[f]=d.minExtend(a[f],b[f]):c[f]=g);for(i=Object.keys(b),e=0;e<i.length;e++)f=i[e],g=b[f],"object"==typeof g&&f in c&&"object"==typeof c[f]||(c[f]=g);return c},d.titleCase=function(a){return a.charAt(0).toUpperCase()+a.substr(1)},d.containsAny=function(a,b){for(var c=0;c<b.length;c++)if(-1!==a.indexOf(b[c]))return!0;return!1},d.getPlotDiv=function(a){for(;a&&a.removeAttribute;a=a.parentNode)if(d.isPlotDiv(a))return a},d.isPlotDiv=function(a){var b=c.select(a);return b.size()&&b.classed("js-plotly-plot")},d.removeElement=function(a){var b=a&&a.parentNode;b&&b.removeChild(a)},d.addStyleRule=function(a,b){if(!d.styleSheet){var c=document.createElement("style");c.appendChild(document.createTextNode("")),document.head.appendChild(c),d.styleSheet=c.sheet}var e=d.styleSheet;e.insertRule?e.insertRule(a+"{"+b+"}",0):e.addRule?e.addRule(a,b,0):console.warn("addStyleRule failed")},d.isIE=function(){return"undefined"!=typeof window.navigator.msSaveBlob}},{"./coerce":341,"./dates":342,"./extend":344,"./is_plain_object":349,"./matrix":350,"./nested_property":351,"./notifier":352,"./search":355,"./stats":357,d3:70}],349:[function(require,a,b){"use strict";a.exports=function(a){return"[object Object]"===Object.prototype.toString.call(a)&&Object.getPrototypeOf(a)===Object.prototype}},{}],350:[function(require,a,b){"use strict";b.init2dArray=function(a,b){for(var c=new Array(a),d=0;a>d;d++)c[d]=new Array(b);return c},b.transposeRagged=function(a){var b,c,d=0,e=a.length;for(b=0;e>b;b++)d=Math.max(d,a[b].length);var f=new Array(d);for(b=0;d>b;b++)for(f[b]=new Array(e),c=0;e>c;c++)f[b][c]=a[c][b];return f},b.dot=function(a,c){if(!a.length||!c.length||a.length!==c.length)return null;var d,e,f=a.length;if(a[0].length)for(d=new Array(f),e=0;f>e;e++)d[e]=b.dot(a[e],c);else if(c[0].length){var g=b.transposeRagged(c);for(d=new Array(g.length),e=0;e<g.length;e++)d[e]=b.dot(a,g[e])}else for(d=0,e=0;f>e;e++)d+=a[e]*c[e];return d},b.translationMatrix=function(a,b){return[[1,0,a],[0,1,b],[0,0,1]]},b.rotationMatrix=function(a){var b=a*Math.PI/180;return[[Math.cos(b),-Math.sin(b),0],[Math.sin(b),Math.cos(b),0],[0,0,1]]},b.rotationXYMatrix=function(a,c,d){return b.dot(b.dot(b.translationMatrix(c,d),b.rotationMatrix(a)),b.translationMatrix(-c,-d))},b.apply2DTransform=function(a){return function(){var c=arguments;3===c.length&&(c=c[0]);var d=1===arguments.length?c[0]:[c[0],c[1]];return b.dot(a,[d[0],d[1],1]).slice(0,2)}},b.apply2DTransform2=function(a){var c=b.apply2DTransform(a);return function(a){return c(a.slice(0,2)).concat(c(a.slice(2,4)))}}},{}],351:[function(require,a,b){"use strict";function c(a,b){return function(){var d,e,f,g,h,i=a;for(g=0;g<b.length-1;g++){if(d=b[g],-1===d){for(e=!0,f=[],h=0;h<i.length;h++)f[h]=c(i[h],b.slice(g+1))(),f[h]!==f[0]&&(e=!1);return e?f[0]:f}if("number"==typeof d&&!Array.isArray(i))return;if(i=i[d],"object"!=typeof i||null===i)return}if("object"==typeof i&&null!==i&&(f=i[b[g]],null!==f))return f}}function d(a,b){var c=["annotations","shapes","range","domain"],d=-1===c.indexOf(b);return Array.isArray(a)&&d}function e(a,b){return function(c){var e,j,k=a,l=[a],m=i(c)&&!d(c,b[b.length-1]);for(j=0;j<b.length-1;j++){if(e=b[j],"number"==typeof e&&!Array.isArray(k))throw"array index but container is not an array";if(-1===e){if(m=!f(k,b.slice(j+1),c))break;return}if(!g(k,e,b[j+1],m))break;if(k=k[e],"object"!=typeof k||null===k)throw"container is not an object";l.push(k)}m?(j===b.length-1&&delete k[b[j]],h(l)):k[b[j]]=c}}function f(a,b,c){var d,f=Array.isArray(c),h=!0,j=c,k=f?!1:i(c),l=b[0];for(d=0;d<a.length;d++)f&&(j=c[d%c.length],k=i(j)),k&&(h=!1),g(a,d,l,k)&&e(a[d],b)(j);return h}function g(a,b,c,d){if(void 0===a[b]){if(d)return!1;"number"==typeof c?a[b]=[]:a[b]={}}return!0}function h(a){var b,c,e,f,g;for(b=a.length-1;b>=0;b--){if(e=a[b],g=!1,Array.isArray(e))for(c=e.length-1;c>=0;c--)i(e[c])?g?e[c]=void 0:e.pop():g=!0;else if("object"==typeof e&&null!==e)for(f=Object.keys(e),g=!1,c=f.length-1;c>=0;c--)i(e[f[c]])&&!d(e[f[c]],f[c])?delete e[f[c]]:g=!0;if(g)return}}function i(a){return void 0===a||null===a?!0:"object"!=typeof a?!1:Array.isArray(a)?!a.length:!Object.keys(a).length}function j(a,b,c){return{set:function(){throw"bad container"},get:function(){},astr:b,parts:c,obj:a}}var k=require("fast-isnumeric");a.exports=function(a,b){if(k(b))b=String(b);else if("string"!=typeof b||"[-1]"===b.substr(b.length-4))throw"bad property string";for(var d,f,g,h=0,i=b.split(".");h<i.length;){if(d=String(i[h]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(d[1])i[h]=d[1];else{if(0!==h)throw"bad property string";i.splice(0,1)}for(f=d[2].substr(1,d[2].length-2).split("]["),g=0;g<f.length;g++)h++,i.splice(h,0,Number(f[g]))}h++}return"object"!=typeof a?j(a,b,i):{set:e(a,i),get:c(a,i),astr:b,parts:i,obj:a}}},{"fast-isnumeric":74}],352:[function(require,a,b){"use strict";var c=require("d3"),d=require("fast-isnumeric"),e=[];a.exports=function(a,b){function f(a){a.duration(700).style("opacity",0).each("end",function(a){var b=e.indexOf(a);-1!==b&&e.splice(b,1),c.select(this).remove()})}if(-1===e.indexOf(a)){e.push(a);var g=1e3;d(b)?g=b:"long"===b&&(g=3e3);var h=c.select("body").selectAll(".plotly-notifier").data([0]);h.enter().append("div").classed("plotly-notifier",!0);var i=h.selectAll(".notifier-note").data(e);i.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(a){var b=c.select(this);b.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){b.transition().call(f)}),b.append("p").html(a),b.transition().duration(700).style("opacity",1).transition().delay(g).call(f)})}}},{d3:70,"fast-isnumeric":74}],353:[function(require,a,b){"use strict";var c=require("./matrix").dot,d=a.exports={};d.tester=function(a){function b(a,b){var c=a[0],d=a[1];return e>c||c>f||g>d||d>h?!1:b&&j(a)?!1:!0}function c(a,b){var c=a[0],i=a[1];if(e>c||c>f||g>i||i>h)return!1;var j,k,l,m,n,o=d.length,p=d[0][0],q=d[0][1],r=0;for(j=1;o>j;j++)if(k=p,l=q,p=d[j][0],q=d[j][1],m=Math.min(k,p),!(m>c||c>Math.max(k,p)||i>Math.max(l,q)))if(i<Math.min(l,q))c!==m&&r++;else{if(n=p===k?i:l+(c-k)*(q-l)/(p-k),i===n)return 1===j&&b?!1:!0;n>=i&&c!==m&&r++}return r%2===1}var d=a.slice(),e=d[0][0],f=e,g=d[0][1],h=g;d.push(d[0]);for(var i=1;i<d.length;i++)e=Math.min(e,d[i][0]),f=Math.max(f,d[i][0]),g=Math.min(g,d[i][1]),h=Math.max(h,d[i][1]);var j,k=!1;return 5===d.length&&(d[0][0]===d[1][0]?d[2][0]===d[3][0]&&d[0][1]===d[3][1]&&d[1][1]===d[2][1]&&(k=!0,j=function(a){return a[0]===d[0][0]}):d[0][1]===d[1][1]&&d[2][1]===d[3][1]&&d[0][0]===d[3][0]&&d[1][0]===d[2][0]&&(k=!0,j=function(a){return a[1]===d[0][1]})),{xmin:e,xmax:f,ymin:g,ymax:h,pts:d,contains:k?b:c,isRect:k}};var e=d.isSegmentBent=function(a,b,d,e){var f,g,h,i=a[b],j=[a[d][0]-i[0],a[d][1]-i[1]],k=c(j,j),l=Math.sqrt(k),m=[-j[1]/l,j[0]/l];for(f=b+1;d>f;f++)if(g=[a[f][0]-i[0],a[f][1]-i[1]],h=c(g,j),0>h||h>k||Math.abs(c(g,m))>e)return!0;return!1};d.filter=function(a,b){function c(c){a.push(c);var h=d.length,i=f;d.splice(g+1);for(var j=i+1;j<a.length;j++)(j===a.length-1||e(a,i,j+1,b))&&(d.push(a[j]),d.length<h-2&&(f=j,g=d.length-1),i=j)}var d=[a[0]],f=0,g=0;if(a.length>1){var h=a.pop();c(h)}return{addPt:c,raw:a,filtered:d}}},{"./matrix":350}],354:[function(require,a,b){"use strict";function c(a,b){for(var c,e=[],f=0;f<b.length;f++)c=b[f],c===a?e[f]=c:"object"==typeof c?e[f]=Array.isArray(c)?d.Lib.extendDeep([],c):d.Lib.extendDeepAll({},c):e[f]=c;return e}var d=require("../plotly"),e={};e.add=function(a,b,c,d,e){var f,g;return a.undoQueue=a.undoQueue||{index:0,queue:[],sequence:!1},g=a.undoQueue.index,a.autoplay?void(a.undoQueue.inSequence||(a.autoplay=!1)):(!a.undoQueue.sequence||a.undoQueue.beginSequence?(f={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},a.undoQueue.queue.splice(g,a.undoQueue.queue.length-g,f),a.undoQueue.index+=1):f=a.undoQueue.queue[g-1],a.undoQueue.beginSequence=!1,f.undo.calls.unshift(b),f.undo.args.unshift(c),f.redo.calls.push(d),void f.redo.args.push(e))},e.startSequence=function(a){a.undoQueue=a.undoQueue||{index:0,queue:[],sequence:!1},a.undoQueue.sequence=!0,a.undoQueue.beginSequence=!0},e.stopSequence=function(a){a.undoQueue=a.undoQueue||{index:0,queue:[],sequence:!1},a.undoQueue.sequence=!1,a.undoQueue.beginSequence=!1},e.undo=function(a){var b,c;if(a.framework&&a.framework.isPolar)return void a.framework.undo();if(!(void 0===a.undoQueue||isNaN(a.undoQueue.index)||a.undoQueue.index<=0)){for(a.undoQueue.index--,b=a.undoQueue.queue[a.undoQueue.index],a.undoQueue.inSequence=!0,c=0;c<b.undo.calls.length;c++)e.plotDo(a,b.undo.calls[c],b.undo.args[c]);a.undoQueue.inSequence=!1,a.autoplay=!1}},e.redo=function(a){var b,c;if(a.framework&&a.framework.isPolar)return void a.framework.redo();if(!(void 0===a.undoQueue||isNaN(a.undoQueue.index)||a.undoQueue.index>=a.undoQueue.queue.length)){for(b=a.undoQueue.queue[a.undoQueue.index],a.undoQueue.inSequence=!0,c=0;c<b.redo.calls.length;c++)e.plotDo(a,b.redo.calls[c],b.redo.args[c]);a.undoQueue.inSequence=!1,a.autoplay=!1,a.undoQueue.index++}},e.plotDo=function(a,b,d){a.autoplay=!0,d=c(a,d),b.apply(null,d)},a.exports=e},{"../plotly":365}],355:[function(require,a,b){"use strict";function c(a,b){return b>a}function d(a,b){return b>=a}function e(a,b){return a>b}function f(a,b){return a>=b}var g=require("fast-isnumeric");b.findBin=function(a,b,h){if(g(b.start))return h?Math.ceil((a-b.start)/b.size)-1:Math.floor((a-b.start)/b.size);var i,j,k=0,l=b.length,m=0;for(j=b[b.length-1]>=b[0]?h?c:d:h?f:e;l>k&&m++<100;)i=Math.floor((k+l)/2),j(b[i],a)?k=i+1:l=i;return m>90&&console.log("Long binary search..."),k-1},b.sorterAsc=function(a,b){return a-b},b.sorterDes=function(a,b){return b-a},b.distinctVals=function(a){var c=a.slice();c.sort(b.sorterAsc);for(var d=c.length-1,e=c[d]-c[0]||1,f=e/(d||1)/1e4,g=[c[0]],h=0;d>h;h++)c[h+1]>c[h]+f&&(e=Math.min(e,c[h+1]-c[h]),g.push(c[h+1]));return{vals:g,minDiff:e}},b.roundUp=function(a,b,c){for(var d,e=0,f=b.length-1,g=0,h=c?0:1,i=c?1:0,j=c?Math.ceil:Math.floor;f>e&&g++<100;)d=j((e+f)/2),b[d]<=a?e=d+h:f=d-i;return b[e]}},{"fast-isnumeric":74}],356:[function(require,a,b){"use strict";var c=require("../plotly"),d=function(){};a.exports=function(a){for(var b in a)"function"==typeof a[b]&&(a[b]=d);a.destroy=function(){a.container.parentNode.removeChild(a.container)};var e=document.createElement("div");return e.textContent="Webgl is not supported by your browser - visit http://get.webgl.org for more info",e.style.cursor="pointer",e.style.fontSize="24px",e.style.color=c.Color.defaults[0],a.container.appendChild(e),a.container.style.background="#FFFFFF",a.container.onclick=function(){window.open("http://get.webgl.org")},!1}},{"../plotly":365}],357:[function(require,a,b){"use strict";var c=require("fast-isnumeric");b.aggNums=function(a,d,e,f){var g,h;if(f||(f=e.length),c(d)||(d=!1),Array.isArray(e[0])){for(h=new Array(f),g=0;f>g;g++)h[g]=b.aggNums(a,d,e[g]);e=h}for(g=0;f>g;g++)c(d)?c(e[g])&&(d=a(+d,+e[g])):d=e[g];return d},b.len=function(a){return b.aggNums(function(a){return a+1},0,a)},b.mean=function(a,c){return c||(c=b.len(a)),b.aggNums(function(a,b){return a+b},0,a)/c},b.variance=function(a,d,e){return d||(d=b.len(a)),c(e)||(e=b.mean(a,d)),b.aggNums(function(a,b){return a+Math.pow(b-e,2)},0,a)/d},b.stdev=function(a,c,d){return Math.sqrt(b.variance(a,c,d))},b.interp=function(a,b){if(!c(b))throw"n should be a finite number";if(b=b*a.length-.5,0>b)return a[0];if(b>a.length-1)return a[a.length-1];var d=b%1;return d*a[Math.ceil(b)]+(1-d)*a[Math.floor(b)]}},{"fast-isnumeric":74}],358:[function(require,a,b){"use strict";function c(a){return a=d(a),e.str2RgbaArray(a.toRgbString())}var d=require("tinycolor2"),e=require("arraytools");a.exports=c},{arraytools:48,tinycolor2:229}],359:[function(require,a,b){"use strict";function c(a,b){return a.node().getBoundingClientRect()[b]}function d(a){return a.replace(/(<|&lt;|&#60;)/g,"\\lt ").replace(/(>|&gt;|&#62;)/g,"\\gt ")}function e(a,b,c){var e="math-output-"+h.Lib.randstr([],64),f=i.select("body").append("div").attr({id:e}).style({visibility:"hidden",position:"absolute"}).style({"font-size":b.fontSize+"px"}).text(d(a));MathJax.Hub.Queue(["Typeset",MathJax.Hub,f.node()],function(){var b=i.select("body").select("#MathJax_SVG_glyphs");if(f.select(".MathJax_SVG").empty()||!f.select("svg").node())console.log("There was an error in the tex syntax.",a),c();else{var d=f.select("svg").node().getBoundingClientRect();c(f.select(".MathJax_SVG"),b,d)}f.remove()})}function f(a){for(var b=h.util.html_entity_decode(a),c=b.split(/(<[^<>]*>)/).map(function(a){var b=a.match(/<(\/?)([^ >]*)\s*(.*)>/i),c=b&&b[2].toLowerCase(),d=l[c];if(void 0!==d){var e=b[1],f=b[3],g=f.match(/^style\s*=\s*"([^"]+)"\s*/i);if("a"===c){if(e)return"</a>";if("href"!==f.substr(0,4).toLowerCase())return"<a>";var i=document.createElement("a");return i.href=f.substr(4).replace(/["'=]/g,""),-1===m.indexOf(i.protocol)?"<a>":'<a xlink:show="new" xlink:href'+f.substr(4)+">"}if("br"===c)return"<br>";if(e)return"sup"===c?'</tspan><tspan dy="0.42em">&#x200b;</tspan>':"sub"===c?'</tspan><tspan dy="-0.21em">&#x200b;</tspan>':"</tspan>";var j="<tspan";return("sup"===c||"sub"===c)&&(j="&#x200b;"+j),g&&(g=g[1].replace(/(^|;)\s*color:/,"$1 fill:"),d=(d?d+";":"")+g),j+(d?' style="'+d+'"':"")+">"}return h.util.xml_entity_encode(a).replace(/</g,"&lt;")}),d=[],e=c.indexOf("<br>");e>0;e=c.indexOf("<br>",e+1))d.push(e);var f=0;d.forEach(function(a){for(var b=a+f,d=c.slice(0,b),e="",g=d.length-1;g>=0;g--){var h=d[g].match(/<(\/?).*>/i);if(h&&"<br>"!==d[g]){h[1]||(e=d[g]);break}}e&&(c.splice(b+1,0,e),c.splice(b,0,"</tspan>"),f+=2)});var g=c.join(""),i=g.split(/<br>/gi);return i.length>1&&(c=i.map(function(a,b){return'<tspan class="line" dy="'+1.3*b+'em">'+a+"</tspan>"})),c.join("")}function g(a,b,c){var d,e,f,g=c.horizontalAlign,h=c.verticalAlign||"top",i=a.node().getBoundingClientRect(),j=b.node().getBoundingClientRect();return e="bottom"===h?function(){return i.bottom-d.height}:"middle"===h?function(){return i.top+(i.height-d.height)/2}:function(){return i.top},f="right"===g?function(){return i.right-d.width}:"center"===g?function(){return i.left+(i.width-d.width)/2}:function(){return i.left},function(){return d=this.node().getBoundingClientRect(),this.style({top:e()-j.top+"px",left:f()-j.left+"px","z-index":1e3}),this}}var h=require("../plotly"),i=require("d3"),j=require("../constants/xmlns_namespaces"),k=a.exports={};i.selection.prototype.appendSVG=function(a){for(var b=['<svg xmlns="',j.svg,'" ','xmlns:xlink="',j.xlink,'">',a,"</svg>"].join(""),c=(new DOMParser).parseFromString(b,"application/xml"),d=c.documentElement.firstChild;d;)this.node().appendChild(this.node().ownerDocument.importNode(d,!0)),d=d.nextSibling;return c.querySelector("parsererror")?(console.log(c.querySelector("parsererror div").textContent),null):i.select(this.node().lastChild)},k.html_entity_decode=function(a){var b=i.select("body").append("div").style({display:"none"}).html(""),c=a.replace(/(&[^;]*;)/gi,function(a){return"&lt;"===a?"&#60;":"&rt;"===a?"&#62;":b.html(a).text()});return b.remove(),c},k.xml_entity_encode=function(a){return a.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")},k.convertToTspans=function(a,b){function d(){n.empty()||(o=k.attr("class")+"-math",n.select("svg."+o).remove()),a.text("").style({visibility:"visible","white-space":"pre"}),m=a.appendSVG(j),m||a.text(g),a.select("a").size()&&a.style("pointer-events","all"),b&&b.call(k)}var g=a.text(),j=f(g),k=a,l=!k.attr("data-notex")&&j.match(/([^$]*)([$]+[^$]*[$]+)([^$]*)/),m=g,n=i.select(k.node().parentNode);if(!n.empty()){var o=k.attr("class")?k.attr("class").split(" ")[0]:"text";o+="-math",n.selectAll("svg."+o).remove(),n.selectAll("g."+o+"-group").remove(),a.style({visibility:null});for(var p=a.node();p&&p.removeAttribute;p=p.parentNode)p.removeAttribute("data-bb");if(l){var q=h.Lib.getPlotDiv(k.node());(q&&q._promises||[]).push(new Promise(function(a){k.style({visibility:"hidden"});var f={fontSize:parseInt(k.style("font-size"),10)};e(l[2],f,function(e,f,g){n.selectAll("svg."+o).remove(),n.selectAll("g."+o+"-group").remove();var h=e&&e.select("svg");if(!h||!h.node())return d(),void a();var i=n.append("g").classed(o+"-group",!0).attr({"pointer-events":"none"});i.node().appendChild(h.node()),f&&f.node()&&h.node().insertBefore(f.node().cloneNode(!0),h.node().firstChild),h.attr({"class":o,height:g.height,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var j=k.style("fill")||"black";h.select("g").attr({fill:j,stroke:j});var l=c(h,"width"),m=c(h,"height"),p=+k.attr("x")-l*{start:0,middle:.5,end:1}[k.attr("text-anchor")||"start"],q=parseInt(k.style("font-size"),10)||c(k,"height"),r=-q/4;"y"===o[0]?(i.attr({transform:"rotate("+[-90,+k.attr("x"),+k.attr("y")]+") translate("+[-l/2,r-m/2]+")"}),h.attr({x:+k.attr("x"),y:+k.attr("y")})):"l"===o[0]?h.attr({x:k.attr("x"),y:r-m/2}):"a"===o[0]?h.attr({x:0,y:r}):h.attr({x:p,y:+k.attr("y")+r-m/2}),b&&b.call(k,i),a(i)})}))}else d();return a}};var l={sup:'font-size:70%" dy="-0.6em',sub:'font-size:70%" dy="0.3em',b:"font-weight:bold",i:"font-style:italic",a:"",span:"",br:"",em:"font-style:italic;font-weight:bold"},m=["http:","https:","mailto:"],n=new RegExp("</?("+Object.keys(l).join("|")+")( [^>]*)?/?>","g");k.plainText=function(a){return(a||"").replace(n," ")},k.makeEditable=function(a,b,c){function d(){f(),j.style({opacity:0});var a,b=m.attr("class");a=b?"."+b.split(" ")[0]+"-math-group":"[class*=-math-group]",a&&i.select(j.node().parentNode).select(a).style({opacity:0})}function e(a){var b=a.node(),c=document.createRange();c.selectNodeContents(b);var d=window.getSelection();d.removeAllRanges(),d.addRange(c),b.focus()}function f(){var a=i.select(h.Lib.getPlotDiv(j.node())),b=a.select(".svg-container"),d=b.append("div");d.classed("plugin-editable editable",!0).style({position:"absolute","font-family":j.style("font-family")||"Arial","font-size":j.style("font-size")||12,color:c.fill||j.style("fill")||"black",opacity:1,"background-color":c.background||"transparent",outline:"#ffffff33 1px solid",margin:[-parseFloat(j.style("font-size"))/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(c.text||j.attr("data-unformatted")).call(g(j,b,c)).on("blur",function(){j.text(this.textContent).style({opacity:1});var a,b=i.select(this).attr("class");a=b?"."+b.split(" ")[0]+"-math-group":"[class*=-math-group]",a&&i.select(j.node().parentNode).select(a).style({opacity:0});var c=this.textContent;i.select(this).transition().duration(0).remove(),i.select(document).on("mouseup",null),k.edit.call(j,c)}).on("focus",function(){var a=this;i.select(document).on("mouseup",function(){return i.event.target===a?!1:void(document.activeElement===d.node()&&d.node().blur())})}).on("keyup",function(){27===i.event.which?(j.style({opacity:1}),i.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),k.cancel.call(j,this.textContent)):(k.input.call(j,this.textContent),i.select(this).call(g(j,b,c)))}).on("keydown",function(){13===i.event.which&&this.blur()}).call(e)}c||(c={});var j=this,k=i.dispatch("edit","input","cancel"),l=i.select(this.node()).style({"pointer-events":"all"}),m=b||l;return b&&l.style({"pointer-events":"none"}),c.immediate?d():m.on("click",d),i.rebind(this,k,"on")}},{"../constants/xmlns_namespaces":337,"../plotly":365,d3:70}],360:[function(require,a,b){"use strict";var c=a.exports={},d=require("../constants/geo_constants").locationmodeToLayer,e=require("topojson").feature;c.getTopojsonName=function(a){return[a.scope.replace(/ /g,"-"),"_",a.resolution.toString(),"m"].join("")},c.getTopojsonPath=function(a,b){return a+b+".json"},c.getTopojsonFeatures=function(a,b){var c=d[a.locationmode],f=b.objects[c];return e(b,f).features}},{"../constants/geo_constants":333,topojson:230}],361:[function(require,a,b){"use strict";function c(a){var b;if("string"==typeof a){if(b=document.getElementById(a),null===b)throw new Error("No DOM element with id '"+a+"' exists on the page.");return b}if(null===a||void 0===a)throw new Error("DOM element provided is null or undefined");
return a}function d(a,b){a._fullLayout._paperdiv.style("background","white"),E.defaultConfig.setBackground(a,b)}function e(a,b){a._context||(a._context=F.extendFlat({},E.defaultConfig));var c=a._context;b&&(Object.keys(b).forEach(function(a){a in c&&("setBackground"===a&&"opaque"===b[a]?c[a]=d:c[a]=b[a])}),b.plot3dPixelRatio&&!c.plotGlPixelRatio&&(c.plotGlPixelRatio=c.plot3dPixelRatio)),c.staticPlot&&(c.editable=!1,c.autosizable=!1,c.scrollZoom=!1,c.doubleClick=!1,c.showTips=!1,c.showLink=!1,c.displayModeBar=!1)}function f(a,b,c){var d=B.select(a).selectAll(".plot-container").data([0]);d.enter().insert("div",":first-child").classed("plot-container plotly",!0);var e=d.selectAll(".svg-container").data([0]);e.enter().append("div").classed("svg-container",!0).style("position","relative"),e.html(""),b&&(a.data=b),c&&(a.layout=c),E.micropolar.manager.fillLayout(a),"initial"===a._fullLayout.autosize&&a._context.autosizable&&(v(a,{}),a._fullLayout.autosize=c.autosize=!0),e.style({width:a._fullLayout.width+"px",height:a._fullLayout.height+"px"}),a.framework=E.micropolar.manager.framework(a),a.framework({data:a.data,layout:a.layout},e.node()),a.framework.setUndoPoint();var f=a.framework.svg(),g=1,h=a._fullLayout.title;""!==h&&h||(g=0);var i="Click to enter title",j=function(){this.call(E.util.convertToTspans)},k=f.select(".title-group text").call(j);if(a._context.editable){k.attr({"data-unformatted":h}),h&&h!==i||(g=.2,k.attr({"data-unformatted":i}).text(i).style({opacity:g}).on("mouseover.opacity",function(){B.select(this).transition().duration(100).style("opacity",1)}).on("mouseout.opacity",function(){B.select(this).transition().duration(1e3).style("opacity",0)}));var l=function(){this.call(E.util.makeEditable).on("edit",function(b){a.framework({layout:{title:b}}),this.attr({"data-unformatted":b}).text(b).call(j),this.call(l)}).on("cancel",function(){var a=this.attr("data-unformatted");this.text(a).call(j)})};k.call(l)}return a._context.setBackground(a,a._fullLayout.paper_bgcolor),I.addLinks(a),Promise.resolve()}function g(a){var b,c;a||(a={}),a.xaxis1&&(a.xaxis||(a.xaxis=a.xaxis1),delete a.xaxis1),a.yaxis1&&(a.yaxis||(a.yaxis=a.yaxis1),delete a.yaxis1);var d=E.Axes.list({_fullLayout:a});for(b=0;b<d.length;b++){var e=d[b];e.anchor&&"free"!==e.anchor&&(e.anchor=E.Axes.cleanId(e.anchor)),e.overlaying&&(e.overlaying=E.Axes.cleanId(e.overlaying)),e.type||(e.isdate?e.type="date":e.islog?e.type="log":e.isdate===!1&&e.islog===!1&&(e.type="linear")),("withzero"===e.autorange||"tozero"===e.autorange)&&(e.autorange=!0,e.rangemode="tozero"),delete e.islog,delete e.isdate,delete e.categories,k(e,"domain")&&delete e.domain,void 0!==e.autotick&&(void 0===e.tickmode&&(e.tickmode=e.autotick?"auto":"linear"),delete e.autotick)}void 0===a.annotations||Array.isArray(a.annotations)||(console.log("annotations must be an array"),delete a.annotations);var f=(a.annotations||[]).length;for(b=0;f>b;b++){var g=a.annotations[b];g.ref&&("paper"===g.ref?(g.xref="paper",g.yref="paper"):"data"===g.ref&&(g.xref="x",g.yref="y"),delete g.ref),h(g,"xref"),h(g,"yref")}void 0===a.shapes||Array.isArray(a.shapes)||(console.log("shapes must be an array"),delete a.shapes);var i=(a.shapes||[]).length;for(b=0;i>b;b++){var j=a.shapes[b];h(j,"xref"),h(j,"yref")}var l=a.legend;l&&(l.x>3?(l.x=1.02,l.xanchor="left"):l.x<-2&&(l.x=-.02,l.xanchor="right"),l.y>3?(l.y=1.02,l.yanchor="bottom"):l.y<-2&&(l.y=-.02,l.yanchor="top")),"rotate"===a.dragmode&&(a.dragmode="orbit"),a.scene1&&(a.scene||(a.scene=a.scene1),delete a.scene1);var m,n,o,p,q,r,s,t=I.getSubplotIds(a,"gl3d");for(b=0;b<t.length;b++)if(m=a[t[b]],n=m.cameraposition,Array.isArray(n)&&4===n[0].length){for(o=n[0],q=n[1],p=n[2],r=C([],o),s=[],c=0;3>c;++c)s[c]=q[b]+p*r[2+4*c];m.camera={eye:{x:s[0],y:s[1],z:s[2]},center:{x:q[0],y:q[1],z:q[2]},up:{x:r[1],y:r[5],z:r[9]}},delete m.cameraposition}return F.markTime("finished rest of cleanLayout, starting color"),K.clean(a),F.markTime("finished cleanLayout color.clean"),a}function h(a,b){var c=a[b],d=b.charAt(0);c&&"paper"!==c&&(a[b]=E.Axes.cleanId(c,d))}function i(a,b){for(var c=[],d=(a.concat(Array.isArray(b)?b:[]).filter(function(a){return"uid"in a}).map(function(a){return a.uid})),e=0;e<a.length;e++){var f=a[e];if(!("uid"in f)||-1!==c.indexOf(f.uid)){var g,h;for(h=0;100>h&&(g=F.randstr(d),-1!==c.indexOf(g));h++);f.uid=F.randstr(d),d.push(f.uid)}if(c.push(f.uid),"histogramy"===f.type&&"xbins"in f&&!("ybins"in f)&&(f.ybins=f.xbins,delete f.xbins),f.error_y&&"opacity"in f.error_y){var i=K.defaults,l=f.error_y.color||(I.traceIs(f,"bar")?K.defaultLine:i[e%i.length]);f.error_y.color=K.addOpacity(K.rgb(l),K.opacity(l)*f.error_y.opacity),delete f.error_y.opacity}"bardir"in f&&("h"!==f.bardir||!I.traceIs(f,"bar")&&"histogram"!==f.type.substr(0,9)||(f.orientation="h",t(f)),delete f.bardir),"histogramy"===f.type&&t(f),("histogramx"===f.type||"histogramy"===f.type)&&(f.type="histogram"),"scl"in f&&(f.colorscale=f.scl,delete f.scl),"reversescl"in f&&(f.reversescale=f.reversescl,delete f.reversescl),f.xaxis&&(f.xaxis=E.Axes.cleanId(f.xaxis,"x")),f.yaxis&&(f.yaxis=E.Axes.cleanId(f.yaxis,"y")),I.traceIs(f,"gl3d")&&f.scene&&(f.scene=I.subplotsRegistry.gl3d.cleanId(f.scene)),I.traceIs(f,"pie")||(Array.isArray(f.textposition)?f.textposition=f.textposition.map(j):f.textposition&&(f.textposition=j(f.textposition))),k(f,"line")&&delete f.line,"marker"in f&&(k(f.marker,"line")&&delete f.marker.line,k(f,"marker")&&delete f.marker),F.markTime("finished rest of cleanData, starting color"),K.clean(f),F.markTime("finished cleanData color.clean")}}function j(a){var b="middle",c="center";return-1!==a.indexOf("top")?b="top":-1!==a.indexOf("bottom")&&(b="bottom"),-1!==a.indexOf("left")?c="left":-1!==a.indexOf("right")&&(c="right"),b+" "+c}function k(a,b){return b in a&&"object"==typeof a[b]&&0===Object.keys(a[b]).length}function l(a){var b,c,d,e,f=E.Axes.list(a),g=a._fullData,h=a._fullLayout,i=a.calcdata=new Array(g.length);for(a.firstscatter=!0,a.numboxes=0,a._hmpixcount=0,a._hmlumcount=0,h._piecolormap={},h._piedefaultcolorcount=0,b=0;b<f.length;b++)f[b]._categories=[];for(b=0;b<g.length;b++)c=g[b],d=c._module,e=[],d&&c.visible===!0&&d.calc&&(e=d.calc(a,c)),Array.isArray(e)&&e[0]||(e=[{x:!1,y:!1}]),e[0].t||(e[0].t={}),e[0].trace=c,F.markTime("done with calcdata for "+b),i[b]=e}function m(a,b){var c,d,e=b+1,f=[];for(c=0;c<a.length;c++)d=a[c],0>d?f.push(e+d):f.push(d);return f}function n(a,b,c){var d,e;for(d=0;d<b.length;d++){if(e=b[d],e!==parseInt(e,10))throw new Error("all values in "+c+" must be integers");if(e>=a.data.length||e<-a.data.length)throw new Error(c+" must be valid indices for gd.data.");if(b.indexOf(e,d+1)>-1||e>=0&&b.indexOf(-a.data.length+e)>-1||0>e&&b.indexOf(a.data.length+e)>-1)throw new Error("each index in "+c+" must be unique.")}}function o(a,b,c){if(!Array.isArray(a.data))throw new Error("gd.data must be an array.");if("undefined"==typeof b)throw new Error("currentIndices is a required argument.");if(Array.isArray(b)||(b=[b]),n(a,b,"currentIndices"),"undefined"==typeof c||Array.isArray(c)||(c=[c]),"undefined"!=typeof c&&n(a,c,"newIndices"),"undefined"!=typeof c&&b.length!==c.length)throw new Error("current and new indices must be of equal length.")}function p(a,b,c){var d,e;if(!Array.isArray(a.data))throw new Error("gd.data must be an array.");if("undefined"==typeof b)throw new Error("traces must be defined.");for(Array.isArray(b)||(b=[b]),d=0;d<b.length;d++)if(e=b[d],"object"!=typeof e||Array.isArray(e)||null===e)throw new Error("all values in traces array must be non-array objects");if("undefined"==typeof c||Array.isArray(c)||(c=[c]),"undefined"!=typeof c&&c.length!==b.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function q(a,b,c,d){var e=F.isPlainObject(d);if(!Array.isArray(a.data))throw new Error("gd.data must be an array");if(!F.isPlainObject(b))throw new Error("update must be a key:value object");if("undefined"==typeof c)throw new Error("indices must be an integer or array of integers");n(a,c,"indices");for(var f in b){if(!Array.isArray(b[f])||b[f].length!==c.length)throw new Error("attribute "+f+" must be an array of length equal to indices array length");if(e&&(!(f in d)||!Array.isArray(d[f])||d[f].length!==b[f].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function r(a,b,c,d){var e,f,g,h,i,j=F.isPlainObject(d),k=[];Array.isArray(c)||(c=[c]),c=m(c,a.data.length-1);for(var l in b)for(var n=0;n<c.length;n++){if(e=a.data[c[n]],g=F.nestedProperty(e,l),f=g.get(),h=b[l][n],!Array.isArray(h))throw new Error("attribute: "+l+" index: "+n+" must be an array");if(!Array.isArray(f))throw new Error("cannot extend missing or non-array attribute: "+l);i=j?d[l][n]:d,D(i)||(i=-1),k.push({prop:g,target:f,insert:h,maxp:Math.floor(i)})}return k}function s(a,b,c,d,e,f){q(a,b,c,d);for(var g,h,i,j=r(a,b,c,d),k=[],l={},m={},n=0;n<j.length;n++)h=j[n].prop,i=j[n].maxp,g=e(j[n].target,j[n].insert),i>=0&&i<g.length&&(k=f(g,i)),i=j[n].target.length,h.set(g),Array.isArray(l[h.astr])||(l[h.astr]=[]),Array.isArray(m[h.astr])||(m[h.astr]=[]),l[h.astr].push(k),m[h.astr].push(i);return{update:l,maxPoints:m}}function t(a){var b;if(F.swapAttrs(a,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(a.z)&&Array.isArray(a.z[0])&&(a.transpose?delete a.transpose:a.transpose=!0),a.error_x&&a.error_y){var c=a.error_y,d="copy_ystyle"in c?c.copy_ystyle:!(c.color||c.thickness||c.width);F.swapAttrs(a,["error_?.copy_ystyle"]),d&&F.swapAttrs(a,["error_?.color","error_?.thickness","error_?.width"])}if(a.hoverinfo){var e=a.hoverinfo.split("+");for(b=0;b<e.length;b++)"x"===e[b]?e[b]="y":"y"===e[b]&&(e[b]="x");a.hoverinfo=e.join("+")}}function u(a){var b,c={left:0,right:0,bottom:0,top:0};if(a)for(b in a)a.hasOwnProperty(b)&&(c.left+=a[b].left||0,c.right+=a[b].right||0,c.bottom+=a[b].bottom||0,c.top+=a[b].top||0);return c}function v(a,b){var c,d,e,f=a._fullLayout,g=a._context;if(a.emit("plotly_autosize"),a._context.fillFrame)e=window.innerWidth,d=window.innerHeight,document.body.style.overflow="hidden";else if(D(g.frameMargins)&&g.frameMargins>0){var h=u(a._boundingBoxMargins),i=h.left+h.right,j=h.bottom+h.top,k=f._container.node().getBoundingClientRect(),l=1-2*g.frameMargins;e=Math.round(l*(k.width-i)),d=Math.round(l*(k.height-j))}else c=window.getComputedStyle(a),d=parseFloat(c.height)||f.height,e=parseFloat(c.width)||f.width;return Math.abs(f.width-e)>1||Math.abs(f.height-d)>1?(f.height=a.layout.height=d,f.width=a.layout.width=e):"initial"!==f.autosize&&(delete b.autosize,f.autosize=a.layout.autosize=!0),I.sanitizeMargins(f),b}function w(a){var b=B.select(a),c=a._fullLayout;if(c._hasGL3D&&I.subplotsRegistry.gl3d.initAxes(a),c._container=b.selectAll(".plot-container").data([0]),c._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),c._paperdiv=c._container.selectAll(".svg-container").data([0]),c._paperdiv.enter().append("div").classed("svg-container",!0).style("position","relative"),"initial"===c.autosize&&(v(a,{}),c.autosize=!0,a.layout.autosize=!0),c._glcontainer=c._paperdiv.selectAll(".gl-container").data([0]),c._glcontainer.enter().append("div").classed("gl-container",!0),c._geocontainer=c._paperdiv.selectAll(".geo-container").data([0]),c._geocontainer.enter().append("div").classed("geo-container",!0),c._paperdiv.selectAll(".main-svg").remove(),c._paper=c._paperdiv.insert("svg",":first-child").classed("main-svg",!0),c._toppaper=c._paperdiv.append("svg").classed("main-svg",!0),!c._uid){var d=[];B.selectAll("defs").each(function(){this.id&&d.push(this.id.split("-")[1])}),c._uid=F.randstr(d)}c._paperdiv.selectAll(".main-svg").attr(R.svgAttrs),c._defs=c._paper.append("defs").attr("id","defs-"+c._uid),c._draggers=c._paper.append("g").classed("draglayer",!0);var e=E.Axes.getSubplots(a);e.join("")!==Object.keys(a._fullLayout._plots||{}).join("")&&x(a,e),c._hasCartesian&&y(a,e),c._shapelayer=c._paper.append("g").classed("shapelayer",!0),c._pielayer=c._paper.append("g").classed("pielayer",!0),c._glimages=c._paper.append("g").classed("glimages",!0),c._geoimages=c._paper.append("g").classed("geoimages",!0),c._infolayer=c._toppaper.append("g").classed("infolayer",!0),c._hoverlayer=c._toppaper.append("g").classed("hoverlayer",!0),a.emit("plotly_framework");var f=F.syncOrAsync([z,function(){return E.Axes.doTicks(a,"redraw")},J.init],a);return f&&f.then&&a._promises.push(f),f}function x(a,b){function c(b,c){return function(){return E.Axes.getFromId(a,b,c)}}for(var d,e,f=a._fullLayout._plots={},g=0;g<b.length;g++)d=b[g],e=f[d]={},e.id=d,e.x=c(d,"x"),e.y=c(d,"y"),e.xaxis=e.x(),e.yaxis=e.y()}function y(a,b){function c(a){a.append("g").classed("imagelayer",!0),a.append("g").classed("maplayer",!0),a.append("g").classed("barlayer",!0),a.append("g").classed("errorlayer",!0),a.append("g").classed("boxlayer",!0),a.append("g").classed("scatterlayer",!0)}var d=a._fullLayout,e=[];d._paper.selectAll("g.subplot").data(b).enter().append("g").classed("subplot",!0).each(function(f){var g=d._plots[f],h=g.plotgroup=B.select(this).classed(f,!0),i=g.xaxis,j=g.yaxis;g.overlays=[];var k=E.Axes.getFromId(a,i.overlaying)||i;k!==i&&k.overlaying&&(k=i,i.overlaying=!1);var l=E.Axes.getFromId(a,j.overlaying)||j;l!==j&&l.overlaying&&(l=j,j.overlaying=!1);var m=k._id+l._id;m!==f&&-1!==b.indexOf(m)?(g.mainplot=m,e.push(g),i.domain=k.domain.slice(),j.domain=l.domain.slice()):(g.bg=h.append("rect").style("stroke-width",0),g.gridlayer=h.append("g"),g.overgrid=h.append("g"),g.zerolinelayer=h.append("g"),g.overzero=h.append("g"),g.plot=h.append("svg").call(c),g.overplot=h.append("g"),g.xlines=h.append("path"),g.ylines=h.append("path"),g.overlines=h.append("g"),g.xaxislayer=h.append("g"),g.yaxislayer=h.append("g"),g.overaxes=h.append("g")),g.draglayer=d._draggers.append("g")}),e.forEach(function(a){var b=d._plots[a.mainplot];b.overlays.push(a),a.gridlayer=b.overgrid.append("g"),a.zerolinelayer=b.overzero.append("g"),a.plot=b.overplot.append("svg").call(c),a.xlines=b.overlines.append("path"),a.ylines=b.overlines.append("path"),a.xaxislayer=b.overaxes.append("g"),a.yaxislayer=b.overaxes.append("g")}),b.forEach(function(a){var b=d._plots[a];b.plot.attr("preserveAspectRatio","none").style("fill","none"),b.xlines.style("fill","none").classed("crisp",!0),b.ylines.style("fill","none").classed("crisp",!0)})}function z(a){return F.syncOrAsync([I.doAutoMargin,A],a)}function A(a){var b,c=a._fullLayout,d=c._size,e=E.Axes.list(a);for(b=0;b<e.length;b++)e[b]._linepositions={};c._paperdiv.style({width:c.width+"px",height:c.height+"px"}).selectAll(".main-svg").call(L.setSize,c.width,c.height),a._context.setBackground(a,c.paper_bgcolor);var f=[];return c._paper.selectAll("g.subplot").each(function(b){var e=c._plots[b],g=E.Axes.getFromId(a,b,"x"),h=E.Axes.getFromId(a,b,"y");g.setScale(),h.setScale(),e.bg&&e.bg.call(L.setRect,g._offset-d.p,h._offset-d.p,g._length+2*d.p,h._length+2*d.p).call(K.fill,c.plot_bgcolor),e.plot.call(L.setRect,g._offset,h._offset,g._length,h._length);var i=L.crispRound(a,g.linewidth,1),j=L.crispRound(a,h.linewidth,1),k=d.p+j,l="M"+-k+",",m="h"+(g._length+2*k),n="free"===g.anchor&&-1===f.indexOf(g._id),o=d.h*(1-(g.position||0))+i/2%1,p=g.anchor===h._id&&(g.mirror||"top"!==g.side)||"all"===g.mirror||"allticks"===g.mirror||g.mirrors&&g.mirrors[h._id+"bottom"],q=h._length+d.p+i/2,r=g.anchor===h._id&&(g.mirror||"top"===g.side)||"all"===g.mirror||"allticks"===g.mirror||g.mirrors&&g.mirrors[h._id+"top"],s=-d.p-i/2,t=d.p,u=p?0:i,v=r?0:i,w=","+(-t-v)+"v"+(h._length+2*t+v+u),x="free"===h.anchor&&-1===f.indexOf(h._id),y=d.w*(h.position||0)+j/2%1,z=h.anchor===g._id&&(h.mirror||"right"!==h.side)||"all"===h.mirror||"allticks"===h.mirror||h.mirrors&&h.mirrors[g._id+"left"],A=-d.p-j/2,B=h.anchor===g._id&&(h.mirror||"right"===h.side)||"all"===h.mirror||"allticks"===h.mirror||h.mirrors&&h.mirrors[g._id+"right"],C=g._length+d.p+j/2;g._linepositions[b]=[p?q:void 0,r?s:void 0,n?o:void 0],g.anchor===h._id?g._linepositions[b][3]="top"===g.side?s:q:n&&(g._linepositions[b][3]=o),h._linepositions[b]=[z?A:void 0,B?C:void 0,x?y:void 0],h.anchor===g._id?h._linepositions[b][3]="right"===h.side?C:A:x&&(h._linepositions[b][3]=y);var D="translate("+g._offset+","+h._offset+")",F=D,G=D;n&&(F="translate("+g._offset+","+d.t+")",s+=h._offset-d.t,q+=h._offset-d.t),x&&(G="translate("+d.l+","+h._offset+")",A+=g._offset-d.l,C+=g._offset-d.l),e.xlines.attr("transform",F).attr("d",(p?l+q+m:"")+(r?l+s+m:"")+(n?l+o+m:"")||"M0,0").style("stroke-width",i+"px").call(K.stroke,g.showline?g.linecolor:"rgba(0,0,0,0)"),e.ylines.attr("transform",G).attr("d",(z?"M"+A+w:"")+(B?"M"+C+w:"")+(x?"M"+y+w:"")||"M0,0").attr("stroke-width",j+"px").call(K.stroke,h.showline?h.linecolor:"rgba(0,0,0,0)"),e.xaxislayer.attr("transform",F),e.yaxislayer.attr("transform",G),e.gridlayer.attr("transform",D),e.zerolinelayer.attr("transform",D),e.draglayer.attr("transform",D),n&&f.push(g._id),x&&f.push(h._id)}),E.Axes.makeClipPaths(a),P.draw(a,"gtitle"),Q(a),a._promises.length&&Promise.all(a._promises)}var B=require("d3"),C=require("gl-mat4/fromQuat"),D=require("fast-isnumeric"),E=require("../plotly"),F=require("../lib"),G=require("../lib/events"),H=require("../lib/queue"),I=require("../plots/plots"),J=require("../plots/cartesian/graph_interact"),K=require("../components/color"),L=require("../components/drawing"),M=require("../components/errorbars"),N=require("../components/legend"),O=require("../components/shapes"),P=require("../components/titles"),Q=require("../components/modebar/manage"),R=require("../constants/xmlns_namespaces");E.plot=function(a,b,d,h){function j(){var b,c,d,e=a.calcdata;for(N.draw(a),b=0;b<e.length;b++)c=e[b],d=c[0].trace,d.visible===!0&&d._module.colorbar?d._module.colorbar(a,c):I.autoMargin(a,"cb"+d.uid);return I.doAutoMargin(a),I.previousPromises(a)}function k(){var b=JSON.stringify(x._size)===C?[]:[j,z];return F.syncOrAsync(b.concat(J.init),a)}function m(){if(y){for(var b,c,d=I.getSubplotIds(x,"cartesian"),e=a._modules,f=0;f<d.length;f++){b=x._plots[d[f]];for(var g=0;g<e.length;g++)c=e[g],c.setPositions&&c.setPositions(a,b)}return F.markTime("done with bar/box adjustments"),M.calc(a),F.markTime("done ErrorBars.calc"),F.syncOrAsync([O.calcAutorange,E.Annotations.calcAutorange,n],a)}}function n(){for(var b=E.Axes.list(a,"",!0),c=0;c<b.length;c++)E.Axes.doAutoRange(b[c])}function o(){return E.Axes.doTicks(a,"redraw")}function p(){function b(a,b){var c,d,e,f=[];for(c=0;c<a.length;c++)d=a[c],e=d[0].trace,e.xaxis+e.yaxis===b&&f.push(d);return f}function c(a,b){for(var c=[],d=0;d<a.length;d++){var e=a[d],f=e[0].trace;f._module===b&&f.visible===!0&&c.push(e)}return c}var d,e,f,g,h,i,j,k,l,m=a.calcdata,n=I.getSubplotIds(x,"cartesian"),o=a._modules,p=I.subplotsRegistry;for(x._hasGL3D&&p.gl3d.plot(a),x._hasGeo&&p.geo.plot(a),x._hasGL2D&&p.gl2d.plot(a),d=0;d<m.length;d++){f=m[d][0].trace;var q=f.visible===!0,r=f.uid;q&&I.traceIs(f,"2dMap")||x._paper.selectAll(".hm"+r+",.contour"+r+",#clip"+r).remove(),q&&f._module.colorbar||x._infolayer.selectAll(".cb"+r).remove()}for(d=0;d<n.length;d++){for(g=n[d],h=x._plots[g],i=b(m,g),j=[],h.plot&&h.plot.selectAll("g.trace").remove(),e=0;e<o.length;e++)l=o[e],(l.plot||"pie"!==l.name)&&(k=c(i,l),l.plot(a,h,k),F.markTime("done "+(k[0]&&k[0][0].trace.type)),k[0]&&k[0][0].trace&&I.traceIs(k[0][0].trace,"errorBarsOK")&&(j=j.concat(k)));x._hasCartesian&&(M.plot(a,h,j),F.markTime("done ErrorBars"))}if(x._hasPie){var s=I.getModule("pie"),t=c(m,s);t.length&&s.plot(a,t)}return I.style(a),F.markTime("done Plots.style"),O.drawAll(a),E.Annotations.drawAll(a),I.addLinks(a),I.previousPromises(a)}function q(){a._replotting=!1,F.markTime("done plot"),a.emit("plotly_afterplot")}F.markTime("in plot"),a=c(a),G.init(a);var r=G.triggerHandler(a,"plotly_beforeplot",[b,d,h]);if(r===!1)return Promise.reject();b||d||F.isPlotDiv(a)||console.log("Warning: calling Plotly.plot as if redrawing but this container doesn't yet have a plot.",a),e(a,h),d||(d={}),B.select(a).classed("js-plotly-plot",!0),L.makeTester(a),a._promises=[];var s=0===(a.data||[]).length&&Array.isArray(b);if(Array.isArray(b)&&(i(b,a.data),s?a.data=b:a.data.push.apply(a.data,b),a.empty=!1),(!a.layout||s)&&(a.layout=g(d)),a._dragging)return a._replotPending=!0,Promise.reject();if(a._replotPending=!1,I.supplyDefaults(a),b&&b[0]&&b[0].r)return f(a,b,d);a._replotting=!0;var t=a._fullData.length>0;if(t){var u=E.Axes.getSubplots(a).join(""),v=Object.keys(a._fullLayout._plots||{}).join("");(a.framework!==w||s||v!==u)&&(a.framework=w,w(a))}else s&&w(a);var x=a._fullLayout,y=!a.calcdata||a.calcdata.length!==(a.data||[]).length;y&&(l(a),(a._context.doubleClick!==!1||a._context.displayModeBar!==!1)&&E.Axes.saveRangeInitial(a));for(var A=0;A<a.calcdata.length;A++)a.calcdata[A][0].trace=a._fullData[A];var C=JSON.stringify(x._size),D=F.syncOrAsync([I.previousPromises,j,z,k,m,o,p],a,q);return D&&D.then?D:Promise.resolve(a)},E.redraw=function(a){return a=c(a),F.isPlotDiv(a)?(a.calcdata=void 0,E.plot(a).then(function(){return a.emit("plotly_redraw"),a})):void console.log("This element is not a Plotly Plot",a)},E.newPlot=function(a,b,d,e){return a=c(a),I.purge(a),E.plot(a,b,d,e)},E.extendTraces=function S(a,b,d,e){a=c(a);var f=s(a,b,d,e,function(a,b){return a.concat(b)},function(a,b){return a.splice(0,a.length-b)}),g=E.redraw(a),h=[a,f.update,d,f.maxPoints];return H&&H.add(a,E.prependTraces,h,S,arguments),g},E.prependTraces=function T(a,b,d,e){a=c(a);var f=s(a,b,d,e,function(a,b){return b.concat(a)},function(a,b){return a.splice(b,a.length)}),g=E.redraw(a),h=[a,f.update,d,f.maxPoints];return H&&H.add(a,E.extendTraces,h,T,arguments),g},E.addTraces=function U(a,b,d){a=c(a);var e,f,g=[],h=E.deleteTraces,j=U,k=[a,g],l=[a,b];for(p(a,b,d),Array.isArray(b)||(b=[b]),i(b,a.data),e=0;e<b.length;e+=1)a.data.push(b[e]);for(e=0;e<b.length;e++)g.push(-b.length+e);if("undefined"==typeof d)return f=E.redraw(a),H&&H.add(a,h,k,j,l),f;Array.isArray(d)||(d=[d]);try{o(a,g,d)}catch(m){throw a.data.splice(a.data.length-b.length,b.length),m}return H&&H.startSequence(a),H&&H.add(a,h,k,j,l),f=E.moveTraces(a,g,d),H&&H.stopSequence(a),f},E.deleteTraces=function V(a,b){a=c(a);var d,e,f=[],g=E.addTraces,h=V,i=[a,f,b],j=[a,b];if("undefined"==typeof b)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(b)||(b=[b]),n(a,b,"indices"),b=m(b,a.data.length-1),b.sort(F.sorterDes),d=0;d<b.length;d+=1)e=a.data.splice(b[d],1)[0],f.push(e);var k=E.redraw(a);return H&&H.add(a,g,i,h,j),k},E.moveTraces=function W(a,b,d){a=c(a);var e,f=[],g=[],h=W,i=W,j=[a,d,b],k=[a,b,d];if(o(a,b,d),b=Array.isArray(b)?b:[b],"undefined"==typeof d)for(d=[],e=0;e<b.length;e++)d.push(-b.length+e);for(d=Array.isArray(d)?d:[d],b=m(b,a.data.length-1),d=m(d,a.data.length-1),e=0;e<a.data.length;e++)-1===b.indexOf(e)&&f.push(a.data[e]);for(e=0;e<b.length;e++)g.push({newIndex:d[e],trace:a.data[b[e]]});for(g.sort(function(a,b){return a.newIndex-b.newIndex}),e=0;e<g.length;e+=1)f.splice(g[e].newIndex,0,g[e].trace);a.data=f;var l=E.redraw(a);return H&&H.add(a,h,j,i,k),l},E.restyle=function X(a,b,d,e){function f(){return e.map(function(){})}function g(a){var b=E.Axes.id2name(a);-1===o.indexOf(b)&&o.push(b)}function h(a){return"LAYOUT"+a+".autorange"}function i(a){return"LAYOUT"+a+".range"}function j(b,c,d){if(Array.isArray(b))return void b.forEach(function(a){j(a,c,d)});if(!(b in m)){var g;g="LAYOUT"===b.substr(0,6)?F.nestedProperty(a.layout,b.replace("LAYOUT","")):F.nestedProperty(a.data[e[d]],b),b in A||(A[b]=f()),void 0===A[b][d]&&(A[b][d]=g.get()),void 0!==c&&g.set(c)}}a=c(a);var k,l=a._fullLayout,m={};if("string"==typeof b)m[b]=d;else{if(!F.isPlainObject(b))return console.log("restyle fail",b,d,e),Promise.reject();m=b,void 0===e&&(e=d)}Object.keys(m).length&&(a.changed=!0),D(e)?e=[e]:Array.isArray(e)&&e.length||(e=a._fullData.map(function(a,b){return b}));var n=["mode","visible","type","orientation","fill","histfunc","histnorm","text","x","y","z","xtype","x0","dx","ytype","y0","dy","xaxis","yaxis","line.width","connectgaps","transpose","zsmooth","showscale","marker.showscale","zauto","marker.cauto","autocolorscale","marker.autocolorscale","colorscale","marker.colorscale","reversescale","marker.reversescale","autobinx","nbinsx","xbins","xbins.start","xbins.end","xbins.size","autobiny","nbinsy","ybins","ybins.start","ybins.end","ybins.size","autocontour","ncontours","contours","contours.coloring","error_y","error_y.visible","error_y.value","error_y.type","error_y.traceref","error_y.array","error_y.symmetric","error_y.arrayminus","error_y.valueminus","error_y.tracerefminus","error_x","error_x.visible","error_x.value","error_x.type","error_x.traceref","error_x.array","error_x.symmetric","error_x.arrayminus","error_x.valueminus","error_x.tracerefminus","swapxy","swapxyaxes","orientationaxes","marker.colors","values","labels","label0","dlabel","sort","textinfo","textposition","textfont.size","textfont.family","textfont.color","insidetextfont.size","insidetextfont.family","insidetextfont.color","outsidetextfont.size","outsidetextfont.family","outsidetextfont.color","hole","scalegroup","domain","domain.x","domain.y","domain.x[0]","domain.x[1]","domain.y[0]","domain.y[1]","tilt","tiltaxis","depth","direction","rotation","pull"];for(k=0;k<e.length;k++)if(I.traceIs(a._fullData[e[k]],"box")){n.push("name");break}var o,p=["marker","marker.size","textfont","boxpoints","jitter","pointpos","whiskerwidth","boxmean"],q=["zmin","zmax","zauto","marker.cmin","marker.cmax","marker.cauto","contours.start","contours.end","contours.size","contours.showlines","line","line.smoothing","line.shape","error_y.width","error_x.width","error_x.copy_ystyle","marker.maxdisplayed"],r=["type","x","y","x0","y0","orientation","xaxis","yaxis"],s=!1,u=!1,v=!1,w=!1,x=!1,y=!1,z={},A={},B={};(l._hasGL3D||l._hasGeo||l._hasGL2D)&&(v=!0);var C=["zmin","zmax"],G=["xbins.start","xbins.end","xbins.size"],J=["ybins.start","ybins.end","ybins.size"],K=["contours.start","contours.end","contours.size"];for(var L in m){var M,O,P,Q,R,S=m[L];if(z[L]=S,"LAYOUT"!==L.substr(0,6)){for(A[L]=f(),k=0;k<e.length;k++){if(M=a.data[e[k]],O=a._fullData[e[k]],P=F.nestedProperty(M,L),Q=P.get(),R=Array.isArray(S)?S[k%S.length]:S,-1!==C.indexOf(L))j("zauto",!1,k);else if("colorscale"===L)j("autocolorscale",!1,k);else if("autocolorscale"===L)j("colorscale",void 0,k);else if("marker.colorscale"===L)j("marker.autocolorscale",!1,k);else if("marker.autocolorscale"===L)j("marker.colorscale",void 0,k);else if("zauto"===L)j(C,void 0,k);else if(-1!==G.indexOf(L))j("autobinx",!1,k);else if("autobinx"===L)j(G,void 0,k);else if(-1!==J.indexOf(L))j("autobiny",!1,k);else if("autobiny"===L)j(J,void 0,k);else if(-1!==K.indexOf(L))j("autocontour",!1,k);else if("autocontour"===L)j(K,void 0,k);else if(-1!==["x0","dx"].indexOf(L)&&O.x&&"scaled"!==O.xtype)j("xtype","scaled",k);else if(-1!==["y0","dy"].indexOf(L)&&O.y&&"scaled"!==O.ytype)j("ytype","scaled",k);else if("colorbar.thicknessmode"===L&&P.get()!==R&&-1!==["fraction","pixels"].indexOf(R)&&O.colorbar){var T=-1!==["top","bottom"].indexOf(O.colorbar.orient)?l.height-l.margin.t-l.margin.b:l.width-l.margin.l-l.margin.r;j("colorbar.thickness",O.colorbar.thickness*("fraction"===R?1/T:T),k)}else if("colorbar.lenmode"===L&&P.get()!==R&&-1!==["fraction","pixels"].indexOf(R)&&O.colorbar){var U=-1!==["top","bottom"].indexOf(O.colorbar.orient)?l.width-l.margin.l-l.margin.r:l.height-l.margin.t-l.margin.b;j("colorbar.len",O.colorbar.len*("fraction"===R?1/U:U),k)}else"colorbar.tick0"===L||"colorbar.dtick"===L?j("colorbar.tickmode","linear",k):"colorbar.tickmode"===L&&j(["colorbar.tick0","colorbar.dtick"],void 0,k);if("type"===L&&"pie"===R!=("pie"===Q)){var V="x",W="y";"bar"!==R&&"bar"!==Q||"h"!==M.orientation||(V="y",W="x"),F.swapAttrs(M,["?","?src"],"labels",V),F.swapAttrs(M,["d?","?0"],"label",V),F.swapAttrs(M,["?","?src"],"values",W),"pie"===Q?(F.nestedProperty(M,"marker.color").set(F.nestedProperty(M,"marker.colors").get()),l._pielayer.selectAll("g.trace").remove()):I.traceIs(M,"cartesian")&&(F.nestedProperty(M,"marker.colors").set(F.nestedProperty(M,"marker.color").get()),B[M.xaxis||"x"]=!0,B[M.yaxis||"y"]=!0)}A[L][k]=Q;var Y=["swapxy","swapxyaxes","orientation","orientationaxes"];if(-1!==Y.indexOf(L)){if("orientation"===L){if(P.set(R),P.get()===A[L][k])continue}else"orientationaxes"===L&&(M.orientation={v:"h",h:"v"}[O.orientation]);t(M)}else P.set(R)}if(-1!==["swapxyaxes","orientationaxes"].indexOf(L)&&E.Axes.swap(a,e),"orientationaxes"===L){var Z=F.nestedProperty(a.layout,"hovermode");"x"===Z.get()?Z.set("y"):"y"===Z.get()&&Z.set("x")}if(-1!==e.indexOf(0)&&-1!==r.indexOf(L)&&(E.Axes.clearTypes(a,e),s=!0),(-1===["autobinx","autobiny","zauto"].indexOf(L)||R!==!1)&&(x=!0),(-1!==["colorbar","line"].indexOf(P.parts[0])||"marker"===P.parts[0]&&"colorbar"===P.parts[1])&&(y=!0),-1!==n.indexOf(L)){if(-1!==["orientation","type"].indexOf(L)){for(o=[],k=0;k<e.length;k++){var $=a.data[e[k]];I.traceIs($,"cartesian")&&(g($.xaxis||"x"),g($.yaxis||"y"),"type"===b&&j(["autobinx","autobiny"],!0,k))}j(o.map(h),!0,0),j(o.map(i),[0,1],0)}s=!0}else-1!==q.indexOf(L)?v=!0:-1!==p.indexOf(L)&&(u=!0)}else P=F.nestedProperty(a.layout,L.replace("LAYOUT","")),A[L]=[P.get()],P.set(Array.isArray(S)?S[0]:S),s=!0}var _=Object.keys(B);a:for(k=0;k<_.length;k++){for(var aa=_[k],ba=aa.charAt(0),ca=ba+"axis",da=0;da<a.data.length;da++)if(I.traceIs(a.data[da],"cartesian")&&(a.data[da][ca]||ba)===aa)continue a;j("LAYOUT"+E.Axes.id2name(aa),null,0)}H&&H.add(a,X,[a,A,e],X,[a,z,e]);var ea=!1;E.Axes.list(a).forEach(function(a){a.autorange&&(ea=!0)}),(s||w||u&&ea)&&(a.calcdata=void 0);var fa;w?fa=[function(){var b=a.layout;return a.layout=void 0,E.plot(a,"",b)}]:s||v||u?fa=[E.plot]:(I.supplyDefaults(a),fa=[I.previousPromises],x&&fa.push(function(){var b,c,d;for(b=0;b<a.calcdata.length;b++)c=a.calcdata[b],d=(((c[0]||{}).trace||{})._module||{}).arraysToCalcdata,d&&d(c);return I.style(a),N.draw(a),I.previousPromises(a)}),y&&fa.push(function(){return a.calcdata.forEach(function(a){if((a[0].t||{}).cb){var b=a[0].trace,c=a[0].t.cb;I.traceIs(b,"contour")&&c.line({width:b.contours.showlines!==!1?b.line.width:0,dash:b.line.dash,color:"line"===b.contours.coloring?c._opts.line.color:b.line.color}),I.traceIs(b,"markerColorscale")?c.options(b.marker.colorbar)():c.options(b.colorbar)()}}),I.previousPromises(a)}));var ga=F.syncOrAsync(fa,a);return ga&&ga.then||(ga=Promise.resolve()),ga.then(function(){return a.emit("plotly_restyle",F.extendDeep([],[z,e])),a})},E.relayout=function Y(a,b,d){function e(a,b){if(Array.isArray(a))return void a.forEach(function(a){e(a,b)});if(!(a in p)){var c=F.nestedProperty(n,a);a in A||(A[a]=c.get()),void 0!==b&&c.set(b)}}function f(a,b){var c=E.Axes.id2name(a[b+"ref"]||b);return(o[c]||{}).autorange}if(a=c(a),a.framework&&a.framework.isPolar)return Promise.resolve(a);var g,h,i,j,k,l,m,n=a.layout,o=a._fullLayout,p={},q=!1,r=!1,s=!1,t=!1,u=!1,w=!1;if("string"==typeof b)p[b]=d;else{if(!F.isPlainObject(b))return console.log("relayout fail",b,d),Promise.reject();p=b}for(Object.keys(p).length&&(a.changed=!0),i=Object.keys(p),h=E.Axes.list(a),m=0;m<i.length;m++){if(0===i[m].indexOf("allaxes")){for(var x=0;x<h.length;x++)k=h[x]._id.substr(1),l=-1!==k.indexOf("scene")?k+".":"",g=i[m].replace("allaxes",l+h[x]._name),p[g]||(p[g]=p[i[m]]);delete p[i[m]]}i[m].match(/^annotations\[[0-9-]+\].ref$/)&&(j=p[i[m]].split("y"),p[i[m].replace("ref","xref")]=j[0],p[i[m].replace("ref","yref")]=2===j.length?"y"+j[1]:"paper",delete p[i[m]])}var y={},A={},B=["height","width"];for(var C in p){var D=F.nestedProperty(n,C),G=p[C],J=D.parts.length,K="string"==typeof D.parts[J-1]?J-1:J-2,L=D.parts[K],M=D.parts[K-1]+"."+L,O=D.parts.slice(0,K).join("."),R=F.nestedProperty(a.layout,O).get(),S=F.nestedProperty(o,O).get();if(y[C]=G,A[C]="reverse"===L?G:D.get(),-1!==B.indexOf(C)?e("autosize",!1):"autosize"===C?e(B,void 0):M.match(/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/)?e(O+".autorange",!1):M.match(/^[xyz]axis[0-9]*\.autorange$/)?e([O+".range[0]",O+".range[1]"],void 0):M.match(/^aspectratio\.[xyz]$/)?e(D.parts[0]+".aspectmode","manual"):M.match(/^aspectmode$/)?e([O+".x",O+".y",O+".z"],void 0):"tick0"===L||"dtick"===L?e(O+".tickmode","linear"):"tickmode"===L&&e([O+".tick0",O+".dtick"],void 0),
"type"===L&&"log"===S.type!=("log"===G)){var T=R;if(T&&T.range)if(S.autorange)"log"===G&&(T.range=T.range[1]>T.range[0]?[1,2]:[2,1]);else{var U=T.range[0],V=T.range[1];"log"===G?(0>=U&&0>=V&&e(O+".autorange",!0),0>=U?U=V/1e6:0>=V&&(V=U/1e6),e(O+".range[0]",Math.log(U)/Math.LN10),e(O+".range[1]",Math.log(V)/Math.LN10)):(e(O+".range[0]",Math.pow(10,U)),e(O+".range[1]",Math.pow(10,V)))}else e(O+".autorange",!0)}if("reverse"===L)R.range?R.range.reverse():(e(O+".autorange",!0),R.range=[1,0]),S.autorange?u=!0:t=!0;else if("annotations"===D.parts[0]||"shapes"===D.parts[0]){var W=D.parts[1],X=D.parts[0],Z=n[X]||[],$=E[F.titleCase(X)],_=Z[W]||{};2===D.parts.length&&("add"===p[C]||F.isPlainObject(p[C])?A[C]="remove":"remove"===p[C]?-1===W?(A[X]=Z,delete A[C]):A[C]=_:console.log("???",p)),!f(_,"x")&&!f(_,"y")||F.containsAny(C,["color","opacity","align","dash"])||(u=!0),$.draw(a,W,D.parts.slice(2).join("."),p[C]),delete p[C]}else 0===D.parts[0].indexOf("scene")?t=!0:0===D.parts[0].indexOf("geo")?t=!0:!o._hasGL2D||-1===C.indexOf("axis")&&"plot_bgcolor"!==D.parts[0]?"hiddenlabels"===C?u=!0:-1!==D.parts[0].indexOf("legend")?q=!0:-1!==C.indexOf("title")?r=!0:-1!==D.parts[0].indexOf("bgcolor")?s=!0:D.parts.length>1&&F.containsAny(D.parts[1],["tick","exponent","grid","zeroline"])?r=!0:-1!==C.indexOf(".linewidth")&&-1!==C.indexOf("axis")?r=s=!0:D.parts.length>1&&-1!==D.parts[1].indexOf("line")?s=!0:D.parts.length>1&&"mirror"===D.parts[1]?r=s=!0:"margin.pad"===C?r=s=!0:"margin"===D.parts[0]||"autorange"===D.parts[1]||"rangemode"===D.parts[1]||"type"===D.parts[1]||"domain"===D.parts[1]||C.match(/^(bar|box|font)/)?u=!0:-1!==["hovermode","dragmode"].indexOf(C)?w=!0:-1===["hovermode","dragmode","height","width","autosize"].indexOf(C)&&(t=!0):t=!0,D.set(G)}H&&H.add(a,Y,[a,A],Y,[a,y]),p.autosize&&(p=v(a,p)),(p.height||p.width||p.autosize)&&(u=!0);var aa=Object.keys(p),ba=[I.previousPromises];if(t||u)ba.push(function(){return a.layout=void 0,u&&(a.calcdata=void 0),E.plot(a,"",n)});else if(aa.length&&(I.supplyDefaults(a),o=a._fullLayout,q&&ba.push(function(){return N.draw(a),I.previousPromises(a)}),s&&ba.push(z),r&&ba.push(function(){return E.Axes.doTicks(a,"redraw"),P.draw(a,"gtitle"),I.previousPromises(a)}),w)){Q(a);var ca;for(ca=I.getSubplotIds(o,"gl3d"),m=0;m<ca.length;m++)k=o[ca[m]]._scene,k.handleDragmode(o.dragmode);for(ca=I.getSubplotIds(o,"gl2d"),m=0;m<ca.length;m++)k=o._plots[ca[m]]._scene2d,k.updateFx(o)}var da=F.syncOrAsync(ba,a);return da&&da.then||(da=Promise.resolve(a)),da.then(function(){return a.emit("plotly_relayout",F.extendDeep({},y)),a})}},{"../components/color":299,"../components/drawing":317,"../components/errorbars":323,"../components/legend":325,"../components/modebar/manage":328,"../components/shapes":330,"../components/titles":331,"../constants/xmlns_namespaces":337,"../lib":348,"../lib/events":343,"../lib/queue":354,"../plotly":365,"../plots/cartesian/graph_interact":370,"../plots/plots":404,d3:70,"fast-isnumeric":74,"gl-mat4/fromQuat":91}],362:[function(require,a,b){"use strict";function c(a,b){try{a._fullLayout._paper.style("background",b)}catch(c){console.log(c)}}a.exports={staticPlot:!1,editable:!1,autosizable:!1,fillFrame:!1,frameMargins:0,scrollZoom:!1,doubleClick:"reset+autosize",showTips:!0,showLink:!1,sendData:!0,linkText:"Edit chart",showSources:!1,displayModeBar:"hover",modeBarButtonsToRemove:[],modeBarButtonsToAdd:[],modeBarButtons:!1,displaylogo:!0,plotGlPixelRatio:2,setBackground:c,topojsonURL:"https://cdn.plot.ly/"}},{}],363:[function(require,a,b){"use strict";function c(a){var b=p.attributes,c=h({type:a}),d=j(a),e=l(a),k={},m={};k.type=null,s(k,b),k=f(c.attributes,k,"attributes",a),void 0!==e.attributes&&s(k,e.attributes),k.type=a,k=i(k),g(k),A.traces[a]=r({},d,{attributes:k}),void 0!==c.layoutAttributes&&(m=f(c.layoutAttributes,m,"layoutAttributes",a),g(m),A.traces[a].layoutAttributes=m)}function d(){var a=p.layoutAttributes,b={};b=f(a,b,"layoutAttributes","*"),b=k(b),b=m(b),b=i(b),g(b),b=n(b),A.layout={layoutAttributes:b}}function e(){A.defs={valObjects:q.valObjects,metaKeys:z.concat(["description","role"])}}function f(a,b,c,d){var e,g,i,j,k;return Object.keys(a).forEach(function(l){return l===u?void Object.keys(a[l]).forEach(function(j){e=h({module:a[l][j]}),void 0!==e&&(g=e[c],i=f(g,{},c,d),q.nestedProperty(b,j).set(s({},i)))}):l===v?void Object.keys(a[l]).forEach(function(e){e===d&&(j=h({module:a[l][e]}),void 0!==j&&(k=j[c],k=f(k,{},c,d),t(b,k)))}):void(b[l]=q.isPlainObject(a[l])?t({},a[l]):a[l])}),b}function g(a){function b(a){return{valType:"string"}}function c(a,c,d){D.isValObject(a)?"data_array"===a.valType?(a.role="data",d[c+"src"]=b(c)):a.arrayOk===!0&&(d[c+"src"]=b(c)):q.isPlainObject(a)&&(a.role="object")}D.crawl(a,c)}function h(a){if("type"in a)return"area"===a.type?{attributes:B}:p.getModule({type:a.type});var b=p.subplotsRegistry,c=a.module;return b[c]?b[c]:"module"in a?o[c]:void 0}function i(a){return Object.keys(a).forEach(function(b){"_"===b.charAt(0)&&-1===z.indexOf(b)&&delete a[b]}),a}function j(a){return"area"===a?{}:p.modules[a].meta||{}}function k(a){return r(a,{radialaxis:C.radialaxis,angularaxis:C.angularaxis}),r(a,C.layout),a}function l(a){if("area"===a)return{};var b=p.subplotsRegistry,c=Object.keys(b).filter(function(b){return p.traceIs({type:a},b)})[0];return void 0===c?{}:b[c]}function m(a){var b=p.subplotsRegistry;return Object.keys(a).forEach(function(c){Object.keys(b).forEach(function(d){var e,f=b[d];e="cartesian"===d||"gl2d"===d?f.attrRegex.x.test(c)||f.attrRegex.y.test(c):f.attrRegex.test(c),e&&(a[c][w]=!0)})}),a}function n(a){return Object.keys(a).forEach(function(b){var c=s({},a[b]);if(c[x]===!0){var d=b.substr(0,b.length-1);delete c[x],a[b]={items:{}},a[b].items[d]=c,a[b].role="object"}}),a}var o=require("../plotly"),p=require("../plots/plots"),q=require("../lib"),r=q.extendFlat,s=q.extendDeep,t=q.extendDeepAll,u="_nestedModules",v="_composedModules",w="_isSubplotObj",x="_isLinkedToArray",y="_deprecated",z=[w,x,y],A={traces:{},layout:{},defs:{}},B=require("../plots/polar/area_attributes"),C=require("../plots/polar/axis_attributes"),D=a.exports={};D.get=function(){return p.allTypes.concat("area").forEach(c),d(),e(),A},D.crawl=function(a,b){Object.keys(a).forEach(function(c){var d=a[c];-1===z.indexOf(c)&&(b(d,c,a),D.isValObject(d)||q.isPlainObject(d)&&D.crawl(d,b))})},D.isValObject=function(a){return a&&void 0!==a.valType}},{"../lib":348,"../plotly":365,"../plots/plots":404,"../plots/polar/area_attributes":405,"../plots/polar/axis_attributes":406}],364:[function(require,a,b){"use strict";var c=require("../plotly");a.exports=function(a){return c.Lib.extendFlat(c.defaultConfig,a)}},{"../plotly":365}],365:[function(require,a,b){"use strict";require("es6-promise").polyfill(),b.Lib=require("./lib"),b.util=require("./lib/svg_text_utils"),b.Queue=require("./lib/queue"),require("../build/plotcss"),b.MathJaxConfig=require("./fonts/mathjax_config"),b.defaultConfig=require("./plot_api/plot_config");var c=b.Plots=require("./plots/plots");b.Axes=require("./plots/cartesian/axes"),b.Fx=require("./plots/cartesian/graph_interact"),b.micropolar=require("./plots/polar/micropolar"),b.Color=require("./components/color"),b.Drawing=require("./components/drawing"),b.Colorscale=require("./components/colorscale"),b.Colorbar=require("./components/colorbar"),b.ErrorBars=require("./components/errorbars"),b.Annotations=require("./components/annotations"),b.Shapes=require("./components/shapes"),b.Titles=require("./components/titles"),b.Legend=require("./components/legend"),b.ModeBar=require("./components/modebar"),b.register=function(a){if(!a)throw new Error("No argument passed to Plotly.register.");a&&!Array.isArray(a)&&(a=[a]);for(var b=0;b<a.length;b++){var d=a[b];if(d&&"trace"!==d.moduleType)throw new Error("Invalid module was attempted to be registered!");c.register(d,d.name,d.categories,d.meta),c.subplotsRegistry[d.basePlotModule.name]||c.registerSubplot(d.basePlotModule)}},b.register(require("./traces/scatter")),require("./plot_api/plot_api"),b.PlotSchema=require("./plot_api/plot_schema"),b.Snapshot=require("./snapshot")},{"../build/plotcss":1,"./components/annotations":297,"./components/color":299,"./components/colorbar":304,"./components/colorscale":312,"./components/drawing":317,"./components/errorbars":323,"./components/legend":325,"./components/modebar":327,"./components/shapes":330,"./components/titles":331,"./fonts/mathjax_config":339,"./lib":348,"./lib/queue":354,"./lib/svg_text_utils":359,"./plot_api/plot_api":361,"./plot_api/plot_config":362,"./plot_api/plot_schema":363,"./plots/cartesian/axes":368,"./plots/cartesian/graph_interact":370,"./plots/plots":404,"./plots/polar/micropolar":407,"./snapshot":411,"./traces/scatter":502,"es6-promise":73}],366:[function(require,a,b){"use strict";a.exports={type:{valType:"enumerated",values:[],dflt:"scatter"},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0},showlegend:{valType:"boolean",dflt:!0},legendgroup:{valType:"string",dflt:""},opacity:{valType:"number",min:0,max:1,dflt:1},name:{valType:"string"},uid:{valType:"string",dflt:""},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none"],dflt:"all"},stream:{token:{valType:"string",noBlank:!0,strict:!0},maxpoints:{valType:"number",min:0}}}},{}],367:[function(require,a,b){"use strict";a.exports={xaxis:{valType:"axisid",dflt:"x"},yaxis:{valType:"axisid",dflt:"y"}}},{}],368:[function(require,a,b){"use strict";function c(a,b){if("-"===a.type){var c=a._id,g=c.charAt(0);-1!==c.indexOf("scene")&&(c=g);var h=f(b,c,g);if(h){if("histogram"===h.type&&g==={v:"y",h:"x"}[h.orientation||"v"])return void(a.type="linear");if(e(h,g)){for(var i,j=d(h),k=[],l=0;l<b.length;l++)i=b[l],y.Plots.traceIs(i,"box")&&(i[g+"axis"]||g)===c&&(void 0!==i[j]?k.push(i[j][0]):void 0!==i.name?k.push(i.name):k.push("text"));a.type=B.autoType(k)}else a.type=B.autoType(h[g]||[h[g+"0"]])}}}function d(a){return{v:"x",h:"y"}[a.orientation||"v"]}function e(a,b){var c=d(a);return y.Plots.traceIs(a,"box")&&b===c&&void 0===a[c]&&void 0===a[c+"0"]}function f(a,b,c){for(var d,f=0;f<a.length;f++)if(d=a[f],(d[c+"axis"]||c)===b){if(e(d,c))return d;if((d[c]||[]).length||d[c+"0"])return d}}function g(a){if(!a)return!1;for(var b=0;b<a.length;b++)if(A(a[b]))return!0;return!1}function h(a){var b,c,d=a.tickvals,e=a.ticktext,f=new Array(d.length),g=1.0001*a.range[0]-1e-4*a.range[1],h=1.0001*a.range[1]-1e-4*a.range[0],i=Math.min(g,h),j=Math.max(g,h),k=0;for(Array.isArray(e)||(e=[]),c=0;c<d.length;c++)b=a.d2l(d[c]),b>i&&j>b&&(void 0===e[c]?f[k]=B.tickText(a,b):f[k]=l(a,b,String(e[c])),k++);return k<d.length&&f.splice(k,d.length-k),f}function i(a,b,c){return b*y.Lib.roundUp(a/b,c)}function j(a){var b,c=a.dtick;if(a._tickexponent=0,A(c)||"string"==typeof c||(c=1),"category"===a.type)a._tickround=null;else if(A(c)||"L"===c.charAt(0))if("date"===a.type)c>=864e5?a._tickround="d":c>=36e5?a._tickround="H":c>=6e4?a._tickround="M":c>=1e3?a._tickround="S":a._tickround=3-Math.round(Math.log(c/2)/Math.LN10);else{A(c)||(c=Number(c.substr(1))),a._tickround=2-Math.floor(Math.log(c)/Math.LN10+.01),b="log"===a.type?Math.pow(10,Math.max(a.range[0],a.range[1])):Math.max(Math.abs(a.range[0]),Math.abs(a.range[1]));var d=Math.floor(Math.log(b)/Math.LN10+.01);Math.abs(d)>3&&("SI"===a.exponentformat||"B"===a.exponentformat?a._tickexponent=3*Math.round((d-1)/3):a._tickexponent=d)}else"M"===c.charAt(0)?a._tickround=2===c.length?"m":"y":a._tickround=null}function k(a,b){var c=a.match(T),d=new Date(b);if(c){var e=Math.min(+c[1]||6,6),f=String(b/1e3%1+2.0000005).substr(2,e).replace(/0+$/,"")||"0";return z.time.format(a.replace(T,f))(d)}return z.time.format(a)(d)}function l(a,b,c){var d=a.tickfont||a._td._fullLayout.font;return{x:b,dx:0,dy:0,text:c||"",fontSize:d.size,font:d.family,fontColor:d.color}}function m(a,b,c,d){var e,f=b.x,g=a._tickround,h=new Date(f),i="";c&&a.hoverformat?e=k(a.hoverformat,f):a.tickformat?e=k(a.tickformat,f):(d&&(A(g)?g+=2:g={y:"m",m:"d",d:"H",H:"M",M:"S",S:2}[g]),"y"===g?e=N(h):"m"===g?e=O(h):(f!==a._tmin||c||(i="<br>"+N(h)),"d"===g?e=P(h):"H"===g?e=Q(h):(f!==a._tmin||c||(i="<br>"+P(h)+", "+N(h)),e=R(h),"M"!==g&&(e+=S(h),"S"!==g&&(e+=q(x(f/1e3,1),a,"none",c).substr(1)))))),b.text=e+i}function n(a,b,c,d,e){var f=a.dtick,g=b.x;if(!d||"string"==typeof f&&"L"===f.charAt(0)||(f="L3"),a.tickformat||"string"==typeof f&&"L"===f.charAt(0))b.text=q(Math.pow(10,g),a,e,d);else if(A(f)||"D"===f.charAt(0)&&x(g+.01,1)<.1)if(-1!==["e","E","power"].indexOf(a.exponentformat)){var h=Math.round(g);0===h?b.text=1:1===h?b.text="10":h>1?b.text="10<sup>"+h+"</sup>":b.text="10<sup>"+-h+"</sup>",b.fontSize*=1.25}else b.text=q(Math.pow(10,g),a,"","fakehover"),"D1"===f&&"y"===a._id.charAt(0)&&(b.dy-=b.fontSize/6);else{if("D"!==f.charAt(0))throw"unrecognized dtick "+String(f);b.text=String(Math.round(Math.pow(10,x(g,1)))),b.fontSize*=.75}if("D1"===a.dtick){var i=String(b.text).charAt(0);("0"===i||"1"===i)&&("y"===a._id.charAt(0)?b.dx-=b.fontSize/4:(b.dy+=b.fontSize/2,b.dx+=(a.range[1]>a.range[0]?1:-1)*b.fontSize*(0>g?.5:.25)))}}function o(a,b){var c=a._categories[Math.round(b.x)];void 0===c&&(c=""),b.text=String(c)}function p(a,b,c,d,e){"all"===a.showexponent&&Math.abs(b.x/a.dtick)<1e-6&&(e="hide"),b.text=q(b.x,a,e,d)}function q(a,b,c,d){var e=0>a,f=b._tickround,g=c||b.exponentformat||"B",h=b._tickexponent,i=b.tickformat;if(d){var k={exponentformat:b.exponentformat,dtick:"none"===b.showexponent?b.dtick:A(a)?Math.abs(a)||1:1,range:"none"===b.showexponent?b.range:[0,a||1]};j(k),f=(Number(k._tickround)||0)+4,h=k._tickexponent,b.hoverformat&&(i=b.hoverformat)}if(i)return z.format(i)(a).replace(/-/g,"");var l=Math.pow(10,-f)/2;if("none"===g&&(h=0),a=Math.abs(a),l>a)a="0",e=!1;else{if(a+=l,h&&(a*=Math.pow(10,-h),f+=h),0===f)a=String(Math.floor(a));else if(0>f){a=String(Math.round(a)),a=a.substr(0,a.length+f);for(var m=f;0>m;m++)a+="0"}else{a=String(a);var n=a.indexOf(".")+1;n&&(a=a.substr(0,n+f).replace(/\.?0+$/,""))}a=r(a,b._td._fullLayout.separators)}if(h&&"hide"!==g){var o;o=0>h?""+-h:"power"!==g?"+"+h:String(h),"e"===g||("SI"===g||"B"===g)&&(h>12||-15>h)?a+="e"+o:"E"===g?a+="E"+o:"power"===g?a+="&times;10<sup>"+o+"</sup>":"B"===g&&9===h?a+="B":("SI"===g||"B"===g)&&(a+=U[h/3+5])}return e?""+a:a}function r(a,b){var c=b.charAt(0),d=b.charAt(1),e=a.split("."),f=e[0],g=e.length>1?c+e[1]:"";if(d&&(e.length>1||f.length>4))for(;V.test(f);)f=f.replace(V,"$1"+d+"$2");return f+g}function s(a,b,c){function d(a,c){for(var d=Object.keys(a),e=/^[xyz]axis[0-9]*/,f=[],g=0;g<d.length;g++){var h=d[g];b&&h.charAt(0)!==b||e.test(h)&&f.push(c+h)}return f.sort()}var e=a._fullLayout;if(!e)return[];var f=d(e,"");if(c)return f;for(var g=y.Plots.getSubplotIds(e,"gl3d")||[],h=0;h<g.length;h++){var i=g[h];f=f.concat(d(e[i],i+"."))}return f}function t(a,b){var c,d,e=[];for(c=0;c<b.length;c++){var f=[],g=a._fullData[b[c]].xaxis,h=a._fullData[b[c]].yaxis;if(g&&h){for(d=0;d<e.length;d++)(-1!==e[d].x.indexOf(g)||-1!==e[d].y.indexOf(h))&&f.push(d);if(f.length){var i,j=e[f[0]];if(f.length>1)for(d=1;d<f.length;d++)i=e[f[d]],u(j.x,i.x),u(j.y,i.y);u(j.x,[g]),u(j.y,[h])}else e.push({x:[g],y:[h]})}}return e}function u(a,b){for(var c=0;c<b.length;c++)-1===a.indexOf(b[c])&&a.push(b[c])}function v(a,b,c){var d,e,f=[],g=[],h=a.layout;for(d=0;d<b.length;d++)f.push(B.getFromId(a,b[d]));for(d=0;d<c.length;d++)g.push(B.getFromId(a,c[d]));var i=Object.keys(f[0]),j=["anchor","domain","overlaying","position","side","tickangle"],k=["linear","log"];for(d=0;d<i.length;d++){var l=i[d],m=f[0][l],n=g[0][l],o=!0,p=!1,q=!1;if("_"!==l.charAt(0)&&"function"!=typeof m&&-1===j.indexOf(l)){for(e=1;e<f.length&&o;e++){var r=f[e][l];"type"===l&&-1!==k.indexOf(m)&&-1!==k.indexOf(r)&&m!==r?p=!0:r!==m&&(o=!1)}for(e=1;e<g.length&&o;e++){var s=g[e][l];"type"===l&&-1!==k.indexOf(n)&&-1!==k.indexOf(s)&&n!==s?q=!0:g[e][l]!==n&&(o=!1)}o&&(p&&(h[f[0]._name].type="linear"),q&&(h[g[0]._name].type="linear"),w(h,l,f,g))}}for(d=0;d<a._fullLayout.annotations.length;d++){var t=a._fullLayout.annotations[d];-1!==b.indexOf(t.xref)&&-1!==c.indexOf(t.yref)&&y.Lib.swapAttrs(h.annotations[d],["?"])}}function w(a,b,c,d){var e,f=y.Lib.nestedProperty,g=f(a[c[0]._name],b).get(),h=f(a[d[0]._name],b).get();for("title"===b&&("Click to enter X axis title"===g&&(g="Click to enter Y axis title"),"Click to enter Y axis title"===h&&(h="Click to enter X axis title")),e=0;e<c.length;e++)f(a,c[e]._name+"."+b).set(h);for(e=0;e<d.length;e++)f(a,d[e]._name+"."+b).set(g)}function x(a,b){return(a%b+b)%b}var y=require("../../plotly"),z=require("d3"),A=require("fast-isnumeric"),B=a.exports={};B.layoutAttributes=require("./layout_attributes");var C=/^xaxis[0-9]*$/,D=/^yaxis[0-9]*$/;B.supplyLayoutDefaults=function(a,b,c){function d(a,b){var c=Number(a.substr(5)||1),d=Number(b.substr(5)||1);return c-d}var e,f=Object.keys(a),g=[],h=[],i={},j={};for(e=0;e<f.length;e++){var k=f[e];C.test(k)?g.push(k):D.test(k)&&h.push(k)}for(e=0;e<c.length;e++){var l=c[e],m=B.id2name(l.xaxis),n=B.id2name(l.yaxis);if(m&&-1===g.indexOf(m)&&g.push(m),n&&-1===h.indexOf(n)&&h.push(n),y.Plots.traceIs(l,"2dMap")&&(i[m]=!0,i[n]=!0),y.Plots.traceIs(l,"oriented")){var o="h"===l.orientation?n:m;j[o]=!0}}(b._hasCartesian||b._hasGL2D||!c.length)&&(g.length?g.sort(d):g=["xaxis"],h.length?h.sort(d):h=["yaxis"]),g.concat(h).forEach(function(d){function e(a,b){return y.Lib.coerce(k,l,B.layoutAttributes,a,b)}var f=d.charAt(0),k=a[d]||{},l={},m={letter:f,font:b.font,outerTicks:i[d],showGrid:!j[d],name:d,data:c},n={letter:f,counterAxes:{x:h,y:g}[f].map(B.name2id),overlayableAxes:{x:g,y:h}[f].filter(function(b){return b!==d&&!(a[b]||{}).overlaying}).map(B.name2id)};B.handleAxisDefaults(k,l,e,m),B.handleAxisPositioningDefaults(k,l,e,n),b[d]=l,a[d]||"-"===k.type||(a[d]={type:k.type})}),g.length&&h.length&&y.Lib.coerce(a,b,y.Plots.layoutAttributes,"plot_bgcolor")},B.handleAxisDefaults=function(a,b,d,e){var f=e.letter,g=e.font||{},h="Click to enter "+(e.title||f.toUpperCase()+" axis")+" title";e.name&&(b._name=e.name,b._id=B.name2id(e.name));var i=d("type");"-"===i&&(c(b,e.data),"-"===b.type?b.type="linear":i=a.type=b.type),B.setConvert(b),d("title",h),y.Lib.coerceFont(d,"titlefont",{family:g.family,size:Math.round(1.2*g.size),color:g.color});var j=2===(a.range||[]).length&&A(a.range[0])&&A(a.range[1]),k=d("autorange",!j);k&&d("rangemode");var l=d("range",[-1,"x"===f?6:4]);l[0]===l[1]&&(b.range=[l[0]-1,l[0]+1]),y.Lib.noneOrAll(a.range,b.range,[0,1]),d("fixedrange"),B.handleTickValueDefaults(a,b,d,i),B.handleTickDefaults(a,b,d,i,e);var m=y.Lib.coerce2(a,b,B.layoutAttributes,"linecolor"),n=y.Lib.coerce2(a,b,B.layoutAttributes,"linewidth"),o=d("showline",!!m||!!n);o||(delete b.linecolor,delete b.linewidth),(o||b.ticks)&&d("mirror");var p=y.Lib.coerce2(a,b,B.layoutAttributes,"gridcolor"),q=y.Lib.coerce2(a,b,B.layoutAttributes,"gridwidth"),r=d("showgrid",e.showGrid||!!p||!!q);r||(delete b.gridcolor,delete b.gridwidth);var s=y.Lib.coerce2(a,b,B.layoutAttributes,"zerolinecolor"),t=y.Lib.coerce2(a,b,B.layoutAttributes,"zerolinewidth"),u=d("zeroline",e.showGrid||!!s||!!t);return u||(delete b.zerolinecolor,delete b.zerolinewidth),b},B.handleTickDefaults=function(a,b,c,d,e){var f=y.Lib.coerce2(a,b,B.layoutAttributes,"ticklen"),g=y.Lib.coerce2(a,b,B.layoutAttributes,"tickwidth"),h=y.Lib.coerce2(a,b,B.layoutAttributes,"tickcolor"),i=c("ticks",e.outerTicks||f||g||h?"outside":"");i||(delete b.ticklen,delete b.tickwidth,delete b.tickcolor);var j=c("showticklabels");if(j){y.Lib.coerceFont(c,"tickfont",e.font||{}),c("tickangle");var k=B.getShowAttrDflt(a);if("category"!==d){var l=c("tickformat");e.noHover||c("hoverformat"),l||"date"===d||(c("showexponent",k),c("exponentformat"))}var m=c("tickprefix");m&&c("showtickprefix",k);var n=c("ticksuffix");n&&c("showticksuffix",k)}},B.handleTickValueDefaults=function(a,b,c,d){var e="auto";"array"!==a.tickmode||"log"!==d&&"date"!==d||(a.tickmode="auto"),Array.isArray(a.tickvals)?e="array":a.dtick&&A(a.dtick)&&(e="linear");var f=c("tickmode",e);if("auto"===f)c("nticks");else if("linear"===f)c("tick0"),c("dtick");else{var g=c("tickvals");void 0===g?b.tickmode="auto":c("ticktext")}},B.handleAxisPositioningDefaults=function(a,b,c,d){var e=d.counterAxes||[],f=d.overlayableAxes||[],g=d.letter,h=y.Lib.coerce(a,b,{anchor:{valType:"enumerated",values:["free"].concat(e),dflt:A(a.position)?"free":e[0]||"free"}},"anchor");"free"===h&&c("position"),y.Lib.coerce(a,b,{side:{valType:"enumerated",values:"x"===g?["bottom","top"]:["left","right"],dflt:"x"===g?"bottom":"left"}},"side");var i=!1;if(f.length&&(i=y.Lib.coerce(a,b,{overlaying:{valType:"enumerated",values:[!1].concat(f),dflt:!1}},"overlaying")),!i){var j=c("domain");j[0]>j[1]-.01&&(b.domain=[0,1]),y.Lib.noneOrAll(a.domain,b.domain,[0,1])}return b},B.coerceRef=function(a,b,c,d){var e=c._fullLayout._hasGL2D?[]:B.listIds(c,d),f=d+"ref",g={};return g[f]={valType:"enumerated",values:e.concat(["paper"]),dflt:e[0]||"paper"},y.Lib.coerce(a,b,g,f)},B.clearTypes=function(a,b){Array.isArray(b)&&b.length||(b=a._fullData.map(function(a,b){return b})),b.forEach(function(b){var c=a.data[b];delete(B.getFromId(a,c.xaxis)||{}).type,delete(B.getFromId(a,c.yaxis)||{}).type})};var E=/^[xyz][0-9]*$/,F=/^[xyz]axis[0-9]*$/;B.id2name=function(a){if("string"==typeof a&&a.match(E)){var b=a.substr(1);return"1"===b&&(b=""),a.charAt(0)+"axis"+b}},B.name2id=function(a){if(a.match(F)){var b=a.substr(5);return"1"===b&&(b=""),a.charAt(0)+b}},B.cleanId=function(a,b){if(a.match(E)&&(!b||a.charAt(0)===b)){var c=a.substr(1).replace(/^0+/,"");return"1"===c&&(c=""),a.charAt(0)+c}},B.cleanName=function(a,b){if(a.match(E)&&(!b||a.charAt(0)===b)){var c=a.substr(5).replace(/^0+/,"");return"1"===c&&(c=""),a.charAt(0)+"axis"+c}},B.counterLetter=function(a){return{x:"y",y:"x"}[a.charAt(0)]},B.autoType=function(a){return B.moreDates(a)?"date":B.category(a)?"category":g(a)?"linear":"-"},B.getShowAttrDflt=function(a){var b=["showexponent","showtickprefix","showticksuffix"],c=b.filter(function(b){return void 0!==a[b]}),d=function(b){return a[b]===a[c[0]]};return c.every(d)||1===c.length?a[c[0]]:void 0},B.moreDates=function(a){for(var b,c=0,d=0,e=Math.max(1,(a.length-1)/1e3),f=0;f<a.length;f+=e)b=a[Math.round(f)],y.Lib.isDateTime(b)&&(c+=1),A(b)&&(d+=1);return c>2*d},B.category=function(a){for(var b,c=Math.max(1,(a.length-1)/1e3),d=0,e=0,f=0;f<a.length;f+=c)b=B.cleanDatum(a[Math.round(f)]),A(b)?d++:"string"==typeof b&&""!==b&&"None"!==b&&e++;return e>2*d},B.cleanDatum=function(a){try{if("object"==typeof a&&null!==a&&a.getTime)return y.Lib.ms2DateTime(a);if("string"!=typeof a&&!A(a))return"";a=a.toString().replace(/['"%,$# ]/g,"")}catch(b){console.log(b,a)}return a},B.BADNUM=void 0,B.setConvert=function(a){function b(b,c){if(b>0)return Math.log(b)/Math.LN10;if(0>=b&&c&&a.range&&2===a.range.length){var d=a.range[0],f=a.range[1];return.5*(d+f-3*e*Math.abs(d-f))}return B.BADNUM}function c(a){return Math.pow(10,a)}function d(a){return A(a)?Number(a):B.BADNUM}var e=10;if(a.c2l="log"===a.type?b:d,a.l2c="log"===a.type?c:d,a.l2d=function(b){return a.c2d(a.l2c(b))},a.p2d=function(b){return a.l2d(a.p2l(b))},a.setScale=function(){var b,c=a._td._fullLayout._size;if(a._categories||(a._categories=[]),a.overlaying){var d=B.getFromId(a._td,a.overlaying);a.domain=d.domain}for(a.range&&2===a.range.length&&a.range[0]!==a.range[1]||(a.range=[-1,1]),b=0;2>b;b++)A(a.range[b])||(a.range[b]=A(a.range[1-b])?a.range[1-b]*(b?10:.1):b?1:-1),a.range[b]<-(Number.MAX_VALUE/2)?a.range[b]=-(Number.MAX_VALUE/2):a.range[b]>Number.MAX_VALUE/2&&(a.range[b]=Number.MAX_VALUE/2);if("y"===a._id.charAt(0)?(a._offset=c.t+(1-a.domain[1])*c.h,a._length=c.h*(a.domain[1]-a.domain[0]),a._m=a._length/(a.range[0]-a.range[1]),a._b=-a._m*a.range[1]):(a._offset=c.l+a.domain[0]*c.w,a._length=c.w*(a.domain[1]-a.domain[0]),a._m=a._length/(a.range[1]-a.range[0]),a._b=-a._m*a.range[0]),!isFinite(a._m)||!isFinite(a._b))throw y.Lib.notifier("Something went wrong with axis scaling","long"),a._td._replotting=!1,new Error("axis scaling")},a.l2p=function(b){return A(b)?z.round(y.Lib.constrain(a._b+a._m*b,-e*a._length,(1+e)*a._length),2):B.BADNUM},a.p2l=function(b){return(b-a._b)/a._m},a.c2p=function(b,c){return a.l2p(a.c2l(b,c))},a.p2c=function(b){return a.l2c(a.p2l(b))},-1!==["linear","log","-"].indexOf(a.type))a.c2d=d,a.d2c=function(a){return a=B.cleanDatum(a),A(a)?Number(a):B.BADNUM},a.d2l=function(b,c){return"log"===a.type?a.c2l(a.d2c(b),c):a.d2c(b)};else if("date"===a.type){if(a.c2d=function(a){return A(a)?y.Lib.ms2DateTime(a):B.BADNUM},a.d2c=function(a){return A(a)?Number(a):y.Lib.dateTime2ms(a)},a.d2l=a.d2c,a.range&&a.range.length>1)try{var f=a.range.map(y.Lib.dateTime2ms);!A(a.range[0])&&A(f[0])&&(a.range[0]=f[0]),!A(a.range[1])&&A(f[1])&&(a.range[1]=f[1])}catch(g){console.log(g,a.range)}}else"category"===a.type&&(a.c2d=function(b){return a._categories[Math.round(b)]},a.d2c=function(b){-1===a._categories.indexOf(b)&&a._categories.push(b);var c=a._categories.indexOf(b);return-1===c?B.BADNUM:c},a.d2l=a.d2c);a.makeCalcdata=function(b,c){var d,e,f;if(c in b)for(d=b[c],e=new Array(d.length),f=0;f<d.length;f++)e[f]=a.d2c(d[f]);else{var g=c+"0"in b?a.d2c(b[c+"0"]):0,h=b["d"+c]?Number(b["d"+c]):1;for(d=b[{x:"y",y:"x"}[c]],e=new Array(d.length),f=0;f<d.length;f++)e[f]=g+f*h}return e},a._min=[],a._max=[],a._minDtick=null,a._forceTick0=null},B.minDtick=function(a,b,c,d){-1===["log","category"].indexOf(a.type)&&d?null===a._minDtick?(a._minDtick=b,a._forceTick0=c):a._minDtick&&((a._minDtick/b+1e-6)%1<2e-6&&((c-a._forceTick0)/b%1+1.000001)%1<2e-6?(a._minDtick=b,a._forceTick0=c):((b/a._minDtick+1e-6)%1>2e-6||((c-a._forceTick0)/a._minDtick%1+1.000001)%1>2e-6)&&(a._minDtick=0)):a._minDtick=0},B.doAutoRange=function(a){if(a._length||a.setScale(),a.autorange&&a._min&&a._max&&a._min.length&&a._max.length){var b,c=a._min[0].val,d=a._max[0].val;for(b=1;b<a._min.length&&c===d;b++)c=Math.min(c,a._min[b].val);for(b=1;b<a._max.length&&c===d;b++)d=Math.max(d,a._max[b].val);var e,f,g,h,i,j,k,l=0,m=a.range&&a.range[1]<a.range[0];for("reversed"===a.autorange&&(m=!0,a.autorange=!0),b=0;b<a._min.length;b++)for(f=a._min[b],e=0;e<a._max.length;e++)g=a._max[e],k=g.val-f.val,j=a._length-f.pad-g.pad,k>0&&j>0&&k/j>l&&(h=f,i=g,l=k/j);c===d?a.range=m?[c+1,"normal"!==a.rangemode?0:c-1]:["normal"!==a.rangemode?0:c-1,c+1]:l&&(("linear"===a.type||"-"===a.type)&&("tozero"===a.rangemode&&h.val>=0?h={val:0,pad:0}:"nonnegative"===a.rangemode&&(h.val-l*h.pad<0&&(h={val:0,pad:0}),i.val<0&&(i={val:1,pad:0})),l=(i.val-h.val)/(a._length-h.pad-i.pad)),a.range=[h.val-l*h.pad,i.val+l*i.pad],a.range[0]===a.range[1]&&(a.range=[a.range[0]-1,a.range[0]+1]),m&&a.range.reverse());var n=a._td.layout[a._name];n||(a._td.layout[a._name]=n={}),n!==a&&(n.range=a.range.slice(),n.autorange=a.autorange)}},B.saveRangeInitial=function(a,b){for(var c,d,e,f=B.list(a,"",!0),g=!1,h=0;h<f.length;h++)c=f[h],d=void 0===c._rangeInitial,e=d||!(c.range[0]===c._rangeInitial[0]&&c.range[1]===c._rangeInitial[1]),(d&&c.autorange===!1||b&&e)&&(c._rangeInitial=c.range.slice(),g=!0);return g};var G=Number.MAX_VALUE/2;B.expand=function(a,b,c){function d(a){if(Array.isArray(a))return function(b){return Math.max(Number(a[b]||0),0)};var b=Math.max(Number(a||0),0);return function(){return b}}function e(c){function d(a){return A(a)&&Math.abs(a)<G}if(i=b[c],A(i)){if(l=t(c)+r,m=u(c)+r,o=i-w(c),p=i+v(c),"log"===a.type&&p/10>o&&(o=p/10),j=a.c2l(o),k=a.c2l(p),s&&(j=Math.min(0,j),k=Math.max(0,k)),d(j)){for(n=!0,g=0;g<a._min.length&&n;g++)h=a._min[g],h.val<=j&&h.pad>=m?n=!1:h.val>=j&&h.pad<=m&&(a._min.splice(g,1),g--);n&&a._min.push({val:j,pad:s&&0===j?0:m})}if(d(k)){for(n=!0,g=0;g<a._max.length&&n;g++)h=a._max[g],h.val>=k&&h.pad>=l?n=!1:h.val<=k&&h.pad<=l&&(a._max.splice(g,1),g--);n&&a._max.push({val:k,pad:s&&0===k?0:l})}}}if(a.autorange&&b){a._min||(a._min=[]),a._max||(a._max=[]),c||(c={}),a._m||a.setScale();var f,g,h,i,j,k,l,m,n,o,p,q=b.length,r=c.padded?.05*a._length:0,s=c.tozero&&("linear"===a.type||"-"===a.type),t=d((a._m>0?c.ppadplus:c.ppadminus)||c.ppad||0),u=d((a._m>0?c.ppadminus:c.ppadplus)||c.ppad||0),v=d(c.vpadplus||c.vpad),w=d(c.vpadminus||c.vpad);for(f=0;6>f;f++)e(f);for(f=q-1;f>5;f--)e(f)}},B.autoBin=function(a,b,c,d){function e(a){return(1+100*(a-n)/l.dtick)%100<2}var f=y.Lib.aggNums(Math.min,null,a),g=y.Lib.aggNums(Math.max,null,a);if("category"===b.type)return{start:f-.5,end:g+.5,size:1};var h;if(c)h=(g-f)/c;else{var i=y.Lib.distinctVals(a),j=Math.pow(10,Math.floor(Math.log(i.minDiff)/Math.LN10)),k=j*y.Lib.roundUp(i.minDiff/j,[.9,1.9,4.9,9.9],!0);h=Math.max(k,2*y.Lib.stdev(a)/Math.pow(a.length,d?.25:.4))}var l={type:"log"===b.type?"linear":b.type,range:[f,g]};B.autoTicks(l,h);var m,n=B.tickIncrement(B.tickFirst(l),l.dtick,"reverse");if("number"==typeof l.dtick){for(var o=0,p=0,q=0,r=0,s=0;s<a.length;s++)a[s]%1===0?q++:A(a[s])||r++,e(a[s])&&o++,e(a[s]+l.dtick/2)&&p++;var t=a.length-r;if(q===t&&"date"!==b.type)l.dtick<1?n=f-.5*l.dtick:n-=.5;else if(.1*t>p&&(o>.3*t||e(f)||e(g))){var u=l.dtick/2;n+=f>n+u?u:-u}var v=1+Math.floor((g-n)/l.dtick);m=n+v*l.dtick}else for(m=n;g>=m;)m=B.tickIncrement(m,l.dtick);return{start:n,end:m,size:l.dtick}},B.calcTicks=function(a){if("array"===a.tickmode)return h(a);if("auto"===a.tickmode||!a.dtick){var b,c=a.nticks;c||("category"===a.type?(b=a.tickfont?1.2*(a.tickfont.size||12):15,c=a._length/b):(b="y"===a._id.charAt(0)?40:80,c=y.Lib.constrain(a._length/b,4,9)+1)),B.autoTicks(a,Math.abs(a.range[1]-a.range[0])/c),a._minDtick>0&&a.dtick<2*a._minDtick&&(a.dtick=a._minDtick,a.tick0=a._forceTick0)}a.tick0||(a.tick0="date"===a.type?new Date(2e3,0,1).getTime():0),j(a),a._tmin=B.tickFirst(a);var d=a.range[1]<a.range[0],e=[],f=1.0001*a.range[1]-1e-4*a.range[0];"category"===a.type&&(f=d?Math.max(-.5,f):Math.min(a._categories.length-.5,f));for(var g=a._tmin;(d?g>=f:f>=g)&&(e.push(g),!(e.length>1e3));g=B.tickIncrement(g,a.dtick,d));a._tmax=e[e.length-1];for(var i=new Array(e.length),k=0;k<e.length;k++)i[k]=B.tickText(a,e[k]);return i};var H=[2,5,10],I=[1,2,3,6,12],J=[1,2,5,10,15,30],K=[1,2,3,7,14],L=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],M=[-.301,0,.301,.699,1];B.autoTicks=function(a,b){var c;if("date"===a.type)a.tick0=new Date(2e3,0,1).getTime(),b>157788e5?(b/=315576e5,c=Math.pow(10,Math.floor(Math.log(b)/Math.LN10)),a.dtick="M"+12*i(b,c,H)):b>12096e5?(b/=26298e5,a.dtick="M"+i(b,1,I)):b>432e5?(a.dtick=i(b,864e5,K),a.tick0=new Date(2e3,0,2).getTime()):b>18e5?a.dtick=i(b,36e5,I):b>3e4?a.dtick=i(b,6e4,J):b>500?a.dtick=i(b,1e3,J):(c=Math.pow(10,Math.floor(Math.log(b)/Math.LN10)),a.dtick=i(b,c,H));else if("log"===a.type)if(a.tick0=0,b>.7)a.dtick=Math.ceil(b);else if(Math.abs(a.range[1]-a.range[0])<1){var d=1.5*Math.abs((a.range[1]-a.range[0])/b);b=Math.abs(Math.pow(10,a.range[1])-Math.pow(10,a.range[0]))/d,c=Math.pow(10,Math.floor(Math.log(b)/Math.LN10)),a.dtick="L"+i(b,c,H)}else a.dtick=b>.3?"D2":"D1";else"category"===a.type?(a.tick0=0,a.dtick=Math.ceil(Math.max(b,1))):(a.tick0=0,c=Math.pow(10,Math.floor(Math.log(b)/Math.LN10)),a.dtick=i(b,c,H));if(0===a.dtick&&(a.dtick=1),!A(a.dtick)&&"string"!=typeof a.dtick){var e=a.dtick;throw a.dtick=1,"ax.dtick error: "+String(e)}},B.tickIncrement=function(a,b,c){var d=c?-1:1;if(A(b))return a+d*b;var e=b.charAt(0),f=d*Number(b.substr(1));if("M"===e){var g=new Date(a);return g.setMonth(g.getMonth()+f)}if("L"===e)return Math.log(Math.pow(10,a)+f)/Math.LN10;if("D"===e){var h="D2"===b?M:L,i=a+.01*d,j=y.Lib.roundUp(x(i,1),h,c);return Math.floor(i)+Math.log(z.round(Math.pow(10,j),1))/Math.LN10}throw"unrecognized dtick "+String(b)},B.tickFirst=function(a){var b=a.range[1]<a.range[0],c=b?Math.floor:Math.ceil,d=1.0001*a.range[0]-1e-4*a.range[1],e=a.dtick,f=a.tick0;if(A(e)){var g=c((d-f)/e)*e+f;return"category"===a.type&&(g=y.Lib.constrain(g,0,a._categories.length-1)),g}var h,i,j,k=e.charAt(0),l=Number(e.substr(1));if("M"===k){for(h=new Date(f),d=new Date(d),i=12*(d.getFullYear()-h.getFullYear())+d.getMonth()-h.getMonth(),j=h.setMonth(h.getMonth()+(Math.round(i/l)+(b?1:-1))*l);b?j>d:d>j;)j=B.tickIncrement(j,e,b);return j}if("L"===k)return Math.log(c((Math.pow(10,d)-f)/l)*l+f)/Math.LN10;
if("D"===k){var m="D2"===e?M:L,n=y.Lib.roundUp(x(d,1),m,b);return Math.floor(d)+Math.log(z.round(Math.pow(10,n),1))/Math.LN10}throw"unrecognized dtick "+String(e)};var N=z.time.format("%Y"),O=z.time.format("%b %Y"),P=z.time.format("%b %-d"),Q=z.time.format("%b %-d %Hh"),R=z.time.format("%H:%M"),S=z.time.format(":%S"),T=/%(\d?)f/g;B.tickText=function(a,b,c){function d(d){var e;return void 0===d?!0:c?"none"===d:(e={first:a._tmin,last:a._tmax}[d],"all"!==d&&b!==e)}var e,f,g=l(a,b),h="array"===a.tickmode,i=c||h;if(h&&Array.isArray(a.ticktext)){var j=Math.abs(a.range[1]-a.range[0])/1e4;for(f=0;f<a.ticktext.length&&!(Math.abs(b-a.d2l(a.tickvals[f]))<j);f++);if(f<a.ticktext.length)return g.text=String(a.ticktext[f]),g}return e="none"!==a.exponentformat&&d(a.showexponent)?"hide":"","date"===a.type?m(a,g,c,i):"log"===a.type?n(a,g,c,i,e):"category"===a.type?o(a,g):p(a,g,c,i,e),a.tickprefix&&!d(a.showtickprefix)&&(g.text=a.tickprefix+g.text),a.ticksuffix&&!d(a.showticksuffix)&&(g.text+=a.ticksuffix),g};var U=["f","p","n","&mu;","m","","k","M","G","T"],V=/(\d+)(\d{3})/;B.list=function(a,b,c){return s(a,b,c).map(function(b){return y.Lib.nestedProperty(a._fullLayout,b).get()})},B.listIds=function(a,b){return s(a,b,!0).map(B.name2id)},B.getFromId=function(a,b,c){var d=a._fullLayout;return"x"===c?b=b.replace(/y[0-9]*/,""):"y"===c&&(b=b.replace(/x[0-9]*/,"")),d[B.id2name(b)]},B.getFromTrace=function(a,b,c){var d=a._fullLayout,e=null;if(y.Plots.traceIs(b,"gl3d")){var f=b.scene;"scene"===f.substr(0,5)&&(e=d[f][c+"axis"])}else e=B.getFromId(a,b[c+"axis"]||c);return e},B.subplotMatch=/^x([0-9]*)y([0-9]*)$/,B.getSubplots=function(a,b){function c(a,b){return-1!==a.indexOf(b._id)}var d,e,f,g=[],h=a.data||[];for(d=0;d<h.length;d++){var i=h[d];if(i.visible!==!1&&"legendonly"!==i.visible&&(y.Plots.traceIs(i,"cartesian")||y.Plots.traceIs(i,"gl2d"))){var j=i.xaxis||"x",k=i.yaxis||"y";f=j+k,-1===g.indexOf(f)&&g.push(f)}}var l=B.list(a,"",!0);for(d=0;d<l.length;d++){var m=l[d],n=m._id.charAt(0),o="free"===m.anchor?"x"===n?"y":"x":m.anchor,p=B.getFromId(a,o),q=!1;for(e=0;e<g.length;e++)if(c(g[e],m)){q=!0;break}if("free"!==m.anchor||!q){if(!p)return void console.log(["Warning: couldnt find anchor",o,"for axis",m._id].join(" "));f="x"===n?m._id+p._id:p._id+m._id,-1===g.indexOf(f)&&g.push(f)}}var r=B.subplotMatch,s=[];for(d=0;d<g.length;d++)f=g[d],r.test(f)&&s.push(f);return s.sort(function(a,b){var c=a.match(r),d=b.match(r);return c[1]===d[1]?+(c[2]||1)-(d[2]||1):+(c[1]||0)-(d[1]||0)}),b?B.findSubplotsWithAxis(s,b):s},B.findSubplotsWithAxis=function(a,b){for(var c=new RegExp("x"===b._id.charAt(0)?"^"+b._id+"y":b._id+"$"),d=[],e=0;e<a.length;e++){var f=a[e];c.test(f)&&d.push(f)}return d},B.makeClipPaths=function(a){var b,c,d=a._fullLayout,e=d._defs,f={_offset:0,_length:d.width,_id:""},g={_offset:0,_length:d.height,_id:""},h=B.list(a,"x",!0),i=B.list(a,"y",!0),j=[];for(b=0;b<h.length;b++)for(j.push({x:h[b],y:g}),c=0;c<i.length;c++)0===b&&j.push({x:f,y:i[c]}),j.push({x:h[b],y:i[c]});var k=e.selectAll("g.clips").data([0]);k.enter().append("g").classed("clips",!0);var l=k.selectAll(".axesclip").data(j,function(a){return a.x._id+a.y._id});l.enter().append("clipPath").classed("axesclip",!0).attr("id",function(a){return"clip"+d._uid+a.x._id+a.y._id}).append("rect"),l.exit().remove(),l.each(function(a){z.select(this).select("rect").attr({x:a.x._offset||0,y:a.y._offset||0,width:a.x._length||1,height:a.y._length||1})})},B.doTicks=function(a,b,c){function d(a){var b=i.l2p(a.x);return b>1&&b<i._length-1}function e(a,b){var c=a.selectAll("path."+u).data("inside"===i.ticks?I:s,t);b&&i.ticks?(c.enter().append("path").classed(u,1).classed("ticks",1).classed("crisp",1).call(y.Color.stroke,i.tickcolor).style("stroke-width",F+"px").attr("d",b),c.attr("transform",m),c.exit().remove()):c.remove()}function f(d,e){function f(a,b){a.each(function(a){var c=n(b),d=z.select(this),e=d.select(".text-math-group"),f=m(a)+(A(b)&&0!==+b?" rotate("+b+","+k(a)+","+(l(a)-a.fontSize/2)+")":"");if(e.empty()){var g=d.select("text").attr({transform:f,"text-anchor":c});g.empty()||g.selectAll("tspan.line").attr({x:g.attr("x"),y:g.attr("y")})}else{var h=y.Drawing.bBox(e.node()).width*{end:-.5,start:.5}[c];e.attr("transform",f+(h?"translate("+h+",0)":""))}})}function g(){return B.length&&Promise.all(B)}function h(){if(f(j,i.tickangle),"x"===q&&!A(i.tickangle)&&("log"!==i.type||"D"!==String(i.dtick).charAt(0))){var d=[];for(j.each(function(a){var b=z.select(this),c=b.select(".text-math-group"),e=i.l2p(a.x);c.empty()&&(c=b.select("text"));var f=y.Drawing.bBox(c.node());d.push({top:0,bottom:10,height:10,left:e-f.width/2,right:e+f.width/2+2,width:f.width+2})}),p=0;p<d.length-1;p++)if(y.Lib.bBoxIntersect(d[p],d[p+1])){w=30;break}if(w){var e=Math.abs((s[s.length-1].x-s[0].x)*i._m)/(s.length-1);2.5*v>e&&(w=90),f(j,w)}i._lastangle=w}return c||y.Titles.draw(a,b+"title"),b+" done"}var j=d.selectAll("g."+u).data(s,t);if(!i.showticklabels||!A(e))return j.remove(),void y.Titles.draw(a,b+"title");var k,l,n,o;if("x"===q){var r="bottom"===G?1:-1;k=function(a){return a.dx},o=e+(C+x)*r,l=function(a){return a.dy+o+a.fontSize*("bottom"===G?1:-.5)},n=function(a){return A(a)&&0!==a&&180!==a?0>a*r?"end":"start":"middle"}}else l=function(a){return a.dy+a.fontSize/2},k=function(a){return a.dx+e+(C+x+(90===Math.abs(i.tickangle)?a.fontSize/2:0))*("right"===G?1:-1)},n=function(a){return A(a)&&90===Math.abs(a)?"middle":"right"===G?"start":"end"};var v=0,w=0,B=[];j.enter().append("g").classed(u,1).append("text").attr("text-anchor","middle").each(function(b){var c=z.select(this),d=a._promises.length;c.call(y.Drawing.setPosition,k(b),l(b)).call(y.Drawing.font,b.font,b.fontSize,b.fontColor).text(b.text).call(y.util.convertToTspans),d=a._promises[d],d?B.push(a._promises.pop().then(function(){f(c,i.tickangle)})):f(c,i.tickangle)}),j.exit().remove(),j.each(function(a){v=Math.max(v,a.fontSize)}),f(j,i._lastangle||i.tickangle);var D=y.Lib.syncOrAsync([g,h]);return D&&D.then&&a._promises.push(D),D}function g(a,b){return a.visible!==!0||a.xaxis+a.yaxis!==b?!1:y.Plots.traceIs(a,"bar")&&a.orientation==={x:"h",y:"v"}[q]?!0:a.fill&&a.fill.charAt(a.fill.length-1)===q}function h(b,c,e){var f=b.gridlayer,h=b.zerolinelayer,j=b["hidegrid"+q]?[]:I,k="M0,0"+("x"===q?"v":"h")+c._length,l=f.selectAll("path."+v).data(i.showgrid===!1?[]:j,t);l.enter().append("path").classed(v,1).classed("crisp",1).attr("d",k).each(function(a){i.zeroline&&("linear"===i.type||"-"===i.type)&&Math.abs(a.x)<i.dtick/100&&z.select(this).remove()}),l.attr("transform",m).call(y.Color.stroke,i.gridcolor||"#ddd").style("stroke-width",D+"px"),l.exit().remove();for(var n=!1,o=0;o<a._fullData.length;o++)if(g(a._fullData[o],e)){n=!0;break}var p=i.range[0]*i.range[1]<=0&&i.zeroline&&("linear"===i.type||"-"===i.type)&&j.length&&(n||d({x:0})||!i.showline),r=h.selectAll("path."+w).data(p?[{x:0}]:[]);r.enter().append("path").classed(w,1).classed("zl",1).classed("crisp",1).attr("d",k),r.attr("transform",m).call(y.Color.stroke,i.zerolinecolor||y.Color.defaultLine).style("stroke-width",E+"px"),r.exit().remove()}var i,j=a._fullLayout,k=!1;if("object"==typeof b)i=b,b=i._id,k=!0;else if(i=B.getFromId(a,b),"redraw"===b&&j._paper.selectAll("g.subplot").each(function(a){var b=j._plots[a],c=b.x(),d=b.y();b.plot.attr("viewBox","0 0 "+c._length+" "+d._length),b.xaxislayer.selectAll("."+c._id+"tick").remove(),b.yaxislayer.selectAll("."+d._id+"tick").remove(),b.gridlayer.selectAll("path").remove(),b.zerolinelayer.selectAll("path").remove()}),!b||"redraw"===b)return y.Lib.syncOrAsync(B.list(a,"",!0).map(function(c){return function(){if(c._id){var d=B.doTicks(a,c._id);return"redraw"===b&&(c._r=c.range.slice()),d}}}));i.tickformat||(-1===["none","e","E","power","SI","B"].indexOf(i.exponentformat)&&(i.exponentformat="e"),-1===["all","first","last","none"].indexOf(i.showexponent)&&(i.showexponent="all")),i.range=[+i.range[0],+i.range[1]],i.setScale();var l,m,n,o,p,q=b.charAt(0),r=B.counterLetter(b),s=B.calcTicks(i),t=function(a){return a.text+a.x+i.mirror},u=b+"tick",v=b+"grid",w=b+"zl",x=(i.linewidth||1)/2,C=("outside"===i.ticks?i.ticklen:1)+(i.linewidth||0),D=y.Drawing.crispRound(a,i.gridwidth,1),E=y.Drawing.crispRound(a,i.zerolinewidth,D),F=y.Drawing.crispRound(a,i.tickwidth,1);if("x"===q)l=["bottom","top"],m=function(a){return"translate("+i.l2p(a.x)+",0)"},n="M0,",o="v";else{if("y"!==q)return void console.log("unrecognized doTicks axis",b);l=["left","right"],m=function(a){return"translate(0,"+i.l2p(a.x)+")"},n="M",o=",0h"}var G=i.side||l[0],H=[-1,1,G===l[1]?1:-1];"inside"!==i.ticks==("x"===q)&&(H=H.map(function(a){return-a}));var I=s.filter(d);if(k)return e(i._axislayer,n+(i._pos+x*H[2])+o+H[2]*i.ticklen),f(i._axislayer,i._pos);var J=B.getSubplots(a,i).map(function(a){var b=j._plots[a];if(j._hasCartesian){var c=b[q+"axislayer"],d=i._linepositions[a]||[],g=b[r](),k=g._id===i.anchor,m=[!1,!1,!1],s="";if("allticks"===i.mirror?m=[!0,!0,!1]:k&&("ticks"===i.mirror?m=[!0,!0,!1]:m[l.indexOf(G)]=!0),i.mirrors)for(p=0;2>p;p++){var t=i.mirrors[g._id+l[p]];("ticks"===t||"labels"===t)&&(m[p]=!0)}return void 0!==d[2]&&(m[2]=!0),m.forEach(function(a,b){var c=d[b],e=H[b];a&&A(c)&&(s+=n+(c+x*e)+o+e*i.ticklen)}),e(c,s),h(b,g,a),f(c,d[3])}}).filter(function(a){return a&&a.then});return J.length?Promise.all(J):0},B.swap=function(a,b){for(var c=t(a,b),d=0;d<c.length;d++)v(a,c[d].x,c[d].y)}},{"../../plotly":365,"./layout_attributes":372,d3:70,"fast-isnumeric":74}],369:[function(require,a,b){"use strict";a.exports={DBLCLICKDELAY:600,MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,MAXDIST:20,YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:100,BENDPX:1.5}},{}],370:[function(require,a,b){"use strict";function c(a,b){for(var c=[],d=a.length;d>0;d--)c.push(b);return c}function d(a,b){for(var c=[],d=0;d<a.length;d++)c.push(a[d].p2c(b));return c}function e(a,b){return function(c){var d=a(c),e=b(c);return Math.sqrt(d*d+e*e)}}function f(a,b,e){if("pie"===e)return void a.emit("plotly_hover",{points:[b]});e||(e="xy");var f=a._fullLayout,m=f._plots[e],n=[e].concat(m.overlays.map(function(a){return a.id})),o=n.map(function(b){return w.Axes.getFromId(a,b,"x")}),p=n.map(function(b){return w.Axes.getFromId(a,b,"y")}),q=b.hovermode||f.hovermode;if(-1===["x","y","closest"].indexOf(q)||!a.calcdata||a.querySelector(".zoombox")||a._dragging)return l(a,b);var r,s,t,u,y,A,B,C,D,E,F,G,H=[],I=[];if(Array.isArray(b))for(q="array",t=0;t<b.length;t++)y=a.calcdata[b[t].curveNumber||0],"none"!==y[0].trace.hoverinfo&&I.push(y);else{for(u=0;u<a.calcdata.length;u++)y=a.calcdata[u],A=y[0].trace,"none"!==A.hoverinfo&&-1!==n.indexOf(A.xaxis+A.yaxis)&&I.push(y);var J,K;if(b.target&&"clientX"in b&&"clientY"in b){if(x.triggerHandler(a,"plotly_beforehover",b)===!1)return;var L=b.target.getBoundingClientRect();if(J=b.clientX-L.left,K=b.clientY-L.top,0>J||J>L.width||0>K||K>L.height)return l(a,b)}else J="xpx"in b?b.xpx:o[0]._length/2,K="ypx"in b?b.ypx:p[0]._length/2;if(r="xval"in b?c(n,b.xval):d(o,J),s="yval"in b?c(n,b.yval):d(p,K),!v(r[0])||!v(s[0]))return console.log("Plotly.Fx.hover failed",b,a),l(a,b)}var M=1/0;for(u=0;u<I.length;u++)if(y=I[u],y&&y[0]&&y[0].trace&&y[0].trace.visible===!0){if(A=y[0].trace,B=n.indexOf(A.xaxis+A.yaxis),C=q,F={cd:y,trace:A,xa:o[B],ya:p[B],name:a.data.length>1||-1!==A.hoverinfo.indexOf("name")?A.name:void 0,index:!1,distance:Math.min(M,z.MAXDIST),color:w.Color.defaultLine,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},G=H.length,"array"===C){var N=b[u];"pointNumber"in N?(F.index=N.pointNumber,C="closest"):(C="","xval"in N&&(D=N.xval,C="x"),"yval"in N&&(E=N.yval,C=C?"closest":"y"))}else D=r[B],E=s[B];if(A._module&&A._module.hoverPoints){var O=A._module.hoverPoints(F,D,E,C);if(O)for(var P,Q=0;Q<O.length;Q++)P=O[Q],v(P.x0)&&v(P.y0)&&H.push(g(P,q))}else console.log("unrecognized trace type in hover",A);"closest"===q&&H.length>G&&(H.splice(0,G),M=H[0].distance)}if(0===H.length)return l(a,b);var R="y"===q&&I.length>1;H.sort(function(a,b){return a.distance-b.distance});var S={hovermode:q,rotateLabels:R,bgColor:w.Color.combine(f.plot_bgcolor,f.paper_bgcolor),container:f._hoverlayer,outerContainer:f._paperdiv},T=h(H,S);i(H,R?o[0]:p[0]),j(T,R);var U=a._hoverdata,V=[];for(t=0;t<H.length;t++){var W=H[t],X={data:W.trace._input,fullData:W.trace,curveNumber:W.trace.index,pointNumber:W.index,x:W.xVal,y:W.yVal,xaxis:W.xa,yaxis:W.ya};void 0!==W.zLabelVal&&(X.z=W.zLabelVal),V.push(X)}a._hoverdata=V,k(a,b,U)&&(U&&a.emit("plotly_unhover",{points:U}),a.emit("plotly_hover",{points:a._hoverdata,xaxes:o,yaxes:p,xvals:r,yvals:s}))}function g(a,b){a.posref="y"===b?(a.x0+a.x1)/2:(a.y0+a.y1)/2,a.x0=w.Lib.constrain(a.x0,0,a.xa._length),a.x1=w.Lib.constrain(a.x1,0,a.xa._length),a.y0=w.Lib.constrain(a.y0,0,a.ya._length),a.y1=w.Lib.constrain(a.y1,0,a.ya._length);var c;if(void 0!==a.xLabelVal){c="log"===a.xa.type&&a.xLabelVal<=0;var d=w.Axes.tickText(a.xa,a.xa.c2l(c?-a.xLabelVal:a.xLabelVal),"hover");c?0===a.xLabelVal?a.xLabel="0":a.xLabel="-"+d.text:a.xLabel=d.text,a.xVal=a.xa.c2d(a.xLabelVal)}if(void 0!==a.yLabelVal){c="log"===a.ya.type&&a.yLabelVal<=0;var e=w.Axes.tickText(a.ya,a.ya.c2l(c?-a.yLabelVal:a.yLabelVal),"hover");c?0===a.yLabelVal?a.yLabel="0":a.yLabel="-"+e.text:a.yLabel=e.text,a.yVal=a.ya.c2d(a.yLabelVal)}if(void 0!==a.zLabelVal&&(a.zLabel=String(a.zLabelVal)),void 0!==a.xerr){var f=w.Axes.tickText(a.xa,a.xa.c2l(a.xerr),"hover").text;void 0!==a.xerrneg?a.xLabel+=" +"+f+" / -"+w.Axes.tickText(a.xa,a.xa.c2l(a.xerrneg),"hover").text:a.xLabel+=" &plusmn; "+f,"x"===b&&(a.distance+=1)}if(void 0!==a.yerr){var g=w.Axes.tickText(a.ya,a.ya.c2l(a.yerr),"hover").text;void 0!==a.yerrneg?a.yLabel+=" +"+g+" / -"+w.Axes.tickText(a.ya,a.ya.c2l(a.yerrneg),"hover").text:a.yLabel+=" &plusmn; "+g,"y"===b&&(a.distance+=1)}var h=a.trace.hoverinfo;return"all"!==h&&(h=h.split("+"),-1===h.indexOf("x")&&(a.xLabel=void 0),-1===h.indexOf("y")&&(a.yLabel=void 0),-1===h.indexOf("z")&&(a.zLabel=void 0),-1===h.indexOf("text")&&(a.text=void 0),-1===h.indexOf("name")&&(a.name=void 0)),a}function h(a,b){var c,d,e=b.hovermode,f=b.rotateLabels,g=b.bgColor,h=b.container,i=b.outerContainer,j=a[0],k=j.xa,l=j.ya,m="y"===e?"yLabel":"xLabel",n=j[m],o=(String(n)||"").split(" ")[0],p=i.node().getBoundingClientRect(),q=p.top,r=p.width,s=p.height,v=j.distance<=z.MAXDIST&&("x"===e||"y"===e);for(c=0;c<a.length;c++){d=a[c].trace.hoverinfo;var x=d.split("+");if(-1===x.indexOf("all")&&-1===x.indexOf(e)){v=!1;break}}var y=h.selectAll("g.axistext").data(v?[0]:[]);y.enter().append("g").classed("axistext",!0),y.exit().remove(),y.each(function(){var b=t.select(this),c=b.selectAll("path").data([0]),d=b.selectAll("text").data([0]);c.enter().append("path").style({fill:w.Color.defaultLine,"stroke-width":"1px",stroke:w.Color.background}),d.enter().append("text").call(w.Drawing.font,J,I,w.Color.background).attr("data-notex",1),d.text(n).call(w.util.convertToTspans).call(w.Drawing.setPosition,0,0).selectAll("tspan.line").call(w.Drawing.setPosition,0,0),b.attr("transform","");var f=d.node().getBoundingClientRect();if("x"===e){d.attr("text-anchor","middle").call(w.Drawing.setPosition,0,"top"===k.side?q-f.bottom-G-H:q-f.top+G+H).selectAll("tspan.line").attr({x:d.attr("x"),y:d.attr("y")});var g="top"===k.side?"-":"";c.attr("d","M0,0L"+G+","+g+G+"H"+(H+f.width/2)+"v"+g+(2*H+f.height)+"H-"+(H+f.width/2)+"V"+g+G+"H-"+G+"Z"),b.attr("transform","translate("+(k._offset+(j.x0+j.x1)/2)+","+(l._offset+("top"===k.side?0:l._length))+")")}else{d.attr("text-anchor","right"===l.side?"start":"end").call(w.Drawing.setPosition,("right"===l.side?1:-1)*(H+G),q-f.top-f.height/2).selectAll("tspan.line").attr({x:d.attr("x"),y:d.attr("y")});var h="right"===l.side?"":"-";c.attr("d","M0,0L"+h+G+","+G+"V"+(H+f.height/2)+"h"+h+(2*H+f.width)+"V-"+(H+f.height/2)+"H"+h+G+"V-"+G+"Z"),b.attr("transform","translate("+(k._offset+("right"===l.side?k._length:0))+","+(l._offset+(j.y0+j.y1)/2)+")")}a=a.filter(function(a){return void 0!==a.zLabelVal||(a[m]||"").split(" ")[0]===o})});var A=h.selectAll("g.hovertext").data(a,function(a){return[a.trace.index,a.index,a.x0,a.y0,a.name,a.attr||""].join(",")});return A.enter().append("g").classed("hovertext",!0).each(function(){var a=t.select(this);a.append("rect").call(w.Color.fill,w.Color.addOpacity(g,.8)),a.append("text").classed("name",!0).call(w.Drawing.font,J,I),a.append("path").style("stroke-width","1px"),a.append("text").classed("nums",!0).call(w.Drawing.font,J,I)}),A.exit().remove(),A.each(function(a){var b=t.select(this).attr("transform",""),c="",d="",h=w.Color.opacity(a.color)?a.color:w.Color.defaultLine,i=w.Color.combine(h,g),j=u(i).getBrightness()>128?"#000":w.Color.background;if(a.name&&void 0===a.zLabelVal){var m=document.createElement("p");m.innerHTML=a.name,c=m.textContent||"",c.length>15&&(c=c.substr(0,12)+"...")}void 0!==a.zLabel?(void 0!==a.xLabel&&(d+="x: "+a.xLabel+"<br>"),void 0!==a.yLabel&&(d+="y: "+a.yLabel+"<br>"),d+=(d?"z: ":"")+a.zLabel):v&&a[e+"Label"]===n?d=a[("x"===e?"y":"x")+"Label"]||"":void 0===a.xLabel?void 0!==a.yLabel&&(d=a.yLabel):d=void 0===a.yLabel?a.xLabel:"("+a.xLabel+", "+a.yLabel+")",a.text&&(d+=(d?"<br>":"")+a.text),""===d&&(""===c&&b.remove(),d=c);var o=b.select("text.nums").style("fill",j).call(w.Drawing.setPosition,0,0).text(d).attr("data-notex",1).call(w.util.convertToTspans);o.selectAll("tspan.line").call(w.Drawing.setPosition,0,0);var p=b.select("text.name"),x=0;c&&c!==d?(p.style("fill",i).text(c).call(w.Drawing.setPosition,0,0).attr("data-notex",1).call(w.util.convertToTspans),p.selectAll("tspan.line").call(w.Drawing.setPosition,0,0),x=p.node().getBoundingClientRect().width+2*H):(p.remove(),b.select("rect").remove()),b.select("path").style({fill:i,stroke:j});var y,z,A=o.node().getBoundingClientRect(),C=k._offset+(a.x0+a.x1)/2,D=l._offset+(a.y0+a.y1)/2,E=Math.abs(a.x1-a.x0),F=Math.abs(a.y1-a.y0),I=A.width+G+H+x;a.ty0=q-A.top,a.bx=A.width+2*H,a.by=A.height+2*H,a.anchor="start",a.txwidth=A.width,a.tx2width=x,a.offset=0,f?(a.pos=C,y=s>=D+F/2+I,z=D-F/2-I>=0,"top"!==a.idealAlign&&y||!z?y?(D+=F/2,a.anchor="start"):a.anchor="middle":(D-=F/2,a.anchor="end")):(a.pos=D,y=r>=C+E/2+I,z=C-E/2-I>=0,"left"!==a.idealAlign&&y||!z?y?(C+=E/2,a.anchor="start"):a.anchor="middle":(C-=E/2,a.anchor="end")),o.attr("text-anchor",a.anchor),x&&p.attr("text-anchor",a.anchor),b.attr("transform","translate("+C+","+D+")"+(f?"rotate("+B+")":""))}),A}function i(a,b){function c(a){var b=a[0],c=a[a.length-1];if(e=l-b.pos-b.dp+b.size,f=c.pos+c.dp+c.size-m,e>.01){for(h=a.length-1;h>=0;h--)a[h].dp+=e;d=!1}if(!(.01>f)){if(-.01>e){for(h=a.length-1;h>=0;h--)a[h].dp-=f;d=!1}if(d){var j=0;for(g=0;g<a.length;g++)i=a[g],i.pos+i.dp+i.size>m&&j++;for(g=a.length-1;g>=0&&!(0>=j);g--)i=a[g],i.pos>m-1&&(i.del=!0,j--);for(g=0;g<a.length&&!(0>=j);g++)if(i=a[g],i.pos<l+1)for(i.del=!0,j--,f=2*i.size,h=a.length-1;h>=0;h--)a[h].dp-=f;for(g=a.length-1;g>=0&&!(0>=j);g--)i=a[g],i.pos+i.dp+i.size>m&&(i.del=!0,j--)}}}for(var d,e,f,g,h,i,j,k=0,l=b._offset,m=b._offset+b._length,n=a.map(function(a,c){return[{i:c,dp:0,pos:a.pos,posref:a.posref,size:a.by*("x"===b._id.charAt(0)?D:1)/2}]}).sort(function(a,b){return a[0].posref-b[0].posref});!d&&k<=a.length;){for(k++,d=!0,g=0;g<n.length-1;){var o=n[g],p=n[g+1],q=o[o.length-1],r=p[0];if(e=q.pos+q.dp+q.size-r.pos-r.dp+r.size,e>.01){for(h=p.length-1;h>=0;h--)p[h].dp+=e;for(o.push.apply(o,p),n.splice(g+1,1),j=0,h=o.length-1;h>=0;h--)j+=o[h].dp;for(f=j/o.length,h=o.length-1;h>=0;h--)o[h].dp-=f;d=!1}else g++}n.forEach(c)}for(g=n.length-1;g>=0;g--){var s=n[g];for(h=s.length-1;h>=0;h--){var t=s[h],u=a[t.i];u.offset=t.dp,u.del=t.del}}}function j(a,b){a.each(function(a){var c=t.select(this);if(a.del)return void c.remove();var d="end"===a.anchor?-1:1,e=c.select("text.nums"),f={start:1,end:-1,middle:0}[a.anchor],g=f*(G+H),h=g+f*(a.txwidth+H),i=0,j=a.offset;"middle"===a.anchor&&(g-=a.tx2width/2,h-=a.tx2width/2),b&&(j*=-F,i=a.offset*E),c.select("path").attr("d","middle"===a.anchor?"M-"+a.bx/2+",-"+a.by/2+"h"+a.bx+"v"+a.by+"h-"+a.bx+"Z":"M0,0L"+(d*G+i)+","+(G+j)+"v"+(a.by/2-G)+"h"+d*a.bx+"v-"+a.by+"H"+(d*G+i)+"V"+(j-G)+"Z"),e.call(w.Drawing.setPosition,g+i,j+a.ty0-a.by/2+H).selectAll("tspan.line").attr({x:e.attr("x"),y:e.attr("y")}),a.tx2width&&(c.select("text.name, text.name tspan.line").call(w.Drawing.setPosition,h+f*H+i,j+a.ty0-a.by/2+H),c.select("rect").call(w.Drawing.setRect,h+(f-1)*a.tx2width/2+i,j-a.by/2-1,a.tx2width,a.by+2))})}function k(a,b,c){if(!b.target)return!1;if(!c||c.length!==a._hoverdata.length)return!0;for(var d=c.length-1;d>=0;d--){var e=c[d],f=a._hoverdata[d];if(e.curveNumber!==f.curveNumber||String(e.pointNumber)!==String(f.pointNumber))return!0}return!1}function l(a,b){var c=a._fullLayout;b||(b={}),b.target&&x.triggerHandler(a,"plotly_beforehover",b)===!1||(c._hoverlayer.selectAll("g").remove(),b.target&&a._hoverdata&&a.emit("plotly_unhover",{points:a._hoverdata}),a._hoverdata=void 0)}function m(a,b){return a?"nsew"===a?"pan"===b?"move":"crosshair":a.toLowerCase()+"-resize":"pointer"}function n(a,b,c,d,e,f,g,h){function i(a,b){for(F=0;F<a.length;F++)if(!a[F].fixedrange)return b;return""}function j(a){a[0]=Number(a[0]),a[1]=Number(a[1])}function k(c,d,e){var f=X.getBoundingClientRect();for(Z=d-f.left,$=e-f.top,_={l:Z,r:Z,w:0,t:$,b:$,h:0},aa=a._hmpixcount?a._hmlumcount/a._hmpixcount:u(a._fullLayout.plot_bgcolor).getLuminance(),ba=ba="M0,0H"+N+"V"+O+"H0V0",ca=!1,da="xy",ea=b.plot.append("path").attr("class","zoombox").style({fill:aa>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",ba+"Z"),fa=b.plot.append("path").attr("class","zoombox-corners").style({fill:w.Color.background,stroke:w.Color.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),l(),F=0;F<R.length;F++)j(R[F].range)}function l(){b.plot.selectAll(".select-outline").remove()}function n(a,b){var c=Math.max(0,Math.min(N,a+Z)),d=Math.max(0,Math.min(O,b+$)),e=Math.abs(c-Z),f=Math.abs(d-$),g=Math.floor(Math.min(f,e,Q)/2);_.l=Math.min(Z,c),_.r=Math.max(Z,c),_.t=Math.min($,d),_.b=Math.max($,d),!T||f<Math.min(Math.max(.6*e,P),Q)?P>e?(da="",_.r=_.l,_.t=_.b,fa.attr("d","M0,0Z")):(_.t=0,_.b=O,da="x",fa.attr("d","M"+(_.l-.5)+","+($-Q-.5)+"h-3v"+(2*Q+1)+"h3ZM"+(_.r+.5)+","+($-Q-.5)+"h3v"+(2*Q+1)+"h-3Z")):!S||e<Math.min(.6*f,Q)?(_.l=0,_.r=N,da="y",fa.attr("d","M"+(Z-Q-.5)+","+(_.t-.5)+"v-3h"+(2*Q+1)+"v3ZM"+(Z-Q-.5)+","+(_.b+.5)+"v3h"+(2*Q+1)+"v-3Z")):(da="xy",fa.attr("d","M"+(_.l-3.5)+","+(_.t-.5+g)+"h3v"+-g+"h"+g+"v-3h-"+(g+3)+"ZM"+(_.r+3.5)+","+(_.t-.5+g)+"h-3v"+-g+"h"+-g+"v-3h"+(g+3)+"ZM"+(_.r+3.5)+","+(_.b+.5-g)+"h-3v"+g+"h"+-g+"v3h"+(g+3)+"ZM"+(_.l-3.5)+","+(_.b+.5-g)+"h3v"+g+"h"+g+"v3h-"+(g+3)+"Z")),_.w=_.r-_.l,_.h=_.b-_.t,ea.attr("d",ba+"M"+_.l+","+_.t+"v"+_.h+"h"+_.w+"v-"+_.h+"h-"+_.w+"Z"),ca||(ea.transition().style("fill",aa>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),fa.transition().style("opacity",1).duration(200),ca=!0)}function q(a,b,c){var d,e,f;for(d=0;d<a.length;d++)e=a[d],e.fixedrange||(f=e.range,e.range=[f[0]+(f[1]-f[0])*b,f[0]+(f[1]-f[0])*c])}function s(b,c){return Math.min(_.h,_.w)<2*P?(2===c?C():p(a),r(a)):(("xy"===da||"x"===da)&&q(L,_.l/N,_.r/N),("xy"===da||"y"===da)&&q(M,(O-_.b)/O,(O-_.t)/O),r(a),D(da),void(K&&a.data&&a._context.showTips&&(w.Lib.notifier("Double-click to<br>zoom back out","long"),K=!1)))}function t(b,c){var d=1===(g+h).length;if(b)D();else if(2!==c||d)if(1===c&&d){var e=g?M[0]:L[0],f="s"===g||"w"===h?0:1,i=e._name+".range["+f+"]",j=o(e,f),k="left",l="middle";if(e.fixedrange)return;g?(l="n"===g?"top":"bottom","right"===e.side&&(k="right")):"e"===h&&(k="right"),W.call(w.util.makeEditable,null,{immediate:!0,background:I.paper_bgcolor,text:String(j),fill:e.tickfont?e.tickfont.color:"#444",horizontalAlign:k,verticalAlign:l}).on("edit",function(b){var c="category"===e.type?e.c2l(b):e.d2l(b);void 0!==c&&w.relayout(a,i,c)})}else p(a);else C()}function v(b){function c(a,b,c){if(!a.fixedrange){j(a.range);var d=a.range,e=d[0]+(d[1]-d[0])*b;a.range=[e+(d[0]-e)*c,e+(d[1]-e)*c]}}if(a._context.scrollZoom||I._enablescrollzoom){var d=a.querySelector(".plotly");if(!(d.scrollHeight-d.clientHeight>10||d.scrollWidth-d.clientWidth>10)){clearTimeout(ha);var e=-b.deltaY;if(isFinite(e)||(e=b.wheelDelta/10),!isFinite(e))return void console.log("did not find wheel motion attributes",b);var f,i=Math.exp(-Math.min(Math.max(e,-20),20)/100),k=ja.draglayer.select(".nsewdrag").node().getBoundingClientRect(),l=(b.clientX-k.left)/k.width,m=ga[0]+ga[2]*l,n=(k.bottom-b.clientY)/k.height,o=ga[1]+ga[3]*(1-n);if(h){for(f=0;f<L.length;f++)c(L[f],l,i);ga[2]*=i,ga[0]=m-ga[2]*l}if(g){for(f=0;f<M.length;f++)c(M[f],n,i);ga[3]*=i,ga[1]=o-ga[3]*(1-n)}return E(ga),B(g,h),ha=setTimeout(function(){ga=[0,0,N,O],D()},ia),w.Lib.pauseEvent(b)}}}function x(a,b){function c(a,b){for(var c=0;c<a.length;c++){var d=a[c];d.fixedrange||(d.range=[d._r[0]-b/d._m,d._r[1]-b/d._m])}}function d(a){return 1-(a>=0?Math.min(a,.9):1/(1/Math.max(a,-.3)+3.222))}function e(a,b,c){for(var e=1-b,f=0,g=0;g<a.length;g++){var h=a[g];h.fixedrange||(f=g,h.range[b]=h._r[e]+(h._r[b]-h._r[e])/d(c/h._length))}return a[f]._length*(a[f]._r[b]-a[f].range[b])/(a[f]._r[b]-a[f]._r[e])}return"ew"===S||"ns"===T?(S&&c(L,a),T&&c(M,b),E([S?-a:0,T?-b:0,N,O]),void B(T,S)):("w"===S?a=e(L,0,a):"e"===S?a=e(L,1,-a):S||(a=0),"n"===T?b=e(M,1,b):"s"===T?b=e(M,0,-b):T||(b=0),E(["w"===S?a:0,"n"===T?b:0,N-a,O-b]),void B(T,S))}function B(b,c){function d(a){for(f=0;f<a.length;f++)a[f].fixedrange||g.push(a[f]._id)}function e(d,e){var h;for(f=0;f<d.length;f++)h=d[f],(c&&-1!==g.indexOf(h.xref)||b&&-1!==g.indexOf(h.yref))&&e.draw(a,f)}var f,g=[];for(c&&d(L),b&&d(M),f=0;f<g.length;f++)w.Axes.doTicks(a,g[f],!0);e(I.annotations||[],w.Annotations),e(I.shapes||[],w.Shapes)}function C(){var b,c,d=a._context.doubleClick,e=(S?L:[]).concat(T?M:[]),f={};if("autosize"===d)for(c=0;c<e.length;c++)b=e[c],b.fixedrange||(f[b._name+".autorange"]=!0);else if("reset"===d)for(c=0;c<e.length;c++)b=e[c],f[b._name+".range"]=b._rangeInitial.slice();else if("reset+autosize"===d)for(c=0;c<e.length;c++)b=e[c],b.fixedrange||(void 0===b._rangeInitial||b.range[0]===b._rangeInitial[0]&&b.range[1]===b._rangeInitial[1]?f[b._name+".autorange"]=!0:f[b._name+".range"]=b._rangeInitial.slice());w.relayout(a,f)}function D(b){for(var c={},d=0;d<R.length;d++){var e=R[d];b&&-1===b.indexOf(e._id.charAt(0))||(e._r[0]!==e.range[0]&&(c[e._name+".range[0]"]=e.range[0]),e._r[1]!==e.range[1]&&(c[e._name+".range[1]"]=e.range[1]),e.range=e._r.slice())}E([0,0,N,O]),w.relayout(a,c)}function E(a){var b,c,d,e,f,i,j=I._plots,k=Object.keys(j);for(b=0;b<k.length;b++)if(c=j[k[b]],d=c.x(),e=c.y(),f=h&&-1!==L.indexOf(d)&&!d.fixedrange,i=g&&-1!==M.indexOf(e)&&!e.fixedrange,f||i){var l=[0,0,d._length,e._length];f&&(l[0]=a[0],l[2]=a[2]),i&&(l[1]=a[1],l[3]=a[3]),c.plot.attr("viewBox",l.join(" "))}}var F,G,H,I=a._fullLayout,J=[b].concat(g&&h?b.overlays:[]),L=[b.x()],M=[b.y()],N=L[0]._length,O=M[0]._length,P=z.MINDRAG,Q=z.MINZOOM;for(F=1;F<J.length;F++)G=J[F].x(),H=J[F].y(),-1===L.indexOf(G)&&L.push(G),-1===M.indexOf(H)&&M.push(H);var R=L.concat(M),S=i(L,h),T=i(M,g),U=m(T+S,I.dragmode),V=g+h+"drag",W=b.draglayer.selectAll("."+V).data([0]);W.enter().append("rect").classed("drag",!0).classed(V,!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",b.id),W.call(w.Drawing.setRect,c,d,e,f).call(A.setCursor,U);var X=W.node();if(!T&&!S)return X.onmousedown=null,X.style.pointerEvents=g+h==="nsew"?"all":"none",X;var Y={element:X,gd:a,plotinfo:b,xaxes:L,yaxes:M,doubleclick:C,prepFn:function(b,c,d){var e=a._fullLayout.dragmode;g+h==="nsew"?b.shiftKey&&(e="pan"===e?"zoom":"pan"):e="pan","lasso"===e?Y.minDrag=1:Y.minDrag=void 0,"zoom"===e?(Y.moveFn=n,Y.doneFn=s,k(b,c,d)):"pan"===e?(Y.moveFn=x,Y.doneFn=t,l()):("select"===e||"lasso"===e)&&y(b,c,d,Y,e)}};A.dragElement(Y);var Z,$,_,aa,ba,ca,da,ea,fa,ga=[0,0,N,O],ha=null,ia=300,ja=b.mainplot?I._plots[b.mainplot]:b;return g.length*h.length!==1&&(void 0!==X.onwheel?X.onwheel=v:void 0!==X.onmousewheel&&(X.onmousewheel=v)),X}function o(a,b){var c,d=a.range[b],e=Math.abs(d-a.range[1-b]);return"date"===a.type?w.Lib.ms2DateTime(d,e):"log"===a.type?(c=Math.ceil(Math.max(0,-Math.log(e)/Math.LN10))+3,t.format("."+c+"g")(Math.pow(10,d))):(c=Math.floor(Math.log(Math.abs(d))/Math.LN10)-Math.floor(Math.log(e)/Math.LN10)+4,t.format("."+String(c)+"g")(d))}function p(a){a._dragging=!0;var b=a._replotPending;a._replotPending=!1,setTimeout(function(){a._replotPending=b,q(a)},z.DBLCLICKDELAY)}function q(a){a._dragging=!1,a._replotPending&&w.plot(a)}function r(a){t.select(a).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function s(){var a=document.createElement("div");a.className="dragcover";var b=a.style;return b.position="fixed",b.left=0,b.right=0,b.top=0,b.bottom=0,b.zIndex=999999999,b.background="none",document.body.appendChild(a),a}var t=require("d3"),u=require("tinycolor2"),v=require("fast-isnumeric"),w=require("../../plotly"),x=require("../../lib/events"),y=require("./select"),z=require("./constants"),A=a.exports={};A.layoutAttributes={dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","orbit","turntable"]},hovermode:{valType:"enumerated",values:["x","y","closest",!1]}},A.supplyLayoutDefaults=function(a,b,c){function d(c,d){return w.Lib.coerce(a,b,A.layoutAttributes,c,d)}var e,f;d("dragmode",b._hasGL3D?"turntable":"zoom"),b._hasCartesian?(e=b._isHoriz=A.isHoriz(c),f=e?"y":"x"):f="closest",d("hovermode",f)},A.isHoriz=function(a){var b,c,d=!0;for(b=0;b<a.length;b++)if(c=a[b],"h"!==c.orientation){d=!1;break}return d},A.init=function(a){var b=a._fullLayout;if(!(b._hasGL3D||b._hasGeo||a._context.staticPlot)){var c=Object.keys(b._plots||{}).sort(function(a,c){if((b._plots[a].mainplot&&!0)===(b._plots[c].mainplot&&!0)){var d=a.split("y"),e=c.split("y");return d[0]===e[0]?Number(d[1]||1)-Number(e[1]||1):Number(d[0]||1)-Number(e[0]||1)}return b._plots[a].mainplot?1:-1});c.forEach(function(c){var d=b._plots[c];if(b._hasCartesian){var e=d.x(),f=d.y(),g=(e._linepositions[c]||[])[3],h=(f._linepositions[c]||[])[3],i=z.DRAGGERSIZE;if(v(g)&&"top"===e.side&&(g-=i),v(h)&&"right"!==f.side&&(h-=i),!d.mainplot){var j=n(a,d,0,0,e._length,f._length,"ns","ew");j.onmousemove=function(d){A.hover(a,d,c),b._lasthover=j,b._hoversubplot=c},j.onmouseout=function(b){a._dragging||A.unhover(a,b)},j.onclick=function(b){A.click(a,b)},n(a,d,-i,-i,i,i,"n","w"),n(a,d,e._length,-i,i,i,"n","e"),n(a,d,-i,f._length,i,i,"s","w"),n(a,d,e._length,f._length,i,i,"s","e")}v(g)&&("free"===e.anchor&&(g-=b._size.h*(1-f.domain[1])),n(a,d,.1*e._length,g,.8*e._length,i,"","ew"),n(a,d,0,g,.1*e._length,i,"","w"),n(a,d,.9*e._length,g,.1*e._length,i,"","e")),v(h)&&("free"===f.anchor&&(h-=b._size.w*e.domain[0]),n(a,d,h,.1*f._length,i,.8*f._length,"ns",""),n(a,d,h,.9*f._length,i,.1*f._length,"s",""),n(a,d,h,0,i,.1*f._length,"n",""))}});var d=b._hoverlayer.node();d.onmousemove=function(c){c.target=b._lasthover,A.hover(a,c,b._hoversubplot)},d.onclick=function(c){c.target=b._lasthover,A.click(a,c)},d.onmousedown=function(a){b._lasthover.onmousedown(a)}}};var B=z.YANGLE,C=Math.PI*B/180,D=1/Math.sin(C),E=Math.cos(C),F=Math.sin(C),G=z.HOVERARROWSIZE,H=z.HOVERTEXTPAD,I=z.HOVERFONTSIZE,J=z.HOVERFONT;A.hover=function(a,b,c){return"string"==typeof a&&(a=document.getElementById(a)),void 0===a._lastHoverTime&&(a._lastHoverTime=0),void 0!==a._hoverTimer&&(clearTimeout(a._hoverTimer),a._hoverTimer=void 0),Date.now()>a._lastHoverTime+z.HOVERMINTIME?(f(a,b,c),void(a._lastHoverTime=Date.now())):void(a._hoverTimer=setTimeout(function(){f(a,b,c),a._lastHoverTime=Date.now(),a._hoverTimer=void 0},z.HOVERMINTIME))},A.unhover=function(a,b,c){"string"==typeof a&&(a=document.getElementById(a)),a._hoverTimer&&(clearTimeout(a._hoverTimer),a._hoverTimer=void 0),l(a,b,c)},A.getDistanceFunction=function(a,b,c,d){return"closest"===a?d||e(b,c):"x"===a?b:c},A.getClosest=function(a,b,c){if(c.index!==!1)c.index>=0&&c.index<a.length?c.distance=0:c.index=!1;else for(var d=0;d<a.length;d++){var e=b(a[d]);
e<c.distance&&(c.index=d,c.distance=e)}return c},A.loneHover=function(a,b){var c={color:a.color||w.Color.defaultLine,x0:a.x0||a.x||0,x1:a.x1||a.x||0,y0:a.y0||a.y||0,y1:a.y1||a.y||0,xLabel:a.xLabel,yLabel:a.yLabel,zLabel:a.zLabel,text:a.text,name:a.name,idealAlign:a.idealAlign,trace:{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0},d=t.select(b.container),e=b.outerContainer?t.select(b.outerContainer):d,f={hovermode:"closest",rotateLabels:!1,bgColor:b.bgColor||w.Color.background,container:d,outerContainer:e},g=h([c],f);return j(g,f.rotateLabels),g.node()},A.loneUnhover=function(a){var b=a instanceof t.selection?a:t.select(a);b.selectAll("g.hovertext").remove()},A.click=function(a,b){a._hoverdata&&b&&b.target&&(a.emit("plotly_click",{points:a._hoverdata}),b.stopImmediatePropagation&&b.stopImmediatePropagation())};var K=!0;A.dragAlign=function(a,b,c,d,e){var f=(a-c)/(d-c),g=f+b/(d-c),h=(f+g)/2;return"left"===e||"bottom"===e?f:"center"===e||"middle"===e?h:"right"===e||"top"===e?g:2/3-h>f?f:g>4/3-h?g:h};var L=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];A.dragCursors=function(a,b,c,d){return a="left"===c?0:"center"===c?1:"right"===c?2:w.Lib.constrain(Math.floor(3*a),0,2),b="bottom"===d?0:"middle"===d?1:"top"===d?2:w.Lib.constrain(Math.floor(3*b),0,2),L[b][a]},A.dragElement=function(a){function b(b){var m=document.querySelector(".plugin-editable");return m&&t.select(m).on("blur").call(m),j._dragged=!1,j._dragging=!0,e=b.clientX,f=b.clientY,i=b.target,g=(new Date).getTime(),g-j._mouseDownTime<l?k+=1:(k=1,j._mouseDownTime=g),a.prepFn&&a.prepFn(b,e,f),h=s(),h.onmousemove=c,h.onmouseup=d,h.onmouseout=d,h.style.cursor=window.getComputedStyle(a.element).cursor,w.Lib.pauseEvent(b)}function c(b){var c=b.clientX-e,d=b.clientY-f,g=a.minDrag||z.MINDRAG;return Math.abs(c)<g&&(c=0),Math.abs(d)<g&&(d=0),(c||d)&&(j._dragged=!0,A.unhover(j)),a.moveFn&&a.moveFn(c,d,j._dragged),w.Lib.pauseEvent(b)}function d(b){if(h.onmousemove=null,h.onmouseup=null,h.onmouseout=null,w.Lib.removeElement(h),!j._dragging)return void(j._dragged=!1);if(j._dragging=!1,(new Date).getTime()-j._mouseDownTime>l&&(k=Math.max(k-1,1)),a.doneFn&&a.doneFn(j._dragged,k),!j._dragged){var c=document.createEvent("MouseEvents");c.initEvent("click",!0,!0),i.dispatchEvent(c)}return q(j),j._dragged=!1,w.Lib.pauseEvent(b)}var e,f,g,h,i,j=w.Lib.getPlotDiv(a.element)||{},k=1,l=z.DBLCLICKDELAY;j._mouseDownTime||(j._mouseDownTime=0),a.element.onmousedown=b,a.element.style.pointerEvents="all"},A.setCursor=function(a,b){(a.attr("class")||"").split(" ").forEach(function(b){0===b.indexOf("cursor-")&&a.classed(b,!1)}),b&&a.classed("cursor-"+b,!0)},A.inbox=function(a,b){return 0>a*b||0===a?z.MAXDIST*(.6-.3/Math.max(3,Math.abs(a-b))):1/0}},{"../../lib/events":343,"../../plotly":365,"./constants":369,"./select":373,d3:70,"fast-isnumeric":74,tinycolor2:229}],371:[function(require,a,b){"use strict";b.name="cartesian",b.attr=["xaxis","yaxis"],b.idRoot=["x","y"],b.attributes=require("./attributes"),b.idRegex={x:/^x([2-9]|[1-9][0-9]+)?$/,y:/^y([2-9]|[1-9][0-9]+)?$/},b.attrRegex={x:/^xaxis([2-9]|[1-9][0-9]+)?$/,y:/^yaxis([2-9]|[1-9][0-9]+)?$/}},{"./attributes":367}],372:[function(require,a,b){"use strict";var c=require("./index"),d=require("../font_attributes"),e=require("../../components/color/attributes"),f=require("../../lib/extend").extendFlat;a.exports={title:{valType:"string"},titlefont:f({},d,{}),type:{valType:"enumerated",values:["-","linear","log","date","category"],dflt:"-"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal"},range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},fixedrange:{valType:"boolean",dflt:!1},tickmode:{valType:"enumerated",values:["auto","linear","array"]},nticks:{valType:"integer",min:0,dflt:0},tick0:{valType:"number",dflt:0},dtick:{valType:"any",dflt:1},tickvals:{valType:"data_array"},ticktext:{valType:"data_array"},ticks:{valType:"enumerated",values:["outside","inside",""]},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1},ticklen:{valType:"number",min:0,dflt:5},tickwidth:{valType:"number",min:0,dflt:1},tickcolor:{valType:"color",dflt:e.defaultLine},showticklabels:{valType:"boolean",dflt:!0},tickfont:f({},d,{}),tickangle:{valType:"angle",dflt:"auto"},tickprefix:{valType:"string",dflt:""},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all"},ticksuffix:{valType:"string",dflt:""},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B"},tickformat:{valType:"string",dflt:""},hoverformat:{valType:"string",dflt:""},showline:{valType:"boolean",dflt:!1},linecolor:{valType:"color",dflt:e.defaultLine},linewidth:{valType:"number",min:0,dflt:1},showgrid:{valType:"boolean"},gridcolor:{valType:"color",dflt:e.lightLine},gridwidth:{valType:"number",min:0,dflt:1},zeroline:{valType:"boolean"},zerolinecolor:{valType:"color",dflt:e.defaultLine},zerolinewidth:{valType:"number",dflt:1},anchor:{valType:"enumerated",values:["free",c.idRegex.x.toString(),c.idRegex.y.toString()]},side:{valType:"enumerated",values:["top","bottom","left","right"]},overlaying:{valType:"enumerated",values:["free",c.idRegex.x.toString(),c.idRegex.y.toString()]},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]},position:{valType:"number",min:0,max:1,dflt:0},_deprecated:{autotick:{valType:"boolean"}}}},{"../../components/color/attributes":298,"../../lib/extend":344,"../font_attributes":374,"./index":371}],373:[function(require,a,b){"use strict";function c(a){return a._id}var d=require("../../lib/polygon"),e=require("../../components/color"),f=require("./axes"),g=require("./constants"),h=d.filter,i=d.tester,j=g.MINSELECT;a.exports=function(a,b,d,k,l){function m(a){var b="y"===a._id.charAt(0)?1:0;return function(c){return a.p2d(c[b])}}function n(a,b){return a-b}var o,p=k.plotinfo.plot,q=k.element.getBoundingClientRect(),r=b-q.left,s=d-q.top,t=r,u=s,v="M"+r+","+s,w=k.xaxes[0]._length,x=k.yaxes[0]._length,y=k.xaxes.map(c),z=k.yaxes.map(c),A=k.xaxes.concat(k.yaxes);"lasso"===l&&(o=h([[r,s]],g.BENDPX));var B=p.selectAll("path.select-outline").data([1,2]);B.enter().append("path").attr("class",function(a){return"select-outline select-outline-"+a}).attr("d",v+"Z");var C,D,E,F,G,H=p.append("path").attr("class","zoombox-corners").style({fill:e.background,stroke:e.defaultLine,"stroke-width":1}).attr("d","M0,0Z"),I=[],J=k.gd,K=[];for(C=0;C<J.calcdata.length;C++)D=J.calcdata[C],E=D[0].trace,E._module&&E._module.selectPoints&&-1!==y.indexOf(E.xaxis)&&-1!==z.indexOf(E.yaxis)&&I.push({selectPoints:E._module.selectPoints,cd:D,xaxis:f.getFromId(J,E.xaxis),yaxis:f.getFromId(J,E.yaxis)});k.moveFn=function(a,b){var c,d;t=Math.max(0,Math.min(w,a+r)),u=Math.max(0,Math.min(x,b+s));var e=Math.abs(t-r),f=Math.abs(u-s);for("select"===l?(f<Math.min(.6*e,j)?(c=i([[r,0],[r,x],[t,x],[t,0]]),H.attr("d","M"+c.xmin+","+(s-j)+"h-4v"+2*j+"h4ZM"+(c.xmax-1)+","+(s-j)+"h4v"+2*j+"h-4Z")):e<Math.min(.6*f,j)?(c=i([[0,s],[0,u],[w,u],[w,s]]),H.attr("d","M"+(r-j)+","+c.ymin+"v-4h"+2*j+"v4ZM"+(r-j)+","+(c.ymax-1)+"v4h"+2*j+"v-4Z")):(c=i([[r,s],[r,u],[t,u],[t,s]]),H.attr("d","M0,0Z")),B.attr("d","M"+c.xmin+","+c.ymin+"H"+(c.xmax-1)+"V"+(c.ymax-1)+"H"+c.xmin+"Z")):"lasso"===l&&(o.addPt([t,u]),c=i(o.filtered),B.attr("d","M"+o.filtered.join("L")+"Z")),K=[],C=0;C<I.length;C++)F=I[C],[].push.apply(K,F.selectPoints(F,c));if(G={points:K},"select"===l){var g,h=G.range={};for(C=0;C<A.length;C++)d=A[C],g=d._id.charAt(0),h[d._id]=[d.p2d(c[g+"min"]),d.p2d(c[g+"max"])].sort(n)}else{var p=G.lassoPoints={};for(C=0;C<A.length;C++)d=A[C],p[d._id]=o.filtered.map(m(d))}k.gd.emit("plotly_selecting",G)},k.doneFn=function(a,b){if(a||2!==b)k.gd.emit("plotly_selected",G);else for(B.remove(),C=0;C<I.length;C++)F=I[C],F.selectPoints(F,!1);H.remove()}}},{"../../components/color":299,"../../lib/polygon":353,"./axes":368,"./constants":369}],374:[function(require,a,b){"use strict";a.exports={family:{valType:"string",noBlank:!0,strict:!0},size:{valType:"number",min:1},color:{valType:"color"}}},{}],375:[function(require,a,b){"use strict";function c(a,b){this.id=a.id,this.graphDiv=a.graphDiv,this.container=a.container,this.topojsonURL=a.topojsonURL,n(),this.showHover="closest"===b.hovermode,this.hoverContainer=null,this.topojsonName=null,this.topojson=null,this.projectionType=null,this.projection=null,this.clipAngle=null,this.setScale=null,this.path=null,this.zoom=null,this.zoomReset=null,this.makeFramework()}function d(a,b,c){return i.geo.graticule().extent([[a[0],b[0]],[a[1],b[1]]]).step(c)}function e(a,b,c){var d=s.layerNameToAdjective[b];a.select("."+b).selectAll("path").attr("stroke","none").call(j.fill,c[d+"color"])}function f(a,b,c){var d=s.layerNameToAdjective[b];a.select("."+b).selectAll("path").attr("fill","none").call(j.stroke,c[d+"color"]).call(k.dashLine,"",c[d+"width"])}function g(a,b,c){a.select("."+b+"graticule").selectAll("path").attr("fill","none").call(j.stroke,c[b].gridcolor).call(k.dashLine,"",c[b].gridwidth)}function h(a){var b={type:"linear",showexponent:"all",exponentformat:m.layoutAttributes.exponentformat.dflt,_td:{_fullLayout:a}};return m.setConvert(b),b}var i=require("d3"),j=require("../../components/color"),k=require("../../components/drawing"),l=require("../../plots/plots"),m=require("../../plots/cartesian/axes"),n=require("./projections"),o=require("./set_scale"),p=require("./zoom"),q=require("./zoom_reset"),r=require("../../constants/xmlns_namespaces"),s=require("../../constants/geo_constants"),t=require("../../lib/topojson_utils"),u=require("topojson").feature;a.exports=c;var v=c.prototype;v.plot=function(a,b,c){var d,e,f=this,g=b[f.id],j=b._size;f.projection=null,f.setScale=o(g,j),f.makeProjection(g),f.makePath(),f.adjustLayout(g,j),f.zoom=p(f,g),f.zoomReset=q(f,g),f.mockAxis=h(b),f.framework.call(f.zoom).on("dblclick.zoom",f.zoomReset),d=t.getTopojsonName(g),null===f.topojson||d!==f.topojsonName?(f.topojsonName=d,void 0!==PlotlyGeoAssets.topojson[f.topojsonName]?(f.topojson=PlotlyGeoAssets.topojson[f.topojsonName],f.onceTopojsonIsLoaded(a,g)):(e=t.getTopojsonPath(f.topojsonURL,f.topojsonName),c.push(new Promise(function(b,c){i.json(e,function(d,h){return d?void c(404===d.status?new Error(["plotly.js could not find topojson file at",e,".","Make sure the *topojsonURL* plot config option","is set properly."].join(" ")):new Error(["unexpected error while fetching topojson file at",e].join(" "))):(f.topojson=h,PlotlyGeoAssets.topojson[f.topojsonName]=h,f.onceTopojsonIsLoaded(a,g),void b())})})))):f.onceTopojsonIsLoaded(a,g)},v.onceTopojsonIsLoaded=function(a,b){var c={};this.drawLayout(b);for(var d=0;d<a.length;d++){var e=a[d];c[e.type]=c[e.type]||[],c[e.type].push(e)}for(var f=Object.keys(c),g=0;g<f.length;g++){var h=f[g];l.getModule(h).plot(this,c[h],b)}this.render()},v.makeProjection=function(a){var b,c=a.projection,d=c.type,e=null===this.projection||d!==this.projectionType;e?(this.projectionType=d,b=this.projection=i.geo[s.projNames[d]]()):b=this.projection,b.translate(c._translate0).precision(s.precision),a._isAlbersUsa||b.rotate(c._rotate).center(c._center),a._clipAngle?(this.clipAngle=a._clipAngle,b.clipAngle(a._clipAngle-s.clipPad)):this.clipAngle=null,c.parallels&&b.parallels(c.parallels),e&&this.setScale(b),b.translate(c._translate).scale(c._scale)},v.makePath=function(){this.path=i.geo.path().projection(this.projection)},v.makeFramework=function(){var a=this.geoDiv=i.select(this.container).append("div");a.attr("id",this.id).style("position","absolute");var b=this.hoverContainer=a.append("svg");b.attr(r.svgAttrs).style({position:"absolute","z-index":20,"pointer-events":"none"});var c=this.framework=a.append("svg");c.attr(r.svgAttrs).attr({position:"absolute",preserveAspectRatio:"none"}),c.append("g").attr("class","bglayer").append("rect"),c.append("g").attr("class","baselayer"),c.append("g").attr("class","choroplethlayer"),c.append("g").attr("class","baselayeroverchoropleth"),c.append("g").attr("class","scattergeolayer"),c.on("dblclick.zoom",null)},v.adjustLayout=function(a,b){var c=a.domain;this.geoDiv.style({left:b.l+b.w*c.x[0]+a._marginX+"px",top:b.t+b.h*(1-c.y[1])+a._marginY+"px",width:a._width+"px",height:a._height+"px"}),this.hoverContainer.attr({width:a._width,height:a._height}),this.framework.attr({width:a._width,height:a._height}),this.framework.select(".bglayer").select("rect").attr({width:a._width,height:a._height}).style({fill:a.bgcolor,"stroke-width":0})},v.drawTopo=function(a,b,c){if(c["show"+b]===!0){var d=this.topojson,e="frame"===b?s.sphereSVG:u(d,d.objects[b]);a.append("g").datum(e).attr("class",b).append("path").attr("class","basepath")}},v.drawGraticule=function(a,b,c){var e=c[b];if(e.showgrid===!0){var f=s.scopeDefaults[c.scope],g=f.lonaxisRange,h=f.lataxisRange,i="lonaxis"===b?[e.dtick]:[0,e.dtick],j=d(g,h,i);a.append("g").datum(j).attr("class",b+"graticule").append("path").attr("class","graticulepath")}},v.drawLayout=function(a){var b,c=this.framework.select("g.baselayer"),d=s.baseLayers,e=s.axesNames;c.selectAll("*").remove();for(var f=0;f<d.length;f++)b=d[f],-1!==e.indexOf(b)?this.drawGraticule(c,b,a):this.drawTopo(c,b,a);this.styleLayout(a)},v.styleLayer=function(a,b,c){var d=s.fillLayers,g=s.lineLayers;-1!==d.indexOf(b)?e(a,b,c):-1!==g.indexOf(b)&&f(a,b,c)},v.styleLayout=function(a){for(var b,c=this.framework.select("g.baselayer"),d=s.baseLayers,e=s.axesNames,f=0;f<d.length;f++)b=d[f],-1!==e.indexOf(b)?g(c,b,a):this.styleLayer(c,b,a)},v.render=function(){function a(a){var b=f([a.lon,a.lat]);return b?"translate("+b[0]+","+b[1]+")":null}function b(a){var b=f.rotate(),c=i.geo.distance([a.lon,a.lat],[-b[0],-b[1]]),d=h*Math.PI/180;return c>d?"0":"1.0"}var c=this.framework,d=c.select("g.choroplethlayer"),e=c.select("g.scattergeolayer"),f=this.projection,g=this.path,h=this.clipAngle;c.selectAll("path.basepath").attr("d",g),c.selectAll("path.graticulepath").attr("d",g),d.selectAll("path.choroplethlocation").attr("d",g),d.selectAll("path.basepath").attr("d",g),e.selectAll("path.js-line").attr("d",g),null!==h?(e.selectAll("path.point").style("opacity",b).attr("transform",a),e.selectAll("text").style("opacity",b).attr("transform",a)):(e.selectAll("path.point").attr("transform",a),e.selectAll("text").attr("transform",a))}},{"../../components/color":299,"../../components/drawing":317,"../../constants/geo_constants":333,"../../constants/xmlns_namespaces":337,"../../lib/topojson_utils":360,"../../plots/cartesian/axes":368,"../../plots/plots":404,"./projections":382,"./set_scale":383,"./zoom":384,"./zoom_reset":385,d3:70,topojson:230}],376:[function(require,a,b){"use strict";var c=require("./geo"),d=require("../../plots/plots");b.name="geo",b.attr="geo",b.idRoot="geo",b.idRegex=/^geo([2-9]|[1-9][0-9]+)?$/,b.attrRegex=/^geo([2-9]|[1-9][0-9]+)?$/,b.attributes=require("./layout/attributes"),b.layoutAttributes=require("./layout/layout_attributes"),b.supplyLayoutDefaults=require("./layout/defaults"),b.plot=function(a){var b=a._fullLayout,e=a._fullData,f=d.getSubplotIds(b,"geo");void 0===window.PlotlyGeoAssets&&(window.PlotlyGeoAssets={topojson:{}});for(var g=0;g<f.length;g++){var h=f[g],i=d.getSubplotData(e,"geo",h),j=b[h]._geo;void 0===j&&(j=new c({id:h,graphDiv:a,container:b._geocontainer.node(),topojsonURL:a._context.topojsonURL},b),b[h]._geo=j),j.plot(i,b,a._promises)}}},{"../../plots/plots":404,"./geo":375,"./layout/attributes":377,"./layout/defaults":380,"./layout/layout_attributes":381}],377:[function(require,a,b){"use strict";a.exports={geo:{valType:"geoid",dflt:"geo"}}},{}],378:[function(require,a,b){"use strict";var c=require("../../../components/color/attributes");a.exports={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number"},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:c.lightLine},gridwidth:{valType:"number",min:0,dflt:1}}},{"../../../components/color/attributes":298}],379:[function(require,a,b){"use strict";var c=require("../../../lib"),d=require("../../../constants/geo_constants"),e=require("./axis_attributes");a.exports=function(a,b){function f(a,b){return c.coerce(h,i,e,a,b)}function g(a){var c,e,f,g,h,i,j=b.scope;return"world"===j?(c=b.projection,e=c.type,f=c.rotation,h=d[a+"Span"],i=void 0!==h[e]?h[e]/2:h["*"]/2,g="lonaxis"===a?f.lon:f.lat,[g-i,g+i]):d.scopeDefaults[j][a+"Range"]}for(var h,i,j=d.axesNames,k=0;k<j.length;k++){var l=j[k];h=a[l]||{},i={};var m=g(l),n=f("range",m);c.noneOrAll(h.range,i.range,[0,1]),f("tick0",n[0]),f("dtick","lonaxis"===l?30:10);var o=f("showgrid");o&&(f("gridcolor"),f("gridwidth")),b[l]=i,b[l]._fullRange=m}}},{"../../../constants/geo_constants":333,"../../../lib":348,"./axis_attributes":378}],380:[function(require,a,b){"use strict";function c(a,b,c){var d,e=c("scope"),g="world"!==e,i=f.scopeDefaults[e],j=c("resolution"),k=c("projection.type",i.projType),l="albers usa"===k,m=-1!==k.indexOf("conic");if(m){var n=i.projParallels||[0,60];c("projection.parallels",n)}if(l)b.scope="usa";else{var o=i.projRotate||[0,0,0];c("projection.rotation.lon",o[0]),c("projection.rotation.lat",o[1]),c("projection.rotation.roll",o[2]),d=c("showcoastlines",!g),d&&(c("coastlinecolor"),c("coastlinewidth")),d=c("showocean"),d&&c("oceancolor")}c("projection.scale"),d=c("showland"),d&&c("landcolor"),d=c("showlakes"),d&&c("lakecolor"),d=c("showrivers"),d&&(c("rivercolor"),c("riverwidth")),d=c("showcountries",g),d&&(c("countrycolor"),c("countrywidth")),("usa"===e||"north america"===e&&50===j)&&(c("showsubunits",!0),c("subunitcolor"),c("subunitwidth")),g||(d=c("showframe",!0),d&&(c("framecolor"),c("framewidth"))),c("bgcolor"),h(a,b),b._isHighRes=50===j,b._clipAngle=f.lonaxisSpan[k]/2,b._isAlbersUsa=l,b._isConic=m,b._isScoped=g;var p=b.projection.rotation||{};b.projection._rotate=[-p.lon||0,-p.lat||0,p.roll||0]}var d=require("../../../lib"),e=require("../../plots"),f=require("../../../constants/geo_constants"),g=require("./layout_attributes"),h=require("./axis_defaults");a.exports=function(a,b,f){function h(a,b){return d.coerce(i,j,g,a,b)}for(var i,j,k=e.getSubplotIdsInData(f,"geo"),l=k.length,m=0;l>m;m++){var n=k[m];i=a[n]||{},j={},h("domain.x"),h("domain.y",[m/l,(m+1)/l]),c(i,j,h),b[n]=j}}},{"../../../constants/geo_constants":333,"../../../lib":348,"../../plots":404,"./axis_defaults":379,"./layout_attributes":381}],381:[function(require,a,b){"use strict";var c=require("../../../components/color/attributes"),d=require("../../../constants/geo_constants"),e=require("./axis_attributes");a.exports={domain:{x:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]},y:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]}},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:Object.keys(d.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:Object.keys(d.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,max:10,dflt:1}},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:c.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:d.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:d.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:d.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:d.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:c.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:c.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:c.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:c.background},lonaxis:e,lataxis:e}},{"../../../components/color/attributes":298,"../../../constants/geo_constants":333,"./axis_attributes":378}],382:[function(require,a,b){function c(){function a(a,c){return{type:"Feature",id:a.id,properties:a.properties,geometry:b(a.geometry,c)}}function b(a,c){if(!a)return null;if("GeometryCollection"===a.type)return{type:"GeometryCollection",geometries:object.geometries.map(function(a){return b(a,c)})};if(!y.hasOwnProperty(a.type))return null;var e=y[a.type];return d.geo.stream(a,c(e)),e.result()}function c(){}function e(a){if((b=a.length)<4)return!1;for(var b,c=0,d=a[b-1][1]*a[0][0]-a[b-1][0]*a[0][1];++c<b;)d+=a[c-1][1]*a[c][0]-a[c-1][0]*a[c][1];return 0>=d}function f(a,b){for(var c=b[0],d=b[1],e=!1,f=0,g=a.length,h=g-1;g>f;h=f++){var i=a[f],j=i[0],k=i[1],l=a[h],m=l[0],n=l[1];k>d^n>d&&(m-j)*(d-k)/(n-k)+j>c&&(e=!e)}return e}function g(a){return a>1?C:-1>a?-C:Math.asin(a)}function h(a,b){var c=(2+C)*Math.sin(b);b/=2;for(var d=0,e=1/0;10>d&&Math.abs(e)>z;d++){var f=Math.cos(b);b-=e=(b+Math.sin(b)*(f+2)-c)/(2*f*(1+f))}return[2/Math.sqrt(B*(4+B))*a*(1+Math.cos(b)),2*Math.sqrt(B/(4+B))*Math.sin(b)]}function i(a,b){function c(c,d){var e=H(c/b,d);return e[0]*=a,e}return arguments.length<2&&(b=a),1===b?H:b===1/0?k:(c.invert=function(c,d){var e=H.invert(c/a,d);return e[0]*=b,e},c)}function j(){var a=2,b=G(i),c=b(a);return c.coefficient=function(c){return arguments.length?b(a=+c):a},c}function k(a,b){return[a*Math.cos(b)/Math.cos(b/=2),2*Math.sin(b)]}function l(a,b){return[3*a/(2*B)*Math.sqrt(B*B/3-b*b),b]}function m(a,b){return[a,1.25*Math.log(Math.tan(B/4+.4*b))]}function n(a){return function(b){var c,d=a*Math.sin(b),e=30;do b-=c=(b+Math.sin(b)-d)/(1+Math.cos(b));while(Math.abs(c)>z&&--e>0);return b/2}}function o(a,b,c){function d(c,d){return[a*c*Math.cos(d=e(d)),b*Math.sin(d)]}var e=n(c);return d.invert=function(d,e){var f=g(e/b);return[d/(a*Math.cos(f)),g((2*f+Math.sin(2*f))/c)]},d}function p(a,b){var c=b*b,d=c*c;return[a*(.8707-.131979*c+d*(-.013791+d*(.003971*c-.001529*d))),b*(1.007226+c*(.015085+d*(-.044475+.028874*c-.005916*d)))]}function q(a,b){var c,d=Math.min(18,36*Math.abs(b)/B),e=Math.floor(d),f=d-e,g=(c=J[e])[0],h=c[1],i=(c=J[++e])[0],j=c[1],k=(c=J[Math.min(19,++e)])[0],l=c[1];return[a*(i+f*(k-g)/2+f*f*(k-2*i+g)/2),(b>0?C:-C)*(j+f*(l-h)/2+f*f*(l-2*j+h)/2)]}function r(a,b){return[a*Math.cos(b),b]}d.geo.project=function(a,c){var d=c.stream;if(!d)throw new Error("not yet supported");return(a&&s.hasOwnProperty(a.type)?s[a.type]:b)(a,d)};var s={Feature:a,FeatureCollection:function(b,c){return{type:"FeatureCollection",features:b.features.map(function(b){return a(b,c)})}}},t=[],u=[],v={point:function(a,b){t.push([a,b])},result:function(){var a=t.length?t.length<2?{type:"Point",coordinates:t[0]}:{type:"MultiPoint",coordinates:t}:null;return t=[],a}},w={lineStart:c,point:function(a,b){t.push([a,b])},lineEnd:function(){t.length&&(u.push(t),t=[])},result:function(){var a=u.length?u.length<2?{type:"LineString",coordinates:u[0]}:{type:"MultiLineString",coordinates:u}:null;return u=[],a}},x={polygonStart:c,lineStart:c,point:function(a,b){t.push([a,b])},lineEnd:function(){var a=t.length;if(a){do t.push(t[0].slice());while(++a<4);u.push(t),t=[]}},polygonEnd:c,result:function(){if(!u.length)return null;var a=[],b=[];return u.forEach(function(c){e(c)?a.push([c]):b.push(c)}),b.forEach(function(b){var c=b[0];a.some(function(a){return f(a[0],c)?(a.push(b),!0):void 0})||a.push([b])}),u=[],a.length?a.length>1?{type:"MultiPolygon",coordinates:a}:{type:"Polygon",coordinates:a[0]}:null}},y={Point:v,MultiPoint:v,LineString:w,MultiLineString:w,Polygon:x,MultiPolygon:x,Sphere:x},z=1e-6,A=z*z,B=Math.PI,C=B/2,D=(Math.sqrt(B),B/180),E=180/B,F=d.geo.projection,G=d.geo.projectionMutator;d.geo.interrupt=function(a){function b(b,c){for(var d=0>c?-1:1,e=i[+(0>c)],f=0,g=e.length-1;g>f&&b>e[f][2][0];++f);var h=a(b-e[f][1][0],c);return h[0]+=a(e[f][1][0],d*c>d*e[f][0][1]?e[f][0][1]:c)[0],h}function c(){h=i.map(function(b){return b.map(function(b){var c,d=a(b[0][0],b[0][1])[0],e=a(b[2][0],b[2][1])[0],f=a(b[1][0],b[0][1])[1],g=a(b[1][0],b[1][1])[1];return f>g&&(c=f,f=g,g=c),[[d,f],[e,g]]})})}function e(){for(var a=1e-6,b=[],c=0,e=i[0].length;e>c;++c){var g=i[0][c],h=180*g[0][0]/B,j=180*g[0][1]/B,k=180*g[1][1]/B,l=180*g[2][0]/B,m=180*g[2][1]/B;b.push(f([[h+a,j+a],[h+a,k-a],[l-a,k-a],[l-a,m+a]],30))}for(var c=i[1].length-1;c>=0;--c){var g=i[1][c],h=180*g[0][0]/B,j=180*g[0][1]/B,k=180*g[1][1]/B,l=180*g[2][0]/B,m=180*g[2][1]/B;b.push(f([[l-a,m-a],[l-a,k+a],[h+a,k+a],[h+a,j-a]],30))}return{type:"Polygon",coordinates:[d.merge(b)]}}function f(a,b){for(var c,d,e,f=-1,g=a.length,h=a[0],i=[];++f<g;){c=a[f],d=(c[0]-h[0])/b,e=(c[1]-h[1])/b;for(var j=0;b>j;++j)i.push([h[0]+j*d,h[1]+j*e]);h=c}return i.push(c),i}function g(a,b){return Math.abs(a[0]-b[0])<z&&Math.abs(a[1]-b[1])<z}var h,i=[[[[-B,0],[0,C],[B,0]]],[[[-B,0],[0,-C],[B,0]]]];a.invert&&(b.invert=function(c,d){for(var e=h[+(0>d)],f=i[+(0>d)],j=0,k=e.length;k>j;++j){var l=e[j];if(l[0][0]<=c&&c<l[1][0]&&l[0][1]<=d&&d<l[1][1]){var m=a.invert(c-a(f[j][1][0],0)[0],d);return m[0]+=f[j][1][0],g(b(m[0],m[1]),[c,d])?m:null}}});var j=d.geo.projection(b),k=j.stream;return j.stream=function(a){var b=j.rotate(),c=k(a),f=(j.rotate([0,0]),k(a));return j.rotate(b),c.sphere=function(){d.geo.stream(e(),f)},c},j.lobes=function(a){return arguments.length?(i=a.map(function(a){return a.map(function(a){return[[a[0][0]*B/180,a[0][1]*B/180],[a[1][0]*B/180,a[1][1]*B/180],[a[2][0]*B/180,a[2][1]*B/180]]})}),c(),j):i.map(function(a){return a.map(function(a){return[[180*a[0][0]/B,180*a[0][1]/B],[180*a[1][0]/B,180*a[1][1]/B],[180*a[2][0]/B,180*a[2][1]/B]]})})},j},h.invert=function(a,b){var c=.5*b*Math.sqrt((4+B)/B),d=g(c),e=Math.cos(d);return[a/(2/Math.sqrt(B*(4+B))*(1+e)),g((d+c*(e+2))/(2+C))]},(d.geo.eckert4=function(){return F(h)}).raw=h;var H=d.geo.azimuthalEqualArea.raw;k.invert=function(a,b){var c=2*g(b/2);return[a*Math.cos(c/2)/Math.cos(c),c]},(d.geo.hammer=j).raw=i,l.invert=function(a,b){return[2/3*B*a/Math.sqrt(B*B/3-b*b),b]},(d.geo.kavrayskiy7=function(){return F(l)}).raw=l,m.invert=function(a,b){return[a,2.5*Math.atan(Math.exp(.8*b))-.625*B]},(d.geo.miller=function(){return F(m)}).raw=m;var I=(n(B),o(Math.SQRT2/C,Math.SQRT2,B));(d.geo.mollweide=function(){return F(I)}).raw=I,p.invert=function(a,b){var c,d=b,e=25;do{var f=d*d,g=f*f;d-=c=(d*(1.007226+f*(.015085+g*(-.044475+.028874*f-.005916*g)))-b)/(1.007226+f*(.045255+g*(-0.311325+.259866*f-.005916*11*g)))}while(Math.abs(c)>z&&--e>0);return[a/(.8707+(f=d*d)*(-.131979+f*(-.013791+f*f*f*(.003971-.001529*f)))),d]},(d.geo.naturalEarth=function(){return F(p)}).raw=p;var J=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];J.forEach(function(a){a[1]*=1.0144}),q.invert=function(a,b){var c=b/C,d=90*c,e=Math.min(18,Math.abs(d/5)),f=Math.max(0,Math.floor(e));do{var g=J[f][1],h=J[f+1][1],i=J[Math.min(19,f+2)][1],j=i-g,k=i-2*h+g,l=2*(Math.abs(c)-h)/j,m=k/j,n=l*(1-m*l*(1-2*m*l));if(n>=0||1===f){d=(b>=0?5:-5)*(n+e);var o,p=50;do e=Math.min(18,Math.abs(d)/5),f=Math.floor(e),n=e-f,g=J[f][1],h=J[f+1][1],i=J[Math.min(19,f+2)][1],d-=(o=(b>=0?C:-C)*(h+n*(i-g)/2+n*n*(i-2*h+g)/2)-b)*E;while(Math.abs(o)>A&&--p>0);break}}while(--f>=0);var q=J[f][0],r=J[f+1][0],s=J[Math.min(19,f+2)][0];return[a/(r+n*(s-q)/2+n*n*(s-2*r+q)/2),d*D]},(d.geo.robinson=function(){return F(q)}).raw=q,r.invert=function(a,b){return[a/Math.cos(b),b]},(d.geo.sinusoidal=function(){return F(r)}).raw=r}var d=require("d3");a.exports=c},{d3:70}],383:[function(require,a,b){"use strict";function c(a,b){var c=a.projection,f=a.lonaxis,h=a.lataxis,i=a.domain,j=a.framewidth||0,k=b.w*(i.x[1]-i.x[0]),l=b.h*(i.y[1]-i.y[0]),m=f.range[0]+g,n=f.range[1]-g,o=h.range[0]+g,p=h.range[1]-g,q=f._fullRange[0]+g,r=f._fullRange[1]-g,s=h._fullRange[0]+g,t=h._fullRange[1]-g;c._translate0=[b.l+k/2,b.t+l/2];var u=n-m,v=p-o,w=[m+u/2,o+v/2],x=c._rotate;c._center=[w[0]+x[0],w[1]+x[1]];var y=function(b){function f(a){return Math.min(v*k/(a[1][0]-a[0][0]),v*l/(a[1][1]-a[0][1]))}var g,h,i,u,v=b.scale(),w=c._translate0,x=d(m,o,n,p),y=d(q,s,r,t);i=e(b,x),g=f(i),u=e(b,y),c._fullScale=f(u),b.scale(g),i=e(b,x),h=[w[0]-i[0][0]+j,w[1]-i[0][1]+j],c._translate=h,b.translate(h),i=e(b,x),a._isAlbersUsa||b.clipExtent(i),g=c.scale*g,c._scale=g,a._width=Math.round(i[1][0])+j,a._height=Math.round(i[1][1])+j,a._marginX=(k-Math.round(i[1][0]))/2,a._marginY=(l-Math.round(i[1][1]))/2};return y}function d(a,b,c,d){var e=(c-a)/4;return{type:"Polygon",coordinates:[[[a,b],[a,d],[a+e,d],[a+2*e,d],[a+3*e,d],[c,d],[c,b],[c-e,b],[c-2*e,b],[c-3*e,b],[a,b]]]}}function e(a,b){return f.geo.path().projection(a).bounds(b)}var f=require("d3"),g=require("../../constants/geo_constants").clipPad;a.exports=c},{"../../constants/geo_constants":333,d3:70}],384:[function(require,a,b){"use strict";function c(a,b){var c;return(c=b._isScoped?e:b._clipAngle?g:f)(a,b.projection)}function d(a,b){var c=b._fullScale;return u.behavior.zoom().translate(a.translate()).scale(a.scale()).scaleExtent([.5*c,100*c])}function e(a,b){function c(){u.select(this).style(x)}function e(){g.scale(u.event.scale).translate(u.event.translate),a.render()}function f(){u.select(this).style(y)}var g=a.projection,h=d(g,b);return h.on("zoomstart",c).on("zoom",e).on("zoomend",f),h}function f(a,b){function c(a){return q.invert(a)}function e(a){var b=q(c(a));return Math.abs(b[0]-a[0])>s||Math.abs(b[1]-a[1])>s}function f(){u.select(this).style(x),i=u.mouse(this),j=q.rotate(),k=q.translate(),l=j,m=c(i)}function g(){return n=u.mouse(this),e(i)?(r.scale(q.scale()),void r.translate(q.translate())):(q.scale(u.event.scale),q.translate([k[0],u.event.translate[1]]),m?c(n)&&(p=c(n),o=[l[0]+(p[0]-m[0]),j[1],j[2]],q.rotate(o),l=o):(i=n,m=c(i)),void a.render())}function h(){u.select(this).style(y)}var i,j,k,l,m,n,o,p,q=a.projection,r=d(q,b),s=2;return r.on("zoomstart",f).on("zoom",g).on("zoomend",h),r}function g(a,b){function c(a){r++||a({type:"zoomstart"})}function e(a){a({type:"zoom"})}function f(a){--r||a({type:"zoomend"})}var g,m=a.projection,n={r:m.rotate(),k:m.scale()},o=d(m,b),q=t(o,"zoomstart","zoom","zoomend"),r=0,s=o.on;return o.on("zoomstart",function(){u.select(this).style(x);var a=u.mouse(this),b=m.rotate(),d=b,f=m.translate(),r=i(b);g=h(m,a),s.call(o,"zoom",function(){var c=u.mouse(this);if(m.scale(n.k=u.event.scale),g){if(h(m,c)){m.rotate(b).translate(f);var i=h(m,c),o=k(g,i),s=p(j(r,o)),t=n.r=l(s,g,d);isFinite(t[0])&&isFinite(t[1])&&isFinite(t[2])||(t=d),m.rotate(t),d=t}}else a=c,g=h(m,a);e(q.of(this,arguments))}),c(q.of(this,arguments))}).on("zoomend",function(){u.select(this).style(y),s.call(o,"zoom",null),f(q.of(this,arguments))}).on("zoom.redraw",function(){a.render()}),u.rebind(o,q,"on")}function h(a,b){var c=a.invert(b);return c&&isFinite(c[0])&&isFinite(c[1])&&q(c)}function i(a){var b=.5*a[0]*v,c=.5*a[1]*v,d=.5*a[2]*v,e=Math.sin(b),f=Math.cos(b),g=Math.sin(c),h=Math.cos(c),i=Math.sin(d),j=Math.cos(d);return[f*h*j+e*g*i,e*h*j-f*g*i,f*g*j+e*h*i,f*h*i-e*g*j]}function j(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=b[0],h=b[1],i=b[2],j=b[3];return[c*g-d*h-e*i-f*j,c*h+d*g+e*j-f*i,c*i-d*j+e*g+f*h,c*j+d*i-e*h+f*g]}function k(a,b){if(a&&b){var c=s(a,b),d=Math.sqrt(r(c,c)),e=.5*Math.acos(Math.max(-1,Math.min(1,r(a,b)))),f=Math.sin(e)/d;return d&&[Math.cos(e),c[2]*f,-c[1]*f,c[0]*f]}}function l(a,b,c){var d=o(b,2,a[0]);d=o(d,1,a[1]),d=o(d,0,a[2]-c[2]);var e,f,g=b[0],h=b[1],i=b[2],j=d[0],k=d[1],l=d[2],n=Math.atan2(h,g)*w,p=Math.sqrt(g*g+h*h);
Math.abs(k)>p?(f=(k>0?90:-90)-n,e=0):(f=Math.asin(k/p)*w-n,e=Math.sqrt(p*p-k*k));var q=180-f-2*n,r=(Math.atan2(l,j)-Math.atan2(i,e))*w,s=(Math.atan2(l,j)-Math.atan2(i,-e))*w,t=m(c[0],c[1],f,r),u=m(c[0],c[1],q,s);return u>=t?[f,r,c[2]]:[q,s,c[2]]}function m(a,b,c,d){var e=n(c-a),f=n(d-b);return Math.sqrt(e*e+f*f)}function n(a){return(a%360+540)%360-180}function o(a,b,c){var d=c*v,e=a.slice(),f=0===b?1:0,g=2===b?1:2,h=Math.cos(d),i=Math.sin(d);return e[f]=a[f]*h-a[g]*i,e[g]=a[g]*h+a[f]*i,e}function p(a){return[Math.atan2(2*(a[0]*a[1]+a[2]*a[3]),1-2*(a[1]*a[1]+a[2]*a[2]))*w,Math.asin(Math.max(-1,Math.min(1,2*(a[0]*a[2]-a[3]*a[1]))))*w,Math.atan2(2*(a[0]*a[3]+a[1]*a[2]),1-2*(a[2]*a[2]+a[3]*a[3]))*w]}function q(a){var b=a[0]*v,c=a[1]*v,d=Math.cos(c);return[d*Math.cos(b),d*Math.sin(b),Math.sin(c)]}function r(a,b){for(var c=0,d=0,e=a.length;e>d;++d)c+=a[d]*b[d];return c}function s(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function t(a){for(var b=0,c=arguments.length,d=[];++b<c;)d.push(arguments[b]);var e=u.dispatch.apply(null,d);return e.of=function(b,c){return function(d){var f;try{f=d.sourceEvent=u.event,d.target=a,u.event=d,e[d.type].apply(b,c)}finally{u.event=f}}},e}var u=require("d3"),v=Math.PI/180,w=180/Math.PI,x={cursor:"pointer"},y={cursor:"auto"};a.exports=c},{d3:70}],385:[function(require,a,b){"use strict";function c(a,b){var c=a.projection,e=a.zoom,f=function(){a.makeProjection(b),a.makePath(),e.scale(c.scale()),e.translate(c.translate()),d.loneUnhover(a.hoverContainer),a.render()};return f}var d=require("../cartesian/graph_interact");a.exports=c},{"../cartesian/graph_interact":370}],386:[function(require,a,b){"use strict";function c(a,b){this.element=a,this.plot=b,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxStart=[0,0],this.boxEnd=[0,0]}function d(a){var b=a.mouseContainer,d=a.glplot,g=new c(b,d);return g.mouseListener=e(b,function(b,c,e){function f(b,c,d){var e=Math.min(c,d),f=Math.max(c,d);e!==f?(b[0]=e,b[1]=f,g.dataBox=b):(a.selectBox.selectBox=[0,0,1,1],a.glplot.setDirty())}var h=a.xaxis.range,i=a.yaxis.range,j=d.viewBox,k=g.lastPos[0],l=g.lastPos[1];switch(c*=d.pixelRatio,e*=d.pixelRatio,e=j[3]-j[1]-e,a.fullLayout.dragmode){case"zoom":if(b){var m=c/(j[2]-j[0])*(h[1]-h[0])+h[0],n=e/(j[3]-j[1])*(i[1]-i[0])+i[0];g.boxEnabled||(g.boxStart[0]=m,g.boxStart[1]=n),g.boxEnd[0]=m,g.boxEnd[1]=n,g.boxEnabled=!0}else g.boxEnabled&&(f(h,g.boxStart[0],g.boxEnd[0]),f(i,g.boxStart[1],g.boxEnd[1]),g.boxEnabled=!1);break;case"pan":if(g.boxEnabled=!1,b){var o=(k-c)*(h[1]-h[0])/(d.viewBox[2]-d.viewBox[0]),p=(l-e)*(i[1]-i[0])/(d.viewBox[3]-d.viewBox[1]);h[0]+=o,h[1]+=o,i[0]+=p,i[1]+=p,g.lastInputTime=Date.now(),a.cameraChanged()}}g.lastPos[0]=c,g.lastPos[1]=e}),g.wheelListener=f(b,function(b,c){var e=a.xaxis.range,f=a.yaxis.range,h=d.viewBox,i=g.lastPos[0],j=g.lastPos[1];switch(a.fullLayout.dragmode){case"zoom":break;case"pan":var k=Math.exp(.1*c/(h[3]-h[1])),l=i/(h[2]-h[0])*(e[1]-e[0])+e[0],m=j/(h[3]-h[1])*(f[1]-f[0])+f[0];e[0]=(e[0]-l)*k+l,e[1]=(e[1]-l)*k+l,f[0]=(f[0]-m)*k+m,f[1]=(f[1]-m)*k+m,g.lastInputTime=Date.now(),a.cameraChanged()}return!0}),g}var e=require("mouse-change"),f=require("mouse-wheel");a.exports=d},{"mouse-change":196,"mouse-wheel":200}],387:[function(require,a,b){"use strict";function c(a){this.scene=a,this.gl=a.gl,this.pixelRatio=a.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0]}function d(a){return new c(a)}var e=require("../../plotly"),f=require("../../lib/html2unicode"),g=require("../../lib/str2rgbarray"),h=c.prototype,i=["xaxis","yaxis"];h.merge=function(a){this.titleEnable=!1,this.backgroundColor=g(a.plot_bgcolor);var b,c,d,e,h,j,k,l,m,n,o;for(n=0;2>n;++n){for(b=i[n],c=a[this.scene[b]._name],d=/Click to enter .+ title/.test(c.title)?"":c.title,o=0;2>=o;o+=2)this.labelEnable[n+o]=!1,this.labels[n+o]=f(d),this.labelColor[n+o]=g(c.titlefont.color),this.labelFont[n+o]=c.titlefont.family,this.labelSize[n+o]=c.titlefont.size,this.labelPad[n+o]=this.getLabelPad(b,c),this.tickEnable[n+o]=!1,this.tickColor[n+o]=g((c.tickfont||{}).color),this.tickAngle[n+o]="auto"===c.tickangle?0:Math.PI*-c.tickangle/180,this.tickPad[n+o]=this.getTickPad(c),this.tickMarkLength[n+o]=0,this.tickMarkWidth[n+o]=c.tickwidth||0,this.tickMarkColor[n+o]=g(c.tickcolor),this.borderLineEnable[n+o]=!1,this.borderLineColor[n+o]=g(c.linecolor),this.borderLineWidth[n+o]=c.linewidth||0;k=this.hasSharedAxis(c),h=this.hasAxisInDfltPos(b,c)&&!k,j=this.hasAxisInAltrPos(b,c)&&!k,e=c.mirror||!1,l=k?-1!==String(e).indexOf("all"):!!e,m=k?"allticks"===e:-1!==String(e).indexOf("ticks"),h?this.labelEnable[n]=!0:j&&(this.labelEnable[n+2]=!0),h?this.tickEnable[n]=c.showticklabels:j&&(this.tickEnable[n+2]=c.showticklabels),(h||l)&&(this.borderLineEnable[n]=c.showline),(j||l)&&(this.borderLineEnable[n+2]=c.showline),(h||m)&&(this.tickMarkLength[n]=this.getTickMarkLength(c)),(j||m)&&(this.tickMarkLength[n+2]=this.getTickMarkLength(c)),this.gridLineEnable[n]=c.showgrid,this.gridLineColor[n]=g(c.gridcolor),this.gridLineWidth[n]=c.gridwidth,this.zeroLineEnable[n]=c.zeroline,this.zeroLineColor[n]=g(c.zerolinecolor),this.zeroLineWidth[n]=c.zerolinewidth}},h.hasSharedAxis=function(a){var b=this.scene,c=e.Plots.getSubplotIds(b.fullLayout,"gl2d"),d=e.Axes.findSubplotsWithAxis(c,a);return 0!==d.indexOf(b.id)},h.hasAxisInDfltPos=function(a,b){var c=b.side;return"xaxis"===a?"bottom"===c:"yaxis"===a?"left"===c:void 0},h.hasAxisInAltrPos=function(a,b){var c=b.side;return"xaxis"===a?"top"===c:"yaxis"===a?"right"===c:void 0},h.getLabelPad=function(a,b){var c=1.5,d=b.titlefont.size,e=b.showticklabels;return"xaxis"===a?"top"===b.side?-10+d*(c+(e?1:0)):-10+d*(c+(e?.5:0)):"yaxis"===a?"right"===b.side?10+d*(c+(e?1:.5)):10+d*(c+(e?.5:0)):void 0},h.getTickPad=function(a){return"outside"===a.ticks?10+a.ticklen:15},h.getTickMarkLength=function(a){if(!a.ticks)return 0;var b=a.ticklen;return"inside"===a.ticks?-b:b},a.exports=d},{"../../lib/html2unicode":347,"../../lib/str2rgbarray":358,"../../plotly":365}],388:[function(require,a,b){"use strict";var c=require("../../plotly"),d=require("./scene2d"),e=c.Plots;b.name="gl2d",b.attr=["xaxis","yaxis"],b.idRoot=["x","y"],b.idRegex={x:/^x([2-9]|[1-9][0-9]+)?$/,y:/^y([2-9]|[1-9][0-9]+)?$/},b.attrRegex={x:/^xaxis([2-9]|[1-9][0-9]+)?$/,y:/^yaxis([2-9]|[1-9][0-9]+)?$/},b.attributes=require("../cartesian/attributes"),b.plot=function(a){for(var b=a._fullLayout,c=a._fullData,f=e.getSubplotIds(b,"gl2d"),g=0;g<f.length;g++){var h=f[g],i=b._plots[h],j=e.getSubplotData(c,"gl2d",h),k=i._scene2d;void 0===k&&(k=new d({container:a.querySelector(".gl-container"),id:h,staticPlot:a._context.staticPlot,plotGlPixelRatio:a._context.plotGlPixelRatio},b),i._scene2d=k),k.plot(j,b,a.layout)}}},{"../../plotly":365,"../cartesian/attributes":367,"./scene2d":389}],389:[function(require,a,b){"use strict";function c(a,b){this.container=a.container,this.pixelRatio=a.plotGlPixelRatio||window.devicePixelRatio,this.id=a.id,this.staticPlot=!!a.staticPlot,this.fullLayout=b,this.updateAxes(b),this.makeFramework(),this.glplotOptions=m(this),this.glplotOptions.merge(b),this.glplot=j(this.glplotOptions),this.camera=n(this),this.traces={},this.spikes=k(this.glplot),this.selectBox=l(this.glplot,{innerFill:!1,outerFill:!0}),this.pickResult=null,this.bounds=[1/0,1/0,-(1/0),-(1/0)],this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw()}function d(a,b){for(var c=0;2>c;++c){var d=a[c],e=b[c];if(d.length!==e.length)return!0;for(var f=0;f<d.length;++f)if(d[f].x!==e[f].x)return!0}return!1}var e,f,g=require("../../plots/plots"),h=require("../../plots/cartesian/axes"),i=require("../../plots/cartesian/graph_interact"),j=require("gl-plot2d"),k=require("gl-spikes2d"),l=require("gl-select-box"),m=require("./convert"),n=require("./camera"),o=require("../../lib/html2unicode"),p=require("../../lib/show_no_webgl_msg"),q=["xaxis","yaxis"];a.exports=c;var r=c.prototype;r.makeFramework=function(){if(this.staticPlot){if(!f){e=document.createElement("canvas");try{f=e.getContext("webgl",{preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0})}catch(a){throw new Error(["Error creating static canvas/context for image server"].join(" "))}}this.canvas=e,this.gl=f}else{var b,c=document.createElement("canvas"),d={premultipliedAlpha:!0};try{b=c.getContext("webgl",d)}catch(a){}if(!b)try{b=c.getContext("experimental-webgl",d)}catch(a){}b||p(this),this.canvas=c,this.gl=b}var g=this.canvas,h=this.pixelRatio,i=this.fullLayout;g.width=0|Math.ceil(h*i.width),g.height=0|Math.ceil(h*i.height),g.style.width="100%",g.style.height="100%",g.style.position="absolute",g.style.top="0px",g.style.left="0px",g.style["pointer-events"]="none";var j=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");j.style.position="absolute",j.style.top=j.style.left="0px",j.style.width=j.style.height="100%",j.style["z-index"]=20,j.style["pointer-events"]="none";var k=this.mouseContainer=document.createElement("div");k.style.position="absolute";var l=this.container;l.appendChild(g),l.appendChild(j),l.appendChild(k)},r.toImage=function(a){a||(a="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(e),this.glplot.setDirty(!0),this.glplot.draw();var b=this.glplot.gl,c=b.drawingBufferWidth,d=b.drawingBufferHeight;b.bindFramebuffer(b.FRAMEBUFFER,null);var f=new Uint8Array(c*d*4);b.readPixels(0,0,c,d,b.RGBA,b.UNSIGNED_BYTE,f);for(var g=0,h=d-1;h>g;++g,--h)for(var i=0;c>i;++i)for(var j=0;4>j;++j){var k=f[4*(c*g+i)+j];f[4*(c*g+i)+j]=f[4*(c*h+i)+j],f[4*(c*h+i)+j]=k}var l=document.createElement("canvas");l.width=c,l.height=d;var m=l.getContext("2d"),n=m.createImageData(c,d);n.data.set(f),m.putImageData(n,0,0);var o;switch(a){case"jpeg":o=l.toDataURL("image/jpeg");break;case"webp":o=l.toDataURL("image/webp");break;default:o=l.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(e),o},r.computeTickMarks=function(){this.xaxis._length=this.glplot.viewBox[2]-this.glplot.viewBox[0],this.yaxis._length=this.glplot.viewBox[3]-this.glplot.viewBox[1];for(var a=[h.calcTicks(this.xaxis),h.calcTicks(this.yaxis)],b=0;2>b;++b)for(var c=0;c<a[b].length;++c)a[b][c].text=o(a[b][c].text+"").replace(/\n/g," ");return a},r.updateAxes=function(a){var b=h.subplotMatch,c="xaxis"+this.id.match(b)[1],d="yaxis"+this.id.match(b)[2];this.xaxis=a[c],this.yaxis=a[d]},r.updateFx=function(a){var b=this.fullLayout;b.dragmode=a.dragmode,b.hovermode=a.hovermode},r.cameraChanged=function(){var a=this.camera,b=this.xaxis.range,c=this.yaxis.range;this.glplot.setDataBox([b[0],c[0],b[1],c[1]]);var e=this.computeTickMarks(),f=this.glplotOptions.ticks;d(e,f)&&(this.glplotOptions.ticks=e,this.glplotOptions.dataBox=a.dataBox,this.glplot.update(this.glplotOptions))},r.destroy=function(){this.glplot.dispose()},r.plot=function(a,b){var c,d,e=this.glplot,f=this.pixelRatio;this.fullLayout=b,this.updateAxes(b);var i=b.width,j=b.height,k=0|Math.ceil(f*i),l=0|Math.ceil(f*j),m=this.canvas;(m.width!==k||m.height!==l)&&(m.width=k,m.height=l),a?Array.isArray(a)||(a=[a]):a=[];var n,o;for(c=0;c<a.length;++c){if(n=a[c],o=this.traces[n.uid])o.update(n);else{var p=g.getModule(n.type);o=p.plot(this,n)}this.traces[n.uid]=o}var r=Object.keys(this.traces);a:for(c=0;c<r.length;++c){for(d=0;d<a.length;++d)if(a[d].uid===r[c])continue a;o=this.traces[r[c]],o.dispose(),delete this.traces[r[c]]}var s=this.glplotOptions;s.merge(b),s.screenBox=[0,0,i,j];var t=b._size,u=this.xaxis.domain,v=this.yaxis.domain;s.viewBox=[t.l+u[0]*t.w,t.b+v[0]*t.h,i-t.r-(1-u[1])*t.w,j-t.t-(1-v[1])*t.h],this.mouseContainer.style.width=t.w*(u[1]-u[0])+"px",this.mouseContainer.style.height=t.h*(v[1]-v[0])+"px",this.mouseContainer.height=t.h*(v[1]-v[0]),this.mouseContainer.style.left=t.l+u[0]*t.w+"px",this.mouseContainer.style.top=t.t+(1-v[1])*t.h+"px";var w=this.bounds;for(w[0]=w[1]=1/0,w[2]=w[3]=-(1/0),r=Object.keys(this.traces),c=0;c<r.length;++c){o=this.traces[r[c]];for(var x=0;2>x;++x)w[x]=Math.min(w[x],o.bounds[x]),w[x+2]=Math.max(w[x+2],o.bounds[x+2])}var y;for(c=0;2>c;++c)w[c]>w[c+2]&&(w[c]=-1,w[c+2]=1),y=this[q[c]],y._length=s.viewBox[c+2]-s.viewBox[c],h.doAutoRange(y);s.ticks=this.computeTickMarks();var z=this.xaxis.range,A=this.yaxis.range;s.dataBox=[z[0],A[0],z[1],A[1]],s.merge(b),e.update(s)},r.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var a=this.glplot,b=this.camera,c=b.mouseListener,d=this.fullLayout;this.cameraChanged();var e=c.x*a.pixelRatio,f=this.canvas.height-a.pixelRatio*c.y;if(b.boxEnabled&&"zoom"===d.dragmode)this.selectBox.enabled=!0,this.selectBox.selectBox=[Math.min(b.boxStart[0],b.boxEnd[0]),Math.min(b.boxStart[1],b.boxEnd[1]),Math.max(b.boxStart[0],b.boxEnd[0]),Math.max(b.boxStart[1],b.boxEnd[1])],a.setDirty();else{this.selectBox.enabled=!1;var g=d._size,h=this.xaxis.domain,j=this.yaxis.domain,k=a.pick(e/a.pixelRatio+g.l+h[0]*g.w,f/a.pixelRatio-(g.t+(1-j[1])*g.h));if(k&&d.hovermode){var l=k.object._trace.handlePick(k);if(l&&(!this.lastPickResult||this.lastPickResult.trace!==l.trace||this.lastPickResult.dataCoord[0]!==l.dataCoord[0]||this.lastPickResult.dataCoord[1]!==l.dataCoord[1])){var m=this.lastPickResult=l;this.spikes.update({center:k.dataCoord}),m.screenCoord=[((a.viewBox[2]-a.viewBox[0])*(k.dataCoord[0]-a.dataBox[0])/(a.dataBox[2]-a.dataBox[0])+a.viewBox[0])/a.pixelRatio,(this.canvas.height-(a.viewBox[3]-a.viewBox[1])*(k.dataCoord[1]-a.dataBox[1])/(a.dataBox[3]-a.dataBox[1])-a.viewBox[1])/a.pixelRatio];var n=m.hoverinfo;if("all"!==n){var o=n.split("+");-1===o.indexOf("x")&&(m.traceCoord[0]=void 0),-1===o.indexOf("y")&&(m.traceCoord[1]=void 0),-1===o.indexOf("text")&&(m.textLabel=void 0),-1===o.indexOf("name")&&(m.name=void 0)}i.loneHover({x:m.screenCoord[0],y:m.screenCoord[1],xLabel:this.hoverFormatter("xaxis",m.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",m.traceCoord[1]),text:m.textLabel,name:m.name,color:m.color},{container:this.svgContainer}),this.lastPickResult={dataCoord:k.dataCoord}}}else!k&&this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,i.loneUnhover(this.svgContainer))}a.draw()}},r.hoverFormatter=function(a,b){if(void 0!==b){var c=this[a];return h.tickText(c,c.c2l(b),"hover").text}}},{"../../lib/html2unicode":347,"../../lib/show_no_webgl_msg":356,"../../plots/cartesian/axes":368,"../../plots/cartesian/graph_interact":370,"../../plots/plots":404,"./camera":386,"./convert":387,"gl-plot2d":122,"gl-select-box":152,"gl-spikes2d":178}],390:[function(require,a,b){"use strict";function c(a,b){a=a||document.body,b=b||{};var c=[.01,1/0];"distanceLimits"in b&&(c[0]=b.distanceLimits[0],c[1]=b.distanceLimits[1]),"zoomMin"in b&&(c[0]=b.zoomMin),"zoomMax"in b&&(c[1]=b.zoomMax);var h=e({center:b.center||[0,0,0],up:b.up||[0,1,0],eye:b.eye||[0,0,10],mode:b.mode||"orbit",distanceLimits:c}),i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],j=0,k=a.clientWidth,l=a.clientHeight,m={keyBindingMode:"rotate",view:h,element:a,delay:b.delay||16,rotateSpeed:b.rotateSpeed||1,zoomSpeed:b.zoomSpeed||1,translateSpeed:b.translateSpeed||1,flipX:!!b.flipX,flipY:!!b.flipY,modes:h.modes,tick:function(){var b=d(),c=this.delay,e=b-2*c;h.idle(b-c),h.recalcMatrix(e),h.flush(b-(100+2*c));for(var f=!0,g=h.computedMatrix,m=0;16>m;++m)f=f&&i[m]===g[m],i[m]=g[m];var n=a.clientWidth===k&&a.clientHeight===l;return k=a.clientWidth,l=a.clientHeight,f?!n:(j=Math.exp(h.computedRadius[0]),!0)},lookAt:function(a,b,c){h.lookAt(h.lastT(),a,b,c)},rotate:function(a,b,c){h.rotate(h.lastT(),a,b,c)},pan:function(a,b,c){h.pan(h.lastT(),a,b,c)},translate:function(a,b,c){h.translate(h.lastT(),a,b,c)}};Object.defineProperties(m,{matrix:{get:function(){return h.computedMatrix},set:function(a){return h.setMatrix(h.lastT(),a),h.computedMatrix},enumerable:!0},mode:{get:function(){return h.getMode()},set:function(a){var b=h.computedUp.slice(),c=h.computedEye.slice(),e=h.computedCenter.slice();if(h.setMode(a),"turntable"===a){var f=d();h._active.lookAt(f,c,e,b),h._active.lookAt(f+500,c,e,[0,0,1]),h._active.flush(f)}return h.getMode()},enumerable:!0},center:{get:function(){return h.computedCenter},set:function(a){return h.lookAt(h.lastT(),null,a),h.computedCenter},enumerable:!0},eye:{get:function(){return h.computedEye},set:function(a){return h.lookAt(h.lastT(),a),h.computedEye},enumerable:!0},up:{get:function(){return h.computedUp},set:function(a){return h.lookAt(h.lastT(),null,null,a),h.computedUp},enumerable:!0},distance:{get:function(){return j},set:function(a){return h.setDistance(h.lastT(),a),a},enumerable:!0},distanceLimits:{get:function(){return h.getDistanceLimits(c)},set:function(a){return h.setDistanceLimits(a),a},enumerable:!0}}),a.addEventListener("contextmenu",function(a){return a.preventDefault(),!1});var n=0,o=0;return f(a,function(b,c,e,f){var g="rotate"===m.keyBindingMode,i="pan"===m.keyBindingMode,k="zoom"===m.keyBindingMode,l=!!f.control,p=!!f.alt,q=!!f.shift,r=!!(1&b),s=!!(2&b),t=!!(4&b),u=1/a.clientHeight,v=u*(c-n),w=u*(e-o),x=m.flipX?1:-1,y=m.flipY?1:-1,z=d(),A=Math.PI*m.rotateSpeed;if((g&&r&&!l&&!p&&!q||r&&!l&&!p&&q)&&h.rotate(z,x*A*v,-y*A*w,0),(i&&r&&!l&&!p&&!q||s||r&&l&&!p&&!q)&&h.pan(z,-m.translateSpeed*v*j,m.translateSpeed*w*j,0),k&&r&&!l&&!p&&!q||t||r&&!l&&p&&!q){var B=-m.zoomSpeed*w/window.innerHeight*(z-h.lastT())*100;h.pan(z,0,0,j*(Math.exp(B)-1))}return n=c,o=e,!0}),g(a,function(a,b){var c=m.flipX?1:-1,e=m.flipY?1:-1,f=d();if(Math.abs(a)>Math.abs(b))h.rotate(f,0,0,-a*c*Math.PI*m.rotateSpeed/window.innerWidth);else{var g=-m.zoomSpeed*e*b/window.innerHeight*(f-h.lastT())/100;h.pan(f,0,0,j*(Math.exp(g)-1))}},!0),m}a.exports=c;var d=require("right-now"),e=require("3d-view"),f=require("mouse-change"),g=require("mouse-wheel")},{"3d-view":38,"mouse-change":196,"mouse-wheel":200,"right-now":210}],391:[function(require,a,b){"use strict";var c=require("./scene"),d=require("../plots"),e=["xaxis","yaxis","zaxis"];b.name="gl3d",b.attr="scene",b.idRoot="scene",b.idRegex=/^scene([2-9]|[1-9][0-9]+)?$/,b.attrRegex=/^scene([2-9]|[1-9][0-9]+)?$/,b.attributes=require("./layout/attributes"),b.layoutAttributes=require("./layout/layout_attributes"),b.supplyLayoutDefaults=require("./layout/defaults"),b.plot=function(a){var b=a._fullLayout,e=a._fullData,f=d.getSubplotIds(b,"gl3d");b._paperdiv.style({width:b.width+"px",height:b.height+"px"}),a._context.setBackground(a,b.paper_bgcolor);for(var g=0;g<f.length;g++){var h=f[g],i=d.getSubplotData(e,"gl3d",h),j=b[h]._scene;void 0===j&&(j=new c({container:a.querySelector(".gl-container"),id:h,staticPlot:a._context.staticPlot,plotGlPixelRatio:a._context.plotGlPixelRatio},b),b[h]._scene=j),j.plot(i,b,a.layout)}},b.cleanId=function(a){if(a.match(/^scene[0-9]*$/)){var b=a.substr(5);return"1"===b&&(b=""),"scene"+b}},b.setConvert=require("./set_convert"),b.initAxes=function(a){var b=a._fullLayout;delete b.xaxis,delete b.yaxis;for(var c=d.getSubplotIds(b,"gl3d"),f=0;f<c.length;++f)for(var g=c[f],h=b[g],i=0;3>i;++i){var j=e[i],k=h[j];k._td=a}}},{"../plots":404,"./layout/attributes":392,"./layout/defaults":396,"./layout/layout_attributes":397,"./scene":401,"./set_convert":402}],392:[function(require,a,b){"use strict";a.exports={scene:{valType:"sceneid",dflt:"scene"}}},{}],393:[function(require,a,b){"use strict";var c=require("../../cartesian/layout_attributes"),d=require("../../../lib/extend").extendFlat;a.exports={showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:"rgb(0,0,0)"},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},title:c.title,titlefont:c.titlefont,type:c.type,autorange:c.autorange,rangemode:c.rangemode,range:c.range,fixedrange:c.fixedrange,tickmode:c.tickmode,nticks:c.nticks,tick0:c.tick0,dtick:c.dtick,tickvals:c.tickvals,ticktext:c.ticktext,ticks:c.ticks,mirror:c.mirror,ticklen:c.ticklen,tickwidth:c.tickwidth,tickcolor:c.tickcolor,showticklabels:c.showticklabels,tickfont:c.tickfont,tickangle:c.tickangle,tickprefix:c.tickprefix,showtickprefix:c.showtickprefix,ticksuffix:c.ticksuffix,showticksuffix:c.showticksuffix,showexponent:c.showexponent,exponentformat:c.exponentformat,tickformat:c.tickformat,hoverformat:c.hoverformat,showline:c.showline,linecolor:c.linecolor,linewidth:c.linewidth,showgrid:c.showgrid,gridcolor:d({},c.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:c.gridwidth,zeroline:c.zeroline,zerolinecolor:c.zerolinecolor,zerolinewidth:c.zerolinewidth}},{"../../../lib/extend":344,"../../cartesian/layout_attributes":372}],394:[function(require,a,b){"use strict";var c=require("../../../plotly"),d=require("./axis_attributes"),e=["xaxis","yaxis","zaxis"],f=function(){};a.exports=function(a,b,g){function h(a,b){return c.Lib.coerce(i,j,d,a,b)}for(var i,j,k=c.Axes,l=0;l<e.length;l++){var m=e[l];i=a[m]||{},j={_id:m[0]+g.scene,_name:m},b[m]=j=k.handleAxisDefaults(i,j,h,{font:g.font,letter:m[0],data:g.data,showGrid:!0}),h("gridcolor"),h("title",m[0]),j.setScale=f,h("showspikes")&&(h("spikesides"),h("spikethickness"),h("spikecolor")),h("showbackground")&&h("backgroundcolor"),h("showaxeslabels")}}},{"../../../plotly":365,"./axis_attributes":393}],395:[function(require,a,b){"use strict";function c(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=h(this.tickPad),this._defaultLabelPad=h(this.labelPad),this._defaultLineTickLength=h(this.lineTickLength)}function d(a){var b=new c;return b.merge(a),b}var e=require("arraytools"),f=require("../../../lib/html2unicode"),g=require("../../../lib/str2rgbarray"),h=e.copy1D,i=["xaxis","yaxis","zaxis"],j=c.prototype;j.merge=function(a){for(var b=this,c=0;3>c;++c){var d=a[i[c]];b.labels[c]=f(d.title),"titlefont"in d&&(d.titlefont.color&&(b.labelColor[c]=g(d.titlefont.color)),d.titlefont.family&&(b.labelFont[c]=d.titlefont.family),d.titlefont.size&&(b.labelSize[c]=d.titlefont.size)),"showline"in d&&(b.lineEnable[c]=d.showline),"linecolor"in d&&(b.lineColor[c]=g(d.linecolor)),"linewidth"in d&&(b.lineWidth[c]=d.linewidth),"showgrid"in d&&(b.gridEnable[c]=d.showgrid),"gridcolor"in d&&(b.gridColor[c]=g(d.gridcolor)),"gridwidth"in d&&(b.gridWidth[c]=d.gridwidth),"log"===d.type?b.zeroEnable[c]=!1:"zeroline"in d&&(b.zeroEnable[c]=d.zeroline),"zerolinecolor"in d&&(b.zeroLineColor[c]=g(d.zerolinecolor)),"zerolinewidth"in d&&(b.zeroLineWidth[c]=d.zerolinewidth),"ticks"in d&&d.ticks?b.lineTickEnable[c]=!0:b.lineTickEnable[c]=!1,"ticklen"in d&&(b.lineTickLength[c]=b._defaultLineTickLength[c]=d.ticklen),"tickcolor"in d&&(b.lineTickColor[c]=g(d.tickcolor)),"tickwidth"in d&&(b.lineTickWidth[c]=d.tickwidth),"tickangle"in d&&(b.tickAngle[c]="auto"===d.tickangle?0:Math.PI*-d.tickangle/180),"showticklabels"in d&&(b.tickEnable[c]=d.showticklabels),"tickfont"in d&&(d.tickfont.color&&(b.tickColor[c]=g(d.tickfont.color)),d.tickfont.family&&(b.tickFont[c]=d.tickfont.family),d.tickfont.size&&(b.tickSize[c]=d.tickfont.size)),"mirror"in d?-1!==["ticks","all","allticks"].indexOf(d.mirror)?(b.lineTickMirror[c]=!0,b.lineMirror[c]=!0):d.mirror===!0?(b.lineTickMirror[c]=!1,b.lineMirror[c]=!0):(b.lineTickMirror[c]=!1,b.lineMirror[c]=!1):b.lineMirror[c]=!1,"showbackground"in d&&d.showbackground!==!1?(b.backgroundEnable[c]=!0,b.backgroundColor[c]=g(d.backgroundcolor)):b.backgroundEnable[c]=!1}},a.exports=d},{"../../../lib/html2unicode":347,"../../../lib/str2rgbarray":358,arraytools:48}],396:[function(require,a,b){"use strict";var c=require("../../../plotly"),d=require("./layout_attributes"),e=require("./axis_defaults");a.exports=function(a,b,f){function g(a,b){return c.Lib.coerce(j,k,d,a,b)}if(b._hasGL3D){var h,i=c.Plots.getSubplotIdsInData(f,"gl3d");delete b.xaxis,delete b.yaxis;var j,k,l=i.length;for(h=0;l>h;++h){var m=i[h];void 0!==a[m]?j=a[m]:a[m]=j={},k=b[m]||{},g("bgcolor");for(var n=Object.keys(d.camera),o=0;o<n.length;o++)g("camera."+n[o]+".x"),g("camera."+n[o]+".y"),g("camera."+n[o]+".z");g("domain.x",[h/l,(h+1)/l]),g("domain.y");var p=!!g("aspectratio.x")&&!!g("aspectratio.y")&&!!g("aspectratio.z"),q=p?"manual":"auto",r=g("aspectmode",q);p||(j.aspectratio=k.aspectratio={x:1,y:1,z:1},"manual"===r&&(k.aspectmode="auto")),e(j,k,{font:b.font,scene:m,data:f}),b[m]=k}}}},{"../../../plotly":365,"./axis_defaults":394,"./layout_attributes":397}],397:[function(require,a,b){"use strict";function c(a,b,c){return{x:{valType:"number",dflt:a},y:{valType:"number",dflt:b},z:{valType:"number",dflt:c}}}var d=require("./axis_attributes"),e=require("../../../lib/extend").extendFlat;a.exports={bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},camera:{up:e(c(0,0,1),{}),center:e(c(0,0,0),{}),eye:e(c(1.25,1.25,1.25),{})},domain:{x:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]},y:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]}},aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto"},aspectratio:{x:{valType:"number",min:0},y:{valType:"number",min:0},z:{valType:"number",min:0}},xaxis:d,yaxis:d,zaxis:d,_deprecated:{cameraposition:{valType:"info_array"}}}},{"../../../lib/extend":344,"./axis_attributes":393}],398:[function(require,a,b){"use strict";function c(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}function d(a){var b=new c;return b.merge(a),b}var e=require("../../../lib/str2rgbarray"),f=["xaxis","yaxis","zaxis"],g=c.prototype;g.merge=function(a){for(var b=0;3>b;++b){var c=a[f[b]];this.enabled[b]=c.showspikes,this.colors[b]=e(c.spikecolor),this.drawSides[b]=c.spikesides,this.lineWidth[b]=c.spikethickness}},a.exports=d},{"../../../lib/str2rgbarray":358}],399:[function(require,a,b){"use strict";function c(a){for(var b=new Array(3),c=0;3>c;++c){for(var d=a[c],e=new Array(d.length),f=0;f<d.length;++f)e[f]=d[f].x;b[c]=e}return b}function d(a){for(var b=a.axesOptions,d=a.glplot.axesPixels,i=a.fullSceneLayout,j=[[],[],[]],k=0;3>k;++k){var l=i[g[k]];if(l._length=(d[k].hi-d[k].lo)*d[k].pixelsPerDataUnit/a.dataScale[k],Math.abs(l._length)===1/0)j[k]=[];else{l.range[0]=d[k].lo/a.dataScale[k],l.range[1]=d[k].hi/a.dataScale[k],l._m=1/(a.dataScale[k]*d[k].pixelsPerDataUnit),l.range[0]===l.range[1]&&(l.range[0]-=1,l.range[1]+=1);var m=l.tickmode;if("auto"===l.tickmode){l.tickmode="linear";var n=l.nticks||e.Lib.constrain(l._length/40,4,9);e.Axes.autoTicks(l,Math.abs(l.range[1]-l.range[0])/n)}for(var o=e.Axes.calcTicks(l),p=0;p<o.length;++p)o[p].x=o[p].x*a.dataScale[k],o[p].text=f(o[p].text);j[k]=o,l.tickmode=m}}b.ticks=j;for(var k=0;3>k;++k){h[k]=.5*(a.glplot.bounds[0][k]+a.glplot.bounds[1][k]);for(var p=0;2>p;++p)b.bounds[p][k]=a.glplot.bounds[p][k]}a.contourLevels=c(j)}a.exports=d;var e=require("../../../plotly"),f=require("../../../lib/html2unicode"),g=["xaxis","yaxis","zaxis"],h=[0,0,0]},{"../../../lib/html2unicode":347,"../../../plotly":365}],400:[function(require,a,b){"use strict";function c(a,b){var c,d,e=[0,0,0,0];for(c=0;4>c;++c)for(d=0;4>d;++d)e[d]+=a[4*c+d]*b[c];return e}function d(a,b){var d=c(a.projection,c(a.view,c(a.model,[b[0],b[1],b[2],1])));return d}a.exports=d},{}],401:[function(require,a,b){"use strict";function c(a){function b(b,c){if(void 0!==c){if("string"==typeof c)return c;var d=a.fullSceneLayout[b];return m.tickText(d,d.c2l(c),"hover").text}}var c=a.svgContainer,d=a.container.getBoundingClientRect(),e=d.width,f=d.height;c.setAttributeNS(null,"viewBox","0 0 "+e+" "+f),c.setAttributeNS(null,"width",e),c.setAttributeNS(null,"height",f),v(a),a.glplot.axes.update(a.axesOptions);for(var g=Object.keys(a.traces),h=null,i=a.glplot.selection,j=0;j<g.length;++j){var k=a.traces[g[j]];k.handlePick(i)&&(h=k),k.setContourLevels&&k.setContourLevels()}if(null!==h){var l=r(a.glplot.cameraParams,i.dataCoordinate),o=h.data.hoverinfo;if("all"!==o){var p=o.split("+");-1===p.indexOf("x")&&(i.traceCoordinate[0]=void 0),-1===p.indexOf("y")&&(i.traceCoordinate[1]=void 0),-1===p.indexOf("z")&&(i.traceCoordinate[2]=void 0),-1===p.indexOf("text")&&(i.textLabel=void 0),-1===p.indexOf("name")&&(h.name=void 0)}n.loneHover({x:(.5+.5*l[0]/l[3])*e,y:(.5-.5*l[1]/l[3])*f,xLabel:b("xaxis",i.traceCoordinate[0]),yLabel:b("yaxis",i.traceCoordinate[1]),zLabel:b("zaxis",i.traceCoordinate[2]),text:i.textLabel,name:h.name,color:h.color},{container:c})}else n.loneUnhover(c)}function d(a,b,d,e){var f={canvas:d,gl:e,container:a.container,axes:a.axesOptions,spikes:a.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1};if(a.staticMode){if(!i){h=document.createElement("canvas");try{i=h.getContext("webgl",{preserveDrawingBuffer:!0,premultipliedAlpha:!0})}catch(g){throw new Error("error creating static canvas/context for image server")}}f.pixelRatio=a.pixelRatio,f.gl=i,f.canvas=h}try{a.glplot=j(f)}catch(g){p(a)}if(a.staticMode||a.glplot.canvas.addEventListener("webglcontextlost",function(a){console.log("lost context"),a.preventDefault()}),!a.camera){var k=b.scene.camera;a.camera=q(a.container,{center:[k.center.x,k.center.y,k.center.z],eye:[k.eye.x,k.eye.y,k.eye.z],up:[k.up.x,k.up.y,k.up.z],zoomMin:.1,zoomMax:100,mode:"orbit"})}return a.glplot.mouseListener.enabled=!1,a.glplot.camera=a.camera,a.glplot.oncontextloss=function(){a.recoverContext()},a.glplot.onrender=c.bind(null,a),a.traces={},!0}function e(a,b){var c=document.createElement("div"),e=a.container,f=document.createElementNS("http://www.w3.org/2000/svg","svg");f.style.position="absolute",f.style.top=f.style.left="0px",f.style.width=f.style.height="100%",f.style["z-index"]=20,f.style["pointer-events"]="none",c.appendChild(f),this.svgContainer=f,c.id=a.id,c.style.position="absolute",c.style.top=c.style.left="0px",c.style.width=c.style.height="100%",e.appendChild(c),this.fullLayout=b,this.id=a.id||"scene",this.plotArgs=[[],{},{}],this.axesOptions=t(b[this.id]),this.spikeOptions=u(b[this.id]),this.container=c,this.staticMode=!!a.staticPlot,this.pixelRatio=a.plotGlPixelRatio||2,
this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],!d(this,b)}function f(a,b,c,d){for(var e=0;e<b.length;++e)if(Array.isArray(b[e]))for(var f=0;f<b[e].length;++f){var g=a.d2l(b[e][f]);!isNaN(g)&&isFinite(g)&&(d[0][c]=Math.min(d[0][c],g),d[1][c]=Math.max(d[1][c],g))}else{var g=a.d2l(b[e]);!isNaN(g)&&isFinite(g)&&(d[0][c]=Math.min(d[0][c],g),d[1][c]=Math.max(d[1][c],g))}}function g(a,b,c){var d=a.fullSceneLayout;f(d.xaxis,b.x,0,c),f(d.yaxis,b.y,1,c),f(d.zaxis,b.z,2,c)}var h,i,j=require("gl-plot3d"),k=require("../../lib"),l=require("../../plots/plots"),m=require("../../plots/cartesian/axes"),n=require("../../plots/cartesian/graph_interact"),o=require("../../lib/str2rgbarray"),p=require("../../lib/show_no_webgl_msg"),q=require("./camera"),r=require("./project"),s=require("./set_convert"),t=require("./layout/convert"),u=require("./layout/spikes"),v=require("./layout/tick_marks"),w=e.prototype;w.recoverContext=function(){function a(){return c.isContextLost()?void requestAnimationFrame(a):d(b,b.fullLayout,e,c)?void b.plot.apply(b,b.plotArgs):void console.error("catastrophic/unrecoverable webgl error.  context lost.")}var b=this,c=this.glplot.gl,e=this.glplot.canvas;this.glplot.dispose(),requestAnimationFrame(a)};var x=["xaxis","yaxis","zaxis"];w.plot=function(a,b,c){if(this.plotArgs=[a,b,c],!this.glplot.contextLost){var d,e,f,h,i=b[this.id],j=c[this.id];for(i.bgcolor?this.glplot.clearColor=o(i.bgcolor):this.glplot.clearColor=[0,0,0,0],this.glplot.snapToData=!0,this.fullSceneLayout=i,this.glplotLayout=i,this.axesOptions.merge(i),this.spikeOptions.merge(i),this.handleDragmode(b.dragmode),this.glplot.update({}),f=0;3>f;++f){var k=i[x[f]];s(k)}a?Array.isArray(a)||(a=[a]):a=[];for(var m=[[1/0,1/0,1/0],[-(1/0),-(1/0),-(1/0)]],f=0;f<a.length;++f){var d=a[f];d.visible===!0&&g(this,d,m)}for(var n=[1,1,1],h=0;3>h;++h)m[0][h]>m[1][h]?n[h]=1:m[1][h]===m[0][h]?n[h]=1:n[h]=1/(m[1][h]-m[0][h]);this.dataScale=n;for(var f=0;f<a.length;++f)if(d=a[f],d.visible===!0){if(e=this.traces[d.uid])e.update(d);else{var p=l.getModule(d.type);e=p.plot(this,d),this.traces[d.uid]=e}e.name=d.name}var q=Object.keys(this.traces);a:for(f=0;f<q.length;++f){for(h=0;h<a.length;++h)if(a[h].uid===q[f]&&a[h].visible===!0)continue a;e=this.traces[q[f]],e.dispose(),delete this.traces[q[f]]}var r=[[0,0,0],[0,0,0]],t=[],u={};for(f=0;3>f;++f){var k=i[x[f]],v=k.type;if(v in u?(u[v].acc*=n[f],u[v].count+=1):u[v]={acc:n[f],count:1},k.autorange){for(r[0][f]=1/0,r[1][f]=-(1/0),h=0;h<this.glplot.objects.length;++h){var w=this.glplot.objects[h].bounds;r[0][f]=Math.min(r[0][f],w[0][f]/n[f]),r[1][f]=Math.max(r[1][f],w[1][f]/n[f])}if("rangemode"in k&&"tozero"===k.rangemode&&(r[0][f]=Math.min(r[0][f],0),r[1][f]=Math.max(r[1][f],0)),r[0][f]>r[1][f])r[0][f]=-1,r[1][f]=1;else{var y=r[1][f]-r[0][f];r[0][f]-=y/32,r[1][f]+=y/32}}else{var z=i[x[f]].range;r[0][f]=z[0],r[1][f]=z[1]}r[0][f]===r[1][f]&&(r[0][f]-=1,r[1][f]+=1),t[f]=r[1][f]-r[0][f],this.glplot.bounds[0][f]=r[0][f]*n[f],this.glplot.bounds[1][f]=r[1][f]*n[f]}for(var A=[1,1,1],f=0;3>f;++f){var k=i[x[f]],v=k.type,B=u[v];A[f]=Math.pow(B.acc,1/B.count)/n[f]}var C,D=4;if("auto"===i.aspectmode)C=Math.max.apply(null,A)/Math.min.apply(null,A)<=D?A:[1,1,1];else if("cube"===i.aspectmode)C=[1,1,1];else if("data"===i.aspectmode)C=A;else{if("manual"!==i.aspectmode)throw new Error("scene.js aspectRatio was not one of the enumerated types");var E=i.aspectratio;C=[E.x,E.y,E.z]}i.aspectratio.x=j.aspectratio.x=C[0],i.aspectratio.y=j.aspectratio.y=C[1],i.aspectratio.z=j.aspectratio.z=C[2],this.glplot.aspect=C;var F=i.domain||null,G=b._size||null;if(F&&G){var H=this.container.style;H.position="absolute",H.left=G.l+F.x[0]*G.w+"px",H.top=G.t+(1-F.y[1])*G.h+"px",H.width=G.w*(F.x[1]-F.x[0])+"px",H.height=G.h*(F.y[1]-F.y[0])+"px"}}},w.destroy=function(){this.glplot.dispose(),this.container.parentNode.removeChild(this.container),this.glplot=null},w.setCameraToDefault=function(){this.glplot.camera.lookAt([1.25,1.25,1.25],[0,0,0],[0,0,1])},w.getCamera=function(){this.glplot.camera.view.recalcMatrix(this.camera.view.lastT());var a=this.glplot.camera.up,b=this.glplot.camera.center,c=this.glplot.camera.eye;return{up:{x:a[0],y:a[1],z:a[2]},center:{x:b[0],y:b[1],z:b[2]},eye:{x:c[0],y:c[1],z:c[2]}}},w.setCamera=function(a){var b=a.up,c=a.center,d=a.eye;this.glplot.camera.lookAt([d.x,d.y,d.z],[c.x,c.y,c.z],[b.x,b.y,b.z])},w.saveCamera=function(a){function b(a,b,c,d){var e=["up","center","eye"],f=["x","y","z"];return a[e[c]][f[d]]===b[e[c]][f[d]]}var c=this.getCamera(),d=k.nestedProperty(a,this.id+".camera"),e=d.get(),f=!1;if(void 0===e)f=!0;else for(var g=0;3>g;g++)for(var h=0;3>h;h++)if(!b(c,e,g,h)){f=!0;break}return f&&d.set(c),f},w.handleDragmode=function(a){var b=this.camera;b&&("orbit"===a?(b.mode="orbit",b.keyBindingMode="rotate"):"turntable"===a?(b.up=[0,0,1],b.mode="turntable",b.keyBindingMode="rotate"):b.keyBindingMode=a)},w.toImage=function(a){a||(a="png"),this.staticMode&&this.container.appendChild(h),this.glplot.redraw();var b=this.glplot.gl,c=b.drawingBufferWidth,d=b.drawingBufferHeight;b.bindFramebuffer(b.FRAMEBUFFER,null);var e=new Uint8Array(c*d*4);b.readPixels(0,0,c,d,b.RGBA,b.UNSIGNED_BYTE,e);for(var f=0,g=d-1;g>f;++f,--g)for(var i=0;c>i;++i)for(var j=0;4>j;++j){var k=e[4*(c*f+i)+j];e[4*(c*f+i)+j]=e[4*(c*g+i)+j],e[4*(c*g+i)+j]=k}var l=document.createElement("canvas");l.width=c,l.height=d;var m=l.getContext("2d"),n=m.createImageData(c,d);n.data.set(e),m.putImageData(n,0,0);var o;switch(a){case"jpeg":o=l.toDataURL("image/jpeg");break;case"webp":o=l.toDataURL("image/webp");break;default:o=l.toDataURL("image/png")}return this.staticMode&&this.container.removeChild(h),o},a.exports=e},{"../../lib":348,"../../lib/show_no_webgl_msg":356,"../../lib/str2rgbarray":358,"../../plots/cartesian/axes":368,"../../plots/cartesian/graph_interact":370,"../../plots/plots":404,"./camera":390,"./layout/convert":395,"./layout/spikes":398,"./layout/tick_marks":399,"./project":400,"./set_convert":402,"gl-plot3d":140}],402:[function(require,a,b){"use strict";var c=require("../../plotly"),d=function(){};a.exports=function(a){c.Axes.setConvert(a),a.setScale=d}},{"../../plotly":365}],403:[function(require,a,b){"use strict";var c=require("../plotly"),d=require("./font_attributes"),e=require("../components/color/attributes"),f=c.Lib.extendFlat;a.exports={font:{family:f({},d.family,{dflt:'"Open Sans", verdana, arial, sans-serif'}),size:f({},d.size,{dflt:12}),color:f({},d.color,{dflt:e.defaultLine})},title:{valType:"string",dflt:"Click to enter Plot title"},titlefont:f({},d,{}),autosize:{valType:"enumerated",values:[!0,!1,"initial"]},width:{valType:"number",min:10,dflt:700},height:{valType:"number",min:10,dflt:450},margin:{l:{valType:"number",min:0,dflt:80},r:{valType:"number",min:0,dflt:80},t:{valType:"number",min:0,dflt:100},b:{valType:"number",min:0,dflt:80},pad:{valType:"number",min:0,dflt:0},autoexpand:{valType:"boolean",dflt:!0}},paper_bgcolor:{valType:"color",dflt:e.background},plot_bgcolor:{valType:"color",dflt:e.background},separators:{valType:"string",dflt:".,"},hidesources:{valType:"boolean",dflt:!1},smith:{valType:"enumerated",values:[!1],dflt:!1},showlegend:{valType:"boolean"},_hasCartesian:{valType:"boolean",dflt:!1},_hasGL3D:{valType:"boolean",dflt:!1},_hasGeo:{valType:"boolean",dflt:!1},_hasPie:{valType:"boolean",dflt:!1},_hasGL2D:{valType:"boolean",dflt:!1},_composedModules:{"*":"Fx"},_nestedModules:{xaxis:"Axes",yaxis:"Axes",scene:"gl3d",geo:"geo",legend:"Legend",annotations:"Annotations",shapes:"Shapes"}}},{"../components/color/attributes":298,"../plotly":365,"./font_attributes":374}],404:[function(require,a,b){"use strict";function c(a){return"object"==typeof a&&(a=a.type),a}function d(a,b){b.text("");var c=b.append("a").attr({"xlink:xlink:href":"#","class":"link--impt link--embedview","font-weight":"bold"}).text(a._context.linkText+" "+String.fromCharCode(187));if(a._context.sendData)c.on("click",function(){k.sendDataToCloud(a)});else{var d=window.location.pathname.split("/"),e=window.location.search;c.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+d[2].split(".")[0]+"/"+d[1]+e})}}function e(a,b){for(var c,d=k.getSubplotIds(b,"gl3d"),e=0;e<d.length;e++)c=d[e],!a[c]&&b[c]._scene&&b[c]._scene.destroy()}function f(a,b){for(var c,d=Object.keys(b),e=0;e<d.length;++e){var g=d[e];if("_"===g.charAt(0)||"function"==typeof b[g]){if(g in a)continue;a[g]=b[g]}else if(Array.isArray(b[g])&&Array.isArray(a[g])&&b[g].length&&j.isPlainObject(b[g][0])){if(b[g].length!==a[g].length)throw new Error("relinkPrivateKeys needs equal length arrays");for(c=0;c<b[g].length;c++)f(a[g][c],b[g][c])}else j.isPlainObject(b[g])&&j.isPlainObject(a[g])&&(f(a[g],b[g]),Object.keys(a[g]).length||delete a[g])}}var g=require("../plotly"),h=require("d3"),i=require("fast-isnumeric"),j=require("../lib"),k=a.exports={},l=k.modules={},m=k.allTypes=[],n=k.allCategories={},o=k.subplotsRegistry={};k.attributes=require("./attributes"),k.attributes.type.values=m,k.fontAttrs=require("./font_attributes"),k.layoutAttributes=require("./layout_attributes"),k.fontWeight="normal",k.register=function(a,b,c,d){if(l[b])return void console.log("type "+b+" already registered");for(var e={},f=0;f<c.length;f++)e[c[f]]=!0,n[c[f]]=!0;l[b]={_module:a,categories:e},d&&Object.keys(d).length&&(l[b].meta=d),m.push(b)},k.getModule=function(a){if(void 0!==a.r)return console.log("Oops, tried to put a polar trace on an incompatible graph of cartesian data. Ignoring this dataset.",a),!1;var b=l[c(a)];return b?b._module:!1},k.traceIs=function(a,b){if(a=c(a),"various"===a)return!1;var d=l[a];return d||(void 0!==a&&console.warn("unrecognized trace type "+a),d=l[k.attributes.type.dflt]),!!d.categories[b]},k.registerSubplot=function(a){var b=a.name;return o[b]?void console.log("plot type "+b+" already registered"):void(o[b]=a)},k.getSubplotIds=function(a,b){if(void 0===k.subplotsRegistry[b])return[];if("cartesian"===b&&!a._hasCartesian)return[];if("gl2d"===b&&!a._hasGL2D)return[];if("cartesian"===b||"gl2d"===b)return Object.keys(a._plots);for(var c,d=k.subplotsRegistry[b].idRegex,e=Object.keys(a),f=[],g=0;g<e.length;g++)c=e[g],d.test(c)&&f.push(c);return f},k.getSubplotIdsInData=function(a,b){if(void 0===k.subplotsRegistry[b])return[];for(var c,d=k.subplotsRegistry[b].attr,e=[],f=0;f<a.length;f++)c=a[f],g.Plots.traceIs(c,b)&&-1===e.indexOf(c[d])&&e.push(c[d]);return e},k.getSubplotData=function(a,b,c){if(void 0===k.subplotsRegistry[b])return[];for(var d,e=k.subplotsRegistry[b].attr,f=[],h=0;h<a.length;h++)if(d=a[h],"gl2d"===b&&k.traceIs(d,"gl2d")){var i=g.Axes.subplotMatch,j="x"+c.match(i)[1],l="y"+c.match(i)[2];d[e[0]]===j&&d[e[1]]===l&&f.push(d)}else d[e]===c&&f.push(d);return f},k.redrawText=function(a){return a._fullLayout._hasGL3D||a.data&&a.data[0]&&a.data[0].r?void 0:new Promise(function(b){setTimeout(function(){g.Annotations.drawAll(a),g.Legend.draw(a),(a.calcdata||[]).forEach(function(a){a[0]&&a[0].t&&a[0].t.cb&&a[0].t.cb()}),b(k.previousPromises(a))},300)})},k.resize=function(a){a&&"none"!==h.select(a).style("display")&&(a._redrawTimer&&clearTimeout(a._redrawTimer),a._redrawTimer=setTimeout(function(){if((a._fullLayout||{}).autosize){var b=a.changed;a.autoplay=!0,g.relayout(a,{autosize:!0}),a.changed=b}},100))},k.previousPromises=function(a){return(a._promises||[]).length?Promise.all(a._promises).then(function(){a._promises=[]}):void 0},k.addLinks=function(a){var b=a._fullLayout,c=b._paper.selectAll("text.js-plot-link-container").data([0]);c.enter().append("text").classed("js-plot-link-container",!0).style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:g.Color.defaultLine,"pointer-events":"all"}).each(function(){var a=h.select(this);a.append("tspan").classed("js-link-to-tool",!0),a.append("tspan").classed("js-link-spacer",!0),a.append("tspan").classed("js-sourcelinks",!0)});var e=c.node(),f={y:b._paper.attr("height")-9};e&&e.getComputedTextLength()>=b.width-20?(f["text-anchor"]="start",f.x=5):(f["text-anchor"]="end",f.x=b._paper.attr("width")-7),c.attr(f);var i=c.select(".js-link-to-tool"),j=c.select(".js-link-spacer"),k=c.select(".js-sourcelinks");a._context.showSources&&a._context.showSources(a),a._context.showLink&&d(a,i),j.text(i.text()&&k.text()?" - ":"")},k.sendDataToCloud=function(a){a.emit("plotly_beforeexport");var b=window.PLOTLYENV&&window.PLOTLYENV.BASE_URL||"https://plot.ly",c=h.select(a).append("div").attr("id","hiddenform").style("display","none"),d=c.append("form").attr({action:b+"/external",method:"post",target:"_blank"}),e=d.append("input").attr({type:"text",name:"data"});return e.node().value=k.graphJson(a,!1,"keepdata"),d.node().submit(),c.remove(),a.emit("plotly_afterexport"),!1},k.supplyDefaults=function(a){var b,c,d,h,i,j,l=a._fullLayout||{},m=a._fullLayout={},n=a.layout||{},o=a._fullData||[],p=a._fullData=[],q=a.data||[],r=a._modules=[];for(k.supplyLayoutGlobalDefaults(n,m),m._dataLength=q.length,b=0;b<q.length;b++)c=q[b],d=k.supplyDataDefaults(c,b,m),p.push(d),k.traceIs(d,"cartesian")?m._hasCartesian=!0:k.traceIs(d,"gl3d")?m._hasGL3D=!0:k.traceIs(d,"geo")?m._hasGeo=!0:k.traceIs(d,"pie")?m._hasPie=!0:k.traceIs(d,"gl2d")?m._hasGL2D=!0:"r"in d&&(m._hasPolar=!0),h=d._module,h&&-1===r.indexOf(h)&&r.push(h);for(b=0;b<r.length;b++)h=r[b],h.cleanData&&h.cleanData(p);if(o.length===q.length)for(b=0;b<p.length;b++)f(p[b],o[b]);for(k.supplyLayoutModuleDefaults(n,m,p),e(m,l),f(m,l),k.doAutoMargin(a),i=g.Axes.list(a),b=0;b<i.length;b++)j=i[b],j._td=a,j.setScale();if((a.calcdata||[]).length===p.length)for(b=0;b<p.length;b++)c=p[b],(a.calcdata[b][0]||{}).trace=c},k.supplyDataDefaults=function(a,b,c){function d(b,c){return j.coerce(a,f,k.attributes,b,c)}function e(b,c){return k.traceIs(f,b)?j.coerce(a,f,k.subplotsRegistry[b].attributes,c):void 0}var f={},h=g.Color.defaults[b%g.Color.defaults.length];f.index=b;var i,l,m=d("visible");return d("type"),d("uid"),e("gl3d","scene"),e("geo","geo"),(m||i)&&(l=k.getModule(f),f._module=l),m&&d("hoverinfo",1===c._dataLength?"x+y+z+text":void 0),l&&m&&l.supplyDefaults(a,f,h,c),m&&(d("name","trace "+b),k.traceIs(f,"noOpacity")||d("opacity"),e("cartesian","xaxis"),e("cartesian","yaxis"),e("gl2d","xaxis"),e("gl2d","yaxis"),k.traceIs(f,"showLegend")&&(d("showlegend"),d("legendgroup"))),f._input=a,f},k.supplyLayoutGlobalDefaults=function(a,b){function c(c,d){return j.coerce(a,b,k.layoutAttributes,c,d)}var d=j.coerceFont(c,"font");c("title"),j.coerceFont(c,"titlefont",{family:d.family,size:Math.round(1.4*d.size),color:d.color});var e=c("autosize",a.width&&a.height?!1:"initial");c("width"),c("height"),c("margin.l"),c("margin.r"),c("margin.t"),c("margin.b"),c("margin.pad"),c("margin.autoexpand"),"initial"!==e&&k.sanitizeMargins(b),c("paper_bgcolor"),c("separators"),c("hidesources"),c("smith"),c("_hasCartesian"),c("_hasGL3D"),c("_hasGeo"),c("_hasPie"),c("_hasGL2D")},k.supplyLayoutModuleDefaults=function(a,b,c){var d,e;g.Axes.supplyLayoutDefaults(a,b,c);var f=Object.keys(o);for(d=0;d<f.length;d++)e=o[f[d]],e.supplyLayoutDefaults&&e.supplyLayoutDefaults(a,b,c);var h=Object.keys(l);for(d=0;d<h.length;d++)e=l[m[d]]._module,e.supplyLayoutDefaults&&e.supplyLayoutDefaults(a,b,c);var i=["Fx","Annotations","Shapes","Legend"];for(d=0;d<i.length;d++)e=i[d],g[e]&&g[e].supplyLayoutDefaults(a,b,c)},k.purge=function(a){var b=a._fullLayout||{};void 0!==b._glcontainer&&b._glcontainer.remove(),void 0!==b._geocontainer&&b._geocontainer.remove(),b._modeBar&&b._modeBar.destroy(),delete a.data,delete a.layout,delete a._fullData,delete a._fullLayout,delete a.calcdata,delete a.framework,delete a.empty,delete a.fid,delete a.undoqueue,delete a.undonum,delete a.autoplay,delete a.changed,delete a._modules,delete a._tester,delete a._testref,delete a._promises,delete a._redrawTimer,delete a._replotting,delete a.firstscatter,delete a.hmlumcount,delete a.hmpixcount,delete a.numboxes,delete a._hoverTimer,delete a._lastHoverTime,a.removeAllListeners&&a.removeAllListeners()},k.style=function(a){for(var b=a._modules.concat(g.ErrorBars),c=0;c<b.length;c++){var d=b[c];d.style&&d.style(a)}},k.sanitizeMargins=function(a){if(a&&a.margin){var b,c=a.width,d=a.height,e=a.margin,f=c-(e.l+e.r),g=d-(e.t+e.b);0>f&&(b=(c-1)/(e.l+e.r),e.l=Math.floor(b*e.l),e.r=Math.floor(b*e.r)),0>g&&(b=(d-1)/(e.t+e.b),e.t=Math.floor(b*e.t),e.b=Math.floor(b*e.b))}},k.autoMargin=function(a,b,c){var d=a._fullLayout;if(d._pushmargin||(d._pushmargin={}),d.margin.autoexpand!==!1){if(c){var e=c.pad||12;c.l+c.r>.5*d.width&&(c.l=c.r=0),c.b+c.t>.5*d.height&&(c.b=c.t=0),d._pushmargin[b]={l:{val:c.x,size:c.l+e},r:{val:c.x,size:c.r+e},b:{val:c.y,size:c.b+e},t:{val:c.y,size:c.t+e}}}else delete d._pushmargin[b];a._replotting||k.doAutoMargin(a)}},k.doAutoMargin=function(a){var b=a._fullLayout;b._size||(b._size={}),b._pushmargin||(b._pushmargin={});var c=b._size,d=JSON.stringify(c),e=Math.max(b.margin.l||0,0),f=Math.max(b.margin.r||0,0),h=Math.max(b.margin.t||0,0),j=Math.max(b.margin.b||0,0),k=b._pushmargin;return b.margin.autoexpand!==!1&&(k.base={l:{val:0,size:e},r:{val:1,size:f},t:{val:1,size:h},b:{val:0,size:j}},Object.keys(k).forEach(function(a){var c=k[a].l||{},d=k[a].b||{},g=c.val,l=c.size,m=d.val,n=d.size;Object.keys(k).forEach(function(a){if(i(l)&&k[a].r){var c=k[a].r.val,d=k[a].r.size;if(c>g){var o=(l*c+(d-b.width)*g)/(c-g),p=(d*(1-g)+(l-b.width)*(1-c))/(c-g);o>=0&&p>=0&&o+p>e+f&&(e=o,f=p)}}if(i(n)&&k[a].t){var q=k[a].t.val,r=k[a].t.size;if(q>m){var s=(n*q+(r-b.height)*m)/(q-m),t=(r*(1-m)+(n-b.height)*(1-q))/(q-m);s>=0&&t>=0&&s+t>j+h&&(j=s,h=t)}}})})),c.l=Math.round(e),c.r=Math.round(f),c.t=Math.round(h),c.b=Math.round(j),c.p=Math.round(b.margin.pad),c.w=Math.round(b.width)-c.l-c.r,c.h=Math.round(b.height)-c.t-c.b,a._replotting||"{}"===d||d===JSON.stringify(b._size)?void 0:g.plot(a)},k.graphJson=function(a,b,c,d,e){function f(a){if("function"==typeof a)return null;if(j.isPlainObject(a)){var b,d,e={};for(b in a)if("function"!=typeof a[b]&&-1===["_","["].indexOf(b.charAt(0))){if("keepdata"===c){if("src"===b.substr(b.length-3))continue}else if("keepstream"===c){if(d=a[b+"src"],"string"==typeof d&&d.indexOf(":")>0&&!j.isPlainObject(a.stream))continue}else if("keepall"!==c&&(d=a[b+"src"],"string"==typeof d&&d.indexOf(":")>0))continue;e[b]=f(a[b])}return e}return Array.isArray(a)?a.map(f):a&&a.getTime?j.ms2DateTime(a):a}(e&&b&&!a._fullData||e&&!b&&!a._fullLayout)&&k.supplyDefaults(a);var g=e?a._fullData:a.data,h=e?a._fullLayout:a.layout,i={data:(g||[]).map(function(a){var c=f(a);return b&&delete c.fit,c})};return b||(i.layout=f(h)),a.framework&&a.framework.isPolar&&(i=a.framework.getConfig()),"object"===d?i:JSON.stringify(i)}},{"../lib":348,"../plotly":365,"./attributes":366,"./font_attributes":374,"./layout_attributes":403,d3:70,"fast-isnumeric":74}],405:[function(require,a,b){"use strict";var c=require("../../traces/scatter/attributes"),d=c.marker;a.exports={r:c.r,t:c.t,marker:{color:d.color,size:d.size,symbol:d.symbol,opacity:d.opacity}}},{"../../traces/scatter/attributes":493}],406:[function(require,a,b){"use strict";function c(a,b){var c={showline:{valType:"boolean"},showticklabels:{valType:"boolean"},tickorientation:{valType:"enumerated",values:["horizontal","vertical"]},ticklen:{valType:"number",min:0},tickcolor:{valType:"color"},ticksuffix:{valType:"string"},endpadding:{valType:"number"},visible:{valType:"boolean"}};return e({},b,c)}var d=require("../cartesian/layout_attributes"),e=require("../../lib/extend").extendFlat,f=e({},d.domain,{});a.exports={radialaxis:c("radial",{range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},domain:f,orientation:{valType:"number"}}),angularaxis:c("angular",{range:{valType:"info_array",items:[{valType:"number",dflt:0},{valType:"number",dflt:360}]},domain:f}),layout:{direction:{valType:"enumerated",values:["clockwise","counterclockwise"]},orientation:{valType:"angle"}}}},{"../../lib/extend":344,"../cartesian/layout_attributes":372}],407:[function(require,a,b){var c=require("../../plotly"),d=require("d3"),e=a.exports={version:"0.2.2",manager:require("./micropolar_manager")},f=c.Lib.extendDeepAll;e.Axis=function(){function a(a){c=a||c;var j=i.data,l=i.layout;return("string"==typeof c||c.nodeName)&&(c=d.select(c)),c.datum(j).each(function(a,c){function i(a,b){return h(a)%360+l.orientation}var j=a.slice();k={data:e.util.cloneJson(j),layout:e.util.cloneJson(l)};var m=0;j.forEach(function(a,b){a.color||(a.color=l.defaultColorRange[m],m=(m+1)%l.defaultColorRange.length),a.strokeColor||(a.strokeColor="LinePlot"===a.geometry?a.color:d.rgb(a.color).darker().toString()),k.data[b].color=a.color,k.data[b].strokeColor=a.strokeColor,k.data[b].strokeDash=a.strokeDash,k.data[b].strokeSize=a.strokeSize});var n=j.filter(function(a,b){var c=a.visible;return"undefined"==typeof c||c===!0}),o=!1,p=n.map(function(a,b){return o=o||"undefined"!=typeof a.groupId,a});if(o){var q=d.nest().key(function(a,b){return"undefined"!=typeof a.groupId?a.groupId:"unstacked"}).entries(p),r=[],s=q.map(function(a,b){if("unstacked"===a.key)return a.values;var c=a.values[0].r.map(function(a,b){return 0});return a.values.forEach(function(a,b,d){a.yStack=[c],r.push(c),c=e.util.sumArrays(a.r,c)}),a.values});n=d.merge(s)}n.forEach(function(a,b){a.t=Array.isArray(a.t[0])?a.t:[a.t],a.r=Array.isArray(a.r[0])?a.r:[a.r]});var t=Math.min(l.width-l.margin.left-l.margin.right,l.height-l.margin.top-l.margin.bottom)/2;t=Math.max(10,t);var u,v=[l.margin.left+t,l.margin.top+t];if(o){var w=d.max(e.util.sumArrays(e.util.arrayLast(n).r[0],e.util.arrayLast(r)));u=[0,w]}else u=d.extent(e.util.flattenArray(n.map(function(a,b){return a.r})));l.radialAxis.domain!=e.DATAEXTENT&&(u[0]=0),g=d.scale.linear().domain(l.radialAxis.domain!=e.DATAEXTENT&&l.radialAxis.domain?l.radialAxis.domain:u).range([0,t]),k.layout.radialAxis.domain=g.domain();var x,y=e.util.flattenArray(n.map(function(a,b){return a.t})),z="string"==typeof y[0];z&&(y=e.util.deduplicate(y),x=y.slice(),y=d.range(y.length),n=n.map(function(a,b){var c=a;return a.t=[y],o&&(c.yStack=a.yStack),c}));var A=n.filter(function(a,b){return"LinePlot"===a.geometry||"DotPlot"===a.geometry}).length===n.length,B=null===l.needsEndSpacing?z||!A:l.needsEndSpacing,C=l.angularAxis.domain&&l.angularAxis.domain!=e.DATAEXTENT&&!z&&l.angularAxis.domain[0]>=0,D=C?l.angularAxis.domain:d.extent(y),E=Math.abs(y[1]-y[0]);A&&!z&&(E=0);var F=D.slice();B&&z&&(F[1]+=E);var G=l.angularAxis.ticksCount||4;G>8&&(G=G/(G/8)+G%8),l.angularAxis.ticksStep&&(G=(F[1]-F[0])/G);var H=l.angularAxis.ticksStep||(F[1]-F[0])/(G*(l.minorTicks+1));x&&(H=Math.max(Math.round(H),1)),F[2]||(F[2]=H);var I=d.range.apply(this,F);if(I=I.map(function(a,b){return parseFloat(a.toPrecision(12))}),h=d.scale.linear().domain(F.slice(0,2)).range("clockwise"===l.direction?[0,360]:[360,0]),k.layout.angularAxis.domain=h.domain(),k.layout.angularAxis.endPadding=B?E:0,b=d.select(this).select("svg.chart-root"),"undefined"==typeof b||b.empty()){var J="<svg xmlns='http://www.w3.org/2000/svg' class='chart-root'>' + '<g class='outer-group'>' + '<g class='chart-group'>' + '<circle class='background-circle'></circle>' + '<g class='geometry-group'></g>' + '<g class='radial axis-group'>' + '<circle class='outside-circle'></circle>' + '</g>' + '<g class='angular axis-group'></g>' + '<g class='guides-group'><line></line><circle r='0'></circle></g>' + '</g>' + '<g class='legend-group'></g>' + '<g class='tooltips-group'></g>' + '<g class='title-group'><text></text></g>' + '</g>' + '</svg>",K=(new DOMParser).parseFromString(J,"application/xml"),L=this.appendChild(this.ownerDocument.importNode(K.documentElement,!0));b=d.select(L)}b.select(".guides-group").style({"pointer-events":"none"}),b.select(".angular.axis-group").style({"pointer-events":"none"}),b.select(".radial.axis-group").style({"pointer-events":"none"});var M,N=b.select(".chart-group"),O={fill:"none",stroke:l.tickColor},P={"font-size":l.font.size,"font-family":l.font.family,fill:l.font.color,"text-shadow":["-1px 0px","1px -1px","-1px 1px","1px 1px"].map(function(a,b){return" "+a+" 0 "+l.font.outlineColor}).join(",")};if(l.showLegend){M=b.select(".legend-group").attr({transform:"translate("+[t,l.margin.top]+")"}).style({display:"block"});var Q=n.map(function(a,b){var c=e.util.cloneJson(a);return c.symbol="DotPlot"===a.geometry?a.dotType||"circle":"LinePlot"!=a.geometry?"square":"line",c.visibleInLegend="undefined"==typeof a.visibleInLegend||a.visibleInLegend,c.color="LinePlot"===a.geometry?a.strokeColor:a.color,c});e.Legend().config({data:n.map(function(a,b){return a.name||"Element"+b}),legendConfig:f({},e.Legend.defaultConfig().legendConfig,{container:M,elements:Q,reverseOrder:l.legend.reverseOrder})})();var R=M.node().getBBox();t=Math.min(l.width-R.width-l.margin.left-l.margin.right,l.height-l.margin.top-l.margin.bottom)/2,t=Math.max(10,t),v=[l.margin.left+t,l.margin.top+t],g.range([0,t]),k.layout.radialAxis.domain=g.domain(),M.attr("transform","translate("+[v[0]+t,v[1]-t]+")")}else M=b.select(".legend-group").style({display:"none"});b.attr({width:l.width,height:l.height}).style({opacity:l.opacity}),N.attr("transform","translate("+v+")").style({cursor:"crosshair"});var S=[(l.width-(l.margin.left+l.margin.right+2*t+(R?R.width:0)))/2,(l.height-(l.margin.top+l.margin.bottom+2*t))/2];if(S[0]=Math.max(0,S[0]),S[1]=Math.max(0,S[1]),b.select(".outer-group").attr("transform","translate("+S+")"),l.title){var T=b.select("g.title-group text").style(P).text(l.title),U=T.node().getBBox();T.attr({x:v[0]-U.width/2,y:v[1]-t-20})}var V=b.select(".radial.axis-group");if(l.radialAxis.gridLinesVisible){var W=V.selectAll("circle.grid-circle").data(g.ticks(5));W.enter().append("circle").attr({"class":"grid-circle"}).style(O),W.attr("r",g),W.exit().remove()}V.select("circle.outside-circle").attr({r:t}).style(O);var X=b.select("circle.background-circle").attr({r:t}).style({fill:l.backgroundColor,stroke:l.stroke});if(l.radialAxis.visible){var Y=d.svg.axis().scale(g).ticks(5).tickSize(5);V.call(Y).attr({transform:"rotate("+l.radialAxis.orientation+")"}),V.selectAll(".domain").style(O),V.selectAll("g>text").text(function(a,b){return this.textContent+l.radialAxis.ticksSuffix}).style(P).style({"text-anchor":"start"}).attr({x:0,y:0,dx:0,dy:0,transform:function(a,b){return"horizontal"===l.radialAxis.tickOrientation?"rotate("+-l.radialAxis.orientation+") translate("+[0,P["font-size"]]+")":"translate("+[0,P["font-size"]]+")"}}),V.selectAll("g>line").style({stroke:"black"})}var Z=b.select(".angular.axis-group").selectAll("g.angular-tick").data(I),$=Z.enter().append("g").classed("angular-tick",!0);Z.attr({transform:function(a,b){return"rotate("+i(a,b)+")"}}).style({display:l.angularAxis.visible?"block":"none"}),Z.exit().remove(),$.append("line").classed("grid-line",!0).classed("major",function(a,b){return b%(l.minorTicks+1)==0}).classed("minor",function(a,b){return!(b%(l.minorTicks+1)==0)}).style(O),$.selectAll(".minor").style({stroke:l.minorTickColor}),Z.select("line.grid-line").attr({x1:l.tickLength?t-l.tickLength:0,x2:t}).style({display:l.angularAxis.gridLinesVisible?"block":"none"}),$.append("text").classed("axis-text",!0).style(P);var _=Z.select("text.axis-text").attr({x:t+l.labelOffset,dy:".35em",transform:function(a,b){var c=i(a,b),d=t+l.labelOffset,e=l.angularAxis.tickOrientation;return"horizontal"==e?"rotate("+-c+" "+d+" 0)":"radial"==e?270>c&&c>90?"rotate(180 "+d+" 0)":null:"rotate("+(180>=c&&c>0?-90:90)+" "+d+" 0)"}}).style({"text-anchor":"middle",display:l.angularAxis.labelsVisible?"block":"none"}).text(function(a,b){return b%(l.minorTicks+1)!=0?"":x?x[a]+l.angularAxis.ticksSuffix:a+l.angularAxis.ticksSuffix}).style(P);l.angularAxis.rewriteTicks&&_.text(function(a,b){return b%(l.minorTicks+1)!=0?"":l.angularAxis.rewriteTicks(this.textContent,b)});var aa=d.max(N.selectAll(".angular-tick text")[0].map(function(a,b){return a.getCTM().e+a.getBBox().width}));M.attr({transform:"translate("+[t+aa,l.margin.top]+")"});var ba=b.select("g.geometry-group").selectAll("g").size()>0,ca=b.select("g.geometry-group").selectAll("g.geometry").data(n);if(ca.enter().append("g").attr({"class":function(a,b){return"geometry geometry"+b}}),ca.exit().remove(),n[0]||ba){var da=[];n.forEach(function(a,b){var c={};c.radialScale=g,c.angularScale=h,c.container=ca.filter(function(a,c){return c==b}),c.geometry=a.geometry,c.orientation=l.orientation,c.direction=l.direction,c.index=b,da.push({data:a,geometryConfig:c})});var ea=d.nest().key(function(a,b){return"undefined"!=typeof a.data.groupId||"unstacked"}).entries(da),fa=[];ea.forEach(function(a,b){"unstacked"===a.key?fa=fa.concat(a.values.map(function(a,b){return[a]})):fa.push(a.values)}),fa.forEach(function(a,b){var c;c=Array.isArray(a)?a[0].geometryConfig.geometry:a.geometryConfig.geometry;var d=a.map(function(a,b){return f(e[c].defaultConfig(),a)});e[c]().config(d)()})}var ga,ha,ia=b.select(".guides-group"),ja=b.select(".tooltips-group"),ka=e.tooltipPanel().config({container:ja,fontSize:8})(),la=e.tooltipPanel().config({container:ja,fontSize:8})(),ma=e.tooltipPanel().config({container:ja,hasTick:!0})();if(!z){var na=ia.select("line").attr({x1:0,y1:0,y2:0}).style({stroke:"grey","pointer-events":"none"});N.on("mousemove.angular-guide",function(a,b){var c=e.util.getMousePos(X).angle;na.attr({x2:-t,transform:"rotate("+c+")"}).style({opacity:.5});var d=(c+180+360-l.orientation)%360;ga=h.invert(d);var f=e.util.convertToCartesian(t+12,c+180);ka.text(e.util.round(ga)).move([f[0]+v[0],f[1]+v[1]])}).on("mouseout.angular-guide",function(a,b){ia.select("line").style({opacity:0})})}var oa=ia.select("circle").style({stroke:"grey",fill:"none"});N.on("mousemove.radial-guide",function(a,b){var c=e.util.getMousePos(X).radius;oa.attr({r:c}).style({opacity:.5}),ha=g.invert(e.util.getMousePos(X).radius);var d=e.util.convertToCartesian(c,l.radialAxis.orientation);la.text(e.util.round(ha)).move([d[0]+v[0],d[1]+v[1]])}).on("mouseout.radial-guide",function(a,b){oa.style({opacity:0}),ma.hide(),ka.hide(),la.hide()}),b.selectAll(".geometry-group .mark").on("mouseover.tooltip",function(a,c){var f=d.select(this),g=f.style("fill"),h="black",i=f.style("opacity")||1;if(f.attr({"data-opacity":i}),"none"!=g){f.attr({"data-fill":g}),h=d.hsl(g).darker().toString(),f.style({fill:h,opacity:1});var j={t:e.util.round(a[0]),r:e.util.round(a[1])};z&&(j.t=x[a[0]]);var k="t: "+j.t+", r: "+j.r,l=this.getBoundingClientRect(),m=b.node().getBoundingClientRect(),n=[l.left+l.width/2-S[0]-m.left,l.top+l.height/2-S[1]-m.top];ma.config({color:h}).text(k),ma.move(n)}else g=f.style("stroke"),f.attr({"data-stroke":g}),h=d.hsl(g).darker().toString(),f.style({stroke:h,opacity:1})}).on("mousemove.tooltip",function(a,b){return 0!=d.event.which?!1:void(d.select(this).attr("data-fill")&&ma.show())}).on("mouseout.tooltip",function(a,b){ma.hide();var c=d.select(this),e=c.attr("data-fill");e?c.style({fill:e,opacity:c.attr("data-opacity")}):c.style({stroke:c.attr("data-stroke"),opacity:c.attr("data-opacity")})})}),m}var b,c,g,h,i={data:[],layout:{}},j={},k={},l=d.dispatch("hover"),m={};return m.render=function(b){return a(b),this},m.config=function(a){if(!arguments.length)return i;var b=e.util.cloneJson(a);return b.data.forEach(function(a,b){i.data[b]||(i.data[b]={}),f(i.data[b],e.Axis.defaultConfig().data[0]),f(i.data[b],a)}),f(i.layout,e.Axis.defaultConfig().layout),f(i.layout,b.layout),this},m.getLiveConfig=function(){return k},m.getinputConfig=function(){return j},m.radialScale=function(a){return g},m.angularScale=function(a){return h},m.svg=function(){return b},d.rebind(m,l,"on"),m},e.Axis.defaultConfig=function(a,b){var c={data:[{t:[1,2,3,4],r:[10,11,12,13],name:"Line1",geometry:"LinePlot",color:null,strokeDash:"solid",strokeColor:null,strokeSize:"1",visibleInLegend:!0,opacity:1}],layout:{defaultColorRange:d.scale.category10().range(),title:null,height:450,width:500,margin:{top:40,right:40,bottom:40,left:40},font:{size:12,color:"gray",outlineColor:"white",family:"Tahoma, sans-serif"},direction:"clockwise",orientation:0,labelOffset:10,radialAxis:{domain:null,orientation:-45,ticksSuffix:"",visible:!0,gridLinesVisible:!0,tickOrientation:"horizontal",
rewriteTicks:null},angularAxis:{domain:[0,360],ticksSuffix:"",visible:!0,gridLinesVisible:!0,labelsVisible:!0,tickOrientation:"horizontal",rewriteTicks:null,ticksCount:null,ticksStep:null},minorTicks:0,tickLength:null,tickColor:"silver",minorTickColor:"#eee",backgroundColor:"none",needsEndSpacing:null,showLegend:!0,legend:{reverseOrder:!1},opacity:1}};return c},e.util={},e.DATAEXTENT="dataExtent",e.AREA="AreaChart",e.LINE="LinePlot",e.DOT="DotPlot",e.BAR="BarChart",e.util._override=function(a,b){for(var c in a)c in b&&(b[c]=a[c])},e.util._extend=function(a,b){for(var c in a)b[c]=a[c]},e.util._rndSnd=function(){return 2*Math.random()-1+(2*Math.random()-1)+(2*Math.random()-1)},e.util.dataFromEquation2=function(a,b){var c=b||6,e=d.range(0,360+c,c).map(function(b,c){var d=b*Math.PI/180,e=a(d);return[b,e]});return e},e.util.dataFromEquation=function(a,b,c){var e=b||6,f=[],g=[];d.range(0,360+e,e).forEach(function(b,c){var d=b*Math.PI/180,e=a(d);f.push(b),g.push(e)});var h={t:f,r:g};return c&&(h.name=c),h},e.util.ensureArray=function(a,b){if("undefined"==typeof a)return null;var c=[].concat(a);return d.range(b).map(function(a,b){return c[b]||c[0]})},e.util.fillArrays=function(a,b,c){return b.forEach(function(b,d){a[b]=e.util.ensureArray(a[b],c)}),a},e.util.cloneJson=function(a){return JSON.parse(JSON.stringify(a))},e.util.validateKeys=function(a,b){"string"==typeof b&&(b=b.split("."));var c=b.shift();return a[c]&&(!b.length||objHasKeys(a[c],b))},e.util.sumArrays=function(a,b){return d.zip(a,b).map(function(a,b){return d.sum(a)})},e.util.arrayLast=function(a){return a[a.length-1]},e.util.arrayEqual=function(a,b){for(var c=Math.max(a.length,b.length,1);c-- >=0&&a[c]===b[c];);return-2===c},e.util.flattenArray=function(a){for(var b=[];!e.util.arrayEqual(b,a);)b=a,a=[].concat.apply([],a);return a},e.util.deduplicate=function(a){return a.filter(function(a,b,c){return c.indexOf(a)==b})},e.util.convertToCartesian=function(a,b){var c=b*Math.PI/180,d=a*Math.cos(c),e=a*Math.sin(c);return[d,e]},e.util.round=function(a,b){var c=b||2,d=Math.pow(10,c);return Math.round(a*d)/d},e.util.getMousePos=function(a){var b=d.mouse(a.node()),c=b[0],e=b[1],f={};return f.x=c,f.y=e,f.pos=b,f.angle=180*(Math.atan2(e,c)+Math.PI)/Math.PI,f.radius=Math.sqrt(c*c+e*e),f},e.util.duplicatesCount=function(a){for(var b,c={},d={},e=0,f=a.length;f>e;e++)b=a[e],b in c?(c[b]++,d[b]=c[b]):c[b]=1;return d},e.util.duplicates=function(a){return Object.keys(e.util.duplicatesCount(a))},e.util.translator=function(a,b,c,d){if(d){var e=c.slice();c=b,b=e}var f=b.reduce(function(a,b){return"undefined"!=typeof a?a[b]:void 0},a);"undefined"!=typeof f&&(b.reduce(function(a,c,d){return"undefined"!=typeof a?(d===b.length-1&&delete a[c],a[c]):void 0},a),c.reduce(function(a,b,d){return"undefined"==typeof a[b]&&(a[b]={}),d===c.length-1&&(a[b]=f),a[b]},a))},e.PolyChart=function(){function a(){var a=c[0].geometryConfig,b=a.container;"string"==typeof b&&(b=d.select(b)),b.datum(c).each(function(b,c){function e(b,c){var d=a.radialScale(b[1]),e=(a.angularScale(b[0])+a.orientation)*Math.PI/180;return{r:d,t:e}}function f(a){var b=a.r*Math.cos(a.t),c=a.r*Math.sin(a.t);return{x:b,y:c}}var g=!!b[0].data.yStack,i=b.map(function(a,b){return g?d.zip(a.data.t[0],a.data.r[0],a.data.yStack[0]):d.zip(a.data.t[0],a.data.r[0])}),j=a.angularScale,k=a.radialScale.domain()[0],l={};l.bar=function(c,e,f){var g=b[f].data,h=a.radialScale(c[1])-a.radialScale(0),i=a.radialScale(c[2]||0),k=g.barWidth;d.select(this).attr({"class":"mark bar",d:"M"+[[h+i,-k/2],[h+i,k/2],[i,k/2],[i,-k/2]].join("L")+"Z",transform:function(b,c){return"rotate("+(a.orientation+j(b[0]))+")"}})},l.dot=function(a,c,g){var h=a[2]?[a[0],a[1]+a[2]]:a,i=d.svg.symbol().size(b[g].data.dotSize).type(b[g].data.dotType)(a,c);d.select(this).attr({"class":"mark dot",d:i,transform:function(a,b){var c=f(e(h));return"translate("+[c.x,c.y]+")"}})};var m=d.svg.line.radial().interpolate(b[0].data.lineInterpolation).radius(function(b){return a.radialScale(b[1])}).angle(function(b){return a.angularScale(b[0])*Math.PI/180});l.line=function(c,e,f){var g=c[2]?i[f].map(function(a,b){return[a[0],a[1]+a[2]]}):i[f];if(d.select(this).each(l.dot).style({opacity:function(a,c){return+b[f].data.dotVisible},fill:q.stroke(c,e,f)}).attr({"class":"mark dot"}),!(e>0)){var h=d.select(this.parentNode).selectAll("path.line").data([0]);h.enter().insert("path"),h.attr({"class":"line",d:m(g),transform:function(b,c){return"rotate("+(a.orientation+90)+")"},"pointer-events":"none"}).style({fill:function(a,b){return q.fill(c,e,f)},"fill-opacity":0,stroke:function(a,b){return q.stroke(c,e,f)},"stroke-width":function(a,b){return q["stroke-width"](c,e,f)},"stroke-dasharray":function(a,b){return q["stroke-dasharray"](c,e,f)},opacity:function(a,b){return q.opacity(c,e,f)},display:function(a,b){return q.display(c,e,f)}})}};var n=a.angularScale.range(),o=Math.abs(n[1]-n[0])/i[0].length*Math.PI/180,p=d.svg.arc().startAngle(function(a){return-o/2}).endAngle(function(a){return o/2}).innerRadius(function(b){return a.radialScale(k+(b[2]||0))}).outerRadius(function(b){return a.radialScale(k+(b[2]||0))+a.radialScale(b[1])});l.arc=function(b,c,e){d.select(this).attr({"class":"mark arc",d:p,transform:function(b,c){return"rotate("+(a.orientation+j(b[0])+90)+")"}})};var q={fill:function(a,c,d){return b[d].data.color},stroke:function(a,c,d){return b[d].data.strokeColor},"stroke-width":function(a,c,d){return b[d].data.strokeSize+"px"},"stroke-dasharray":function(a,c,d){return h[b[d].data.strokeDash]},opacity:function(a,c,d){return b[d].data.opacity},display:function(a,c,d){return"undefined"==typeof b[d].data.visible||b[d].data.visible?"block":"none"}},r=d.select(this).selectAll("g.layer").data(i);r.enter().append("g").attr({"class":"layer"});var s=r.selectAll("path.mark").data(function(a,b){return a});s.enter().append("path").attr({"class":"mark"}),s.style(q).each(l[a.geometryType]),s.exit().remove(),r.exit().remove()})}var b,c=[e.PolyChart.defaultConfig()],g=d.dispatch("hover"),h={solid:"none",dash:[5,2],dot:[2,5]};return a.config=function(a){return arguments.length?(a.forEach(function(a,b){c[b]||(c[b]={}),f(c[b],e.PolyChart.defaultConfig()),f(c[b],a)}),this):c},a.getColorScale=function(){return b},d.rebind(a,g,"on"),a},e.PolyChart.defaultConfig=function(){var a={data:{name:"geom1",t:[[1,2,3,4]],r:[[1,2,3,4]],dotType:"circle",dotSize:64,dotVisible:!1,barWidth:20,color:"#ffa500",strokeSize:1,strokeColor:"silver",strokeDash:"solid",opacity:1,index:0,visible:!0,visibleInLegend:!0},geometryConfig:{geometry:"LinePlot",geometryType:"arc",direction:"clockwise",orientation:0,container:"body",radialScale:null,angularScale:null,colorScale:d.scale.category20()}};return a},e.BarChart=function(){return e.PolyChart()},e.BarChart.defaultConfig=function(){var a={geometryConfig:{geometryType:"bar"}};return a},e.AreaChart=function(){return e.PolyChart()},e.AreaChart.defaultConfig=function(){var a={geometryConfig:{geometryType:"arc"}};return a},e.DotPlot=function(){return e.PolyChart()},e.DotPlot.defaultConfig=function(){var a={geometryConfig:{geometryType:"dot",dotType:"circle"}};return a},e.LinePlot=function(){return e.PolyChart()},e.LinePlot.defaultConfig=function(){var a={geometryConfig:{geometryType:"line"}};return a},e.Legend=function(){function a(){var c=b.legendConfig,e=b.data.map(function(a,b){return[].concat(a).map(function(a,d){var e=f({},c.elements[b]);return e.name=a,e.color=[].concat(c.elements[b].color)[d],e})}),g=d.merge(e);g=g.filter(function(a,b){return c.elements[b]&&(c.elements[b].visibleInLegend||"undefined"==typeof c.elements[b].visibleInLegend)}),c.reverseOrder&&(g=g.reverse());var h=c.container;("string"==typeof h||h.nodeName)&&(h=d.select(h));var i=g.map(function(a,b){return a.color}),j=c.fontSize,k=null==c.isContinuous?"number"==typeof g[0]:c.isContinuous,l=k?c.height:j*g.length,m=h.classed("legend-group",!0),n=m.selectAll("svg").data([0]),o=n.enter().append("svg").attr({width:300,height:l+j,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"});o.append("g").classed("legend-axis",!0),o.append("g").classed("legend-marks",!0);var p=d.range(g.length),q=d.scale[k?"linear":"ordinal"]().domain(p).range(i),r=d.scale[k?"linear":"ordinal"]().domain(p)[k?"range":"rangePoints"]([0,l]),s=function(a,b){var c=3*b;return"line"===a?"M"+[[-b/2,-b/12],[b/2,-b/12],[b/2,b/12],[-b/2,b/12]]+"Z":-1!=d.svg.symbolTypes.indexOf(a)?d.svg.symbol().type(a).size(c)():d.svg.symbol().type("square").size(c)()};if(k){var t=n.select(".legend-marks").append("defs").append("linearGradient").attr({id:"grad1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}).selectAll("stop").data(i);t.enter().append("stop"),t.attr({offset:function(a,b){return b/(i.length-1)*100+"%"}}).style({"stop-color":function(a,b){return a}}),n.append("rect").classed("legend-mark",!0).attr({height:c.height,width:c.colorBandWidth,fill:"url(#grad1)"})}else{var u=n.select(".legend-marks").selectAll("path.legend-mark").data(g);u.enter().append("path").classed("legend-mark",!0),u.attr({transform:function(a,b){return"translate("+[j/2,r(b)+j/2]+")"},d:function(a,b){var c=a.symbol;return s(c,j)},fill:function(a,b){return q(b)}}),u.exit().remove()}var v=d.svg.axis().scale(r).orient("right"),w=n.select("g.legend-axis").attr({transform:"translate("+[k?c.colorBandWidth:j,j/2]+")"}).call(v);return w.selectAll(".domain").style({fill:"none",stroke:"none"}),w.selectAll("line").style({fill:"none",stroke:k?c.textColor:"none"}),w.selectAll("text").style({fill:c.textColor,"font-size":c.fontSize}).text(function(a,b){return g[b].name}),a}var b=e.Legend.defaultConfig(),c=d.dispatch("hover");return a.config=function(a){return arguments.length?(f(b,a),this):b},d.rebind(a,c,"on"),a},e.Legend.defaultConfig=function(a,b){var c={data:["a","b","c"],legendConfig:{elements:[{symbol:"line",color:"red"},{symbol:"square",color:"yellow"},{symbol:"diamond",color:"limegreen"}],height:150,colorBandWidth:30,fontSize:12,container:"body",isContinuous:null,textColor:"grey",reverseOrder:!1}};return c},e.tooltipPanel=function(){var a,b,c,g={container:null,hasTick:!1,fontSize:12,color:"white",padding:5},h="tooltip-"+e.tooltipPanel.uid++,i=10,j=function(){a=g.container.selectAll("g."+h).data([0]);var d=a.enter().append("g").classed(h,!0).style({"pointer-events":"none",display:"none"});return c=d.append("path").style({fill:"white","fill-opacity":.9}).attr({d:"M0 0"}),b=d.append("text").attr({dx:g.padding+i,dy:.3*+g.fontSize}),j};return j.text=function(e){var f=d.hsl(g.color).l,h=f>=.5?"#aaa":"white",k=f>=.5?"black":"white",l=e||"";b.style({fill:k,"font-size":g.fontSize+"px"}).text(l);var m=g.padding,n=b.node().getBBox(),o={fill:g.color,stroke:h,"stroke-width":"2px"},p=n.width+2*m+i,q=n.height+2*m;return c.attr({d:"M"+[[i,-q/2],[i,-q/4],[g.hasTick?0:i,0],[i,q/4],[i,q/2],[p,q/2],[p,-q/2]].join("L")+"Z"}).style(o),a.attr({transform:"translate("+[i,-q/2+2*m]+")"}),a.style({display:"block"}),j},j.move=function(b){return a?(a.attr({transform:"translate("+[b[0],b[1]]+")"}).style({display:"block"}),j):void 0},j.hide=function(){return a?(a.style({display:"none"}),j):void 0},j.show=function(){return a?(a.style({display:"block"}),j):void 0},j.config=function(a){return f(g,a),j},j},e.tooltipPanel.uid=1,e.adapter={},e.adapter.plotly=function(){var a={};return a.convert=function(a,b){var c={};if(a.data&&(c.data=a.data.map(function(a,c){var d=f({},a),g=[[d,["marker","color"],["color"]],[d,["marker","opacity"],["opacity"]],[d,["marker","line","color"],["strokeColor"]],[d,["marker","line","dash"],["strokeDash"]],[d,["marker","line","width"],["strokeSize"]],[d,["marker","symbol"],["dotType"]],[d,["marker","size"],["dotSize"]],[d,["marker","barWidth"],["barWidth"]],[d,["line","interpolation"],["lineInterpolation"]],[d,["showlegend"],["visibleInLegend"]]];return g.forEach(function(a,c){e.util.translator.apply(null,a.concat(b))}),b||delete d.marker,b&&delete d.groupId,b?("LinePlot"===d.geometry?(d.type="scatter",d.dotVisible===!0?(delete d.dotVisible,d.mode="lines+markers"):d.mode="lines"):"DotPlot"===d.geometry?(d.type="scatter",d.mode="markers"):"AreaChart"===d.geometry?d.type="area":"BarChart"===d.geometry&&(d.type="bar"),delete d.geometry):("scatter"===d.type?"lines"===d.mode?d.geometry="LinePlot":"markers"===d.mode?d.geometry="DotPlot":"lines+markers"===d.mode&&(d.geometry="LinePlot",d.dotVisible=!0):"area"===d.type?d.geometry="AreaChart":"bar"===d.type&&(d.geometry="BarChart"),delete d.mode,delete d.type),d}),!b&&a.layout&&"stack"===a.layout.barmode)){var g=e.util.duplicates(c.data.map(function(a,b){return a.geometry}));c.data.forEach(function(a,b){var d=g.indexOf(a.geometry);-1!=d&&(c.data[b].groupId=d)})}if(a.layout){var h=f({},a.layout),i=[[h,["plot_bgcolor"],["backgroundColor"]],[h,["showlegend"],["showLegend"]],[h,["radialaxis"],["radialAxis"]],[h,["angularaxis"],["angularAxis"]],[h.angularaxis,["showline"],["gridLinesVisible"]],[h.angularaxis,["showticklabels"],["labelsVisible"]],[h.angularaxis,["nticks"],["ticksCount"]],[h.angularaxis,["tickorientation"],["tickOrientation"]],[h.angularaxis,["ticksuffix"],["ticksSuffix"]],[h.angularaxis,["range"],["domain"]],[h.angularaxis,["endpadding"],["endPadding"]],[h.radialaxis,["showline"],["gridLinesVisible"]],[h.radialaxis,["tickorientation"],["tickOrientation"]],[h.radialaxis,["ticksuffix"],["ticksSuffix"]],[h.radialaxis,["range"],["domain"]],[h.angularAxis,["showline"],["gridLinesVisible"]],[h.angularAxis,["showticklabels"],["labelsVisible"]],[h.angularAxis,["nticks"],["ticksCount"]],[h.angularAxis,["tickorientation"],["tickOrientation"]],[h.angularAxis,["ticksuffix"],["ticksSuffix"]],[h.angularAxis,["range"],["domain"]],[h.angularAxis,["endpadding"],["endPadding"]],[h.radialAxis,["showline"],["gridLinesVisible"]],[h.radialAxis,["tickorientation"],["tickOrientation"]],[h.radialAxis,["ticksuffix"],["ticksSuffix"]],[h.radialAxis,["range"],["domain"]],[h.font,["outlinecolor"],["outlineColor"]],[h.legend,["traceorder"],["reverseOrder"]],[h,["labeloffset"],["labelOffset"]],[h,["defaultcolorrange"],["defaultColorRange"]]];if(i.forEach(function(a,c){e.util.translator.apply(null,a.concat(b))}),b?("undefined"!=typeof h.tickLength&&(h.angularaxis.ticklen=h.tickLength,delete h.tickLength),h.tickColor&&(h.angularaxis.tickcolor=h.tickColor,delete h.tickColor)):(h.angularAxis&&"undefined"!=typeof h.angularAxis.ticklen&&(h.tickLength=h.angularAxis.ticklen),h.angularAxis&&"undefined"!=typeof h.angularAxis.tickcolor&&(h.tickColor=h.angularAxis.tickcolor)),h.legend&&"boolean"!=typeof h.legend.reverseOrder&&(h.legend.reverseOrder="normal"!=h.legend.reverseOrder),h.legend&&"boolean"==typeof h.legend.traceorder&&(h.legend.traceorder=h.legend.traceorder?"reversed":"normal",delete h.legend.reverseOrder),h.margin&&"undefined"!=typeof h.margin.t){var j=["t","r","b","l","pad"],k=["top","right","bottom","left","pad"],l={};d.entries(h.margin).forEach(function(a,b){l[k[j.indexOf(a.key)]]=a.value}),h.margin=l}b&&(delete h.needsEndSpacing,delete h.minorTickColor,delete h.minorTicks,delete h.angularaxis.ticksCount,delete h.angularaxis.ticksCount,delete h.angularaxis.ticksStep,delete h.angularaxis.rewriteTicks,delete h.angularaxis.nticks,delete h.radialaxis.ticksCount,delete h.radialaxis.ticksCount,delete h.radialaxis.ticksStep,delete h.radialaxis.rewriteTicks,delete h.radialaxis.nticks),c.layout=h}return c},a}},{"../../plotly":365,"./micropolar_manager":408,d3:70}],408:[function(require,a,b){"use strict";var c=require("../../plotly"),d=require("d3"),e=require("./undo_manager"),f=a.exports={},g=c.Lib.extendDeepAll;f.framework=function(a){function b(b,e){return e&&(l=e),d.select(d.select(l).node().parentNode).selectAll(".svg-container>*:not(.chart-root)").remove(),h=h?g(h,b):b,j||(j=c.micropolar.Axis()),k=c.micropolar.adapter.plotly().convert(h),j.config(k).render(l),a.data=h.data,a.layout=h.layout,f.fillLayout(a),h}var h,i,j,k,l,m=new e;return b.isPolar=!0,b.svg=function(){return j.svg()},b.getConfig=function(){return h},b.getLiveConfig=function(){return c.micropolar.adapter.plotly().convert(j.getLiveConfig(),!0)},b.getLiveScales=function(){return{t:j.angularScale(),r:j.radialScale()}},b.setUndoPoint=function(){var a=this,b=c.micropolar.util.cloneJson(h);!function(b,c){m.add({undo:function(){c&&a(c)},redo:function(){a(b)}})}(b,i),i=c.micropolar.util.cloneJson(b)},b.undo=function(){m.undo()},b.redo=function(){m.redo()},b},f.fillLayout=function(a){var b=d.select(a).selectAll(".plot-container"),e=b.selectAll(".svg-container"),f=a.framework&&a.framework.svg&&a.framework.svg(),h={width:800,height:600,paper_bgcolor:c.Color.background,_container:b,_paperdiv:e,_paper:f};a._fullLayout=g(h,a.layout)}},{"../../plotly":365,"./undo_manager":409,d3:70}],409:[function(require,a,b){"use strict";a.exports=function(){function a(a,b){return a?(e=!0,a[b](),e=!1,this):this}var b,c=[],d=-1,e=!1;return{add:function(a){return e?this:(c.splice(d+1,c.length-d),c.push(a),d=c.length-1,this)},setCallback:function(a){b=a},undo:function(){var e=c[d];return e?(a(e,"undo"),d-=1,b&&b(e.undo),this):this},redo:function(){var e=c[d+1];return e?(a(e,"redo"),d+=1,b&&b(e.redo),this):this},clear:function(){c=[],d=-1},hasUndo:function(){return-1!==d},hasRedo:function(){return d<c.length-1},getCommands:function(){return c},getPreviousCommand:function(){return c[d-1]},getIndex:function(){return d}}}},{}],410:[function(require,a,b){"use strict";function c(a){var b;switch(a){case"themes__thumb":b={autosize:!0,width:150,height:150,title:"",showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":b={title:"",hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:b={}}return b}function d(a){var b=["xaxis","yaxis","zaxis"];return b.indexOf(a.slice(0,5))>-1}var e=require("../plotly"),f=e.Lib.extendFlat,g=e.Lib.extendDeep;a.exports=function(a,b){a.framework&&a.framework.isPolar&&(a=a.framework.getConfig());var h,i=a.data,j=a.layout,k=g([],i),l=g({},j,c(b.tileClass));if(b.width&&(l.width=b.width),b.height&&(l.height=b.height),"thumbnail"===b.tileClass||"themes__thumb"===b.tileClass){l.annotations=[];var m=Object.keys(l);for(h=0;h<m.length;h++)d(m[h])&&(l[m[h]].title="");for(h=0;h<k.length;h++){var n=k[h];n.showscale=!1,n.marker&&(n.marker.showscale=!1),"pie"===n.type&&(n.textposition="none")}}if(Array.isArray(b.annotations))for(h=0;h<b.annotations.length;h++)l.annotations.push(b.annotations[h]);var o=e.Plots.getSubplotIds(l,"gl3d");if(o.length){var p={};for("thumbnail"===b.tileClass&&(p={title:"",showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),h=0;h<o.length;h++){var q=o[h];f(l[q].xaxis,p),f(l[q].yaxis,p),f(l[q].zaxis,p),l[q]._scene=null}}var r=document.createElement("div");b.tileClass&&(r.className=b.tileClass);var s={td:r,layout:l,data:k,config:{staticPlot:void 0===b.staticPlot?!0:b.staticPlot,plotGlPixelRatio:void 0===b.plotGlPixelRatio?2:b.plotGlPixelRatio,displaylogo:b.displaylogo||!1,showLink:b.showLink||!1,showTips:b.showTips||!1}};return"transparent"!==b.setBackground&&(s.config.setBackground=b.setBackground||"opaque"),s.td.defaultLayout=c(b.tileClass),s}},{"../plotly":365}],411:[function(require,a,b){"use strict";function c(a){return a._hasGL3D||a._hasGL2D?500:0}function d(a){return function(){var b=a._fullLayout;b._hasGL3D||b._hasGL2D||a.data&&a.data[0]&&a.data[0].r||(e.Annotations.drawAll(a),e.Legend.draw(a,b.showlegend),(a.calcdata||[]).forEach(function(a){a[0]&&a[0].t&&a[0].t.cb&&a[0].t.cb()}))}}var e=require("../plotly"),f={getDelay:c,getRedrawFunc:d,clone:require("./cloneplot"),toSVG:require("./tosvg"),svgToImg:require("./svgtoimg"),toImage:require("./toimage")};a.exports=f},{"../plotly":365,"./cloneplot":410,"./svgtoimg":412,"./toimage":413,"./tosvg":414}],412:[function(require,a,b){"use strict";function c(a){var b=a.emitter?a.emitter:new d,c=window.Image,e=window.Blob,f=a.svg,g=a.format||"png",h=a.canvas,i=h.getContext("2d"),j=new c,k=window.URL||window.webkitURL,l=new e([f],{type:"image/svg+xml;charset=utf-8"}),m=k.createObjectURL(l);return h.height=a.height||150,h.width=a.width||300,j.onload=function(){var a;switch(k.revokeObjectURL(m),i.drawImage(j,0,0),g){case"jpeg":a=h.toDataURL("image/jpeg");break;case"png":a=h.toDataURL("image/png");break;case"webp":a=h.toDataURL("image/webp");break;case"svg":a=f;break;default:return b.emit("error","Image format is not jpeg, png or svg")}b.emit("success",a)},j.onerror=function(a){return k.revokeObjectURL(m),b.emit("error",a)},j.src=m,b}var d=require("events").EventEmitter;a.exports=c},{events:54}],413:[function(require,a,b){"use strict";function c(a,b){function c(){var a=f.getDelay(i._fullLayout);setTimeout(function(){var a=e.Snapshot.toSVG(i),c=window.document.createElement("div"),d=window.document.createElement("canvas");c.appendChild(d),c.id=e.Lib.randstr(),d.id=e.Lib.randstr(),g=e.Snapshot.svgToImg({format:b.format,width:i._fullLayout.width,height:i._fullLayout.height,canvas:d,emitter:g,svg:a}),g.clean=function(){i&&i.remove()}},a)}var f=e.Snapshot,g=new d,h=f.clone(a,{format:"png"}),i=h.td;i.style.position="absolute",i.style.left="-5000px",document.body.appendChild(i);var j=f.getRedrawFunc(i);return e.plot(i,h.data,h.layout,h.config).then(j).then(c)["catch"](function(a){g.emit("error",a)}),g}var d=require("events").EventEmitter,e=require("../plotly");a.exports=c},{"../plotly":365,events:54}],414:[function(require,a,b){"use strict";function c(a,b,c){var d=b.toImage("png");a._glimages.append("svg:image").attr({xmlns:f.svg,"xlink:href":d,x:c.x,y:c.y,width:c.width,height:c.height,preserveAspectRatio:"none"}),b.destroy()}var d=require("../plotly"),e=require("d3"),f=require("../constants/xmlns_namespaces");a.exports=function(a,b){var g,h,i=a._fullLayout,j=i._paper,k=i._size;j.insert("rect",":first-child").call(d.Drawing.setRect,0,0,i.width,i.height).call(d.Color.fill,i.paper_bgcolor);var l,m=d.Plots.getSubplotIds(i,"gl3d");for(h=0;h<m.length;h++)l=i[m[h]],g=l.domain,c(i,l._scene,{x:k.l+k.w*g.x[0],y:k.t+k.h*(1-g.y[1]),width:k.w*(g.x[1]-g.x[0]),height:k.h*(g.y[1]-g.y[0])});var n,o=d.Plots.getSubplotIds(i,"gl2d");for(h=0;h<o.length;h++)n=i._plots[o[h]],c(i,n._scene2d,{x:k.l,y:k.t,width:k.w,height:k.h});var p,q,r=d.Plots.getSubplotIds(i,"geo");for(h=0;h<r.length;h++)p=i[r[h]],g=p.domain,q=p._geo.framework,q.attr("style",null),q.attr({x:k.l+k.w*g.x[0]+p._marginX,y:k.t+k.h*(1-g.y[1])+p._marginY,width:p._width,height:p._height}),i._geoimages.node().appendChild(q.node());if(i._toppaper){var s,t=i._toppaper.node().childNodes;for(h=0;h<t.length;h++)s=t[h],s.childNodes.length&&j.node().appendChild(s)}j.node().style.background="",j.selectAll("text").attr({"data-unformatted":null}).each(function(){var a=e.select(this);if("hidden"===a.style("visibility"))return void a.remove();var b=a.style("font-family");b&&-1!==b.indexOf('"')&&a.style("font-family",b.replace(/"/g,"\\'"))}),("pdf"===b||"eps"===b)&&j.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),j.node().setAttributeNS(f.xmlns,"xmlns",f.svg),j.node().setAttributeNS(f.xmlns,"xmlns:xlink",f.xlink);var u=(new window.XMLSerializer).serializeToString(j.node());return u=d.util.html_entity_decode(u),u=d.util.xml_entity_encode(u)}},{"../constants/xmlns_namespaces":337,"../plotly":365,d3:70}],415:[function(require,a,b){"use strict";var c=require("../../lib").mergeArray;a.exports=function(a){var b=a[0].trace,d=b.marker,e=d.line;c(b.text,a,"tx"),c(d.opacity,a,"mo"),c(d.color,a,"mc"),c(e.color,a,"mlc"),c(e.width,a,"mlw")}},{"../../lib":348}],416:[function(require,a,b){"use strict";var c=require("../scatter/attributes"),d=c.marker,e=d.line;a.exports={x:c.x,x0:c.x0,dx:c.dx,y:c.y,y0:c.y0,dy:c.dy,text:c.text,orientation:{valType:"enumerated",values:["v","h"]},marker:{color:d.color,colorscale:d.colorscale,cauto:d.cauto,cmax:d.cmax,cmin:d.cmin,autocolorscale:d.autocolorscale,reversescale:d.reversescale,showscale:d.showscale,line:{color:e.color,colorscale:e.colorscale,cauto:e.cauto,cmax:e.cmax,cmin:e.cmin,width:e.width,autocolorscale:e.autocolorscale,reversescale:e.reversescale}},r:c.r,t:c.t,_nestedModules:{error_y:"ErrorBars",error_x:"ErrorBars","marker.colorbar":"Colorbar"},_deprecated:{bardir:{valType:"enumerated",values:["v","h"]}}}},{"../scatter/attributes":493}],417:[function(require,a,b){"use strict";var c=require("fast-isnumeric"),d=require("../../plotly"),e=require("../../components/colorscale/has_colorscale"),f=require("../../components/colorscale/calc");a.exports=function(a,b){var g,h,i,j=d.Axes.getFromId(a,b.xaxis||"x"),k=d.Axes.getFromId(a,b.yaxis||"y"),l=b.orientation||(b.x&&!b.y?"h":"v");"h"===l?(h=j.makeCalcdata(b,"x"),g=k.makeCalcdata(b,"y")):(h=k.makeCalcdata(b,"y"),g=j.makeCalcdata(b,"x"));var m=Math.min(g.length,h.length),n=[];for(i=0;m>i;i++)c(g[i])&&c(h[i])&&n.push({p:g[i],s:h[i],b:0});return e(b,"marker")&&f(b,b.marker.color,"marker","c"),e(b,"marker.line")&&f(b,b.marker.line.color,"marker.line","c"),n}},{"../../components/colorscale/calc":306,"../../components/colorscale/has_colorscale":311,"../../plotly":365,"fast-isnumeric":74}],418:[function(require,a,b){"use strict";var c=require("../../lib"),d=require("../../components/color"),e=require("../scatter/xy_defaults"),f=require("../bar/style_defaults"),g=require("../../components/errorbars/defaults"),h=require("./attributes");a.exports=function(a,b,i,j){function k(d,e){return c.coerce(a,b,h,d,e)}var l=e(a,b,k);return l?(k("orientation",b.x&&!b.y?"h":"v"),k("text"),f(a,b,k,i,j),g(a,b,d.defaultLine,{axis:"y"}),void g(a,b,d.defaultLine,{axis:"x",inherit:"y"})):void(b.visible=!1)}},{"../../components/color":299,"../../components/errorbars/defaults":322,"../../lib":348,"../bar/style_defaults":426,"../scatter/xy_defaults":513,"./attributes":416}],419:[function(require,a,b){"use strict";var c=require("../../plotly"),d=require("../../components/color");a.exports=function(a,b,e,f){var g,h=a.cd,i=h[0].trace,j=h[0].t,k=a.xa,l=a.ya,m="closest"===f?j.barwidth/2:j.dbar*(1-k._td._fullLayout.bargap)/2;g="closest"!==f?function(a){return a.p}:"h"===i.orientation?function(a){return a.y}:function(a){return a.x};var n,o;"h"===i.orientation?(n=function(a){return c.Fx.inbox(a.b-b,a.x-b)+(a.x-b)/(a.x-a.b)},o=function(a){var b=g(a)-e;return c.Fx.inbox(b-m,b+m)}):(o=function(a){return c.Fx.inbox(a.b-e,a.y-e)+(a.y-e)/(a.y-a.b)},n=function(a){var d=g(a)-b;return c.Fx.inbox(d-m,d+m)});var p=c.Fx.getDistanceFunction(f,n,o);if(c.Fx.getClosest(h,p,a),a.index!==!1){var q=h[a.index],r=q.mcc||i.marker.color,s=q.mlcc||i.marker.line.color,t=q.mlw||i.marker.line.width;return d.opacity(r)?a.color=r:d.opacity(s)&&t&&(a.color=s),"h"===i.orientation?(a.x0=a.x1=k.c2p(q.x,!0),a.xLabelVal=q.s,a.y0=l.c2p(g(q)-m,!0),a.y1=l.c2p(g(q)+m,!0),a.yLabelVal=q.p):(a.y0=a.y1=l.c2p(q.y,!0),a.yLabelVal=q.s,a.x0=k.c2p(g(q)-m,!0),a.x1=k.c2p(g(q)+m,!0),a.xLabelVal=q.p),q.tx&&(a.text=q.tx),c.ErrorBars.hoverInfo(q,i,a),[a]}}},{"../../components/color":299,"../../plotly":365}],420:[function(require,a,b){"use strict";var c={};c.attributes=require("./attributes"),c.layoutAttributes=require("./layout_attributes"),c.supplyDefaults=require("./defaults"),c.supplyLayoutDefaults=require("./layout_defaults"),c.calc=require("./calc"),c.setPositions=require("./set_positions"),c.colorbar=require("../scatter/colorbar"),c.arraysToCalcdata=require("./arrays_to_calcdata"),c.plot=require("./plot"),c.style=require("./style"),c.hoverPoints=require("./hover"),c.moduleType="trace",c.name="bar",c.basePlotModule=require("../../plots/cartesian"),c.categories=["cartesian","bar","oriented","markerColorscale","errorBarsOK","showLegend"],c.meta={},a.exports=c},{"../../plots/cartesian":371,"../scatter/colorbar":496,"./arrays_to_calcdata":415,"./attributes":416,"./calc":417,"./defaults":418,"./hover":419,"./layout_attributes":421,"./layout_defaults":422,"./plot":423,"./set_positions":424,"./style":425}],421:[function(require,a,b){"use strict";a.exports={barmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"group"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:""},bargap:{valType:"number",min:0,max:1},bargroupgap:{valType:"number",min:0,max:1,dflt:0}}},{}],422:[function(require,a,b){"use strict";var c=require("../../plotly"),d=require("../../lib"),e=require("./layout_attributes");a.exports=function(a,b,f){function g(c,f){return d.coerce(a,b,e,c,f)}var h,i,j,k=!1,l=!1,m=!1,n={};for(h=0;h<f.length;h++)if(i=f[h],c.Plots.traceIs(i,"bar")&&(k=!0,"overlay"!==a.barmode&&"stack"!==a.barmode&&(j=i.xaxis+i.yaxis,n[j]&&(m=!0),n[j]=!0),i.visible&&"histogram"===i.type)){var o=c.Axes.getFromId({_fullLayout:b},i["v"===i.orientation?"xaxis":"yaxis"]);"category"!==o.type&&(l=!0)}if(k){var p=g("barmode");"overlay"!==p&&g("barnorm"),g("bargap",l&&!m?0:.2),g("bargroupgap")}}},{"../../lib":348,"../../plotly":365,"./layout_attributes":421}],423:[function(require,a,b){"use strict";var c=require("d3"),d=require("fast-isnumeric"),e=require("../../lib"),f=require("../../components/color"),g=require("./arrays_to_calcdata");a.exports=function(a,b,h){var i=b.x(),j=b.y(),k=a._fullLayout,l=b.plot.select(".barlayer").selectAll("g.trace.bars").data(h).enter().append("g").attr("class","trace bars");l.append("g").attr("class","points").each(function(b){var h=b[0].t,l=b[0].trace;g(b),c.select(this).selectAll("path").data(e.identity).enter().append("path").each(function(b){function e(a){return 0===k.bargap&&0===k.bargroupgap?c.round(Math.round(a)-r,2):a}function g(a,b){return Math.abs(a-b)>=2?e(a):a>b?Math.ceil(a):Math.floor(a)}var m,n,o,p;if("h"===l.orientation?(o=j.c2p(h.poffset+b.p,!0),p=j.c2p(h.poffset+b.p+h.barwidth,!0),m=i.c2p(b.b,!0),n=i.c2p(b.s+b.b,!0)):(m=i.c2p(h.poffset+b.p,!0),n=i.c2p(h.poffset+b.p+h.barwidth,!0),p=j.c2p(b.s+b.b,!0),o=j.c2p(b.b,!0)),!(d(m)&&d(n)&&d(o)&&d(p)&&m!==n&&o!==p))return void c.select(this).remove();var q=(b.mlw+1||l.marker.line.width+1||(b.trace?b.trace.marker.line.width:0)+1)-1,r=c.round(q/2%1,2);if(!a._context.staticPlot){var s=f.opacity(b.mc||l.marker.color),t=1>s||q>.01?e:g;m=t(m,n),n=t(n,m),o=t(o,p),p=t(p,o)}c.select(this).attr("d","M"+m+","+o+"V"+p+"H"+n+"V"+o+"Z")})})}},{"../../components/color":299,"../../lib":348,"./arrays_to_calcdata":415,d3:70,"fast-isnumeric":74}],424:[function(require,a,b){"use strict";var c=require("fast-isnumeric"),d=require("../../plotly"),e=require("../../lib");a.exports=function(a,b){var f,g,h=a._fullLayout,i=b.x(),j=b.y();["v","h"].forEach(function(k){function l(b){function c(a){a[n]=a.p+o}var f=[];b.forEach(function(b){a.calcdata[b].forEach(function(a){f.push(a.p)})});var g=e.distinctVals(f),i=g.vals,j=g.minDiff,k=!1,l=[];"group"===h.barmode&&b.forEach(function(b){k||(a.calcdata[b].forEach(function(a){k||l.forEach(function(b){Math.abs(a.p-b)<j&&(k=!0)})}),k||a.calcdata[b].forEach(function(a){l.push(a.p)}))}),d.Axes.minDtick(p,j,i[0],k),d.Axes.expand(p,i,{vpad:j/2}),j*=1-h.bargap,k&&(j/=m.length);for(var o,q=0;q<b.length;q++){var r=a.calcdata[b[q]][0].t;r.barwidth=j*(1-h.bargroupgap),r.poffset=((k?(2*q+1-b.length)*j:0)-r.barwidth)/2,r.dbar=g.minDiff,o=r.poffset+r.barwidth/2,a.calcdata[b[q]].forEach(c)}}var m=[],n={v:"x",h:"y"}[k],o={v:"y",h:"x"}[k],p=b[n](),q=b[o]();if(a._fullData.forEach(function(a,b){a.visible===!0&&d.Plots.traceIs(a,"bar")&&a.orientation===k&&a.xaxis===i._id&&a.yaxis===j._id&&m.push(b)}),m.length){"overlay"===h.barmode?m.forEach(function(a){l([a])}):l(m);var r="stack"===h.barmode,s=h.barnorm;if(r||s){var t,u,v,w=q.l2c(q.c2l(0)),x=w,y={},z=a.calcdata[m[0]][0].t.barwidth/100,A=0,B=!0;for(f=0;f<m.length;f++)for(u=a.calcdata[m[f]],g=0;g<u.length;g++){A=Math.round(u[g].p/z);var C=y[A]||0;r&&(u[g].b=C),t=u[g].b+u[g].s,y[A]=C+u[g].s,r&&(u[g][o]=t,!s&&c(q.c2l(t))&&(w=Math.max(w,t),x=Math.min(x,t)))}if(s){B=!1;var D="fraction"===s?1:100,E=D/1e9;for(x=0,w=r?D:0,f=0;f<m.length;f++)for(u=a.calcdata[m[f]],g=0;g<u.length;g++)v=D/y[Math.round(u[g].p/z)],u[g].b*=v,u[g].s*=v,t=u[g].b+u[g].s,u[g][o]=t,c(q.c2l(t))&&(x-E>t&&(B=!0,x=t),t>w+E&&(B=!0,w=t))}d.Axes.expand(q,[x,w],{tozero:!0,padded:B})}else{var F=function(a){return a[o]=a.s,a.s};for(f=0;f<m.length;f++)d.Axes.expand(q,a.calcdata[m[f]].map(F),{
tozero:!0,padded:!0})}}})}},{"../../lib":348,"../../plotly":365,"fast-isnumeric":74}],425:[function(require,a,b){"use strict";var c=require("d3"),d=require("../../plotly"),e=require("../../components/color");a.exports=function(a){var b=c.select(a).selectAll("g.trace.bars"),f=b.size(),g=a._fullLayout;b.style("opacity",function(a){return a[0].trace.opacity}).each(function(a){("stack"===g.barmode&&f>1||0===g.bargap&&0===g.bargroupgap&&!a[0].trace.marker.line.width)&&c.select(this).attr("shape-rendering","crispEdges")}),b.selectAll("g.points").each(function(a){var b=a[0].trace,f=b.marker,g=f.line,h=(b._input||{}).marker||{},i=d.Drawing.tryColorscale(f,h,""),j=d.Drawing.tryColorscale(f,h,"line.");c.select(this).selectAll("path").each(function(a){var b,d,h=(a.mlw+1||g.width+1)-1,k=c.select(this);b="mc"in a?a.mcc=i(a.mc):Array.isArray(f.color)?e.defaultLine:f.color,k.style("stroke-width",h+"px").call(e.fill,b),h&&(d="mlc"in a?a.mlcc=j(a.mlc):Array.isArray(g.color)?e.defaultLine:g.color,k.call(e.stroke,d))})})}},{"../../components/color":299,"../../plotly":365,d3:70}],426:[function(require,a,b){"use strict";var c=require("../../components/color"),d=require("../../components/colorscale/has_colorscale"),e=require("../../components/colorscale/defaults");a.exports=function(a,b,f,g,h){f("marker.color",g),d(a,"marker")&&e(a,b,h,f,{prefix:"marker.",cLetter:"c"}),f("marker.line.color",c.defaultLine),d(a,"marker.line")&&e(a,b,h,f,{prefix:"marker.line.",cLetter:"c"}),f("marker.line.width")}},{"../../components/color":299,"../../components/colorscale/defaults":308,"../../components/colorscale/has_colorscale":311}],427:[function(require,a,b){"use strict";var c=require("../scatter/attributes"),d=require("../../components/color/attributes"),e=require("../../lib/extend").extendFlat,f=c.marker,g=f.line;a.exports={y:{valType:"data_array"},x:{valType:"data_array"},x0:{valType:"any"},y0:{valType:"any"},whiskerwidth:{valType:"number",min:0,max:1,dflt:.5},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],dflt:"outliers"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],dflt:!1},jitter:{valType:"number",min:0,max:1},pointpos:{valType:"number",min:-2,max:2},orientation:{valType:"enumerated",values:["v","h"]},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)"},symbol:e({},f.symbol,{arrayOk:!1}),opacity:e({},f.opacity,{arrayOk:!1,dflt:1}),size:e({},f.size,{arrayOk:!1}),color:e({},f.color,{arrayOk:!1}),line:{color:e({},g.color,{arrayOk:!1,dflt:d.defaultLine}),width:e({},g.width,{arrayOk:!1,dflt:0}),outliercolor:{valType:"color"},outlierwidth:{valType:"number",min:0,dflt:1}}},line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:2}},fillcolor:c.fillcolor}},{"../../components/color/attributes":298,"../../lib/extend":344,"../scatter/attributes":493}],428:[function(require,a,b){"use strict";var c=require("fast-isnumeric"),d=require("../../plotly"),e=require("../../lib");a.exports=function(a,b){function f(a,b,d,f,g){var h;return d in b?o=f.makeCalcdata(b,d):(h=d+"0"in b?b[d+"0"]:"name"in b&&("category"===f.type||c(b.name)&&-1!==["linear","log"].indexOf(f.type)||e.isDateTime(b.name)&&"date"===f.type)?b.name:a.numboxes,h=f.d2c(h),o=g.map(function(){return h})),o}function g(a,b,d,f,g){var h,i,j,k,l=f.length,m=b.length,n=[],o=[];for(h=0;l>h;++h)i=f[h],a[h]={pos:i},o[h]=i-g,n[h]=[];for(o.push(f[l-1]+g),h=0;m>h;++h)k=b[h],c(k)&&(j=e.findBin(d[h],o),j>=0&&m>j&&n[j].push(k));return n}function h(a,b){var c,d,f,g;for(g=0;g<b.length;++g)c=b[g].sort(e.sorterAsc),d=c.length,f=a[g],f.val=c,f.min=c[0],f.max=c[d-1],f.mean=e.mean(c,d),f.sd=e.stdev(c,d,f.mean),f.q1=e.interp(c,.25),f.med=e.interp(c,.5),f.q3=e.interp(c,.75),f.lf=Math.min(f.q1,c[Math.min(e.findBin(2.5*f.q1-1.5*f.q3,c,!0)+1,d-1)]),f.uf=Math.max(f.q3,c[Math.max(e.findBin(2.5*f.q3-1.5*f.q1,c),0)]),f.lo=4*f.q1-3*f.q3,f.uo=4*f.q3-3*f.q1}var i,j,k,l,m,n,o,p,q,r=d.Axes.getFromId(a,b.xaxis||"x"),s=d.Axes.getFromId(a,b.yaxis||"y"),t=b.orientation,u=[];"h"===t?(i=r,j="x",m=s,n="y"):(i=s,j="y",m=r,n="x"),k=i.makeCalcdata(b,j),d.Axes.expand(i,k,{padded:!0}),o=f(a,b,n,m,k);var v=e.distinctVals(o);return p=v.vals,q=v.minDiff/2,l=g(u,k,o,p,q),h(u,l),u=u.filter(function(a){return a.val&&a.val.length}),u.length?(u[0].t={boxnum:a.numboxes,dPos:q},a.numboxes++,u):[{t:{emptybox:!0}}]}},{"../../lib":348,"../../plotly":365,"fast-isnumeric":74}],429:[function(require,a,b){"use strict";var c=require("../../lib"),d=require("../../components/color"),e=require("./attributes");a.exports=function(a,b,f){function g(d,f){return c.coerce(a,b,e,d,f)}var h,i=g("y"),j=g("x");if(i&&i.length)h="v",j||g("x0");else{if(!j||!j.length)return void(b.visible=!1);h="h",g("y0")}g("orientation",h),g("line.color",(a.marker||{}).color||f),g("line.width",2),g("fillcolor",d.addOpacity(b.line.color,.5)),g("whiskerwidth"),g("boxmean");var k=c.coerce2(a,b,e,"marker.outliercolor"),l=g("marker.line.outliercolor"),m=k||l?g("boxpoints","suspectedoutliers"):g("boxpoints");m&&(g("jitter","all"===m?.3:0),g("pointpos","all"===m?-1.5:0),g("marker.symbol"),g("marker.opacity"),g("marker.size"),g("marker.color",b.line.color),g("marker.line.color"),g("marker.line.width"),"suspectedoutliers"===m&&(g("marker.line.outliercolor",b.marker.color),g("marker.line.outlierwidth")))}},{"../../components/color":299,"../../lib":348,"./attributes":427}],430:[function(require,a,b){"use strict";var c=require("../../plotly"),d=require("../../components/color");a.exports=function(a,b,e,f){var g,h,i,j,k,l,m,n,o,p=a.cd,q=p[0].trace,r=p[0].t,s=a.xa,t=a.ya,u=[];if(j="closest"===f?2.5*r.bdPos:r.bdPos,"h"===q.orientation?(g=function(a){return c.Fx.inbox(a.min-b,a.max-b)},h=function(a){var b=a.pos+r.bPos-e;return c.Fx.inbox(b-j,b+j)},k="y",l=t,n="x",o=s):(g=function(a){var d=a.pos+r.bPos-b;return c.Fx.inbox(d-j,d+j)},h=function(a){return c.Fx.inbox(a.min-e,a.max-e)},k="x",l=s,n="y",o=t),i=c.Fx.getDistanceFunction(f,g,h),c.Fx.getClosest(p,i,a),a.index!==!1){var v=p[a.index],w=q.line.color,x=(q.marker||{}).color;d.opacity(w)&&q.line.width?a.color=w:d.opacity(x)&&q.boxpoints?a.color=x:a.color=q.fillcolor,a[k+"0"]=l.c2p(v.pos+r.bPos-r.bdPos,!0),a[k+"1"]=l.c2p(v.pos+r.bPos+r.bdPos,!0),c.Axes.tickText(l,l.c2l(v.pos),"hover").text,a[k+"LabelVal"]=v.pos;var y,z,A={},B=["med","min","q1","q3","max"];q.boxmean&&B.push("mean"),q.boxpoints&&[].push.apply(B,["lf","uf"]);for(var C=0;C<B.length;C++)y=B[C],y in v&&!(v[y]in A)&&(A[v[y]]=!0,m=o.c2p(v[y],!0),z=c.Lib.extendFlat({},a),z[n+"0"]=z[n+"1"]=m,z[n+"LabelVal"]=v[y],z.attr=y,"mean"===y&&"sd"in v&&"sd"===q.boxmean&&(z[n+"err"]=v.sd),a.name="",u.push(z));return u}}},{"../../components/color":299,"../../plotly":365}],431:[function(require,a,b){"use strict";var c={};c.attributes=require("./attributes"),c.layoutAttributes=require("./layout_attributes"),c.supplyDefaults=require("./defaults"),c.supplyLayoutDefaults=require("./layout_defaults"),c.calc=require("./calc"),c.setPositions=require("./set_positions"),c.plot=require("./plot"),c.style=require("./style"),c.hoverPoints=require("./hover"),c.moduleType="trace",c.name="box",c.basePlotModule=require("../../plots/cartesian"),c.categories=["cartesian","symbols","oriented","box","showLegend"],c.meta={},a.exports=c},{"../../plots/cartesian":371,"./attributes":427,"./calc":428,"./defaults":429,"./hover":430,"./layout_attributes":432,"./layout_defaults":433,"./plot":434,"./set_positions":435,"./style":436}],432:[function(require,a,b){"use strict";a.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay"},boxgap:{valType:"number",min:0,max:1,dflt:.3},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3}}},{}],433:[function(require,a,b){"use strict";var c=require("../../plots/plots"),d=require("../../lib"),e=require("./layout_attributes");a.exports=function(a,b,f){function g(c,f){return d.coerce(a,b,e,c,f)}for(var h,i=0;i<f.length;i++)if(c.traceIs(f[i],"box")){h=!0;break}h&&(g("boxmode"),g("boxgap"),g("boxgroupgap"))}},{"../../lib":348,"../../plots/plots":404,"./layout_attributes":432}],434:[function(require,a,b){"use strict";function c(){h=2e9}function d(){var a=h;return h=(69069*h+1)%4294967296,Math.abs(h-a)<429496729?d():h/4294967296}var e=require("d3"),f=require("../../plotly"),g=require("../../lib"),h=2e9,i=5,j=.01;a.exports=function(a,b,h){var k,l,m=a._fullLayout,n=b.x(),o=b.y(),p=b.plot.select(".boxlayer").selectAll("g.trace.boxes").data(h).enter().append("g").attr("class","trace boxes");p.each(function(b){var h=b[0].t,p=b[0].trace,q="group"===m.boxmode&&a.numboxes>1,r=h.dPos*(1-m.boxgap)*(1-m.boxgroupgap)/(q?a.numboxes:1),s=q?2*h.dPos*(-.5+(h.boxnum+.5)/a.numboxes)*(1-m.boxgap):0,t=r*p.whiskerwidth;return p.visible!==!0||h.emptybox?void e.select(this).remove():("h"===p.orientation?(k=o,l=n):(k=n,l=o),h.bPos=s,h.bdPos=r,c(),e.select(this).selectAll("path.box").data(g.identity).enter().append("path").attr("class","box").each(function(a){var b=k.c2p(a.pos+s,!0),c=k.c2p(a.pos+s-r,!0),d=k.c2p(a.pos+s+r,!0),f=k.c2p(a.pos+s-t,!0),h=k.c2p(a.pos+s+t,!0),i=l.c2p(a.q1,!0),j=l.c2p(a.q3,!0),m=g.constrain(l.c2p(a.med,!0),Math.min(i,j)+1,Math.max(i,j)-1),n=l.c2p(p.boxpoints===!1?a.min:a.lf,!0),o=l.c2p(p.boxpoints===!1?a.max:a.uf,!0);"h"===p.orientation?e.select(this).attr("d","M"+m+","+c+"V"+d+"M"+i+","+c+"V"+d+"H"+j+"V"+c+"ZM"+i+","+b+"H"+n+"M"+j+","+b+"H"+o+(0===p.whiskerwidth?"":"M"+n+","+f+"V"+h+"M"+o+","+f+"V"+h)):e.select(this).attr("d","M"+c+","+m+"H"+d+"M"+c+","+i+"H"+d+"V"+j+"H"+c+"ZM"+b+","+i+"V"+n+"M"+b+","+j+"V"+o+(0===p.whiskerwidth?"":"M"+f+","+n+"H"+h+"M"+f+","+o+"H"+h))}),p.boxpoints&&e.select(this).selectAll("g.points").data(function(a){return a.forEach(function(a){a.t=h,a.trace=p}),a}).enter().append("g").attr("class","points").selectAll("path").data(function(a){var b,c,e,f,h,k,l,m="all"===p.boxpoints?a.val:a.val.filter(function(b){return b<a.lf||b>a.uf}),n=(a.q3-a.q1)*j,o=[],q=0;if(p.jitter){for(b=0;b<m.length;b++)c=Math.max(0,b-i),f=m[c],e=Math.min(m.length-1,b+i),h=m[e],"all"!==p.boxpoints&&(m[b]<a.lf?h=Math.min(h,a.lf):f=Math.max(f,a.uf)),k=Math.sqrt(n*(e-c)/(h-f))||0,k=g.constrain(Math.abs(k),0,1),o.push(k),q=Math.max(k,q);l=2*p.jitter/q}return m.map(function(b,c){var e,f=p.pointpos;return p.jitter&&(f+=l*o[c]*(d()-.5)),e="h"===p.orientation?{y:a.pos+f*r+s,x:b}:{x:a.pos+f*r+s,y:b},"suspectedoutliers"===p.boxpoints&&b<a.uo&&b>a.lo&&(e.so=!0),e})}).enter().append("path").call(f.Drawing.translatePoints,n,o),void(p.boxmean&&e.select(this).selectAll("path.mean").data(g.identity).enter().append("path").attr("class","mean").style("fill","none").each(function(a){var b=k.c2p(a.pos+s,!0),c=k.c2p(a.pos+s-r,!0),d=k.c2p(a.pos+s+r,!0),f=l.c2p(a.mean,!0),g=l.c2p(a.mean-a.sd,!0),h=l.c2p(a.mean+a.sd,!0);"h"===p.orientation?e.select(this).attr("d","M"+f+","+c+"V"+d+("sd"!==p.boxmean?"":"m0,0L"+g+","+b+"L"+f+","+c+"L"+h+","+b+"Z")):e.select(this).attr("d","M"+c+","+f+"H"+d+("sd"!==p.boxmean?"":"m0,0L"+b+","+g+"L"+c+","+f+"L"+b+","+h+"Z"))})))})}},{"../../lib":348,"../../plotly":365,d3:70}],435:[function(require,a,b){"use strict";var c=require("../../plotly"),d=require("../../plots/plots"),e=require("../../lib");a.exports=function(a,b){var f,g,h,i,j=a._fullLayout,k=b.x(),l=b.y(),m=["v","h"];for(g=0;g<m.length;++g){var n,o,p,q=m[g],r=[],s=[],t=0,u=0;for(f="h"===q?l:k,h=0;h<a.calcdata.length;++h)n=a.calcdata[h],o=n[0].t,p=n[0].trace,p.visible===!0&&d.traceIs(p,"box")&&!o.emptybox&&p.orientation===q&&p.xaxis===k._id&&p.yaxis===l._id&&(r.push(h),p.boxpoints!==!1&&(t=Math.max(t,p.jitter-p.pointpos-1),u=Math.max(u,p.jitter+p.pointpos-1)));for(h=0;h<r.length;h++)for(n=a.calcdata[r[h]],i=0;i<n.length;i++)s.push(n[i].pos);if(s.length){var v=e.distinctVals(s),w=v.minDiff/2;for(s.length===v.vals.length&&(a.numboxes=1),c.Axes.minDtick(f,v.minDiff,v.vals[0],!0),g=0;g<r.length;++g)a.calcdata[g][0].t.dPos=w;var x=(1-j.boxgap)*(1-j.boxgroupgap)*w/a.numboxes;c.Axes.expand(f,v.vals,{vpadminus:w+t*x,vpadplus:w+u*x})}}}},{"../../lib":348,"../../plotly":365,"../../plots/plots":404}],436:[function(require,a,b){"use strict";var c=require("d3"),d=require("../../plotly"),e=require("../../components/color");a.exports=function(a){var b=c.select(a).selectAll("g.trace.boxes");b.style("opacity",function(a){return a[0].trace.opacity}).each(function(a){var b=a[0].trace,f=b.line.width;c.select(this).selectAll("path.box").style("stroke-width",f+"px").call(e.stroke,b.line.color).call(e.fill,b.fillcolor),c.select(this).selectAll("path.mean").style({"stroke-width":f,"stroke-dasharray":2*f+"px,"+f+"px"}).call(e.stroke,b.line.color),c.select(this).selectAll("g.points path").call(d.Drawing.pointStyle,b)})}},{"../../components/color":299,"../../plotly":365,d3:70}],437:[function(require,a,b){"use strict";var c=require("../scattergeo/attributes"),d=require("../../components/colorscale/attributes"),e=require("../../plots/attributes"),f=require("../../lib/extend").extendFlat,g=c.marker.line;a.exports={locations:{valType:"data_array"},locationmode:c.locationmode,z:{valType:"data_array"},text:{valType:"data_array"},marker:{line:{color:g.color,width:g.width}},zauto:d.zauto,zmin:d.zmin,zmax:d.zmax,colorscale:d.colorscale,autocolorscale:d.autocolorscale,reversescale:d.reversescale,showscale:d.showscale,hoverinfo:f({},e.hoverinfo,{flags:["location","z","text","name"]}),_nestedModules:{colorbar:"Colorbar"}}},{"../../components/colorscale/attributes":305,"../../lib/extend":344,"../../plots/attributes":366,"../scattergeo/attributes":520}],438:[function(require,a,b){"use strict";var c=require("../../lib"),d=require("../../components/colorscale/defaults"),e=require("./attributes");a.exports=function(a,b,f,g){function h(d,f){return c.coerce(a,b,e,d,f)}var i,j=h("locations");if(j&&(i=j.length),!j||!i)return void(b.visible=!1);var k=h("z");return Array.isArray(k)?(k.length>i&&(b.z=k.slice(0,i)),h("locationmode"),h("text"),h("marker.line.color"),h("marker.line.width"),d(a,b,g,h,{prefix:"",cLetter:"z"}),void h("hoverinfo",1===g._dataLength?"location+z+text":void 0)):void(b.visible=!1)}},{"../../components/colorscale/defaults":308,"../../lib":348,"./attributes":437}],439:[function(require,a,b){"use strict";var c={};c.attributes=require("./attributes"),c.supplyDefaults=require("./defaults"),c.colorbar=require("../heatmap/colorbar"),c.calc=require("../surface/calc"),c.plot=require("./plot").plot,c.moduleType="trace",c.name="choropleth",c.basePlotModule=require("../../plots/geo"),c.categories=["geo","noOpacity"],c.meta={},a.exports=c},{"../../plots/geo":376,"../heatmap/colorbar":452,"../surface/calc":530,"./attributes":437,"./defaults":438,"./plot":440}],440:[function(require,a,b){"use strict";function c(a,b){function c(b){var c=a.mockAxis;return e.Axes.tickText(c,c.c2l(b),"hover").text}var d=b.hoverinfo;if("none"===d)return function(a){delete a.nameLabel,delete a.textLabel};var f="all"===d?o.hoverinfo.flags:d.split("+"),g=-1!==f.indexOf("name"),h=-1!==f.indexOf("location"),i=-1!==f.indexOf("z"),j=-1!==f.indexOf("text"),k=!g&&h;return function(a){var d=[];k?a.nameLabel=a.id:(g&&(a.nameLabel=b.name),h&&d.push(a.id)),i&&d.push(c(a.z)),j&&d.push(a.tx),a.textLabel=d.join("<br>")}}function d(a){return function(b,c){return{points:[{data:a._input,fullData:a,curveNumber:a.index,pointNumber:c,location:b.id,z:b.z}]}}}var e=require("../../plotly"),f=require("d3"),g=require("../../components/color"),h=require("../../components/drawing"),i=require("../../components/colorscale/get_scale"),j=require("../../components/colorscale/make_scale_function"),k=require("../../lib/topojson_utils").getTopojsonFeatures,l=require("../../lib/geo_location_utils").locationToFeature,m=require("../../lib/array_to_calc_item"),n=require("../../constants/geo_constants"),o=require("./attributes"),p=a.exports={};p.calcGeoJSON=function(a,b){for(var c,d=[],e=a.locations,f=e.length,g=k(a,b),h=(a.marker||{}).line||{},i=0;f>i;i++)c=l(a.locationmode,e[i],g),void 0!==c&&(c.z=a.z[i],void 0!==a.text&&(c.tx=a.text[i]),m(h.color,c,"mlc",i),m(h.width,c,"mlw",i),d.push(c));return d.length>0&&(d[0].trace=a),d},p.plot=function(a,b,g){var h,i=a.framework,j=i.select("g.choroplethlayer"),k=i.select("g.baselayer"),l=i.select("g.baselayeroverchoropleth"),m=n.baseLayersOverChoropleth,o=j.selectAll("g.trace.choropleth").data(b);o.enter().append("g").attr("class","trace choropleth"),o.exit().remove(),o.each(function(b){function g(b,c){if(a.showHover){var d=a.projection(b.properties.ct);j(b),e.Fx.loneHover({x:d[0],y:d[1],name:b.nameLabel,text:b.textLabel},{container:a.hoverContainer.node()}),a.graphDiv.emit("plotly_hover",k(b,c))}}function h(b,c){a.graphDiv.emit("plotly_click",k(b,c))}if(b.visible===!0){var i=p.calcGeoJSON(b,a.topojson),j=c(a,b),k=d(b);f.select(this).selectAll("path.choroplethlocation").data(i).enter().append("path").attr("class","choroplethlocation").on("mouseover",g).on("click",h).on("mouseout",function(){e.Fx.loneUnhover(a.hoverContainer)}).on("mousedown",function(){e.Fx.loneUnhover(a.hoverContainer)}).on("mouseup",g)}}),l.selectAll("*").remove();for(var q=0;q<m.length;q++)h=m[q],k.select("g."+h).remove(),a.drawTopo(l,h,g),a.styleLayer(l,h,g);p.style(a)},p.style=function(a){a.framework.selectAll("g.trace.choropleth").each(function(a){var b=f.select(this),c=a.marker||{},d=c.line||{},e=a.zmin,k=a.zmax,l=i(a.colorscale),m=j(l,e,k);b.selectAll("path.choroplethlocation").each(function(a){f.select(this).attr("fill",function(a){return m(a.z)}).call(g.stroke,a.mlc||d.color).call(h.dashLine,"",a.mlw||d.width)})})}},{"../../components/color":299,"../../components/colorscale/get_scale":310,"../../components/colorscale/make_scale_function":315,"../../components/drawing":317,"../../constants/geo_constants":333,"../../lib/array_to_calc_item":340,"../../lib/geo_location_utils":345,"../../lib/topojson_utils":360,"../../plotly":365,"./attributes":437,d3:70}],441:[function(require,a,b){"use strict";var c=require("../heatmap/attributes"),d=require("../scatter/attributes"),e=require("../../lib/extend").extendFlat,f=d.line;a.exports={z:c.z,x:c.x,x0:c.x0,dx:c.dx,y:c.y,y0:c.y0,dy:c.dy,text:c.text,transpose:c.transpose,xtype:c.xtype,ytype:c.ytype,zauto:c.zauto,zmin:c.zmin,zmax:c.zmax,colorscale:c.colorscale,autocolorscale:c.autocolorscale,reversescale:c.reversescale,showscale:c.showscale,connectgaps:c.connectgaps,autocontour:{valType:"boolean",dflt:!0},ncontours:{valType:"integer",dflt:0},contours:{start:{valType:"number",dflt:null},end:{valType:"number",dflt:null},size:{valType:"number",dflt:null},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill"},showlines:{valType:"boolean",dflt:!0}},line:{color:e({},f.color,{}),width:f.width,dash:f.dash,smoothing:e({},f.smoothing,{})},_nestedModules:{colorbar:"Colorbar"}}},{"../../lib/extend":344,"../heatmap/attributes":450,"../scatter/attributes":493}],442:[function(require,a,b){"use strict";var c=require("../../plotly"),d=require("../heatmap/calc");a.exports=function(a,b){var e=d(a,b),f=b.contours;if(b.autocontour!==!1){var g={type:"linear",range:[b.zmin,b.zmax]};c.Axes.autoTicks(g,(b.zmax-b.zmin)/(b.ncontours||15)),f.start=c.Axes.tickFirst(g),f.size=g.dtick,g.range.reverse(),f.end=c.Axes.tickFirst(g),f.start===b.zmin&&(f.start+=f.size),f.end===b.zmax&&(f.end-=f.size),f.end+=f.size/100,b._input.contours=f}return e}},{"../../plotly":365,"../heatmap/calc":451}],443:[function(require,a,b){"use strict";var c=require("d3"),d=require("../../plotly"),e=require("../../components/colorscale/get_scale"),f=require("../../components/colorbar/draw");a.exports=function(a,b){var g=b[0].trace,h="cb"+g.uid;if(a._fullLayout._infolayer.selectAll("."+h).remove(),g.showscale===!1)return void d.Plots.autoMargin(a,h);var i=f(a,h);b[0].t.cb=i;var j=g.contours,k=g.line,l=j.size||1,m=Math.floor((j.end+l/10-j.start)/l)+1,n=e(g.colorscale),o="lines"===j.coloring?0:1,p=c.scale.linear().interpolate(c.interpolateRgb),q=n.map(function(a){return(a[0]*(m+o-1)-o/2)*l+j.start}),r=n.map(function(a){return a[1]});if("heatmap"===j.coloring){g.zauto&&g.autocontour===!1&&(g.zmin=j.start-l/2,g.zmax=g.zmin+m*l),i.filllevels({start:g.zmin,end:g.zmax,size:(g.zmax-g.zmin)/254}),q=n.map(function(a){return a[0]*(g.zmax-g.zmin)+g.zmin});var s=c.extent([g.zmin,g.zmax,j.start,j.start+l*(m-1)]),t=s[g.zmin<g.zmax?0:1],u=s[g.zmin<g.zmax?1:0];t!==g.zmin&&(q.splice(0,0,t),r.splice(0,0,r[0])),u!==g.zmax&&(q.push(u),r.push(r[r.length-1]))}p.domain(q).range(r),i.fillcolor("fill"===j.coloring||"heatmap"===j.coloring?p:"").line({color:"lines"===j.coloring?p:k.color,width:j.showlines!==!1?k.width:0,dash:k.dash}).levels({start:j.start,end:j.end,size:l}).options(g.colorbar)()}},{"../../components/colorbar/draw":302,"../../components/colorscale/get_scale":310,"../../plotly":365,d3:70}],444:[function(require,a,b){"use strict";var c=require("../../lib"),d=require("../heatmap/has_columns"),e=require("../heatmap/xyz_defaults"),f=require("../contour/style_defaults"),g=require("./attributes");a.exports=function(a,b,h,i){function j(d,e){return c.coerce(a,b,g,d,e)}var k=e(a,b,j);if(!k)return void(b.visible=!1);j("text"),j("connectgaps",d(b));var l=c.coerce2(a,b,g,"contours.start"),m=c.coerce2(a,b,g,"contours.end"),n=j("autocontour",!(l&&m));j(n?"ncontours":"contours.size"),f(a,b,j,i)}},{"../../lib":348,"../contour/style_defaults":449,"../heatmap/has_columns":455,"../heatmap/xyz_defaults":461,"./attributes":441}],445:[function(require,a,b){"use strict";var c=require("../heatmap/hover");a.exports=function(a,b,d,e){return c(a,b,d,e,!0)}},{"../heatmap/hover":456}],446:[function(require,a,b){"use strict";var c={};c.attributes=require("./attributes"),c.supplyDefaults=require("./defaults"),c.calc=require("./calc"),c.plot=require("./plot"),c.style=require("./style"),c.colorbar=require("./colorbar"),c.hoverPoints=require("./hover"),c.moduleType="trace",c.name="contour",c.basePlotModule=require("../../plots/cartesian"),c.categories=["cartesian","2dMap","contour"],c.meta={},a.exports=c},{"../../plots/cartesian":371,"./attributes":441,"./calc":442,"./colorbar":443,"./defaults":444,"./hover":445,"./plot":447,"./style":448}],447:[function(require,a,b){"use strict";function c(a,b,c){v.markTime("in Contour.plot");var e=c[0].trace,g=c[0].x,i=c[0].y,j=e.contours,k=e.uid,l=b.x(),p=b.y(),s=a._fullLayout,t="contour"+k,x=d(j,b,c[0]);if(e.visible!==!0)return s._paper.selectAll("."+t+",.hm"+k).remove(),void s._infolayer.selectAll(".cb"+k).remove();"heatmap"===j.coloring?(e.zauto&&e.autocontour===!1&&(e._input.zmin=e.zmin=j.start-j.size/2,e._input.zmax=e.zmax=e.zmin+x.length*j.size),w(a,b,[c])):s._paper.selectAll(".hm"+k).remove(),f(x),h(x);var y=l.c2p(g[0],!0),z=l.c2p(g[g.length-1],!0),A=p.c2p(i[0],!0),B=p.c2p(i[i.length-1],!0),C=[[y,B],[z,B],[z,A],[y,A]],D=m(b,c,t);n(D,C,j),o(D,x,C,j),q(D,x,j),r(D,b,c[0],C),u.Lib.markTime("done Contour.plot")}function d(a,b,c){for(var d=a.size||1,e=[],f=a.start;f<a.end+d/10;f+=d)e.push({level:f,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:b.x(),yaxis:b.y(),x:c.x,y:c.y,z:c.z,smoothing:c.trace.line.smoothing});return e}function e(a,b){var c=(b[0][0]>a?0:1)+(b[0][1]>a?0:2)+(b[1][1]>a?0:4)+(b[1][0]>a?0:8);if(5===c||10===c){var d=(b[0][0]+b[0][1]+b[1][0]+b[1][1])/4;return a>d?5===c?713:1114:5===c?104:208}return 15===c?0:c}function f(a){var b,c,d,f,g,h,i,j,k,l=a[0].z,m=l.length,n=l[0].length,o=2===m||2===n;for(c=0;m-1>c;c++)for(f=[],0===c&&(f=f.concat(x)),c===m-2&&(f=f.concat(y)),b=0;n-1>b;b++)for(d=f.slice(),0===b&&(d=d.concat(z)),b===n-2&&(d=d.concat(A)),g=b+","+c,h=[[l[c][b],l[c][b+1]],[l[c+1][b],l[c+1][b+1]]],k=0;k<a.length;k++)j=a[k],i=e(j.level,h),i&&(j.crossings[g]=i,-1!==d.indexOf(i)&&(j.starts.push([b,c]),o&&-1!==d.indexOf(i,d.indexOf(i)+1)&&j.starts.push([b,c])))}function g(a,b,c){function d(a){return n[a%n.length]}var e,f=b.join(","),g=f,h=a.crossings[g],m=i(h,c,b),n=[l(a,b,[-m[0],-m[1]])],o=m.join(","),p=a.z.length,q=a.z[0].length;for(e=0;1e4>e;e++){if(h>20?(h=C[h][(m[0]||m[1])<0?0:1],a.crossings[g]=D[h]):delete a.crossings[g],m=B[h],!m){console.log("found bad marching index",h,b,a.level);break}if(n.push(l(a,b,m)),b[0]+=m[0],b[1]+=m[1],j(n[n.length-1],n[n.length-2])&&n.pop(),g=b.join(","),g===f&&m.join(",")===o||c&&(m[0]&&(b[0]<0||b[0]>q-2)||m[1]&&(b[1]<0||b[1]>p-2)))break;h=a.crossings[g]}1e4===e&&console.log("Infinite loop in contour?");var r,s,t,u,v,w,x,y=j(n[0],n[n.length-1]),z=0,A=.2*a.smoothing,E=[],F=0;for(e=1;e<n.length;e++)x=k(n[e],n[e-1]),z+=x,E.push(x);var G=z/E.length*A;for(e=n.length-2;e>=F;e--)if(r=E[e],G>r){for(t=0,s=e-1;s>=F&&r+E[s]<G;s--)r+=E[s];if(y&&e===n.length-2)for(t=0;s>t&&r+E[t]<G;t++)r+=E[t];v=e-s+t+1,w=Math.floor((e+s+t+2)/2),u=y||e!==n.length-2?y||-1!==s?v%2?d(w):[(d(w)[0]+d(w+1)[0])/2,(d(w)[1]+d(w+1)[1])/2]:n[0]:n[n.length-1],n.splice(s+1,e-s+1,u),e=s+1,t&&(F=t),y&&(e===n.length-2?n[t]=n[n.length-1]:0===e&&(n[n.length-1]=n[0]))}if(n.splice(0,F),!(n.length<2))if(y)n.pop(),a.paths.push(n);else{c||console.log("unclosed interior contour?",a.level,f,n.join("L"));var H=!1;a.edgepaths.forEach(function(b,c){if(!H&&j(b[0],n[n.length-1])){n.pop(),H=!0;var d=!1;a.edgepaths.forEach(function(b,e){!d&&j(b[b.length-1],n[0])&&(d=!0,n.splice(0,1),a.edgepaths.splice(c,1),e===c?a.paths.push(n.concat(b)):a.edgepaths[e]=a.edgepaths[e].concat(n,b))}),d||(a.edgepaths[c]=n.concat(b))}}),a.edgepaths.forEach(function(b,c){!H&&j(b[b.length-1],n[0])&&(n.splice(0,1),a.edgepaths[c]=b.concat(n),H=!0)}),H||a.edgepaths.push(n)}}function h(a){var b,c,d,e,f;for(d=0;d<a.length;d++){for(e=a[d],f=0;f<e.starts.length;f++)c=e.starts[f],g(e,c,"edge");for(b=0;Object.keys(e.crossings).length&&1e4>b;)b++,c=Object.keys(e.crossings)[0].split(",").map(Number),g(e,c);1e4===b&&console.log("Infinite loop in contour?")}}function i(a,b,c){var d=0,e=0;return a>20&&b?208===a||1114===a?d=0===c[0]?1:-1:e=0===c[1]?1:-1:-1!==x.indexOf(a)?e=1:-1!==z.indexOf(a)?d=1:-1!==y.indexOf(a)?e=-1:d=-1,[d,e]}function j(a,b){return Math.abs(a[0]-b[0])<.01&&Math.abs(a[1]-b[1])<.01}function k(a,b){var c=a[0]-b[0],d=a[1]-b[1];return Math.sqrt(c*c+d*d)}function l(a,b,c){var d=b[0]+Math.max(c[0],0),e=b[1]+Math.max(c[1],0),f=a.z[e][d],g=a.xaxis,h=a.yaxis;if(c[1]){var i=(a.level-f)/(a.z[e][d+1]-f);return[g.c2p((1-i)*a.x[d]+i*a.x[d+1],!0),h.c2p(a.y[e],!0)]}var j=(a.level-f)/(a.z[e+1][d]-f);return[g.c2p(a.x[d],!0),h.c2p((1-j)*a.y[e]+j*a.y[e+1],!0)]}function m(a,b,c){var d=a.plot.select(".maplayer").selectAll("g.contour."+c).data(b);return d.enter().append("g").classed("contour",!0).classed(c,!0),d.exit().remove(),d}function n(a,b,c){var d=a.selectAll("g.contourbg").data([0]);d.enter().append("g").classed("contourbg",!0);var e=d.selectAll("path").data("fill"===c.coloring?[0]:[]);e.enter().append("path"),e.exit().remove(),e.attr("d","M"+b.join("L")+"Z").style("stroke","none")}function o(a,b,c,d){var e=a.selectAll("g.contourfill").data([0]);e.enter().append("g").classed("contourfill",!0);var f=e.selectAll("path").data("fill"===d.coloring?b:[]);f.enter().append("path"),f.exit().remove(),f.each(function(a){var b=p(a,c);b?t.select(this).attr("d",b).style("stroke","none"):t.select(this).remove()})}function p(a,b){function c(a){return Math.abs(a[1]-b[0][1])<.01}function d(a){return Math.abs(a[1]-b[2][1])<.01}function e(a){return Math.abs(a[0]-b[0][0])<.01}function f(a){return Math.abs(a[0]-b[2][0])<.01}for(var g,h,i,j,k,l,m=a.edgepaths.length||a.z[0][0]<a.level?"":"M"+b.join("L")+"Z",n=0,o=a.edgepaths.map(function(a,b){return b}),p=!0;o.length;){for(l=u.Drawing.smoothopen(a.edgepaths[n],a.smoothing),m+=p?l:l.replace(/^M/,"L"),o.splice(o.indexOf(n),1),g=a.edgepaths[n][a.edgepaths[n].length-1],j=-1,i=0;4>i;i++){if(!g){console.log("missing end?",n,a);break}for(c(g)&&!f(g)?h=b[1]:e(g)?h=b[0]:d(g)?h=b[3]:f(g)&&(h=b[2]),k=0;k<a.edgepaths.length;k++){var q=a.edgepaths[k][0];Math.abs(g[0]-h[0])<.01?Math.abs(g[0]-q[0])<.01&&(q[1]-g[1])*(h[1]-q[1])>=0&&(h=q,j=k):Math.abs(g[1]-h[1])<.01?Math.abs(g[1]-q[1])<.01&&(q[0]-g[0])*(h[0]-q[0])>=0&&(h=q,j=k):console.log("endpt to newendpt is not vert. or horz.",g,h,q)}if(g=h,j>=0)break;m+="L"+h}if(j===a.edgepaths.length){console.log("unclosed perimeter path");break}n=j,p=-1===o.indexOf(n),p&&(n=o[0],m+="Z")}for(n=0;n<a.paths.length;n++)m+=u.Drawing.smoothclosed(a.paths[n],a.smoothing);return m}function q(a,b,c){var d=b[0].smoothing,e=a.selectAll("g.contourlevel").data(c.showlines===!1?[]:b);e.enter().append("g").classed("contourlevel",!0),e.exit().remove();var f=e.selectAll("path.openline").data(function(a){return a.edgepaths});f.enter().append("path").classed("openline",!0),f.exit().remove(),f.attr("d",function(a){return u.Drawing.smoothopen(a,d)}).style("stroke-miterlimit",1);var g=e.selectAll("path.closedline").data(function(a){return a.paths});g.enter().append("path").classed("closedline",!0),g.exit().remove(),g.attr("d",function(a){return u.Drawing.smoothclosed(a,d)}).style("stroke-miterlimit",1)}function r(a,b,c,d){var e="clip"+c.trace.uid,g=b.plot.selectAll("defs").data([0]);g.enter().append("defs");var i=g.selectAll("#"+e).data(c.trace.connectgaps?[]:[0]);if(i.enter().append("clipPath").attr("id",e),i.exit().remove(),c.trace.connectgaps===!1){var j={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:b.x(),yaxis:b.y(),x:c.x,y:c.y,z:s(c),smoothing:0};f([j]),h([j]);var k=p(j,d),l=i.selectAll("path").data([0]);l.enter().append("path"),l.attr("d",k)}else e=null;a.call(u.Drawing.setClipUrl,e),b.plot.selectAll(".hm"+c.trace.uid).call(u.Drawing.setClipUrl,e)}function s(a){var b,c,d=a.trace._emptypoints,e=[],f=a.z.length,g=a.z[0].length,h=[];for(b=0;g>b;b++)h.push(1);for(b=0;f>b;b++)e.push(h.slice());for(b=0;b<d.length;b++)c=d[b],e[c[0]][c[1]]=0;return a.zmask=e,e}var t=require("d3"),u=require("../../plotly"),v=require("../../lib"),w=require("../heatmap/plot");a.exports=function(a,b,d){for(var e=0;e<d.length;e++)c(a,b,d[e])};var x=[1,9,13,104,713],y=[4,6,7,104,713],z=[8,12,14,208,1114],A=[2,3,11,208,1114],B=[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],C={104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},D={1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11}},{"../../lib":348,"../../plotly":365,"../heatmap/plot":459,d3:70}],448:[function(require,a,b){"use strict";var c=require("d3"),d=require("../../plotly"),e=require("../../components/colorscale/get_scale"),f=require("../heatmap/style");a.exports=function(a){c.select(a).selectAll("g.contour").style("opacity",function(a){return a.trace.opacity}).each(function(a){var b=c.select(this),f=a.trace,g=f.contours,h=f.line,i="lines"===g.coloring,j=g.size||1,k=Math.floor((g.end+j/10-g.start)/j)+1,l=e(f.colorscale),m=i?0:1,n=c.scale.linear().domain(l.map(function(a){return(a[0]*(k+m-1)-m/2)*j+g.start})).interpolate(c.interpolateRgb).range(l.map(function(a){return a[1]}));b.selectAll("g.contourlevel").each(function(a,b){c.select(this).selectAll("path").call(d.Drawing.lineGroupStyle,h.width,i?n(g.start+b*j):h.color,h.dash)}),b.selectAll("g.contourbg path").style("fill",n(g.start-j/2)),b.selectAll("g.contourfill path").style("fill",function(a,b){return n(g.start+(b+.5)*j)})}),f(a)}},{"../../components/colorscale/get_scale":310,"../../plotly":365,"../heatmap/style":460,d3:70}],449:[function(require,a,b){"use strict";var c=require("../../components/colorscale/defaults");a.exports=function(a,b,d,e){var f,g=d("contours.coloring");"fill"===g&&(f=d("contours.showlines")),f!==!1&&("lines"!==g&&d("line.color","#000"),d("line.width",.5),d("line.dash")),d("line.smoothing"),"none"!==(b.contours||{}).coloring&&c(a,b,e,d,{prefix:"",cLetter:"z"})}},{"../../components/colorscale/defaults":308}],450:[function(require,a,b){"use strict";var c=require("../scatter/attributes"),d=require("../../components/colorscale/attributes"),e=require("../../lib/extend").extendFlat;a.exports={z:{valType:"data_array"},x:c.x,x0:c.x0,dx:c.dx,y:c.y,y0:c.y0,dy:c.dy,text:{valType:"data_array"},transpose:{valType:"boolean",dflt:!1},xtype:{valType:"enumerated",values:["array","scaled"]},ytype:{valType:"enumerated",values:["array","scaled"]},zauto:d.zauto,zmin:d.zmin,zmax:d.zmax,colorscale:d.colorscale,autocolorscale:e({},d.autocolorscale,{dflt:!1}),reversescale:d.reversescale,showscale:d.showscale,zsmooth:{valType:"enumerated",
values:["fast","best",!1],dflt:!1},connectgaps:{valType:"boolean",dflt:!1},_nestedModules:{colorbar:"Colorbar"}}},{"../../components/colorscale/attributes":305,"../../lib/extend":344,"../scatter/attributes":493}],451:[function(require,a,b){"use strict";function c(a){function b(a){return i(a)?+a:void 0}var c,d,e,f,g,h,j=a.z;if(a.transpose){for(c=0,g=0;g<j.length;g++)c=Math.max(c,j[g].length);if(0===c)return!1;e=function(a){return a.length},f=function(a,b,c){return a[c][b]}}else c=j.length,e=function(a,b){return a[b].length},f=function(a,b,c){return a[b][c]};var k=new Array(c);for(g=0;c>g;g++)for(d=e(j,g),k[g]=new Array(d),h=0;d>h;h++)k[g][h]=b(f(j,g,h));return k}function d(a,b,c,d,e,f){var g,h,i,k=[],l=j.Plots.traceIs(a,"contour"),m=j.Plots.traceIs(a,"histogram");if(Array.isArray(b)&&!m&&"category"!==f.type){b=b.map(f.d2c);var n=b.length;if(!(e>=n))return l?b.slice(0,e):b.slice(0,e+1);if(l)k=b.slice(0,e);else if(1===e)k=[b[0]-.5,b[0]+.5];else{for(k=[1.5*b[0]-.5*b[1]],i=1;n>i;i++)k.push(.5*(b[i-1]+b[i]));k.push(1.5*b[n-1]-.5*b[n-2])}if(e>n){var o=k[k.length-1],p=o-k[k.length-2];for(i=n;e>i;i++)o+=p,k.push(o)}}else for(h=d||1,g=void 0===c?0:m||"category"===f.type?c:f.d2c(c),i=l?0:-.5;e>i;i++)k.push(g+h*i);return k}function e(a){return.5-.25*Math.min(1,.5*a)}function f(a,b,c){var d,f,g=1;if(Array.isArray(c))for(d=0;d<b.length;d++)f=b[d],a[f[0]][f[1]]=c[f[0]][f[1]];else h(a,b);for(d=0;d<b.length&&!(b[d][2]<4);d++);for(b=b.slice(d),d=0;100>d&&g>q;d++)g=h(a,b,e(g));return g>q&&console.log("interp2d didn't converge quickly",g),a}function g(a){var b,c,d,e,f,g,h,i,j=[],k={},l=[],m=a[0],n=[],o=[0,0,0],q=p(a);for(c=0;c<a.length;c++)for(b=n,n=m,m=a[c+1]||[],d=0;q>d;d++)void 0===n[d]&&(g=(void 0!==n[d-1]?1:0)+(void 0!==n[d+1]?1:0)+(void 0!==b[d]?1:0)+(void 0!==m[d]?1:0),g?(0===c&&g++,0===d&&g++,c===a.length-1&&g++,d===n.length-1&&g++,4>g&&(k[[c,d]]=[c,d,g]),j.push([c,d,g])):l.push([c,d]));for(;l.length;){for(h={},i=!1,f=l.length-1;f>=0;f--)e=l[f],c=e[0],d=e[1],g=((k[[c-1,d]]||o)[2]+(k[[c+1,d]]||o)[2]+(k[[c,d-1]]||o)[2]+(k[[c,d+1]]||o)[2])/20,g&&(h[e]=[c,d,g],l.splice(f,1),i=!0);if(!i)throw"findEmpties iterated with no new neighbors";for(e in h)k[e]=h[e],j.push(h[e])}return j.sort(function(a,b){return b[2]-a[2]})}function h(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q=0;for(g=0;g<b.length;g++){for(d=b[g],e=d[0],f=d[1],n=a[e][f],m=0,l=0,h=0;4>h;h++)i=r[h],j=a[e+i[0]],j&&(k=j[f+i[1]],void 0!==k&&(0===m?o=p=k:(o=Math.min(o,k),p=Math.max(p,k)),l++,m+=k));if(0===l)throw"iterateInterp2d order is wrong: no defined neighbors";a[e][f]=m/l,void 0===n?4>l&&(q=1):(a[e][f]=(1+c)*a[e][f]-c*n,p>o&&(q=Math.max(q,Math.abs(a[e][f]-n)/(p-o))))}return q}var i=require("fast-isnumeric"),j=require("../../plotly"),k=require("../../lib"),l=require("../histogram2d/calc"),m=require("../../components/colorscale/calc"),n=require("./has_columns"),o=require("./convert_column_xyz"),p=require("./max_row_length");a.exports=function(a,b){function e(a){A=b._input.zsmooth=b.zsmooth=!1,k.notifier("cannot fast-zsmooth: "+a)}k.markTime("start convert x&y");var h,i,q,r,s,t,u,v,w=j.Axes.getFromId(a,b.xaxis||"x"),x=j.Axes.getFromId(a,b.yaxis||"y"),y=j.Plots.traceIs(b,"contour"),z=j.Plots.traceIs(b,"histogram"),A=y?"best":b.zsmooth;if(w._minDtick=0,x._minDtick=0,k.markTime("done convert x&y"),z){var B=l(a,b);h=B.x,i=B.x0,q=B.dx,r=B.y,s=B.y0,t=B.dy,u=B.z}else n(b)&&o(b,w,x),h=b.x?w.makeCalcdata(b,"x"):[],r=b.y?x.makeCalcdata(b,"y"):[],i=b.x0||0,q=b.dx||1,s=b.y0||0,t=b.dy||1,u=c(b),(y||b.connectgaps)&&(b._emptypoints=g(u),b._interpz=f(u,b._emptypoints,b._interpz));if("fast"===A)if("log"===w.type||"log"===x.type)e("log axis found");else if(!z){if(h.length){var C=(h[h.length-1]-h[0])/(h.length-1),D=Math.abs(C/100);for(v=0;v<h.length-1;v++)if(Math.abs(h[v+1]-h[v]-C)>D){e("x scale is not linear");break}}if(r.length&&"fast"===A){var E=(r[r.length-1]-r[0])/(r.length-1),F=Math.abs(E/100);for(v=0;v<r.length-1;v++)if(Math.abs(r[v+1]-r[v]-E)>F){e("y scale is not linear");break}}}var G=p(u),H="scaled"===b.xtype?"":b.x,I=d(b,H,i,q,G,w),J="scaled"===b.ytype?"":b.y,K=d(b,J,s,t,u.length,x);j.Axes.expand(w,I),j.Axes.expand(x,K);var L={x:I,y:K,z:u};if(m(b,u,"","z"),y&&b.contours&&"heatmap"===b.contours.coloring){var M="contour"===b.type?"heatmap":"histogram2d";L.xfill=d(M,H,i,q,G,w),L.yfill=d(M,J,s,t,u.length,x)}return[L]};var q=.01,r=[[-1,0],[1,0],[0,-1],[0,1]]},{"../../components/colorscale/calc":306,"../../lib":348,"../../plotly":365,"../histogram2d/calc":471,"./convert_column_xyz":453,"./has_columns":455,"./max_row_length":458,"fast-isnumeric":74}],452:[function(require,a,b){"use strict";var c=require("d3"),d=require("fast-isnumeric"),e=require("../../plotly"),f=require("../../lib"),g=require("../../components/colorscale/get_scale"),h=require("../../components/colorbar/draw");a.exports=function(a,b){var i=b[0].trace,j="cb"+i.uid,k=g(i.colorscale),l=i.zmin,m=i.zmax;if(d(l)||(l=f.aggNums(Math.min,null,i.z)),d(m)||(m=f.aggNums(Math.max,null,i.z)),a._fullLayout._infolayer.selectAll("."+j).remove(),!i.showscale)return void e.Plots.autoMargin(a,j);var n=b[0].t.cb=h(a,j);n.fillcolor(c.scale.linear().domain(k.map(function(a){return l+a[0]*(m-l)})).range(k.map(function(a){return a[1]}))).filllevels({start:l,end:m,size:(m-l)/254}).options(i.colorbar)(),f.markTime("done colorbar")}},{"../../components/colorbar/draw":302,"../../components/colorscale/get_scale":310,"../../lib":348,"../../plotly":365,d3:70,"fast-isnumeric":74}],453:[function(require,a,b){"use strict";var c=require("../../lib");a.exports=function(a,b,d){var e,f=a.x.slice(),g=a.y.slice(),h=a.z,i=a.text,j=Math.min(f.length,g.length,h.length),k=void 0!==i&&!Array.isArray(i[0]);for(j<f.length&&(f=f.slice(0,j)),j<g.length&&(g=g.slice(0,j)),e=0;j>e;e++)f[e]=b.d2c(f[e]),g[e]=d.d2c(g[e]);var l,m,n,o=c.distinctVals(f),p=o.vals,q=c.distinctVals(g),r=q.vals,s=c.init2dArray(r.length,p.length);for(k&&(n=c.init2dArray(r.length,p.length)),e=0;j>e;e++)l=c.findBin(f[e]+o.minDiff/2,p),m=c.findBin(g[e]+q.minDiff/2,r),s[m][l]=h[e],k&&(n[m][l]=i[e]);a.x=p,a.y=r,a.z=s,k&&(a.text=n)}},{"../../lib":348}],454:[function(require,a,b){"use strict";var c=require("../../lib"),d=require("./has_columns"),e=require("./xyz_defaults"),f=require("../../components/colorscale/defaults"),g=require("./attributes");a.exports=function(a,b,h,i){function j(d,e){return c.coerce(a,b,g,d,e)}var k=e(a,b,j);return k?(j("text"),j("zsmooth"),j("connectgaps",d(b)&&b.zsmooth!==!1),void f(a,b,i,j,{prefix:"",cLetter:"z"})):void(b.visible=!1)}},{"../../components/colorscale/defaults":308,"../../lib":348,"./attributes":450,"./has_columns":455,"./xyz_defaults":461}],455:[function(require,a,b){"use strict";a.exports=function(a){return!Array.isArray(a.z[0])}},{}],456:[function(require,a,b){"use strict";var c=require("../../plotly"),d=require("../../lib");a.exports=function(a,b,e,f,g){if(!(a.distance<c.Fx.MAXDIST)){var h,i,j,k,l=a.cd[0],m=l.trace,n=a.xa,o=a.ya,p=l.x,q=l.y,r=l.z,s=l.zmask,t=p,u=q;if(a.index!==!1){try{j=Math.round(a.index[1]),k=Math.round(a.index[0])}catch(v){return void console.log("Error hovering on heatmap, pointNumber must be [row,col], found:",a.index)}if(0>j||j>=r[0].length||0>k||k>r.length)return}else{if(c.Fx.inbox(b-p[0],b-p[p.length-1])>c.Fx.MAXDIST||c.Fx.inbox(e-q[0],e-q[q.length-1])>c.Fx.MAXDIST)return;if(g){var w;for(t=[2*p[0]-p[1]],w=1;w<p.length;w++)t.push((p[w]+p[w-1])/2);for(t.push([2*p[p.length-1]-p[p.length-2]]),u=[2*q[0]-q[1]],w=1;w<q.length;w++)u.push((q[w]+q[w-1])/2);u.push([2*q[q.length-1]-q[q.length-2]])}j=Math.max(0,Math.min(t.length-2,d.findBin(b,t))),k=Math.max(0,Math.min(u.length-2,d.findBin(e,u)))}var x=n.c2p(p[j]),y=n.c2p(p[j+1]),z=o.c2p(q[k]),A=o.c2p(q[k+1]);g?(y=x,h=p[j],A=z,i=q[k]):(h=(p[j]+p[j+1])/2,i=(q[k]+q[k+1])/2,m.zsmooth&&(x=y=(x+y)/2,z=A=(z+A)/2));var B=r[k][j];s&&!s[k][j]&&(B=void 0);var C;return Array.isArray(m.text)&&Array.isArray(m.text[k])&&(C=m.text[k][j]),[d.extendFlat(a,{index:[k,j],distance:c.Fx.MAXDIST+10,x0:x,x1:y,y0:z,y1:A,xLabelVal:h,yLabelVal:i,zLabelVal:B,text:C})]}}},{"../../lib":348,"../../plotly":365}],457:[function(require,a,b){"use strict";var c={};c.attributes=require("./attributes"),c.supplyDefaults=require("./defaults"),c.calc=require("./calc"),c.plot=require("./plot"),c.colorbar=require("./colorbar"),c.style=require("./style"),c.hoverPoints=require("./hover"),c.moduleType="trace",c.name="heatmap",c.basePlotModule=require("../../plots/cartesian"),c.categories=["cartesian","2dMap"],c.meta={},a.exports=c},{"../../plots/cartesian":371,"./attributes":450,"./calc":451,"./colorbar":452,"./defaults":454,"./hover":456,"./plot":459,"./style":460}],458:[function(require,a,b){"use strict";a.exports=function(a){for(var b=0,c=0;c<a.length;c++)b=Math.max(b,a[c].length);return b}},{}],459:[function(require,a,b){"use strict";function c(a,b,c){function k(a,b){var c=b.length-2,d=g.constrain(g.findBin(a,b),0,c),e=b[d],f=b[d+1],h=g.constrain(d+(a-e)/(f-e)-.5,0,c),i=Math.round(h),j=Math.abs(h-i);return h&&h!==c&&j?{bin0:i,frac:j,bin1:Math.round(i+j/(h-i))}:{bin0:i,bin1:i,frac:0}}function l(a,b){if(void 0!==a){var c=V((a-B)/(C-B));return c[0]=Math.round(c[0]),c[1]=Math.round(c[1]),c[2]=Math.round(c[2]),ea+=b,fa+=c[0]*b,ga+=c[1]*b,ha+=c[2]*b,c}return[0,0,0,0]}function m(a,b,c){a[b]=c[0],a[b+1]=c[1],a[b+2]=c[2],a[b+3]=Math.round(255*c[3])}function n(a,b,c,d){var e=a[c.bin0];if(void 0===e)return l(void 0,1);var f,g=a[c.bin1],h=b[c.bin0],i=b[c.bin1],j=g-e||0,k=h-e||0;return f=void 0===g?void 0===i?0:void 0===h?2*(i-e):2*(2*i-h-e)/3:void 0===i?void 0===h?0:2*(2*e-g-h)/3:void 0===h?2*(2*i-g-e)/3:i+e-g-h,l(e+c.frac*j+d.frac*(k+c.frac*f))}g.markTime("in Heatmap.plot");var o=c[0].trace,p=o.uid,q=b.x(),r=b.y(),s=a._fullLayout,t="hm"+p;if(s._paper.selectAll(".contour"+p).remove(),o.visible!==!0)return s._paper.selectAll("."+t).remove(),void s._infolayer.selectAll(".cb"+p).remove();var u,v,w,x,y,z,A=c[0].z,B=o.zmin,C=o.zmax,D=h(o.colorscale),E=c[0].x,F=c[0].y,G=f.Plots.traceIs(o,"contour"),H=G?"best":o.zsmooth,I=A.length,J=j(A),K=!1,L=!1;for(z=0;void 0===u&&z<E.length-1;)u=q.c2p(E[z]),z++;for(z=E.length-1;void 0===v&&z>0;)v=q.c2p(E[z]),z--;for(u>v&&(w=v,v=u,u=w,K=!0),z=0;void 0===x&&z<F.length-1;)x=r.c2p(F[z]),z++;for(z=F.length-1;void 0===y&&z>0;)y=r.c2p(F[z]),z--;if(x>y&&(w=x,x=y,y=w,L=!0),G&&(E=c[0].xfill,F=c[0].yfill),"fast"!==H){var M="best"===H?0:.5;u=Math.max(-M*q._length,u),v=Math.min((1+M)*q._length,v),x=Math.max(-M*r._length,x),y=Math.min((1+M)*r._length,y)}var N=Math.round(v-u),O=Math.round(y-x);if(!(0>=N||0>=O)){var P,Q;"fast"===H?(P=J,Q=I):(P=N,Q=O);var R=document.createElement("canvas");R.width=P,R.height=Q;var S,T,U=R.getContext("2d"),V=d.scale.linear().domain(D.map(function(a){return a[0]})).range(D.map(function(a){var b=e(a[1]).toRgb();return[b.r,b.g,b.b,b.a]})).clamp(!0);"fast"===H?(S=K?function(a){return J-1-a}:g.identity,T=L?function(a){return I-1-a}:g.identity):(S=function(a){return g.constrain(Math.round(q.c2p(E[a])-u),0,N)},T=function(a){return g.constrain(Math.round(r.c2p(F[a])-x),0,O)});var W,X,Y,Z,$,_,aa=T(0),ba=[aa,aa],ca=K?0:1,da=L?0:1,ea=0,fa=0,ga=0,ha=0;if(g.markTime("done init png"),H){var ia=0,ja=new Uint8Array(N*O*4);if("best"===H){var ka,la,ma,na=new Array(E.length),oa=new Array(F.length),pa=new Array(N);for(z=0;z<E.length;z++)na[z]=Math.round(q.c2p(E[z])-u);for(z=0;z<F.length;z++)oa[z]=Math.round(r.c2p(F[z])-x);for(z=0;N>z;z++)pa[z]=k(z,na);for(X=0;O>X;X++)for(ka=k(X,oa),la=A[ka.bin0],ma=A[ka.bin1],z=0;N>z;z++,ia+=4)_=n(la,ma,pa[z],ka),m(ja,ia,_)}else for(X=0;I>X;X++)for($=A[X],ba=T(X),z=0;J>z;z++)_=l($[z],1),ia=4*(ba*N+S(z)),m(ja,ia,_);var qa=U.createImageData(N,O);qa.data.set(ja),U.putImageData(qa,0,0)}else for(X=0;I>X;X++)if($=A[X],ba.reverse(),ba[da]=T(X+1),ba[0]!==ba[1]&&void 0!==ba[0]&&void 0!==ba[1])for(Y=S(0),W=[Y,Y],z=0;J>z;z++)W.reverse(),W[ca]=S(z+1),W[0]!==W[1]&&void 0!==W[0]&&void 0!==W[1]&&(Z=$[z],_=l(Z,(W[1]-W[0])*(ba[1]-ba[0])),U.fillStyle="rgba("+_.join(",")+")",U.fillRect(W[0],ba[0],W[1]-W[0],ba[1]-ba[0]));g.markTime("done filling png"),fa=Math.round(fa/ea),ga=Math.round(ga/ea),ha=Math.round(ha/ea);var ra=e("rgb("+fa+","+ga+","+ha+")");a._hmpixcount=(a._hmpixcount||0)+ea,a._hmlumcount=(a._hmlumcount||0)+ea*ra.getLuminance();var sa=b.plot.select(".imagelayer").selectAll("g.hm."+t).data([0]);sa.enter().append("g").classed("hm",!0).classed(t,!0),sa.exit().remove();var ta=sa.selectAll("image").data(c);ta.enter().append("svg:image"),ta.exit().remove(),ta.attr({xmlns:i.svg,"xlink:href":R.toDataURL("image/png"),height:O,width:N,x:u,y:x,preserveAspectRatio:"none"}),g.markTime("done showing png")}}var d=require("d3"),e=require("tinycolor2"),f=require("../../plotly"),g=require("../../lib"),h=require("../../components/colorscale/get_scale"),i=require("../../constants/xmlns_namespaces"),j=require("./max_row_length");a.exports=function(a,b,d){for(var e=0;e<d.length;e++)c(a,b,d[e])}},{"../../components/colorscale/get_scale":310,"../../constants/xmlns_namespaces":337,"../../lib":348,"../../plotly":365,"./max_row_length":458,d3:70,tinycolor2:229}],460:[function(require,a,b){"use strict";var c=require("d3");a.exports=function(a){c.select(a).selectAll("image").style("opacity",function(a){return a.trace.opacity})}},{d3:70}],461:[function(require,a,b){"use strict";function c(a,b){var c=b(a),d=c?b(a+"type","array"):"scaled";return"scaled"===d&&(b(a+"0"),b("d"+a)),c}function d(a){for(var b,c=!0,d=!1,f=!1,g=0;g<a.length;g++){if(b=a[g],!Array.isArray(b)){c=!1;break}b.length>0&&(d=!0);for(var h=0;h<b.length;h++)if(e(b[h])){f=!0;break}}return c&&d&&f}var e=require("fast-isnumeric"),f=require("./has_columns");a.exports=function(a,b,e){var g,h,i=e("z");if(void 0===i||!i.length)return 0;if(f(a)){if(g=e("x"),h=e("y"),!g||!h)return 0}else{if(g=c("x",e),h=c("y",e),!d(i))return 0;e("transpose")}return b.z.length}},{"./has_columns":455,"fast-isnumeric":74}],462:[function(require,a,b){"use strict";function c(a){return{start:{valType:"number",dflt:null},end:{valType:"number",dflt:null},size:{valType:"any",dflt:1}}}var d=require("../bar/attributes"),e=require("../../lib").extendFlat,f=d.marker,g=f.line;a.exports={x:{valType:"data_array"},y:{valType:"data_array"},text:d.text,orientation:d.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:""},autobinx:{valType:"boolean",dflt:!0},nbinsx:{valType:"integer",min:0,dflt:0},xbins:c("x"),autobiny:{valType:"boolean",dflt:!0},nbinsy:{valType:"integer",min:0,dflt:0},ybins:c("y"),marker:{color:f.color,colorscale:f.colorscale,cauto:f.cauto,cmax:f.cmax,cmin:f.cmin,autocolorscale:f.autocolorscale,reversescale:f.reversescale,showscale:f.showscale,line:{color:g.color,colorscale:g.colorscale,cauto:g.cauto,cmax:g.cmax,cmin:g.cmin,autocolorscale:g.autocolorscale,reversescale:g.reversescale,width:e({},g.width,{dflt:0})}},_nestedModules:{error_y:"ErrorBars",error_x:"ErrorBars","marker.colorbar":"Colorbar"},_deprecated:{bardir:d._deprecated.bardir}}},{"../../lib":348,"../bar/attributes":416}],463:[function(require,a,b){"use strict";a.exports=function(a,b){for(var c=a.length,d=0,e=0;c>e;e++)b[e]?(a[e]/=b[e],d+=a[e]):a[e]=null;return d}},{}],464:[function(require,a,b){"use strict";a.exports=function(a,b,c,d){return c("histnorm"),d.forEach(function(a){var b=c(a+"bins.start"),d=c(a+"bins.end"),e=c("autobin"+a,!(b&&d));c(e?"nbins"+a:a+"bins.size")}),b}},{}],465:[function(require,a,b){"use strict";var c=require("fast-isnumeric");a.exports={count:function(a,b,c){return c[a]++,1},sum:function(a,b,d,e){var f=e[b];return c(f)?(f=Number(f),d[a]+=f,f):0},avg:function(a,b,d,e,f){var g=e[b];return c(g)&&(g=Number(g),d[a]+=g,f[a]++),0},min:function(a,b,d,e){var f=e[b];if(c(f)){if(f=Number(f),!c(d[a]))return d[a]=f,f;if(d[a]>f)return d[a]=f,f-d[a]}return 0},max:function(a,b,d,e){var f=e[b];if(c(f)){if(f=Number(f),!c(d[a]))return d[a]=f,f;if(d[a]<f)return d[a]=f,f-d[a]}return 0}}},{"fast-isnumeric":74}],466:[function(require,a,b){"use strict";var c=require("fast-isnumeric"),d=require("../../plotly"),e=require("../../lib"),f=require("./bin_functions"),g=require("./norm_functions"),h=require("./average");a.exports=function(a,b){if(b.visible===!0){var i,j=[],k=[],l=d.Axes.getFromId(a,"h"===b.orientation?b.yaxis||"y":b.xaxis||"x"),m="h"===b.orientation?"y":"x",n={x:"y",y:"x"}[m],o=l.makeCalcdata(b,m);b["autobin"+m]===!1&&m+"bins"in b||(b[m+"bins"]=d.Axes.autoBin(o,l,b["nbins"+m]),b._input[m+"bins"]=b[m+"bins"]);var p,q,r,s,t=b[m+"bins"],u="string"==typeof t.size,v=u?[]:t,w=[],x=[],y=0,z=b.histnorm,A=b.histfunc,B=-1!==z.indexOf("density"),C="max"===A||"min"===A,D=C?null:0,E=f.count,F=g[z],G=!1;for(Array.isArray(b[n])&&"count"!==A&&(s=b[n],G="avg"===A,E=f[A]),i=t.start,q=t.end+(t.start-d.Axes.tickIncrement(t.start,t.size))/1e6;q>i&&j.length<5e3;)p=d.Axes.tickIncrement(i,t.size),j.push((i+p)/2),k.push(D),u&&v.push(i),B&&w.push(1/(p-i)),G&&x.push(0),i=p;var H=k.length;for(i=0;i<o.length;i++)r=e.findBin(o[i],v),r>=0&&H>r&&(y+=E(r,i,k,s,x));G&&(y=h(k,x)),F&&F(k,y,w);var I=Math.min(j.length,k.length),J=[],K=0,L=I-1;for(i=0;I>i;i++)if(k[i]){K=i;break}for(i=I-1;i>K;i--)if(k[i]){L=i;break}for(i=K;L>=i;i++)c(j[i])&&c(k[i])&&J.push({p:j[i],s:k[i],b:0});return J}}},{"../../lib":348,"../../plotly":365,"./average":463,"./bin_functions":465,"./norm_functions":469,"fast-isnumeric":74}],467:[function(require,a,b){"use strict";var c=require("../../lib"),d=require("../../components/color"),e=require("./bin_defaults"),f=require("../bar/style_defaults"),g=require("../../components/errorbars/defaults"),h=require("./attributes");a.exports=function(a,b,i,j){function k(d,e){return c.coerce(a,b,h,d,e)}var l=k("x"),m=k("y");k("text");var n=k("orientation",m&&!l?"h":"v"),o=b["v"===n?"x":"y"];if(!o||!o.length)return void(b.visible=!1);var p=b["h"===n?"x":"y"];p&&k("histfunc");var q="h"===n?["y"]:["x"];e(a,b,k,q),f(a,b,k,i,j),g(a,b,d.defaultLine,{axis:"y"}),g(a,b,d.defaultLine,{axis:"x",inherit:"y"})}},{"../../components/color":299,"../../components/errorbars/defaults":322,"../../lib":348,"../bar/style_defaults":426,"./attributes":462,"./bin_defaults":464}],468:[function(require,a,b){"use strict";var c={};c.attributes=require("./attributes"),c.layoutAttributes=require("../bar/layout_attributes"),c.supplyDefaults=require("./defaults"),c.supplyLayoutDefaults=require("../bar/layout_defaults"),c.calc=require("./calc"),c.setPositions=require("../bar/set_positions"),c.plot=require("../bar/plot"),c.style=require("../bar/style"),c.colorbar=require("../scatter/colorbar"),c.hoverPoints=require("../bar/hover"),c.moduleType="trace",c.name="histogram",c.basePlotModule=require("../../plots/cartesian"),c.categories=["cartesian","bar","histogram","oriented","errorBarsOK","showLegend"],c.meta={},a.exports=c},{"../../plots/cartesian":371,"../bar/hover":419,"../bar/layout_attributes":421,"../bar/layout_defaults":422,"../bar/plot":423,"../bar/set_positions":424,"../bar/style":425,"../scatter/colorbar":496,"./attributes":462,"./calc":466,"./defaults":467}],469:[function(require,a,b){"use strict";a.exports={percent:function(a,b){for(var c=a.length,d=100/b,e=0;c>e;e++)a[e]*=d},probability:function(a,b){for(var c=a.length,d=0;c>d;d++)a[d]/=b},density:function(a,b,c,d){var e=a.length;d=d||1;for(var f=0;e>f;f++)a[f]*=c[f]*d},"probability density":function(a,b,c,d){var e=a.length;d&&(b/=d);for(var f=0;e>f;f++)a[f]*=c[f]/b}}},{}],470:[function(require,a,b){"use strict";var c=require("../histogram/attributes"),d=require("../heatmap/attributes");a.exports={x:c.x,y:c.y,z:{valType:"data_array"},marker:{color:{valType:"data_array"}},histnorm:c.histnorm,histfunc:c.histfunc,autobinx:c.autobinx,nbinsx:c.nbinsx,xbins:c.xbins,autobiny:c.autobiny,nbinsy:c.nbinsy,ybins:c.ybins,zauto:d.zauto,zmin:d.zmin,zmax:d.zmax,colorscale:d.colorscale,autocolorscale:d.autocolorscale,reversescale:d.reversescale,showscale:d.showscale,zsmooth:d.zsmooth,_nestedModules:{colorbar:"Colorbar"}}},{"../heatmap/attributes":450,"../histogram/attributes":462}],471:[function(require,a,b){"use strict";var c=require("../../plotly"),d=require("../../lib"),e=require("../histogram/bin_functions"),f=require("../histogram/norm_functions"),g=require("../histogram/average");a.exports=function(a,b){var h,i,j,k,l,m,n=c.Axes.getFromId(a,b.xaxis||"x"),o=b.x?n.makeCalcdata(b,"x"):[],p=c.Axes.getFromId(a,b.yaxis||"y"),q=b.y?p.makeCalcdata(b,"y"):[],r=Math.min(o.length,q.length);o.length>r&&o.splice(r,o.length-r),q.length>r&&q.splice(r,q.length-r),d.markTime("done convert data"),!b.autobinx&&"xbins"in b||(b.xbins=c.Axes.autoBin(o,n,b.nbinsx,"2d"),"histogram2dcontour"===b.type&&(b.xbins.start-=b.xbins.size,b.xbins.end+=b.xbins.size),b._input.xbins=b.xbins),!b.autobiny&&"ybins"in b||(b.ybins=c.Axes.autoBin(q,p,b.nbinsy,"2d"),"histogram2dcontour"===b.type&&(b.ybins.start-=b.ybins.size,b.ybins.end+=b.ybins.size),b._input.ybins=b.ybins),d.markTime("done autoBin"),l=[];var s,t,u=[],v=[],w="string"==typeof b.xbins.size?[]:b.xbins,x="string"==typeof b.xbins.size?[]:b.ybins,y=0,z=[],A=b.histnorm,B=b.histfunc,C=-1!==A.indexOf("density"),D="max"===B||"min"===B,E=D?null:0,F=e.count,G=f[A],H=!1,I=[],J=[],K="z"in b?b.z:"marker"in b&&Array.isArray(b.marker.color)?b.marker.color:"";K&&"count"!==B&&(H="avg"===B,F=e[B]);var L=b.xbins,M=L.end+(L.start-c.Axes.tickIncrement(L.start,L.size))/1e6;for(m=L.start;M>m;m=c.Axes.tickIncrement(m,L.size))u.push(E),Array.isArray(w)&&w.push(m),H&&v.push(0);Array.isArray(w)&&w.push(m);var N=u.length;for(h=b.xbins.start,i=(m-h)/N,h+=i/2,L=b.ybins,M=L.end+(L.start-c.Axes.tickIncrement(L.start,L.size))/1e6,m=L.start;M>m;m=c.Axes.tickIncrement(m,L.size))l.push(u.concat()),Array.isArray(x)&&x.push(m),H&&z.push(v.concat());Array.isArray(x)&&x.push(m);var O=l.length;for(j=b.ybins.start,k=(m-j)/O,j+=k/2,C&&(I=u.map(function(a,b){return Array.isArray(w)?1/(w[b+1]-w[b]):1/i}),J=l.map(function(a,b){return Array.isArray(x)?1/(x[b+1]-x[b]):1/k})),d.markTime("done making bins"),m=0;r>m;m++)s=d.findBin(o[m],w),t=d.findBin(q[m],x),s>=0&&N>s&&t>=0&&O>t&&(y+=F(s,m,l[t],K,z[t]));if(H)for(t=0;O>t;t++)y+=g(l[t],z[t]);if(G)for(t=0;O>t;t++)G(l[t],y,I,J[t]);return d.markTime("done binning"),{x:o,x0:h,dx:i,y:q,y0:j,dy:k,z:l}}},{"../../lib":348,"../../plotly":365,"../histogram/average":463,"../histogram/bin_functions":465,"../histogram/norm_functions":469}],472:[function(require,a,b){"use strict";var c=require("../../lib"),d=require("./sample_defaults"),e=require("../../components/colorscale/defaults"),f=require("./attributes");a.exports=function(a,b,g){function h(d,e){return c.coerce(a,b,f,d,e)}d(a,b,h),h("zsmooth"),e(a,b,g,h,{prefix:"",cLetter:"z"})}},{"../../components/colorscale/defaults":308,"../../lib":348,"./attributes":470,"./sample_defaults":474}],473:[function(require,a,b){"use strict";var c={};c.attributes=require("./attributes"),c.supplyDefaults=require("./defaults"),c.calc=require("../heatmap/calc"),c.plot=require("../heatmap/plot"),c.colorbar=require("../heatmap/colorbar"),c.style=require("../heatmap/style"),c.hoverPoints=require("../heatmap/hover"),c.moduleType="trace",c.name="histogram2d",c.basePlotModule=require("../../plots/cartesian"),c.categories=["cartesian","2dMap","histogram"],c.meta={},a.exports=c},{"../../plots/cartesian":371,"../heatmap/calc":451,"../heatmap/colorbar":452,"../heatmap/hover":456,"../heatmap/plot":459,"../heatmap/style":460,"./attributes":470,"./defaults":472}],474:[function(require,a,b){"use strict";var c=require("../histogram/bin_defaults");a.exports=function(a,b,d){var e=d("x"),f=d("y");if(!(e&&e.length&&f&&f.length))return void(b.visible=!1);var g=d("z")||d("marker.color");g&&d("histfunc");var h=["x","y"];c(a,b,d,h)}},{"../histogram/bin_defaults":464}],475:[function(require,a,b){"use strict";var c=require("../histogram2d/attributes"),d=require("../contour/attributes");a.exports={x:c.x,y:c.y,z:c.z,marker:c.marker,histnorm:c.histnorm,histfunc:c.histfunc,autobinx:c.autobinx,nbinsx:c.nbinsx,xbins:c.xbins,autobiny:c.autobiny,nbinsy:c.nbinsy,ybins:c.ybins,zauto:d.zauto,zmin:d.zmin,zmax:d.zmax,colorscale:d.colorscale,autocolorscale:d.autocolorscale,reversescale:d.reversescale,showscale:d.showscale,autocontour:d.autocontour,ncontours:d.ncontours,contours:d.contours,line:d.line,_nestedModules:{colorbar:"Colorbar"}}},{"../contour/attributes":441,"../histogram2d/attributes":470}],476:[function(require,a,b){"use strict";var c=require("../../lib"),d=require("../histogram2d/sample_defaults"),e=require("../contour/style_defaults"),f=require("./attributes");a.exports=function(a,b,g,h){function i(d,e){return c.coerce(a,b,f,d,e)}d(a,b,i);var j=c.coerce2(a,b,f,"contours.start"),k=c.coerce2(a,b,f,"contours.end"),l=i("autocontour",!(j&&k));i(l?"ncontours":"contours.size"),e(a,b,i,h)}},{"../../lib":348,"../contour/style_defaults":449,"../histogram2d/sample_defaults":474,"./attributes":475}],477:[function(require,a,b){"use strict";var c={};c.attributes=require("./attributes"),c.supplyDefaults=require("./defaults"),c.calc=require("../contour/calc"),c.plot=require("../contour/plot"),c.style=require("../contour/style"),c.colorbar=require("../contour/colorbar"),c.hoverPoints=require("../contour/hover"),c.moduleType="trace",c.name="histogram2dcontour",c.basePlotModule=require("../../plots/cartesian"),c.categories=["cartesian","2dMap","contour","histogram"],c.meta={},a.exports=c},{"../../plots/cartesian":371,"../contour/calc":442,"../contour/colorbar":443,"../contour/hover":445,"../contour/plot":447,"../contour/style":448,"./attributes":475,"./defaults":476}],478:[function(require,a,b){"use strict";var c=require("../../components/colorscale/attributes"),d=require("../surface/attributes"),e=require("../../lib/extend").extendFlat;a.exports={x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},i:{valType:"data_array"},j:{valType:"data_array"},k:{valType:"data_array"},delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z"},alphahull:{valType:"number",dflt:-1},intensity:{valType:"data_array"},color:{valType:"color"},vertexcolor:{valType:"data_array"},facecolor:{valType:"data_array"},opacity:e({},d.opacity),flatshading:{valType:"boolean",dflt:!1},contour:{show:e({},d.contours.x.show,{}),color:e({},d.contours.x.color),width:e({},d.contours.x.width)},colorscale:c.colorscale,reversescale:c.reversescale,showscale:c.showscale,lighting:e({},d.lighting),_nestedModules:{colorbar:"Colorbar"}}},{"../../components/colorscale/attributes":305,"../../lib/extend":344,"../surface/attributes":529}],479:[function(require,a,b){"use strict";function c(a,b,c){this.scene=a,this.uid=c,this.mesh=b,this.name="",this.color="#fff",this.data=null,this.showContour=!1}function d(a){return a.map(function(a){var b=a[0],c=i(a[1]),d=c.toRgb();return{index:b,rgb:[d.r,d.g,d.b,1]}})}function e(a){return a.map(m)}function f(a,b,c){for(var d=new Array(a.length),e=0;e<a.length;++e)d[e]=[a[e],b[e],c[e]];return d}function g(a,b){var d=a.glplot.gl,e=h({gl:d}),f=new c(a,e,b.uid);return f.update(b),a.glplot.add(e),f}var h=require("gl-mesh3d"),i=require("tinycolor2"),j=require("delaunay-triangulate"),k=require("alpha-shape"),l=require("convex-hull"),m=require("../../lib/str2rgbarray"),n=c.prototype;n.handlePick=function(a){if(a.object===this.mesh){var b=a.data.index;return a.traceCoordinate=[this.data.x[b],this.data.y[b],this.data.z[b]],!0}},n.update=function(a){function b(a,b,c){return b.map(function(b){return a.d2l(b)*c})}var c=this.scene,g=c.fullSceneLayout;this.data=a;var h,i=f(b(g.xaxis,a.x,c.dataScale[0]),b(g.yaxis,a.y,c.dataScale[1]),b(g.zaxis,a.z,c.dataScale[2]));if(a.i&&a.j&&a.k)h=f(a.i,a.j,a.k);else if(0===a.alphahull)h=l(i);else if(a.alphahull>0)h=k(a.alphahull,i);else{var n=["x","y","z"].indexOf(a.delaunayaxis);h=j(i.map(function(a){return[a[(n+1)%3],a[(n+2)%3]]}))}var o={positions:i,cells:h,ambient:a.lighting.ambient,diffuse:a.lighting.diffuse,specular:a.lighting.specular,roughness:a.lighting.roughness,fresnel:a.lighting.fresnel,opacity:a.opacity,contourEnable:a.contour.show,contourColor:m(a.contour.color).slice(0,3),contourWidth:a.contour.width,useFacetNormals:a.flatshading};a.intensity?(this.color="#fff",o.vertexIntensity=a.intensity,o.colormap=d(a.colorscale)):a.vertexColor?(this.color=a.vertexColor[0],o.vertexColors=e(a.vertexColor)):a.faceColor?(this.color=a.faceColor[0],o.cellColors=e(a.faceColor)):(this.color=a.color,o.meshColor=m(a.color)),this.mesh.update(o)},n.dispose=function(){this.glplot.remove(this.mesh),this.mesh.dispose()},a.exports=g},{"../../lib/str2rgbarray":358,"alpha-shape":39,"convex-hull":60,"delaunay-triangulate":71,"gl-mesh3d":107,tinycolor2:229}],480:[function(require,a,b){"use strict";var c=require("../../plotly"),d=require("../../lib"),e=require("./attributes");a.exports=function(a,b,f,g){function h(c,f){return d.coerce(a,b,e,c,f)}function i(a){var b=a.map(function(a){var b=h(a);return b&&Array.isArray(b)?b:null});return b.every(function(a){return a&&a.length===b[0].length})&&b}var j=i(["x","y","z"]),k=i(["i","j","k"]);return j?(k&&k.forEach(function(a){for(var b=0;b<a.length;++b)a[b]|=0}),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","contour.show","contour.color","contour.width","colorscale","reversescale","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(a){h(a)}),"intensity"in a?(h("intensity"),h("showscale",!0)):(b.showscale=!1,"vertexColor"in a?h("vertexColor"):"faceColor"in a?h("faceColor"):h("color",f)),b.reversescale&&(b.colorscale=b.colorscale.map(function(a){return[1-a[0],a[1]]}).reverse()),void(b.showscale&&c.Colorbar.supplyDefaults(a,b,g))):void(b.visible=!1)}},{"../../lib":348,"../../plotly":365,"./attributes":478}],481:[function(require,a,b){"use strict";var c={};c.attributes=require("./attributes"),c.supplyDefaults=require("./defaults"),c.colorbar=require("../heatmap/colorbar"),c.plot=require("./convert"),c.moduleType="trace",c.name="mesh3d",c.basePlotModule=require("../../plots/gl3d"),c.categories=["gl3d"],c.meta={},a.exports=c},{"../../plots/gl3d":391,"../heatmap/colorbar":452,"./attributes":478,"./convert":479,"./defaults":480}],482:[function(require,a,b){"use strict";var c=require("../../components/color/attributes"),d=require("../../plots/font_attributes"),e=require("../../plots/attributes"),f=require("../../lib/extend").extendFlat;a.exports={labels:{valType:"data_array"},label0:{valType:"number",dflt:0},dlabel:{valType:"number",dflt:1},values:{valType:"data_array"},marker:{colors:{valType:"data_array"},line:{color:{valType:"color",dflt:c.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}}},text:{valType:"data_array"},scalegroup:{valType:"string",dflt:""},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"]},hoverinfo:f({},e.hoverinfo,{flags:["label","text","value","percent","name"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0},textfont:f({},d,{}),insidetextfont:f({},d,{}),outsidetextfont:f({},d,{}),domain:{x:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]},y:{valType:"info_array",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1]}},hole:{valType:"number",min:0,max:1,dflt:0},sort:{valType:"boolean",dflt:!0},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise"},rotation:{valType:"number",min:-360,max:360,dflt:0},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0}}},{"../../components/color/attributes":298,"../../lib/extend":344,"../../plots/attributes":366,"../../plots/font_attributes":374}],483:[function(require,a,b){"use strict";function c(a){if(!h){var b=f.defaults;h=b.slice();var c;for(c=0;c<b.length;c++)h.push(e(b[c]).lighten(20).toHexString());for(c=0;c<f.defaults.length;c++)h.push(e(b[c]).darken(20).toHexString())}return h[a%h.length]}var d=require("fast-isnumeric"),e=require("tinycolor2"),f=require("../../components/color"),g=require("./helpers");a.exports=function(a,b){var h,i,j,k,l,m,n=b.values,o=b.labels,p=[],q=a._fullLayout,r=q._piecolormap,s={},t=!1,u=0,v=q.hiddenlabels||[];
if(b.dlabel)for(o=new Array(n.length),h=0;h<n.length;h++)o[h]=String(b.label0+h*b.dlabel);for(h=0;h<n.length;h++)i=n[h],d(i)&&(i=+i,0>i||(j=o[h],(void 0===j||""===j)&&(j=h),j=String(j),void 0===s[j]&&(s[j]=!0,k=e(b.marker.colors[h]),k.isValid()?(k=f.addOpacity(k,k.getAlpha()),r[j]||(r[j]=k)):r[j]?k=r[j]:(k=!1,t=!0),l=-1!==v.indexOf(j),l||(u+=i),p.push({v:i,label:j,color:k,i:h,hidden:l}))));if(b.sort&&p.sort(function(a,b){return b.v-a.v}),t)for(h=0;h<p.length;h++)m=p[h],m.color===!1&&(r[m.label]=m.color=c(q._piedefaultcolorcount),q._piedefaultcolorcount++);if(p[0]&&(p[0].vTotal=u),b.textinfo&&"none"!==b.textinfo){var w,x=-1!==b.textinfo.indexOf("label"),y=-1!==b.textinfo.indexOf("text"),z=-1!==b.textinfo.indexOf("value"),A=-1!==b.textinfo.indexOf("percent");for(h=0;h<p.length;h++)m=p[h],w=x?[m.label]:[],y&&b.text[m.i]&&w.push(b.text[m.i]),z&&w.push(g.formatPieValue(m.v)),A&&w.push(g.formatPiePercent(m.v/u)),m.text=w.join("<br>")}return p};var h},{"../../components/color":299,"./helpers":485,"fast-isnumeric":74,tinycolor2:229}],484:[function(require,a,b){"use strict";var c=require("../../lib"),d=require("./attributes");a.exports=function(a,b,e,f){function g(e,f){return c.coerce(a,b,d,e,f)}var h=c.coerceFont,i=g("values");if(!Array.isArray(i)||!i.length)return void(b.visible=!1);var j=g("labels");Array.isArray(j)||(g("label0"),g("dlabel"));var k=g("marker.line.width");k&&g("marker.line.color");var l=g("marker.colors");Array.isArray(l)||(b.marker.colors=[]),g("scalegroup");var m=g("text"),n=g("textinfo",Array.isArray(m)?"text+percent":"percent");if(g("hoverinfo",1===f._dataLength?"label+text+value+percent":void 0),n&&"none"!==n){var o=g("textposition"),p=Array.isArray(o)||"auto"===o,q=p||"inside"===o,r=p||"outside"===o;if(q||r){var s=h(g,"textfont",f.font);q&&h(g,"insidetextfont",s),r&&h(g,"outsidetextfont",s)}}g("domain.x"),g("domain.y"),g("hole"),g("sort"),g("direction"),g("rotation"),g("pull")}},{"../../lib":348,"./attributes":482}],485:[function(require,a,b){"use strict";b.formatPiePercent=function(a){var b=(100*a).toPrecision(3);return-1!==b.indexOf(".")?b.replace(/[.]?0+$/,"")+"%":b+"%"},b.formatPieValue=function(a){var b=a.toPrecision(10);return-1!==b.indexOf(".")?b.replace(/[.]?0+$/,""):b}},{}],486:[function(require,a,b){"use strict";var c={};c.attributes=require("./attributes"),c.supplyDefaults=require("./defaults"),c.supplyLayoutDefaults=require("./layout_defaults"),c.layoutAttributes=require("./layout_attributes"),c.calc=require("./calc"),c.plot=require("./plot"),c.style=require("./style"),c.styleOne=require("./style_one"),c.moduleType="trace",c.name="pie",c.basePlotModule=require("../../plots/cartesian"),c.categories=["pie","showLegend"],c.meta={},a.exports=c},{"../../plots/cartesian":371,"./attributes":482,"./calc":483,"./defaults":484,"./layout_attributes":487,"./layout_defaults":488,"./plot":489,"./style":490,"./style_one":491}],487:[function(require,a,b){"use strict";a.exports={hiddenlabels:{valType:"data_array"}}},{}],488:[function(require,a,b){"use strict";var c=require("../../lib"),d=require("./layout_attributes");a.exports=function(a,b){function e(e,f){return c.coerce(a,b,d,e,f)}e("hiddenlabels")}},{"../../lib":348,"./layout_attributes":487}],489:[function(require,a,b){"use strict";function c(a,b,c){var e=Math.sqrt(a.width*a.width+a.height*a.height),f=a.width/a.height,g=Math.PI*Math.min(b.v/c.vTotal,.5),h=1-c.trace.hole,i=d(b,c),j={scale:i*c.r*2/e,rCenter:1-i,rotate:0};if(j.scale>=1)return j;var k=f+1/(2*Math.tan(g)),l=c.r*Math.min(1/(Math.sqrt(k*k+.5)+k),h/(Math.sqrt(f*f+h/2)+f)),m={scale:2*l/a.height,rCenter:Math.cos(l/c.r)-l*f/c.r,rotate:(180/Math.PI*b.midangle+720)%180-90},n=1/f,o=n+1/(2*Math.tan(g)),p=c.r*Math.min(1/(Math.sqrt(o*o+.5)+o),h/(Math.sqrt(n*n+h/2)+n)),q={scale:2*p/a.width,rCenter:Math.cos(p/c.r)-p/f/c.r,rotate:(180/Math.PI*b.midangle+810)%180-90},r=q.scale>m.scale?q:m;return j.scale<1&&r.scale>j.scale?r:j}function d(a,b){if(a.v===b.vTotal&&!b.trace.hole)return 1;var c=Math.PI*Math.min(a.v/b.vTotal,.5);return Math.min(1/(1+1/Math.sin(c)),(1-b.trace.hole)/2)}function e(a,b){var c=b.pxmid[0],d=b.pxmid[1],e=a.width/2,f=a.height/2;return 0>c&&(e*=-1),0>d&&(f*=-1),{scale:1,rCenter:1,rotate:0,x:e+Math.abs(f)*(e>0?1:-1)/2,y:f/(1+c*c/(d*d)),outside:!0}}function f(a,b){function c(a,b){return a.pxmid[1]-b.pxmid[1]}function d(a,b){return b.pxmid[1]-a.pxmid[1]}function e(a,c){c||(c={});var d,e,f,h,m,n,p=c.labelExtraY+(g?c.yLabelMax:c.yLabelMin),q=g?a.yLabelMin:a.yLabelMax,r=g?a.yLabelMax:a.yLabelMin,s=a.cyFinal+j(a.px0[1],a.px1[1]),t=p-q;if(t*l>0&&(a.labelExtraY=t),Array.isArray(b.pull))for(e=0;e<o.length;e++)f=o[e],f===a||(b.pull[a.i]||0)>=b.pull[f.i]||((a.pxmid[1]-f.pxmid[1])*l>0?(h=f.cyFinal+j(f.px0[1],f.px1[1]),t=h-q-a.labelExtraY,t*l>0&&(a.labelExtraY+=t)):(r+a.labelExtraY-s)*l>0&&(d=3*k*Math.abs(e-o.indexOf(a)),m=f.cxFinal+i(f.px0[0],f.px1[0]),n=m+d-(a.cxFinal+a.pxmid[0])-a.labelExtraX,n*k>0&&(a.labelExtraX+=n)))}var f,g,h,i,j,k,l,m,n,o,p,q,r;for(g=0;2>g;g++)for(h=g?c:d,j=g?Math.max:Math.min,l=g?1:-1,f=0;2>f;f++){for(i=f?Math.max:Math.min,k=f?1:-1,m=a[g][f],m.sort(h),n=a[1-g][f],o=n.concat(m),q=[],p=0;p<m.length;p++)void 0!==m[p].yLabelMid&&q.push(m[p]);for(r=!1,p=0;g&&p<n.length;p++)if(void 0!==n[p].yLabelMid){r=n[p];break}for(p=0;p<q.length;p++){var s=p&&q[p-1];r&&!p&&(s=r),e(q[p],s)}}}function g(a,b){var c,d,e,f,g,h,j,k,l,m,n=[];for(e=0;e<a.length;e++){if(g=a[e][0],h=g.trace,c=b.w*(h.domain.x[1]-h.domain.x[0]),d=b.h*(h.domain.y[1]-h.domain.y[0]),j=h.tiltaxis*Math.PI/180,k=h.pull,Array.isArray(k))for(k=0,f=0;f<h.pull.length;f++)h.pull[f]>k&&(k=h.pull[f]);g.r=Math.min(c/i(h.tilt,Math.sin(j),h.depth),d/i(h.tilt,Math.cos(j),h.depth))/(2+2*k),g.cx=b.l+b.w*(h.domain.x[1]+h.domain.x[0])/2,g.cy=b.t+b.h*(2-h.domain.y[1]-h.domain.y[0])/2,h.scalegroup&&-1===n.indexOf(h.scalegroup)&&n.push(h.scalegroup)}for(f=0;f<n.length;f++){for(m=1/0,l=n[f],e=0;e<a.length;e++)g=a[e][0],g.trace.scalegroup===l&&(m=Math.min(m,g.r*g.r/g.vTotal));for(e=0;e<a.length;e++)g=a[e][0],g.trace.scalegroup===l&&(g.r=Math.sqrt(m*g.vTotal))}}function h(a){function b(a){var b=l.r*Math.sin(a),c=-l.r*Math.cos(a);return n?[b*(1-h*d*d)+c*g*h,b*g*h+c*(1-h*e*e),Math.sin(f)*(c*e-b*d)]:[b,c]}var c,d,e,f,g,h,i,j,k,l=a[0],m=l.trace,n=m.tilt,o=m.rotation*Math.PI/180,p=2*Math.PI/l.vTotal,q="px0",r="px1";if("counterclockwise"===m.direction){for(i=0;i<a.length&&a[i].hidden;i++);if(i===a.length)return;o+=p*a[i].v,p*=-1,q="px1",r="px0"}for(n&&(f=n*Math.PI/180,c=m.tiltaxis*Math.PI/180,g=Math.sin(c)*Math.cos(c),h=1-Math.cos(f),d=Math.sin(c),e=Math.cos(c)),k=b(o),i=0;i<a.length;i++)j=a[i],j.hidden||(j[q]=k,o+=p*j.v/2,j.pxmid=b(o),j.midangle=o,o+=p*j.v/2,k=b(o),j[r]=k,j.largeArc=j.v>l.vTotal/2?1:0)}function i(a,b,c){if(!a)return 1;var d=Math.sin(a*Math.PI/180);return Math.max(.01,c*d*Math.abs(b)+2*Math.sqrt(1-d*d*b*b))}var j=require("d3"),k=require("../../plotly"),l=require("../../components/color"),m=require("./helpers");a.exports=function(a,b){var i=a._fullLayout;g(b,i._size);var n=i._pielayer.selectAll("g.trace").data(b);n.enter().append("g").attr({"stroke-linejoin":"round","class":"trace"}),n.exit().remove(),n.order(),n.each(function(b){var g=j.select(this),n=b[0],o=n.trace,p=0,q=(o.depth||0)*n.r*Math.sin(p)/2,r=o.tiltaxis||0,s=r*Math.PI/180,t=[q*Math.sin(s),q*Math.cos(s)],u=n.r*Math.cos(p),v=g.selectAll("g.part").data(o.tilt?["top","sides"]:["top"]);v.enter().append("g").attr("class",function(a){return a+" part"}),v.exit().remove(),v.order(),h(b),g.selectAll(".top").each(function(){var g=j.select(this).selectAll("g.slice").data(b);g.enter().append("g").classed("slice",!0),g.exit().remove();var h=[[[],[]],[[],[]]],p=!1;g.each(function(f){function g(b){var c=a._fullLayout,e=a._fullData[o.index],g=e.hoverinfo;if("all"===g&&(g="label+text+value+percent+name"),!a._dragging&&c.hovermode!==!1&&"none"!==g&&g){var h=d(f,n),i=v+f.pxmid[0]*(1-h),j=w+f.pxmid[1]*(1-h),l=[];-1!==g.indexOf("label")&&l.push(f.label),e.text&&e.text[f.i]&&-1!==g.indexOf("text")&&l.push(e.text[f.i]),-1!==g.indexOf("value")&&l.push(m.formatPieValue(f.v)),-1!==g.indexOf("percent")&&l.push(m.formatPiePercent(f.v/n.vTotal)),k.Fx.loneHover({x0:i-h*n.r,x1:i+h*n.r,y:j,text:l.join("<br>"),name:-1!==g.indexOf("name")?e.name:void 0,color:f.color,idealAlign:f.pxmid[0]<0?"left":"right"},{container:c._hoverlayer.node(),outerContainer:c._paper.node()}),k.Fx.hover(a,b,"pie"),z=!0}}function l(){z&&(k.Fx.loneUnhover(i._hoverlayer.node()),z=!1)}function q(){a._hoverdata=[f],a._hoverdata.trace=b.trace,k.Fx.click(a,{target:!0})}function s(a,b,c,d){return"a"+d*n.r+","+d*u+" "+r+" "+f.largeArc+(c?" 1 ":" 0 ")+d*(b[0]-a[0])+","+d*(b[1]-a[1])}if(f.hidden)return void j.select(this).selectAll("path,g").remove();h[f.pxmid[1]<0?0:1][f.pxmid[0]<0?0:1].push(f);var v=n.cx+t[0],w=n.cy+t[1],x=j.select(this),y=x.selectAll("path.surface").data([f]),z=!1;if(y.enter().append("path").classed("surface",!0).style({"pointer-events":"all"}),x.select("path.textline").remove(),x.on("mouseover",g).on("mouseout",l).on("click",q),o.pull){var A=+(Array.isArray(o.pull)?o.pull[f.i]:o.pull)||0;A>0&&(v+=A*f.pxmid[0],w+=A*f.pxmid[1])}f.cxFinal=v,f.cyFinal=w;var B=o.hole;if(f.v===n.vTotal){var C="M"+(v+f.px0[0])+","+(w+f.px0[1])+s(f.px0,f.pxmid,!0,1)+s(f.pxmid,f.px0,!0,1)+"Z";B?y.attr("d","M"+(v+B*f.px0[0])+","+(w+B*f.px0[1])+s(f.px0,f.pxmid,!1,B)+s(f.pxmid,f.px0,!1,B)+"Z"+C):y.attr("d",C)}else{var D=s(f.px0,f.px1,!0,1);if(B){var E=1-B;y.attr("d","M"+(v+B*f.px1[0])+","+(w+B*f.px1[1])+s(f.px1,f.px0,!1,B)+"l"+E*f.px0[0]+","+E*f.px0[1]+D+"Z")}else y.attr("d","M"+v+","+w+"l"+f.px0[0]+","+f.px0[1]+D+"Z")}var F=Array.isArray(o.textposition)?o.textposition[f.i]:o.textposition,G=x.selectAll("g.slicetext").data(f.text&&"none"!==F?[0]:[]);G.enter().append("g").classed("slicetext",!0),G.exit().remove(),G.each(function(){var a=j.select(this).selectAll("text").data([0]);a.enter().append("text").attr("data-notex",1),a.exit().remove(),a.text(f.text).attr({"class":"slicetext",transform:"","data-bb":"","text-anchor":"middle",x:0,y:0}).call(k.Drawing.font,"outside"===F?o.outsidetextfont:o.insidetextfont).call(k.util.convertToTspans),a.selectAll("tspan.line").attr({x:0,y:0});var b,d=k.Drawing.bBox(a.node());"outside"===F?b=e(d,f):(b=c(d,f,n),"auto"===F&&b.scale<1&&(a.call(k.Drawing.font,o.outsidetextfont),(o.outsidetextfont.family!==o.insidetextfont.family||o.outsidetextfont.size!==o.insidetextfont.size)&&(a.attr({"data-bb":""}),d=k.Drawing.bBox(a.node())),b=e(d,f)));var g=v+f.pxmid[0]*b.rCenter+(b.x||0),h=w+f.pxmid[1]*b.rCenter+(b.y||0);b.outside&&(f.yLabelMin=h-d.height/2,f.yLabelMid=h,f.yLabelMax=h+d.height/2,f.labelExtraX=0,f.labelExtraY=0,p=!0),a.attr("transform","translate("+g+","+h+")"+(b.scale<1?"scale("+b.scale+")":"")+(b.rotate?"rotate("+b.rotate+")":"")+"translate("+-(d.left+d.right)/2+","+-(d.top+d.bottom)/2+")")})}),p&&f(h,o),g.each(function(a){if(a.labelExtraX||a.labelExtraY){var b=j.select(this),c=b.select("g.slicetext text");c.attr("transform","translate("+a.labelExtraX+","+a.labelExtraY+")"+c.attr("transform"));var d=a.cxFinal+a.pxmid[0],e=a.cyFinal+a.pxmid[1],f="M"+d+","+e,g=(a.yLabelMax-a.yLabelMin)*(a.pxmid[0]<0?-1:1)/4;if(a.labelExtraX){var h=a.labelExtraX*a.pxmid[1]/a.pxmid[0],i=a.yLabelMid+a.labelExtraY-(a.cyFinal+a.pxmid[1]);f+=Math.abs(h)>Math.abs(i)?"l"+i*a.pxmid[0]/a.pxmid[1]+","+i+"H"+(d+a.labelExtraX+g):"l"+a.labelExtraX+","+h+"v"+(i-h)+"h"+g}else f+="V"+(a.yLabelMid+a.labelExtraY)+"h"+g;b.append("path").classed("textline",!0).call(l.stroke,o.outsidetextfont.color).attr({"stroke-width":Math.min(2,o.outsidetextfont.size/8),d:f,fill:"none"})}})})}),setTimeout(function(){n.selectAll("tspan").each(function(){var a=j.select(this);a.attr("dy")&&a.attr("dy",a.attr("dy"))})},0)}},{"../../components/color":299,"../../plotly":365,"./helpers":485,d3:70}],490:[function(require,a,b){"use strict";var c=require("d3"),d=require("./style_one");a.exports=function(a){a._fullLayout._pielayer.selectAll(".trace").each(function(a){var b=a[0],e=b.trace,f=c.select(this);f.style({opacity:e.opacity}),f.selectAll(".top path.surface").each(function(a){c.select(this).call(d,a,e)})})}},{"./style_one":491,d3:70}],491:[function(require,a,b){"use strict";var c=require("../../components/color");a.exports=function(a,b,d){var e=d.marker.line.color;Array.isArray(e)&&(e=e[b.i]||c.defaultLine);var f=d.marker.line.width||0;Array.isArray(f)&&(f=f[b.i]||0),a.style({"stroke-width":f,fill:b.color}).call(c.stroke,e)}},{"../../components/color":299}],492:[function(require,a,b){"use strict";var c=require("../../lib");a.exports=function(a){var b=a[0].trace,d=b.marker;if(c.mergeArray(b.text,a,"tx"),c.mergeArray(b.textposition,a,"tp"),b.textfont&&(c.mergeArray(b.textfont.size,a,"ts"),c.mergeArray(b.textfont.color,a,"tc"),c.mergeArray(b.textfont.family,a,"tf")),d&&d.line){var e=d.line;c.mergeArray(d.opacity,a,"mo"),c.mergeArray(d.symbol,a,"mx"),c.mergeArray(d.color,a,"mc"),c.mergeArray(e.color,a,"mlc"),c.mergeArray(e.width,a,"mlw")}}},{"../../lib":348}],493:[function(require,a,b){"use strict";var c=require("../../components/drawing");require("./constants");a.exports={x:{valType:"data_array"},x0:{valType:"any",dflt:0},dx:{valType:"number",dflt:1},y:{valType:"data_array"},y0:{valType:"any",dflt:0},dy:{valType:"number",dflt:1},text:{valType:"string",dflt:"",arrayOk:!0},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:2},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear"},smoothing:{valType:"number",min:0,max:1.3,dflt:1},dash:{valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid"}},connectgaps:{valType:"boolean",dflt:!1},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx"],dflt:"none"},fillcolor:{valType:"color"},marker:{symbol:{valType:"enumerated",values:c.symbolList,dflt:"circle",arrayOk:!0},opacity:{valType:"number",min:0,max:1,arrayOk:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0},color:{valType:"color",arrayOk:!0},maxdisplayed:{valType:"number",min:0,dflt:0},sizeref:{valType:"number",dflt:1},sizemin:{valType:"number",min:0,dflt:0},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter"},colorscale:{valType:"colorscale"},cauto:{valType:"boolean",dflt:!0},cmax:{valType:"number",dflt:null},cmin:{valType:"number",dflt:null},autocolorscale:{valType:"boolean",dflt:!0},reversescale:{valType:"boolean",dflt:!1},showscale:{valType:"boolean",dflt:!1},line:{color:{valType:"color",arrayOk:!0},width:{valType:"number",min:0,arrayOk:!0},colorscale:{valType:"colorscale"},cauto:{valType:"boolean",dflt:!0},cmax:{valType:"number",dflt:null},cmin:{valType:"number",dflt:null},autocolorscale:{valType:"boolean",dflt:!0},reversescale:{valType:"boolean",dflt:!1}}},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0},textfont:{family:{valType:"string",noBlank:!0,strict:!0,arrayOk:!0},size:{valType:"number",min:1,arrayOk:!0},color:{valType:"color",arrayOk:!0}},r:{valType:"data_array"},t:{valType:"data_array"},_nestedModules:{error_y:"ErrorBars",error_x:"ErrorBars","marker.colorbar":"Colorbar"}}},{"../../components/drawing":317,"./constants":497}],494:[function(require,a,b){"use strict";var c=require("fast-isnumeric"),d=require("../../plots/cartesian/axes"),e=require("../../lib"),f=require("./subtypes"),g=require("./marker_colorscale_calc");a.exports=function(a,b){var h=d.getFromId(a,b.xaxis||"x"),i=d.getFromId(a,b.yaxis||"y");e.markTime("in Scatter.calc");var j=h.makeCalcdata(b,"x");e.markTime("finished convert x");var k=i.makeCalcdata(b,"y");e.markTime("finished convert y");var l,m,n,o=Math.min(j.length,k.length);h._minDtick=0,i._minDtick=0,j.length>o&&j.splice(o,j.length-o),k.length>o&&k.splice(o,k.length-o);var p={padded:!0},q={padded:!0};if(f.hasMarkers(b)){if(l=b.marker,m=l.size,Array.isArray(m)){var r={type:"linear"};d.setConvert(r),m=r.makeCalcdata(b.marker,"size"),m.length>o&&m.splice(o,m.length-o)}var s,t=1.6*(b.marker.sizeref||1);s="area"===b.marker.sizemode?function(a){return Math.max(Math.sqrt((a||0)/t),3)}:function(a){return Math.max((a||0)/t,3)},p.ppad=q.ppad=Array.isArray(m)?m.map(s):s(m)}g(b),!("tozerox"===b.fill||"tonextx"===b.fill&&a.firstscatter)||j[0]===j[o-1]&&k[0]===k[o-1]?b.error_y.visible||-1===["tonexty","tozeroy"].indexOf(b.fill)&&(f.hasMarkers(b)||f.hasText(b))||(p.padded=!1,p.ppad=0):p.tozero=!0,!("tozeroy"===b.fill||"tonexty"===b.fill&&a.firstscatter)||j[0]===j[o-1]&&k[0]===k[o-1]?-1!==["tonextx","tozerox"].indexOf(b.fill)&&(q.padded=!1):q.tozero=!0,e.markTime("ready for Axes.expand"),d.expand(h,j,p),e.markTime("done expand x"),d.expand(i,k,q),e.markTime("done expand y");var u=new Array(o);for(n=0;o>n;n++)u[n]=c(j[n])&&c(k[n])?{x:j[n],y:k[n]}:{x:!1,y:!1};return void 0!==typeof m&&e.mergeArray(m,u,"ms"),a.firstscatter=!1,u}},{"../../lib":348,"../../plots/cartesian/axes":368,"./marker_colorscale_calc":506,"./subtypes":511,"fast-isnumeric":74}],495:[function(require,a,b){"use strict";a.exports=function(a){var b,c,d,e,f;for(b=0;b<a.length;b++)if(c=a[b],d=c.fill,"none"!==d&&"scatter"===c.type&&(c.opacity=void 0,"tonexty"===d||"tonextx"===d))for(e=b-1;e>=0;e--)if(f=a[e],"scatter"===f.type&&f.xaxis===c.xaxis&&f.yaxis===c.yaxis){f.opacity=void 0;break}}},{}],496:[function(require,a,b){"use strict";var c=require("d3"),d=require("fast-isnumeric"),e=require("../../plotly"),f=require("../../lib"),g=require("../../components/colorscale/get_scale"),h=require("../../components/colorbar/draw");a.exports=function(a,b){var i=b[0].trace,j=i.marker,k="cb"+i.uid;if(a._fullLayout._infolayer.selectAll("."+k).remove(),void 0===j||!j.showscale)return void e.Plots.autoMargin(a,k);var l=g(j.colorscale),m=j.color,n=j.cmin,o=j.cmax;d(n)||(n=e.Lib.aggNums(Math.min,null,m)),d(o)||(o=e.Lib.aggNums(Math.max,null,m));var p=b[0].t.cb=h(a,k);p.fillcolor(c.scale.linear().domain(l.map(function(a){return n+a[0]*(o-n)})).range(l.map(function(a){return a[1]}))).filllevels({start:n,end:o,size:(o-n)/254}).options(j.colorbar)(),f.markTime("done colorbar")}},{"../../components/colorbar/draw":302,"../../components/colorscale/get_scale":310,"../../lib":348,"../../plotly":365,d3:70,"fast-isnumeric":74}],497:[function(require,a,b){"use strict";a.exports={PTS_LINESONLY:20}},{}],498:[function(require,a,b){"use strict";function c(a,b,c){var d=c("line.shape");"spline"===d&&c("line.smoothing")}var d=require("../../lib"),e=require("./attributes"),f=require("./constants"),g=require("./subtypes"),h=require("./xy_defaults"),i=require("./marker_defaults"),j=require("./line_defaults"),k=require("./text_defaults"),l=require("./fillcolor_defaults"),m=require("../../components/errorbars/defaults");a.exports=function(a,b,n,o){function p(c,f){return d.coerce(a,b,e,c,f)}var q=h(a,b,p),r=q<f.PTS_LINESONLY?"lines+markers":"lines";return q?(p("text"),p("mode",r),g.hasLines(b)&&(j(a,b,n,p),c(a,b,p),p("connectgaps")),g.hasMarkers(b)&&i(a,b,n,o,p),g.hasText(b)&&k(a,b,o,p),(g.hasMarkers(b)||g.hasText(b))&&p("marker.maxdisplayed"),p("fill"),"none"!==b.fill&&(l(a,b,n,p),g.hasLines(b)||c(a,b,p)),m(a,b,n,{axis:"y"}),void m(a,b,n,{axis:"x",inherit:"y"})):void(b.visible=!1)}},{"../../components/errorbars/defaults":322,"../../lib":348,"./attributes":493,"./constants":497,"./fillcolor_defaults":499,"./line_defaults":503,"./marker_defaults":507,"./subtypes":511,"./text_defaults":512,"./xy_defaults":513}],499:[function(require,a,b){"use strict";var c=require("../../components/color");a.exports=function(a,b,d,e){var f=!1;if(b.marker){var g=b.marker.color,h=(b.marker.line||{}).color;g&&!Array.isArray(g)?f=g:h&&!Array.isArray(h)&&(f=h)}e("fillcolor",c.addOpacity((b.line||{}).color||f||d,.5))}},{"../../components/color":299}],500:[function(require,a,b){"use strict";var c=require("../../components/color"),d=require("./subtypes");a.exports=function(a,b){var e,f;if("lines"===a.mode)return e=a.line.color,e&&c.opacity(e)?e:a.fillcolor;if("none"===a.mode)return a.fill?a.fillcolor:"";var g=b.mcc||(a.marker||{}).color,h=b.mlcc||((a.marker||{}).line||{}).color;return f=g&&c.opacity(g)?g:h&&c.opacity(h)&&(b.mlw||((a.marker||{}).line||{}).width)?h:"",f?c.opacity(f)<.3?c.addOpacity(f,.3):f:(e=(a.line||{}).color,e&&c.opacity(e)&&d.hasLines(a)&&a.line.width?e:a.fillcolor)}},{"../../components/color":299,"./subtypes":511}],501:[function(require,a,b){"use strict";var c=require("../../plots/cartesian/graph_interact"),d=require("../../components/errorbars"),e=require("./get_trace_color");a.exports=function(a,b,f,g){var h=a.cd,i=h[0].trace,j=a.xa,k=a.ya,l=function(a){var c=Math.max(3,a.mrc||0);return Math.max(Math.abs(j.c2p(a.x)-j.c2p(b))-c,1-3/c)},m=function(a){var b=Math.max(3,a.mrc||0);return Math.max(Math.abs(k.c2p(a.y)-k.c2p(f))-b,1-3/b)},n=function(a){var c=Math.max(3,a.mrc||0),d=Math.abs(j.c2p(a.x)-j.c2p(b)),e=Math.abs(k.c2p(a.y)-k.c2p(f));return Math.max(Math.sqrt(d*d+e*e)-c,1-3/c)},o=c.getDistanceFunction(g,l,m,n);if(c.getClosest(h,o,a),a.index!==!1){var p=h[a.index],q=j.c2p(p.x,!0),r=k.c2p(p.y,!0),s=p.mrc||1;return a.color=e(i,p),a.x0=q-s,a.x1=q+s,a.xLabelVal=p.x,a.y0=r-s,a.y1=r+s,a.yLabelVal=p.y,p.tx?a.text=p.tx:i.text&&(a.text=i.text),d.hoverInfo(p,i,a),[a]}}},{"../../components/errorbars":323,"../../plots/cartesian/graph_interact":370,"./get_trace_color":500}],502:[function(require,a,b){"use strict";var c={},d=require("./subtypes");c.hasLines=d.hasLines,c.hasMarkers=d.hasMarkers,c.hasText=d.hasText,c.isBubble=d.isBubble,c.attributes=require("./attributes"),c.supplyDefaults=require("./defaults"),c.cleanData=require("./clean_data"),c.calc=require("./calc"),c.arraysToCalcdata=require("./arrays_to_calcdata"),c.plot=require("./plot"),c.colorbar=require("./colorbar"),c.style=require("./style"),c.hoverPoints=require("./hover"),c.selectPoints=require("./select"),c.moduleType="trace",c.name="scatter",c.basePlotModule=require("../../plots/cartesian"),c.categories=["cartesian","symbols","markerColorscale","errorBarsOK","showLegend"],c.meta={},a.exports=c},{"../../plots/cartesian":371,"./arrays_to_calcdata":492,"./attributes":493,"./calc":494,"./clean_data":495,"./colorbar":496,"./defaults":498,"./hover":501,"./plot":508,"./select":509,"./style":510,"./subtypes":511}],503:[function(require,a,b){"use strict";a.exports=function(a,b,c,d){var e=(a.marker||{}).color;d("line.color",(Array.isArray(e)?!1:e)||c),d("line.width"),d("line.dash")}},{}],504:[function(require,a,b){"use strict";var c=require("../../plots/cartesian/axes");a.exports=function(a,b){function d(b){var c=w.c2p(a[b].x),d=x.c2p(a[b].y);return c===C||d===C?!1:[c,d]}function e(a){var b=a[0]/w._length,c=a[1]/x._length;return(1+10*Math.max(0,-b,b-1,-c,c-1))*z}function f(a,b){var c=a[0]-b[0],d=a[1]-b[1];return Math.sqrt(c*c+d*d)}var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=b.xaxis,x=b.yaxis,y=b.connectGaps,z=b.baseTolerance,A=b.linear,B=[],C=c.BADNUM,D=.2,E=new Array(a.length),F=0;for(g=0;g<a.length;g++)if(h=d(g)){for(F=0,E[F++]=h,g++;g<a.length;g++){if(j=d(g),!j){if(y)continue;break}if(A){if(m=f(j,h),!(m<e(j)*D)){for(o=[(j[0]-h[0])/m,(j[1]-h[1])/m],k=h,q=m,r=t=u=0,n=!1,i=j,g++;g<a.length;g++){if(l=d(g),!l){if(y)continue;break}if(p=[l[0]-h[0],l[1]-h[1]],v=p[0]*o[1]-p[1]*o[0],t=Math.min(t,v),u=Math.max(u,v),u-t>e(l))break;i=l,s=p[0]*o[0]+p[1]*o[1],s>q?(q=s,j=l,n=!1):r>s&&(r=s,k=l,n=!0)}if(n?(E[F++]=j,i!==k&&(E[F++]=k)):(k!==h&&(E[F++]=k),i!==j&&(E[F++]=j)),E[F++]=i,g>=a.length||!l)break;E[F++]=l,h=l}}else E[F++]=j}B.push(E.slice(0,F))}return B}},{"../../plots/cartesian/axes":368}],505:[function(require,a,b){"use strict";var c=require("fast-isnumeric");a.exports=function(a){var b=a.marker,d=b.sizeref||1,e=b.sizemin||0,f="area"===b.sizemode?function(a){return Math.sqrt(a/d)}:function(a){return a/d};return function(a){var b=f(a/2);return c(b)&&b>0?Math.max(b,e):0}}},{"fast-isnumeric":74}],506:[function(require,a,b){"use strict";var c=require("../../components/colorscale/has_colorscale"),d=require("../../components/colorscale/calc"),e=require("./subtypes");a.exports=function(a){if(e.hasMarkers(a)){var b=a.marker;c(a,"marker")&&d(a,b.color,"marker","c"),c(a,"marker.line")&&d(a,b.line.color,"marker.line","c")}}},{"../../components/colorscale/calc":306,"../../components/colorscale/has_colorscale":311,"./subtypes":511}],507:[function(require,a,b){"use strict";var c=require("../../components/color"),d=require("../../components/colorscale/has_colorscale"),e=require("../../components/colorscale/defaults"),f=require("./subtypes");a.exports=function(a,b,g,h,i){var j,k=f.isBubble(a),l=(a.line||{}).color;l&&(g=l),i("marker.symbol"),i("marker.opacity",k?.7:1),i("marker.size"),i("marker.color",g),d(a,"marker")&&e(a,b,h,i,{prefix:"marker.",cLetter:"c"}),j=l&&b.marker.color!==l?l:k?c.background:c.defaultLine,i("marker.line.color",j),d(a,"marker.line")&&e(a,b,h,i,{prefix:"marker.line.",cLetter:"c"}),i("marker.line.width",k?1:0),k&&(i("marker.sizeref"),i("marker.sizemin"),i("marker.sizemode"))}},{"../../components/color":299,"../../components/colorscale/defaults":308,"../../components/colorscale/has_colorscale":311,"./subtypes":511}],508:[function(require,a,b){"use strict";function c(a,b,c){var e=b.x(),f=b.y(),h=d.extent(e.range.map(e.l2c)),i=d.extent(f.range.map(f.l2c));c.forEach(function(a,b){var d=a[0].trace;if(g.hasMarkers(d)){var e=d.marker.maxdisplayed;if(0!==e){var f=a.filter(function(a){return a.x>=h[0]&&a.x<=h[1]&&a.y>=i[0]&&a.y<=i[1]}),j=Math.ceil(f.length/e),k=0;c.forEach(function(a,c){var d=a[0].trace;g.hasMarkers(d)&&d.marker.maxdisplayed>0&&b>c&&k++});var l=Math.round(k*j/3+Math.floor(k/3)*j/7.1);a.forEach(function(a){delete a.vis}),f.forEach(function(a,b){0===Math.round((b+l)%j)&&(a.vis=!0)})}}})}var d=require("d3"),e=require("../../lib"),f=require("../../components/drawing"),g=require("./subtypes"),h=require("./arrays_to_calcdata"),i=require("./line_points");a.exports=function(a,b,j){function k(a){return a.filter(function(a){return a.vis})}c(a,b,j);var l=b.x(),m=b.y(),n=b.plot.select(".scatterlayer").selectAll("g.trace.scatter").data(j);n.enter().append("g").attr("class","trace scatter").style("stroke-miterlimit",2);var o,p,q,r="";n.each(function(a){var b=a[0].trace,c=b.line,e=d.select(this);if(b.visible===!0&&(a[0].node3=e,h(a),g.hasLines(b)||"none"!==b.fill)){var j,k,n,s,t="",u="";o="tozero"===b.fill.substr(0,6)||"to"===b.fill.substr(0,2)&&!r?e.append("path").classed("js-fill",!0):null,q&&(p=q.datum(a)),q=e.append("path").classed("js-fill",!0),-1!==["hv","vh","hvh","vhv"].indexOf(c.shape)?(k=f.steps(c.shape),n=f.steps(c.shape.split("").reverse().join(""))):k=n="spline"===c.shape?function(a){return f.smoothopen(a,c.smoothing)}:function(a){return"M"+a.join("L")},s=function(a){return"L"+n(a.reverse()).substr(1)};var v=i(a,{xaxis:l,yaxis:m,connectGaps:b.connectgaps,baseTolerance:Math.max(c.width||1,3)/4,linear:"linear"===c.shape});if(v.length){for(var w=v[0][0],x=v[v.length-1],y=x[x.length-1],z=0;z<v.length;z++){var A=v[z];j=k(A),t+=t?"L"+j.substr(1):j,u=s(A)+u,g.hasLines(b)&&A.length>1&&e.append("path").classed("js-line",!0).attr("d",j)}o?w&&y&&("y"===b.fill.charAt(b.fill.length-1)?w[1]=y[1]=m.c2p(0,!0):w[0]=y[0]=l.c2p(0,!0),o.attr("d",t+"L"+y+"L"+w+"Z")):"tonext"===b.fill.substr(0,6)&&t&&r&&p.attr("d",t+r+"Z"),r=u}}}),n.selectAll("path:not([d])").remove(),n.append("g").attr("class","points").each(function(a){var b=a[0].trace,c=d.select(this),h=g.hasMarkers(b),i=g.hasText(b);!h&&!i||b.visible!==!0?c.remove():(h&&c.selectAll("path.point").data(b.marker.maxdisplayed?k:e.identity).enter().append("path").classed("point",!0).call(f.translatePoints,l,m),i&&c.selectAll("g").data(b.marker.maxdisplayed?k:e.identity).enter().append("g").append("text").call(f.translatePoints,l,m))})}},{"../../components/drawing":317,"../../lib":348,"./arrays_to_calcdata":492,"./line_points":504,"./subtypes":511,d3:70}],509:[function(require,a,b){"use strict";var c=require("./subtypes"),d=.2;a.exports=function(a,b){var e,f,g,h,i=a.cd,j=a.xaxis,k=a.yaxis,l=[],m=i[0].trace,n=m.index,o=m.marker;if(c.hasMarkers(m)||c.hasText(m)){var p=Array.isArray(o.opacity)?1:o.opacity;if(b===!1)for(e=0;e<i.length;e++)i[e].dim=0;else for(e=0;e<i.length;e++)f=i[e],g=j.c2p(f.x),h=k.c2p(f.y),b.contains([g,h])?(l.push({curveNumber:n,pointNumber:e,x:f.x,y:f.y}),f.dim=0):f.dim=1;return i[0].node3.selectAll("path.point").style("opacity",function(a){return((a.mo+1||p+1)-1)*(a.dim?d:1)}),i[0].node3.selectAll("text").style("opacity",function(a){return a.dim?d:1}),l}}},{"./subtypes":511}],510:[function(require,a,b){"use strict";var c=require("d3"),d=require("../../components/drawing");a.exports=function(a){var b=c.select(a).selectAll("g.trace.scatter");b.style("opacity",function(a){return a[0].trace.opacity}),b.selectAll("g.points").each(function(a){c.select(this).selectAll("path.point").call(d.pointStyle,a.trace||a[0].trace),c.select(this).selectAll("text").call(d.textPointStyle,a.trace||a[0].trace)}),b.selectAll("g.trace path.js-line").call(d.lineGroupStyle),b.selectAll("g.trace path.js-fill").call(d.fillGroupStyle)}},{"../../components/drawing":317,d3:70}],511:[function(require,a,b){"use strict";a.exports={hasLines:function(a){return a.visible&&a.mode&&-1!==a.mode.indexOf("lines")},hasMarkers:function(a){return a.visible&&a.mode&&-1!==a.mode.indexOf("markers")},hasText:function(a){return a.visible&&a.mode&&-1!==a.mode.indexOf("text")},isBubble:function(a){return"object"==typeof a.marker&&Array.isArray(a.marker.size)}}},{}],512:[function(require,a,b){"use strict";var c=require("../../lib");a.exports=function(a,b,d,e){e("textposition"),c.coerceFont(e,"textfont",d.font)}},{"../../lib":348}],513:[function(require,a,b){"use strict";a.exports=function(a,b,c){var d,e=c("x"),f=c("y");if(e)f?(d=Math.min(e.length,f.length),d<e.length&&(b.x=e.slice(0,d)),d<f.length&&(b.y=f.slice(0,d))):(d=e.length,c("y0"),c("dy"));else{if(!f)return 0;d=b.y.length,c("x0"),c("dx")}return d}},{}],514:[function(require,a,b){"use strict";function c(a){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}}}var d=require("../scatter/attributes"),e=require("../../constants/gl_markers"),f=require("../../lib/extend").extendFlat,g=d.line,h=d.marker,i=h.line;a.exports={x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},text:f({},d.text,{}),mode:f({},d.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:c("x"),y:c("y"),z:c("z")},line:{color:g.color,width:g.width,dash:g.dash},marker:{color:h.color,symbol:{valType:"enumerated",values:Object.keys(e),dflt:"circle",arrayOk:!0},size:f({},h.size,{dflt:8}),sizeref:h.sizeref,sizemin:h.sizemin,sizemode:h.sizemode,opacity:f({},h.opacity,{arrayOk:!1}),colorscale:h.colorscale,cauto:h.cauto,cmax:h.cmax,cmin:h.cmin,autocolorscale:h.autocolorscale,reversescale:h.reversescale,showscale:h.showscale,line:{color:i.color,width:f({},i.width,{arrayOk:!1}),colorscale:i.colorscale,cauto:i.cauto,cmax:i.cmax,cmin:i.cmin,autocolorscale:i.autocolorscale,reversescale:i.reversescale}},textposition:f({},d.textposition,{dflt:"top center"}),textfont:d.textfont,_nestedModules:{error_x:"ErrorBars",error_y:"ErrorBars",error_z:"ErrorBars","marker.colorbar":"Colorbar"}}},{"../../constants/gl_markers":336,"../../lib/extend":344,"../scatter/attributes":493}],515:[function(require,a,b){"use strict";var c=require("../scatter/arrays_to_calcdata"),d=require("../scatter/marker_colorscale_calc");a.exports=function(a,b){var e=[{x:!1,y:!1,trace:b,t:{}}];return c(e),d(b),e}},{"../scatter/arrays_to_calcdata":492,"../scatter/marker_colorscale_calc":506}],516:[function(require,a,b){"use strict";function c(a,b,c){if(!b||!b.visible)return null;for(var d=f(b),e=new Array(a.length),g=0;g<a.length;g++){var h=d(+a[g],g);e[g]=[-h[0]*c,h[1]*c]}return e}function d(a){for(var b=0;b<a.length;b++)if(a[b])return a[b].length;return 0}function e(a,b){var e=[c(a.x,a.error_x,b[0]),c(a.y,a.error_y,b[1]),c(a.z,a.error_z,b[2])],f=d(e);
if(0===f)return null;for(var g=new Array(f),h=0;f>h;h++){for(var i=[[0,0,0],[0,0,0]],j=0;3>j;j++)if(e[j])for(var k=0;2>k;k++)i[k][j]=e[j][h][k];g[h]=i}return g}var f=require("../../components/errorbars/compute_error");a.exports=e},{"../../components/errorbars/compute_error":321}],517:[function(require,a,b){"use strict";function c(a,b){this.scene=a,this.uid=b,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-(1/0),-(1/0),-(1/0)],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}function d(a,b,c){var d,e=(c+1)%3,f=(c+2)%3,g=[],h=[];for(d=0;d<a.length;++d){var i=a[d];!isNaN(i[e])&&isFinite(i[e])&&!isNaN(i[f])&&isFinite(i[f])&&(g.push([i[e],i[f]]),h.push(d))}var j=q(g);for(d=0;d<j.length;++d)for(var k=j[d],l=0;l<k.length;++l)k[l]=h[k[l]];return{positions:a,cells:j,meshColor:b}}function e(a){for(var b=[0,0,0],c=[[0,0,0],[0,0,0],[0,0,0]],d=[0,0,0],e=0;3>e;e++){var f=a[e];f&&f.copy_zstyle!==!1&&(f=a[2]),f&&(b[e]=f.width/2,c[e]=s(f.color),d=f.thickness)}return{capSize:b,color:c,lineWidth:d}}function f(a){var b=[0,0];return Array.isArray(a)?[0,-1]:(a.indexOf("bottom")>=0&&(b[1]+=1),a.indexOf("top")>=0&&(b[1]-=1),a.indexOf("left")>=0&&(b[0]-=1),a.indexOf("right")>=0&&(b[0]+=1),b)}function g(a,b){return b(4*a)}function h(a){return w[a]}function i(a,b,c,d,e){var f=null;if(Array.isArray(a)){f=[];for(var g=0;b>g;g++)void 0===a[g]?f[g]=d:f[g]=c(a[g],e)}else f=c(a,r.identity);return f}function j(a,b){var c,d,j,k,l,m,n=[],o=a.fullSceneLayout,p=a.dataScale,q=o.xaxis,v=o.yaxis,w=o.zaxis,y=b.marker,z=b.line,A=b.x||[],B=b.y||[],C=b.z||[],D=A.length;for(d=0;D>d;d++)j=q.d2l(A[d])*p[0],k=v.d2l(B[d])*p[1],l=w.d2l(C[d])*p[2],n[d]=[j,k,l];if(Array.isArray(b.text))m=b.text;else if(void 0!==b.text)for(m=new Array(D),d=0;D>d;d++)m[d]=b.text;if(c={position:n,mode:b.mode,text:m},"line"in b&&(c.lineColor=s(z.color),c.lineWidth=z.width,c.lineDashes=z.dash),"marker"in b){var E=u(b);c.scatterColor=t(y,1,D),c.scatterSize=i(y.size,D,g,20,E),c.scatterMarker=i(y.symbol,D,h,""),c.scatterLineWidth=y.line.width,c.scatterLineColor=t(y.line,1,D),c.scatterAngle=0}"textposition"in b&&(c.textOffset=f(b.textposition),c.textColor=t(b.textfont,1,D),c.textSize=i(b.textfont.size,D,r.identity,12),c.textFont=b.textfont.family,c.textAngle=0);var F=["x","y","z"];for(c.project=[!1,!1,!1],c.projectScale=[1,1,1],c.projectOpacity=[1,1,1],d=0;3>d;++d){var G=b.projection[F[d]];(c.project[d]=G.show)&&(c.projectOpacity[d]=G.opacity,c.projectScale[d]=G.scale)}c.errorBounds=x(b,p);var H=e([b.error_x,b.error_y,b.error_z]);return c.errorColor=H.color,c.errorLineWidth=H.lineWidth,c.errorCapSize=H.capSize,c.delaunayAxis=b.surfaceaxis,c.delaunayColor=s(b.surfacecolor),c}function k(a){if(Array.isArray(a)){var b=a[0];return Array.isArray(b)&&(a=b),"rgb("+a.slice(0,3).map(function(a){return Math.round(255*a)})+")"}return null}function l(a,b){var d=new c(a,b.uid);return d.update(b),d}var m=require("gl-line3d"),n=require("gl-scatter3d"),o=require("gl-error3d"),p=require("gl-mesh3d"),q=require("delaunay-triangulate"),r=require("../../lib"),s=require("../../lib/str2rgbarray"),t=require("../../lib/gl_format_color"),u=require("../scatter/make_bubble_size_func"),v=require("../../constants/gl3d_dashes"),w=require("../../constants/gl_markers"),x=require("./calc_errors"),y=c.prototype;y.handlePick=function(a){if(a.object&&(a.object===this.linePlot||a.object===this.delaunayMesh||a.object===this.textMarkers||a.object===this.scatterPlot)){a.object.highlight&&a.object.highlight(null),this.scatterPlot&&(a.object=this.scatterPlot,this.scatterPlot.highlight(a.data)),this.textLabels&&void 0!==this.textLabels[a.data.index]?a.textLabel=this.textLabels[a.data.index]:a.textLabel="";var b=a.data.index;return a.traceCoordinate=[this.data.x[b],this.data.y[b],this.data.z[b]],!0}},y.update=function(a){var b,c,e,f,g=this.scene.glplot.gl,h=v.solid;this.data=a;var i=j(this.scene,a);"mode"in i&&(this.mode=i.mode),"lineDashes"in i&&i.lineDashes in v&&(h=v[i.lineDashes]),this.color=k(i.scatterColor)||k(i.lineColor),this.dataPoints=i.position,b={gl:g,position:i.position,color:i.lineColor,lineWidth:i.lineWidth||1,dashes:h[0],dashScale:h[1],opacity:a.opacity},-1!==this.mode.indexOf("lines")?this.linePlot?this.linePlot.update(b):(this.linePlot=m(b),this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var l=a.opacity;if(a.marker&&a.marker.opacity&&(l*=a.marker.opacity),c={gl:g,position:i.position,color:i.scatterColor,size:i.scatterSize,glyph:i.scatterMarker,opacity:l,orthographic:!0,lineWidth:i.scatterLineWidth,lineColor:i.scatterLineColor,project:i.project,projectScale:i.projectScale,projectOpacity:i.projectOpacity},-1!==this.mode.indexOf("markers")?this.scatterPlot?this.scatterPlot.update(c):(this.scatterPlot=n(c),this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),f={gl:g,position:i.position,glyph:i.text,color:i.textColor,size:i.textSize,angle:i.textAngle,alignment:i.textOffset,font:i.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:a.opacity},this.textLabels=i.text,-1!==this.mode.indexOf("text")?this.textMarkers?this.textMarkers.update(f):(this.textMarkers=n(f),this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),e={gl:g,position:i.position,color:i.errorColor,error:i.errorBounds,lineWidth:i.errorLineWidth,capSize:i.errorCapSize,opacity:a.opacity},this.errorBars?i.errorBounds?this.errorBars.update(e):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):i.errorBounds&&(this.errorBars=o(e),this.scene.glplot.add(this.errorBars)),i.delaunayAxis>=0){var q=d(i.position,i.delaunayColor,i.delaunayAxis);this.delaunayMesh?this.delaunayMesh.update(q):(q.gl=g,this.delaunayMesh=p(q),this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},y.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.textMarkers),this.delaunayMesh.dispose())},a.exports=l},{"../../constants/gl3d_dashes":335,"../../constants/gl_markers":336,"../../lib":348,"../../lib/gl_format_color":346,"../../lib/str2rgbarray":358,"../scatter/make_bubble_size_func":505,"./calc_errors":516,"delaunay-triangulate":71,"gl-error3d":78,"gl-line3d":84,"gl-mesh3d":107,"gl-scatter3d":150}],518:[function(require,a,b){"use strict";function c(a,b,c){var d=0,e=c("x"),f=c("y"),g=c("z");return e&&f&&g&&(d=Math.min(e.length,f.length,g.length),d<e.length&&(b.x=e.slice(0,d)),d<f.length&&(b.y=f.slice(0,d)),d<g.length&&(b.z=g.slice(0,d))),d}var d=require("../../lib"),e=require("../scatter/subtypes"),f=require("../scatter/marker_defaults"),g=require("../scatter/line_defaults"),h=require("../scatter/text_defaults"),i=require("../../components/errorbars/defaults"),j=require("./attributes");a.exports=function(a,b,k,l){function m(c,e){return d.coerce(a,b,j,c,e)}var n=c(a,b,m);if(!n)return void(b.visible=!1);m("text"),m("mode"),e.hasLines(b)&&g(a,b,k,m),e.hasMarkers(b)&&f(a,b,k,l,m),e.hasText(b)&&h(a,b,l,m);var o=(b.line||{}).color,p=(b.marker||{}).color;m("surfaceaxis")>=0&&m("surfacecolor",o||p);for(var q=["x","y","z"],r=0;3>r;++r){var s="projection."+q[r];m(s+".show")&&(m(s+".opacity"),m(s+".scale"))}i(a,b,k,{axis:"z"}),i(a,b,k,{axis:"y",inherit:"z"}),i(a,b,k,{axis:"x",inherit:"z"})}},{"../../components/errorbars/defaults":322,"../../lib":348,"../scatter/line_defaults":503,"../scatter/marker_defaults":507,"../scatter/subtypes":511,"../scatter/text_defaults":512,"./attributes":514}],519:[function(require,a,b){"use strict";var c={};c.plot=require("./convert"),c.attributes=require("./attributes"),c.markerSymbols=require("../../constants/gl_markers"),c.supplyDefaults=require("./defaults"),c.colorbar=require("../scatter/colorbar"),c.calc=require("./calc"),c.moduleType="trace",c.name="scatter3d",c.basePlotModule=require("../../plots/gl3d"),c.categories=["gl3d","symbols","markerColorscale","showLegend"],c.meta={},a.exports=c},{"../../constants/gl_markers":336,"../../plots/gl3d":391,"../scatter/colorbar":496,"./attributes":514,"./calc":515,"./convert":517,"./defaults":518}],520:[function(require,a,b){"use strict";var c=require("../scatter/attributes"),d=require("../../plots/attributes"),e=require("../../lib/extend").extendFlat,f=c.marker,g=c.line,h=f.line;a.exports={lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names"],dflt:"ISO-3"},mode:e({},c.mode,{dflt:"markers"}),text:e({},c.text,{}),line:{color:g.color,width:g.width,dash:g.dash},marker:{symbol:f.symbol,opacity:f.opacity,size:f.size,sizeref:f.sizeref,sizemin:f.sizemin,sizemode:f.sizemode,color:f.color,colorscale:f.colorscale,cauto:f.cauto,cmax:f.cmax,cmin:f.cmin,autocolorscale:f.autocolorscale,reversescale:f.reversescale,showscale:f.showscale,line:{color:h.color,width:h.width,colorscale:h.colorscale,cauto:h.cauto,cmax:h.cmax,cmin:h.cmin,autocolorscale:h.autocolorscale,reversescale:h.reversescale}},textfont:c.textfont,textposition:c.textposition,hoverinfo:e({},d.hoverinfo,{flags:["lon","lat","location","text","name"]}),_nestedModules:{"marker.colorbar":"Colorbar"}}},{"../../lib/extend":344,"../../plots/attributes":366,"../scatter/attributes":493}],521:[function(require,a,b){"use strict";var c=require("../scatter/marker_colorscale_calc");a.exports=function(a,b){var d=[{x:!1,y:!1,trace:b,t:{}}];return c(b),d}},{"../scatter/marker_colorscale_calc":506}],522:[function(require,a,b){"use strict";function c(a,b,c){var d,e,f=0,g=c("locations");return g?(c("locationmode"),f=g.length):(d=c("lon")||[],e=c("lat")||[],f=Math.min(d.length,e.length),f<d.length&&(b.lon=d.slice(0,f)),f<e.length&&(b.lat=e.slice(0,f)),f)}var d=require("../../lib"),e=require("../scatter/subtypes"),f=require("../scatter/marker_defaults"),g=require("../scatter/line_defaults"),h=require("../scatter/text_defaults"),i=require("./attributes");a.exports=function(a,b,j,k){function l(c,e){return d.coerce(a,b,i,c,e)}var m=c(a,b,l);return m?(l("text"),l("mode"),e.hasLines(b)&&g(a,b,j,l),e.hasMarkers(b)&&f(a,b,j,k,l),e.hasText(b)&&h(a,b,k,l),void l("hoverinfo",1===k._dataLength?"lon+lat+location+text":void 0)):void(b.visible=!1)}},{"../../lib":348,"../scatter/line_defaults":503,"../scatter/marker_defaults":507,"../scatter/subtypes":511,"../scatter/text_defaults":512,"./attributes":520}],523:[function(require,a,b){"use strict";var c={};c.attributes=require("./attributes"),c.supplyDefaults=require("./defaults"),c.colorbar=require("../scatter/colorbar"),c.calc=require("./calc"),c.plot=require("./plot").plot,c.moduleType="trace",c.name="scattergeo",c.basePlotModule=require("../../plots/geo"),c.categories=["geo","symbols","markerColorscale","showLegend"],c.meta={},a.exports=c},{"../../plots/geo":376,"../scatter/colorbar":496,"./attributes":520,"./calc":521,"./defaults":522,"./plot":524}],524:[function(require,a,b){"use strict";function c(a,b,c){function d(a,d){l(a,b,d,c)}var e=a.marker;if(d(a.text,"tx"),d(a.textposition,"tp"),a.textfont&&(d(a.textfont.size,"ts"),d(a.textfont.color,"tc"),d(a.textfont.family,"tf")),e&&e.line){var f=e.line;d(e.opacity,"mo"),d(e.symbol,"mx"),d(e.color,"mc"),d(e.size,"ms"),d(f.color,"mlc"),d(f.width,"mlw")}}function d(a){for(var b=a.lon.length,c=new Array(b),d=0;b>d;d++)c[d]=[a.lon[d],a.lat[d]];return{type:"LineString",coordinates:c,trace:a}}function e(a,b){function c(b){var c=a.mockAxis;return i.tickText(c,c.c2l(b),"hover").text+""}var d=b.hoverinfo;if("none"===d)return function(a){delete a.textLabel};var e="all"===d?p.hoverinfo.flags:d.split("+"),f=-1!==e.indexOf("location")&&Array.isArray(b.locations),g=-1!==e.indexOf("lon"),h=-1!==e.indexOf("lat"),j=-1!==e.indexOf("text");return function(a){var d=[];f?d.push(a.location):g&&h?d.push("("+c(a.lon)+", "+c(a.lat)+")"):g?d.push("lon: "+c(a.lon)):h&&d.push("lat: "+c(a.lat)),j&&d.push(a.tx||b.text),a.textLabel=d.join("<br>")}}function f(a){var b=Array.isArray(a.locations);return function(c,d){return{points:[{data:a._input,fullData:a,curveNumber:a.index,pointNumber:d,lon:c.lon,lat:c.lat,location:b?c.location:null}]}}}var g=require("d3"),h=require("../../plots/cartesian/graph_interact"),i=require("../../plots/cartesian/axes"),j=require("../../lib/topojson_utils").getTopojsonFeatures,k=require("../../lib/geo_location_utils").locationToFeature,l=require("../../lib/array_to_calc_item"),m=require("../../components/color"),n=require("../../components/drawing"),o=require("../scatter/subtypes"),p=require("./attributes"),q=a.exports={};q.calcGeoJSON=function(a,b){var d,e,f,g,h,i,l=[],m=Array.isArray(a.locations);m?(h=a.locations,d=h.length,e=j(a,b),f=function(a,b){var c=k(a.locationmode,h[b],e);return void 0!==c?c.properties.ct:void 0}):(d=a.lon.length,f=function(a,b){return[a.lon[b],a.lat[b]]});for(var n=0;d>n;n++)g=f(a,n),g&&(i={lon:g[0],lat:g[1],location:m?a.locations[n]:null},c(a,i,n),l.push(i));return l.length>0&&(l[0].trace=a),l},q.plot=function(a,b){var c=a.framework.select(".scattergeolayer").selectAll("g.trace.scattergeo").data(b);c.enter().append("g").attr("class","trace scattergeo"),c.exit().remove(),c.each(function(a){o.hasLines(a)&&a.visible===!0&&g.select(this).append("path").datum(d(a)).attr("class","js-line")}),c.append("g").attr("class","points").each(function(b){function c(c,d){if(a.showHover){var e=a.projection([c.lon,c.lat]);m(c),h.loneHover({x:e[0],y:e[1],name:r?b.name:void 0,text:c.textLabel,color:c.mc||(b.marker||{}).color},{container:a.hoverContainer.node()}),a.graphDiv.emit("plotly_hover",n(c,d))}}function d(b,c){a.graphDiv.emit("plotly_click",n(b,c))}var i=g.select(this),j=o.hasMarkers(b),k=o.hasText(b);if(!j&&!k||b.visible!==!0)return void i.remove();var l=q.calcGeoJSON(b,a.topojson),m=e(a,b),n=f(b),p=b.hoverinfo,r="all"===p||-1!==p.indexOf("name");j&&i.selectAll("path.point").data(l).enter().append("path").attr("class","point").on("mouseover",c).on("click",d).on("mouseout",function(){h.loneUnhover(a.hoverContainer)}).on("mousedown",function(){h.loneUnhover(a.hoverContainer)}).on("mouseup",c),k&&i.selectAll("g").data(l).enter().append("g").append("text")}),q.style(a)},q.style=function(a){var b=a.framework.selectAll("g.trace.scattergeo");b.style("opacity",function(a){return a.opacity}),b.selectAll("g.points").each(function(a){g.select(this).selectAll("path.point").call(n.pointStyle,a),g.select(this).selectAll("text").call(n.textPointStyle,a)}),b.selectAll("path.js-line").style("fill","none").each(function(a){var b=a.trace,c=b.line||{};g.select(this).call(m.stroke,c.color).call(n.dashLine,c.dash||"",c.width||0)})}},{"../../components/color":299,"../../components/drawing":317,"../../lib/array_to_calc_item":340,"../../lib/geo_location_utils":345,"../../lib/topojson_utils":360,"../../plots/cartesian/axes":368,"../../plots/cartesian/graph_interact":370,"../scatter/subtypes":511,"./attributes":520,d3:70}],525:[function(require,a,b){"use strict";var c=require("../scatter/attributes"),d=require("../../constants/gl2d_dashes"),e=require("../../constants/gl_markers"),f=require("../../lib/extend").extendFlat,g=c.line,h=c.marker,i=h.line;a.exports={x:c.x,x0:c.x0,dx:c.dx,y:c.y,y0:c.y0,dy:c.dy,text:f({},c.text,{}),mode:{valType:"flaglist",flags:["lines","markers"],extras:["none"]},line:{color:g.color,width:g.width,dash:{valType:"enumerated",values:Object.keys(d),dflt:"solid"}},marker:{color:h.color,symbol:{valType:"enumerated",values:Object.keys(e),dflt:"circle",arrayOk:!0},size:h.size,sizeref:h.sizeref,sizemin:h.sizemin,sizemode:h.sizemode,opacity:h.opacity,colorscale:h.colorscale,cauto:h.cauto,cmax:h.cmax,cmin:h.cmin,autocolorscale:h.autocolorscale,reversescale:h.reversescale,showscale:h.showscale,line:{color:i.color,width:i.width,colorscale:i.colorscale,cauto:i.cauto,cmax:i.cmax,cmin:i.cmin,autocolorscale:i.autocolorscale,reversescale:i.reversescale}},fill:f({},c.fill,{values:["none","tozeroy","tozerox"]}),fillcolor:c.fillcolor,_nestedModules:{error_x:"ErrorBars",error_y:"ErrorBars","marker.colorbar":"Colorbar"}}},{"../../constants/gl2d_dashes":334,"../../constants/gl_markers":336,"../../lib/extend":344,"../scatter/attributes":493}],526:[function(require,a,b){"use strict";function c(a,b){this.scene=a,this.uid=b,this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=[],this.bounds=[0,0,0,0],this.hasLines=!1,this.lineOptions={positions:new Float32Array,color:[0,0,0,1],width:1,fill:[!1,!1,!1,!1],fillColor:[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],dashes:[1]},this.line=n(a.glplot,this.lineOptions),this.line._trace=this,this.hasErrorX=!1,this.errorXOptions={positions:new Float32Array,errors:new Float32Array,lineWidth:1,capSize:0,color:[0,0,0,1]},this.errorX=o(a.glplot,this.errorXOptions),this.errorX._trace=this,this.hasErrorY=!1,this.errorYOptions={positions:new Float32Array,errors:new Float32Array,lineWidth:1,capSize:0,color:[0,0,0,1]},this.errorY=o(a.glplot,this.errorYOptions),this.errorY._trace=this,this.hasMarkers=!1,this.scatterOptions={positions:new Float32Array,sizes:[],colors:[],glyphs:[],borderWidths:[],borderColors:[],size:12,color:[0,0,0,1],borderSize:1,borderColor:[0,0,0,1]},this.scatter=l(a.glplot,this.scatterOptions),this.scatter._trace=this,this.fancyScatter=m(a.glplot,this.scatterOptions),this.fancyScatter._trace=this}function d(a,b,c){return Array.isArray(b)||(b=[b]),e(a,b,c)}function e(a,b,c){for(var d=new Array(c),e=b[0],f=0;c>f;++f)d[f]=a(f>=b.length?e:b[f]);return d}function f(a,b,c){return h(C(a,c),B(b,c),c)}function g(a,b,c,d){var f=t(a,b,d);return f=Array.isArray(f[0])?f:e(q.identity,[f],d),h(f,B(c,d),d)}function h(a,b,c){for(var d=new Array(4*c),e=0;c>e;++e){for(var f=0;3>f;++f)d[4*e+f]=a[e][f];d[4*e+3]=a[e][3]*b[e]}return d}function i(a,b){if(void 0===Float32Array.slice){for(var c=new Float32Array(b),d=0;b>d;d++)c[d]=a[d];return c}return a.slice(0,b)}function j(a,b){var d=new c(a,b.uid);return d.update(b),d}var k=require("../../plotly"),l=require("gl-scatter2d"),m=require("gl-scatter2d-fancy"),n=require("gl-line2d"),o=require("gl-error2d"),p=require("fast-isnumeric"),q=require("../../lib"),r=require("../../components/errorbars"),s=require("../../lib/str2rgbarray"),t=require("../../lib/gl_format_color"),u=require("../scatter/subtypes"),v=require("../scatter/make_bubble_size_func"),w=require("../scatter/get_trace_color"),x=require("../../constants/gl_markers"),y=require("../../constants/gl2d_dashes"),z=["xaxis","yaxis"],A=c.prototype;A.handlePick=function(a){var b=this.idToIndex[a.pointId];return{trace:this,dataCoord:a.dataCoord,traceCoord:[this.xData[b],this.yData[b]],textLabel:Array.isArray(this.textLabels)?this.textLabels[b]:this.textLabels,color:Array.isArray(this.color)?this.color[b]:this.color,name:this.name,hoverinfo:this.hoverinfo}},A.isFancy=function(a){if("linear"!==this.scene.xaxis.type)return!0;if("linear"!==this.scene.yaxis.type)return!0;if(!a.x||!a.y)return!0;var b=a.marker||{};if(Array.isArray(b.symbol)||"circle"!==b.symbol||Array.isArray(b.size)||Array.isArray(b.line.width)||Array.isArray(b.opacity))return!0;var c=b.color;if(Array.isArray(c))return!0;var d=Array.isArray(b.line.color);return Array.isArray(d)?!0:this.hasErrorX?!0:this.hasErrorY?!0:!1};var B=d.bind(null,function(a){return+a}),C=d.bind(null,s),D=d.bind(null,function(a){return x[a]||""});A.update=function(a){a.visible!==!0?(this.hasLines=!1,this.hasErrorX=!1,this.hasErrorY=!1,this.hasMarkers=!1):(this.hasLines=u.hasLines(a),this.hasErrorX=a.error_x.visible===!0,this.hasErrorY=a.error_y.visible===!0,this.hasMarkers=u.hasMarkers(a)),this.textLabels=a.text,this.name=a.name,this.hoverinfo=a.hoverinfo,this.bounds=[1/0,1/0,-(1/0),-(1/0)],this.isFancy(a)?this.updateFancy(a):this.updateFast(a),this.color=w(a,{})},A.updateFast=function(a){for(var b,c,d=this.xData=a.x,e=this.yData=a.y,f=d.length,g=new Array(f),h=new Float32Array(2*f),j=this.bounds,k=0,l=0,m=0;f>m;++m)b=d[m],c=e[m],p(b)&&p(c)&&(g[k++]=m,h[l++]=b,h[l++]=c,j[0]=Math.min(j[0],b),j[1]=Math.min(j[1],c),j[2]=Math.max(j[2],b),j[3]=Math.max(j[3],c));h=i(h,l),this.idToIndex=g,this.updateLines(a,h),this.updateError("X",a),this.updateError("Y",a);var n;if(this.hasMarkers){this.scatterOptions.positions=h;var o=s(a.marker.color),q=s(a.marker.line.color),r=a.opacity*a.marker.opacity;o[3]*=r,this.scatterOptions.color=o,q[3]*=r,this.scatterOptions.borderColor=q,n=a.marker.size,this.scatterOptions.size=n,this.scatterOptions.borderSize=a.marker.line.width,this.scatter.update(this.scatterOptions)}else this.scatterOptions.positions=new Float32Array,this.scatterOptions.glyphs=[],this.scatter.update(this.scatterOptions);this.scatterOptions.positions=new Float32Array,this.scatterOptions.glyphs=[],this.fancyScatter.update(this.scatterOptions),this.expandAxesFast(j,n)},A.updateFancy=function(a){var b,c,e,f,h,j,k,l,m=this.scene,n=m.xaxis,o=m.yaxis,p=this.bounds,q=this.xData=n.makeCalcdata(a,"x"),s=this.yData=o.makeCalcdata(a,"y"),t=r.calcFromTrace(a,m.fullLayout),u=q.length,w=new Array(u),x=new Float32Array(2*u),y=new Float32Array(4*u),z=new Float32Array(4*u),A=0,C=0,E=0,F=0,G="log"===n.type?function(a){return n.d2l(a)}:function(a){return a},H="log"===o.type?function(a){return o.d2l(a)}:function(a){return a};for(b=0;u>b;++b)e=G(q[b]),f=H(s[b]),isNaN(e)||isNaN(f)||(w[A++]=b,x[C++]=e,x[C++]=f,h=y[E++]=e-t[b].xs||0,j=y[E++]=t[b].xh-e||0,y[E++]=0,y[E++]=0,z[F++]=0,z[F++]=0,k=z[F++]=f-t[b].ys||0,l=z[F++]=t[b].yh-f||0,p[0]=Math.min(p[0],e-h),p[1]=Math.min(p[1],f-k),p[2]=Math.max(p[2],e+j),p[3]=Math.max(p[3],f+l));x=i(x,C),this.idToIndex=w,this.updateLines(a,x),this.updateError("X",a,x,y),this.updateError("Y",a,x,z);var I;if(this.hasMarkers){this.scatterOptions.positions=x,this.scatterOptions.sizes=new Array(A),this.scatterOptions.glyphs=new Array(A),this.scatterOptions.borderWidths=new Array(A),this.scatterOptions.colors=new Array(4*A),this.scatterOptions.borderColors=new Array(4*A);var J,K=v(a),L=a.marker,M=L.opacity,N=a.opacity,O=g(L,M,N,u),P=D(L.symbol,u),Q=B(L.line.width,u),R=g(L.line,M,N,u);for(I=d(K,L.size,u),b=0;A>b;++b)for(J=w[b],this.scatterOptions.sizes[b]=4*I[J],this.scatterOptions.glyphs[b]=P[J],this.scatterOptions.borderWidths[b]=.5*Q[J],c=0;4>c;++c)this.scatterOptions.colors[4*b+c]=O[4*J+c],this.scatterOptions.borderColors[4*b+c]=R[4*J+c];this.fancyScatter.update(this.scatterOptions)}else this.scatterOptions.positions=new Float32Array,this.scatterOptions.glyphs=[],this.fancyScatter.update(this.scatterOptions);this.scatterOptions.positions=new Float32Array,this.scatterOptions.glyphs=[],this.scatter.update(this.scatterOptions),this.expandAxesFancy(q,s,I)},A.updateLines=function(a,b){if(this.hasLines){this.lineOptions.positions=b;var c=s(a.line.color);this.hasMarkers&&(c[3]*=a.marker.opacity);for(var d=Math.round(.5*this.lineOptions.width),e=(y[a.line.dash]||[1]).slice(),f=0;f<e.length;++f)e[f]*=d;switch(a.fill){case"tozeroy":this.lineOptions.fill=[!1,!0,!1,!1];break;case"tozerox":this.lineOptions.fill=[!0,!1,!1,!1];break;default:this.lineOptions.fill=[!1,!1,!1,!1]}var g=s(a.fillcolor);this.lineOptions.color=c,this.lineOptions.width=2*a.line.width,this.lineOptions.dashes=e,this.lineOptions.fillColor=[g,g,g,g]}else this.lineOptions.positions=new Float32Array;this.line.update(this.lineOptions)},A.updateError=function(a,b,c,d){var e=this["error"+a],g=b["error_"+a.toLowerCase()],h=this["error"+a+"Options"];"x"===a.toLowerCase()&&g.copy_ystyle&&(g=b.error_y),this["hasError"+a]?(h.positions=c,h.errors=d,h.capSize=g.width,h.lineWidth=g.thickness/2,h.color=f(g.color,1,1)):h.positions=new Float32Array,e.update(h)},A.expandAxesFast=function(a,b){for(var c,d,e,f=b||10,g=0;2>g;g++)c=this.scene[z[g]],d=c._min,d||(d=[]),d.push({val:a[g],pad:f}),e=c._max,e||(e=[]),e.push({val:a[g+2],pad:f})},A.expandAxesFancy=function(a,b,c){var d=this.scene,e={padded:!0,ppad:c};k.Axes.expand(d.xaxis,a,e),k.Axes.expand(d.yaxis,b,e)},A.dispose=function(){this.line.dispose(),this.errorX.dispose(),this.errorY.dispose(),this.scatter.dispose(),this.fancyScatter.dispose()},a.exports=j},{"../../components/errorbars":323,"../../constants/gl2d_dashes":334,"../../constants/gl_markers":336,"../../lib":348,"../../lib/gl_format_color":346,"../../lib/str2rgbarray":358,"../../plotly":365,"../scatter/get_trace_color":500,"../scatter/make_bubble_size_func":505,"../scatter/subtypes":511,"fast-isnumeric":74,"gl-error2d":76,"gl-line2d":82,"gl-scatter2d":147,"gl-scatter2d-fancy":142}],527:[function(require,a,b){"use strict";var c=require("../../lib"),d=require("../scatter/constants"),e=require("../scatter/subtypes"),f=require("../scatter/xy_defaults"),g=require("../scatter/marker_defaults"),h=require("../scatter/line_defaults"),i=require("../scatter/fillcolor_defaults"),j=require("../../components/errorbars/defaults"),k=require("./attributes");a.exports=function(a,b,l,m){function n(d,e){return c.coerce(a,b,k,d,e)}var o=f(a,b,n);return o?(n("text"),n("mode",o<d.PTS_LINESONLY?"lines+markers":"lines"),e.hasLines(b)&&h(a,b,l,n),e.hasMarkers(b)&&g(a,b,l,m,n),n("fill"),"none"!==b.fill&&i(a,b,l,n),j(a,b,l,{axis:"y"}),void j(a,b,l,{axis:"x",inherit:"y"})):void(b.visible=!1)}},{"../../components/errorbars/defaults":322,"../../lib":348,"../scatter/constants":497,"../scatter/fillcolor_defaults":499,"../scatter/line_defaults":503,"../scatter/marker_defaults":507,"../scatter/subtypes":511,"../scatter/xy_defaults":513,"./attributes":525}],528:[function(require,a,b){"use strict";var c={};c.attributes=require("./attributes"),c.supplyDefaults=require("./defaults"),c.colorbar=require("../scatter/colorbar"),c.calc=require("../scatter3d/calc"),c.plot=require("./convert"),c.moduleType="trace",c.name="scattergl",c.basePlotModule=require("../../plots/gl2d"),c.categories=["gl2d","symbols","errorBarsOK","markerColorscale","showLegend"],c.meta={},a.exports=c},{"../../plots/gl2d":388,"../scatter/colorbar":496,"../scatter3d/calc":515,"./attributes":525,"./convert":526,"./defaults":527}],529:[function(require,a,b){"use strict";function c(a){return{valType:"boolean",dflt:!1}}function d(a){return{show:{valType:"boolean",dflt:!1},project:{x:c("x"),y:c("y"),z:c("z")},color:{valType:"color",dflt:"#000"},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!1},highlightColor:{valType:"color",dflt:"#000"},highlightWidth:{valType:"number",min:1,max:16,dflt:2}}}var e=require("../../components/colorscale/attributes"),f=require("../../lib/extend").extendFlat;a.exports={z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"data_array"},zauto:e.zauto,zmin:e.zmin,zmax:e.zmax,colorscale:e.colorscale,autocolorscale:f({},e.autocolorscale,{dflt:!1}),reversescale:e.reversescale,showscale:e.showscale,contours:{x:d("x"),y:d("y"),z:d("z")},hidesurface:{valType:"boolean",dflt:!1},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},_nestedModules:{colorbar:"Colorbar"}}},{"../../components/colorscale/attributes":305,"../../lib/extend":344}],530:[function(require,a,b){"use strict";var c=require("../../components/colorscale/calc");a.exports=function(a,b){c(b,b.z,"","z")}},{"../../components/colorscale/calc":306}],531:[function(require,a,b){"use strict";function c(a,b,c){this.scene=a,this.uid=c,this.surface=b,this.data=null,this.showContour=[!1,!1,!1],this.dataScale=1}function d(a,b){return void 0===b&&(b=1),a.map(function(a){var c=a[0],d=m(a[1]),e=d.toRgb();return{index:c,rgb:[e.r,e.g,e.b,b]}})}function e(a){var b=a.shape,c=[b[0]+2,b[1]+2],d=i(new Float32Array(c[0]*c[1]),c);return l.assign(d.lo(1,1).hi(b[0],b[1]),a),l.assign(d.lo(1).hi(b[0],1),a.hi(b[0],1)),l.assign(d.lo(1,c[1]-1).hi(b[0],1),a.lo(0,b[1]-1).hi(b[0],1)),l.assign(d.lo(0,1).hi(1,b[1]),a.hi(1)),l.assign(d.lo(c[0]-1,1).hi(1,b[1]),a.lo(b[0]-1)),d.set(0,0,a.get(0,0)),d.set(0,c[1]-1,a.get(0,b[1]-1)),d.set(c[0]-1,0,a.get(b[0]-1,0)),d.set(c[0]-1,c[1]-1,a.get(b[0]-1,b[1]-1)),d}function f(a){var b=Math.max(a[0].shape[0],a[0].shape[1]);if(o>b){for(var c=o/b,d=[0|Math.floor(a[0].shape[0]*c+1),0|Math.floor(a[0].shape[1]*c+1)],f=d[0]*d[1],g=0;3>g;++g){var h=e(a[g]),k=i(new Float32Array(f),d);j(k,h,[c,0,0,0,c,0,0,0,1]),a[g]=k}return c}return 1}function g(a,b){var d=a.glplot.gl,e=h({gl:d}),f=new c(a,e,b.uid);return f.update(b),a.glplot.add(e),f}var h=require("gl-surface3d"),i=require("ndarray"),j=require("ndarray-homography"),k=require("ndarray-fill"),l=require("ndarray-ops"),m=require("tinycolor2"),n=require("../../lib/str2rgbarray"),o=128,p=c.prototype;p.handlePick=function(a){if(a.object===this.surface){var b=[Math.min(0|Math.round(a.data.index[0]/this.dataScale-1),this.data.z[0].length-1),Math.min(0|Math.round(a.data.index[1]/this.dataScale-1),this.data.z.length-1)],c=[0,0,0];Array.isArray(this.data.x[0])?c[0]=this.data.x[b[1]][b[0]]:c[0]=this.data.x[b[0]],Array.isArray(this.data.y[0])?c[1]=this.data.y[b[1]][b[0]]:c[1]=this.data.y[b[1]],c[2]=this.data.z[b[1]][b[0]],a.traceCoordinate=c;var d=this.scene.fullSceneLayout;a.dataCoordinate=[d.xaxis.d2l(c[0])*this.scene.dataScale[0],d.yaxis.d2l(c[1])*this.scene.dataScale[1],d.zaxis.d2l(c[2])*this.scene.dataScale[2]];var e=this.data.text;return e&&e[b[1]]&&void 0!==e[b[1]][b[0]]?a.textLabel=e[b[1]][b[0]]:a.textLabel="",a.data.dataCoordinate=a.dataCoordinate.slice(),this.surface.highlight(a.data),this.scene.glplot.spikes.position=a.dataCoordinate,!0}},p.setContourLevels=function(){for(var a=[[],[],[]],b=!1,c=0;3>c;++c)this.showContour[c]&&(b=!0,a[c]=this.scene.contourLevels[c]);b&&this.surface.update({levels:a})},p.update=function(a){var b,c=this.scene,e=c.fullSceneLayout,g=this.surface,h=a.opacity,j=d(a.colorscale,h),l=a.z,m=a.x,o=a.y,p=e.xaxis,q=e.yaxis,r=e.zaxis,s=c.dataScale,t=l[0].length,u=l.length,v=[i(new Float32Array(t*u),[t,u]),i(new Float32Array(t*u),[t,u]),i(new Float32Array(t*u),[t,u])],w=v[0],x=v[1],y=c.contourLevels;this.data=a,k(v[2],function(a,b){return r.d2l(l[b][a])*s[2]}),Array.isArray(m[0])?k(w,function(a,b){return p.d2l(m[b][a])*s[0]}):k(w,function(a){return p.d2l(m[a])*s[0]}),Array.isArray(o[0])?k(x,function(a,b){return q.d2l(o[b][a])*s[1]}):k(x,function(a,b){return q.d2l(o[b])*s[1]}),this.dataScale=f(v);var z={colormap:j,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!a.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacity:1,colorBounds:[a.zmin*s[2],a.zmax*s[2]]};"opacity"in a&&a.opacity<1&&(z.opacity=.25*a.opacity);var A=[!0,!0,!0],B=[!0,!0,!0],C=["x","y","z"];for(b=0;3>b;++b){var D=a.contours[C[b]];A[b]=D.highlight,B[b]=D.show,z.showContour[b]=D.show||D.highlight,z.showContour[b]&&(z.contourProject[b]=[D.project.x,D.project.y,D.project.z],D.show?(this.showContour[b]=!0,z.levels[b]=y[b],g.highlightColor[b]=z.contourColor[b]=n(D.color),D.usecolormap?g.highlightTint[b]=z.contourTint[b]=0:g.highlightTint[b]=z.contourTint[b]=1,z.contourWidth[b]=D.width):this.showContour[b]=!1,D.highlight&&(z.dynamicColor[b]=n(D.highlightColor),z.dynamicWidth[b]=D.highlightWidth))}z.coords=v,g.update(z),
g.highlightEnable=A,g.contourEnable=B,g.visible=a.visible,g.snapToData=!0,"lighting"in a&&(g.ambientLight=a.lighting.ambient,g.diffuseLight=a.lighting.diffuse,g.specularLight=a.lighting.specular,g.roughness=a.lighting.roughness,g.fresnel=a.lighting.fresnel),h&&1>h&&(g.supportsTransparency=!0)},p.dispose=function(){this.glplot.remove(this.surface),this.surface.dispose()},a.exports=g},{"../../lib/str2rgbarray":358,"gl-surface3d":184,ndarray:208,"ndarray-fill":201,"ndarray-homography":206,"ndarray-ops":207,tinycolor2:229}],532:[function(require,a,b){"use strict";var c=require("../../lib"),d=require("../../components/colorscale/defaults"),e=require("./attributes");a.exports=function(a,b,f,g){function h(d,f){return c.coerce(a,b,e,d,f)}var i,j,k=h("z");if(!k)return void(b.visible=!1);var l=k[0].length,m=k.length;if(h("x"),h("y"),!Array.isArray(b.x))for(b.x=[],i=0;l>i;++i)b.x[i]=i;if(h("text"),!Array.isArray(b.y))for(b.y=[],i=0;m>i;++i)b.y[i]=i;h("lighting.ambient"),h("lighting.diffuse"),h("lighting.specular"),h("lighting.roughness"),h("lighting.fresnel"),h("hidesurface"),h("opacity"),h("colorscale");var n=["x","y","z"];for(i=0;3>i;++i){var o="contours."+n[i],p=h(o+".show"),q=h(o+".highlight");if(p||q)for(j=0;3>j;++j)h(o+".project."+n[j]);p&&(h(o+".color"),h(o+".width"),h(o+".usecolormap")),q&&(h(o+".highlightColor"),h(o+".highlightWidth"))}d(a,b,g,h,{prefix:"",cLetter:"z"})}},{"../../components/colorscale/defaults":308,"../../lib":348,"./attributes":529}],533:[function(require,a,b){"use strict";var c={};c.attributes=require("./attributes"),c.supplyDefaults=require("./defaults"),c.colorbar=require("../heatmap/colorbar"),c.calc=require("./calc"),c.plot=require("./convert"),c.moduleType="trace",c.name="surface",c.basePlotModule=require("../../plots/gl3d"),c.categories=["gl3d","noOpacity"],c.meta={},a.exports=c},{"../../plots/gl3d":391,"../heatmap/colorbar":452,"./attributes":529,"./calc":530,"./convert":531,"./defaults":532}]},{},[12])(12)}),b()}(),a.register("1",["29","a4","a8","a9","aa"],function(a,b){"use strict";var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=(b&&b.id,this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)});return{setters:[function(a){c=a},function(a){d=a},function(a){},function(a){},function(a){e=a}],execute:function(){f=-6,g=-6,h=6,i=6,j=.2,k="w,x,y,a,b,d".split(","),function(a){a[a.w=0]="w",a[a.x=1]="x",a[a.y=2]="y",a[a.a=3]="a",a[a.b=4]="b",a[a.d=5]="d"}(l||(l={})),m=[0,f,g,-6,-6,-6],n=[2,h,i,6,6,6],o=[[1.2,-2,2,1,0,3],[1.5,2,-2,2.5,3,6],[1.2,2,2,1,0,3],[1.5,-2,-2,2.5,-3,6]],p=function(){return[.5,Math.random()*(h-f)+f,Math.random()*(i-g)+g,1,0,1].map(function(a){return+a.toFixed(1)})},q={gausses:o.slice(0,2),errors:[!1,!1]},r=function(){function a(a){this.w=a[0],this.x=a[1],this.y=a[2],this.a=a[3],this.b=a[4],this.d=a[5],this.c=this.b;var b=this.a,c=this.b,d=this.c,e=this.d,f=b*e-d*c;this.i11=e/f,this.i12=-c/f,this.i22=b/f,this.i21=-d/f,this.factor=this.w/Math.sqrt(4*Math.pow(Math.PI,2)*f)}return a.prototype.eval=function(a,b){var c=a-this.x,d=b-this.y,e=-.5*(c*c*this.i11+c*d*this.i12+d*c*this.i21+d*d*this.i22);return this.factor*Math.exp(e)},a}(),s=function(a){function b(){a.apply(this,arguments)}return u(b,a),b.prototype.render=function(){var a=this,b=(this.state,this.props.vals),d=+b[l.a]*+b[l.d]-Math.pow(+b[l.b],2)<=0;return c.createElement("div",{className:"row "+(d?"alert-danger":"")},b.map(function(b,d){return c.createElement("div",{key:d,className:"col-sm-2"},c.createElement("label",null,(0==d?a.props.name:"")+" "+k[d]+" = ",c.createElement("input",{type:"number",className:"number",value:b+"",onChange:function(b){return a.props.onVariableChange(d,b.target.value)}})),c.createElement("input",{type:"range",className:"slider",value:b+"",step:.1,min:m[d],max:n[d],onChange:function(b){return a.props.onVariableChange(d,b.target.value)}}))}))},b}(c.Component),t=function(a){function b(b){a.call(this,b),this.state=q,this.gaussInstances=this.state.gausses.map(function(a){return new r(a)})}return u(b,a),b.prototype.onChangeGauss=function(a,b,c){var d=this.state.gausses.slice();d[a]=d[a].slice(),d[a][b]=c,this.gaussInstances[a]=new r(d[a].map(function(a){return+a})),this.setState({gausses:d})},b.prototype.onAddGauss=function(){var a=this.state.gausses.slice(),b=a.length;a.push((o[b]||p()).slice()),this.gaussInstances[b]=new r(a[b].map(function(a){return+a})),this.setState({gausses:a})},b.prototype.onRemoveGauss=function(){this.state.gausses.length<=1||(this.gaussInstances.pop(),this.setState({gausses:this.state.gausses.slice(0,this.state.gausses.length-1)}))},b.prototype.render=function(){var a=this;return c.createElement("div",null,c.createElement("div",{className:"page-header"},c.createElement("h1",null,"Gaussian Mixtures demo")),c.createElement("div",{className:"row",style:{marginBottom:10}},c.createElement("button",{className:"btn btn-default",onClick:this.onAddGauss.bind(this)},"Add")," ",c.createElement("button",{className:"btn btn-default",onClick:this.onRemoveGauss.bind(this)},"Remove")),this.state.gausses.map(function(b,d){return c.createElement(s,{key:d,name:1+d+".",vals:b,onVariableChange:a.onChangeGauss.bind(a,d)})}),c.createElement("hr",null),c.createElement("div",{ref:"plot"}),c.createElement("footer",null,c.createElement("small",null,c.createElement("a",{href:"https://github.com/phiresky/gaussian-mixtures-demo"},"Source on GitHub"))))},b.prototype.componentDidMount=function(){e["default"].plot(this.refs.plot,[],{width:900,height:400,scene:{aspectmode:"manual",aspectratio:{x:1,y:1,z:.3},zaxis:{range:[0,.2]},camera:{eye:{y:1,x:1,z:.6},center:{x:0,y:0,z:-.2}}},margin:{l:0,r:0,b:0,t:0}},{displayModeBar:!1}),this.componentDidUpdate(null,null)},b.prototype.componentDidUpdate=function(a,b){for(var c=this.refs.plot,d=(h-f)/j,k=(i-g)/j,l=c.data.z||new Array(k),m=c.data.x||new Array(d),n=c.data.y||new Array(k),o=0,p=0,q=g;i>q;q+=j){n[o]=q;for(var r=l[o]||(l[o]=new Array(d)),s=f;h>s;s+=j){m[p]=s;for(var t=0,u=0,v=this.gaussInstances;u<v.length;u++){var w=v[u],x=w.eval(s,q);isNaN(x)||(t+=x)}r.push(t),p++}o++}c.data=[{x:m,y:n,z:l,type:"surface"}],e["default"].redraw(c)},b}(c.Component),window.gui=d.render(c.createElement(t,null),document.getElementById("reactContent"))}}}),a.register("github:twbs/bootstrap@3.3.6/css/bootstrap.css!github:systemjs/plugin-css@0.1.20.js",[],!1,function(){}),function(a){if("undefined"!=typeof document){var b=document,c="appendChild",d="styleSheet",e=b.createElement("style");e.type="text/css",b.getElementsByTagName("head")[0][c](e),e[d]?e[d].cssText=a:e[c](b.createTextNode(a))}}('/*!\n * Bootstrap v3.3.6 (http://getbootstrap.com)\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n *//*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */.label,sub,sup{vertical-align:baseline}hr,img{border:0}body,figure{margin:0}.btn-group>.btn-group,.btn-toolbar .btn,.btn-toolbar .btn-group,.btn-toolbar .input-group,.col-xs-1,.col-xs-10,.col-xs-11,.col-xs-12,.col-xs-2,.col-xs-3,.col-xs-4,.col-xs-5,.col-xs-6,.col-xs-7,.col-xs-8,.col-xs-9,.dropdown-menu{float:left}.navbar-fixed-bottom .navbar-collapse,.navbar-fixed-top .navbar-collapse,.pre-scrollable{max-height:340px}html{font-family:sans-serif;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}b,optgroup,strong{font-weight:700}dfn{font-style:italic}h1{margin:.67em 0}mark{color:#000;background:#ff0}sub,sup{position:relative;font-size:75%;line-height:0}sup{top:-.5em}sub{bottom:-.25em}img{vertical-align:middle}svg:not(:root){overflow:hidden}hr{height:0;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box}pre,textarea{overflow:auto}code,kbd,pre,samp{font-size:1em}button,input,optgroup,select,textarea{margin:0;font:inherit;color:inherit}.glyphicon,address{font-style:normal}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0}input[type=checkbox],input[type=radio]{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}table{border-spacing:0;border-collapse:collapse}td,th{padding:0}/*! Source: https://github.com/h5bp/html5-boilerplate/blob/master/src/css/main.css */@media print{blockquote,img,pre,tr{page-break-inside:avoid}*,:after,:before{color:#000!important;text-shadow:none!important;background:0 0!important;-webkit-box-shadow:none!important;box-shadow:none!important}a,a:visited{text-decoration:underline}a[href]:after{content:" (" attr(href) ")"}abbr[title]:after{content:" (" attr(title) ")"}a[href^="javascript:"]:after,a[href^="#"]:after{content:""}blockquote,pre{border:1px solid #999}thead{display:table-header-group}img{max-width:100%!important}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}.navbar{display:none}.btn>.caret,.dropup>.btn>.caret{border-top-color:#000!important}.label{border:1px solid #000}.table{border-collapse:collapse!important}.table td,.table th{background-color:#fff!important}.table-bordered td,.table-bordered th{border:1px solid #ddd!important}}.dropdown-menu,.modal-content{-webkit-background-clip:padding-box}.btn,.btn-danger.active,.btn-danger:active,.btn-default.active,.btn-default:active,.btn-info.active,.btn-info:active,.btn-primary.active,.btn-primary:active,.btn-warning.active,.btn-warning:active,.btn.active,.btn:active,.dropdown-menu>.disabled>a:focus,.dropdown-menu>.disabled>a:hover,.form-control,.navbar-toggle,.open>.dropdown-toggle.btn-danger,.open>.dropdown-toggle.btn-default,.open>.dropdown-toggle.btn-info,.open>.dropdown-toggle.btn-primary,.open>.dropdown-toggle.btn-warning{background-image:none}.img-thumbnail,body{background-color:#fff}@font-face{font-family:\'Glyphicons Halflings\';src:url(jspm_packages/github/twbs/bootstrap@3.3.6/fonts/glyphicons-halflings-regular.eot);src:url(jspm_packages/github/twbs/bootstrap@3.3.6/fonts/glyphicons-halflings-regular.eot?#iefix) format(\'embedded-opentype\'),url(jspm_packages/github/twbs/bootstrap@3.3.6/fonts/glyphicons-halflings-regular.woff2) format(\'woff2\'),url(jspm_packages/github/twbs/bootstrap@3.3.6/fonts/glyphicons-halflings-regular.woff) format(\'woff\'),url(jspm_packages/github/twbs/bootstrap@3.3.6/fonts/glyphicons-halflings-regular.ttf) format(\'truetype\'),url(jspm_packages/github/twbs/bootstrap@3.3.6/fonts/glyphicons-halflings-regular.svg#glyphicons_halflingsregular) format(\'svg\')}.glyphicon{position:relative;top:1px;display:inline-block;font-family:\'Glyphicons Halflings\';font-weight:400;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.glyphicon-asterisk:before{content:"\\002a"}.glyphicon-plus:before{content:"\\002b"}.glyphicon-eur:before,.glyphicon-euro:before{content:"\\20ac"}.glyphicon-minus:before{content:"\\2212"}.glyphicon-cloud:before{content:"\\2601"}.glyphicon-envelope:before{content:"\\2709"}.glyphicon-pencil:before{content:"\\270f"}.glyphicon-glass:before{content:"\\e001"}.glyphicon-music:before{content:"\\e002"}.glyphicon-search:before{content:"\\e003"}.glyphicon-heart:before{content:"\\e005"}.glyphicon-star:before{content:"\\e006"}.glyphicon-star-empty:before{content:"\\e007"}.glyphicon-user:before{content:"\\e008"}.glyphicon-film:before{content:"\\e009"}.glyphicon-th-large:before{content:"\\e010"}.glyphicon-th:before{content:"\\e011"}.glyphicon-th-list:before{content:"\\e012"}.glyphicon-ok:before{content:"\\e013"}.glyphicon-remove:before{content:"\\e014"}.glyphicon-zoom-in:before{content:"\\e015"}.glyphicon-zoom-out:before{content:"\\e016"}.glyphicon-off:before{content:"\\e017"}.glyphicon-signal:before{content:"\\e018"}.glyphicon-cog:before{content:"\\e019"}.glyphicon-trash:before{content:"\\e020"}.glyphicon-home:before{content:"\\e021"}.glyphicon-file:before{content:"\\e022"}.glyphicon-time:before{content:"\\e023"}.glyphicon-road:before{content:"\\e024"}.glyphicon-download-alt:before{content:"\\e025"}.glyphicon-download:before{content:"\\e026"}.glyphicon-upload:before{content:"\\e027"}.glyphicon-inbox:before{content:"\\e028"}.glyphicon-play-circle:before{content:"\\e029"}.glyphicon-repeat:before{content:"\\e030"}.glyphicon-refresh:before{content:"\\e031"}.glyphicon-list-alt:before{content:"\\e032"}.glyphicon-lock:before{content:"\\e033"}.glyphicon-flag:before{content:"\\e034"}.glyphicon-headphones:before{content:"\\e035"}.glyphicon-volume-off:before{content:"\\e036"}.glyphicon-volume-down:before{content:"\\e037"}.glyphicon-volume-up:before{content:"\\e038"}.glyphicon-qrcode:before{content:"\\e039"}.glyphicon-barcode:before{content:"\\e040"}.glyphicon-tag:before{content:"\\e041"}.glyphicon-tags:before{content:"\\e042"}.glyphicon-book:before{content:"\\e043"}.glyphicon-bookmark:before{content:"\\e044"}.glyphicon-print:before{content:"\\e045"}.glyphicon-camera:before{content:"\\e046"}.glyphicon-font:before{content:"\\e047"}.glyphicon-bold:before{content:"\\e048"}.glyphicon-italic:before{content:"\\e049"}.glyphicon-text-height:before{content:"\\e050"}.glyphicon-text-width:before{content:"\\e051"}.glyphicon-align-left:before{content:"\\e052"}.glyphicon-align-center:before{content:"\\e053"}.glyphicon-align-right:before{content:"\\e054"}.glyphicon-align-justify:before{content:"\\e055"}.glyphicon-list:before{content:"\\e056"}.glyphicon-indent-left:before{content:"\\e057"}.glyphicon-indent-right:before{content:"\\e058"}.glyphicon-facetime-video:before{content:"\\e059"}.glyphicon-picture:before{content:"\\e060"}.glyphicon-map-marker:before{content:"\\e062"}.glyphicon-adjust:before{content:"\\e063"}.glyphicon-tint:before{content:"\\e064"}.glyphicon-edit:before{content:"\\e065"}.glyphicon-share:before{content:"\\e066"}.glyphicon-check:before{content:"\\e067"}.glyphicon-move:before{content:"\\e068"}.glyphicon-step-backward:before{content:"\\e069"}.glyphicon-fast-backward:before{content:"\\e070"}.glyphicon-backward:before{content:"\\e071"}.glyphicon-play:before{content:"\\e072"}.glyphicon-pause:before{content:"\\e073"}.glyphicon-stop:before{content:"\\e074"}.glyphicon-forward:before{content:"\\e075"}.glyphicon-fast-forward:before{content:"\\e076"}.glyphicon-step-forward:before{content:"\\e077"}.glyphicon-eject:before{content:"\\e078"}.glyphicon-chevron-left:before{content:"\\e079"}.glyphicon-chevron-right:before{content:"\\e080"}.glyphicon-plus-sign:before{content:"\\e081"}.glyphicon-minus-sign:before{content:"\\e082"}.glyphicon-remove-sign:before{content:"\\e083"}.glyphicon-ok-sign:before{content:"\\e084"}.glyphicon-question-sign:before{content:"\\e085"}.glyphicon-info-sign:before{content:"\\e086"}.glyphicon-screenshot:before{content:"\\e087"}.glyphicon-remove-circle:before{content:"\\e088"}.glyphicon-ok-circle:before{content:"\\e089"}.glyphicon-ban-circle:before{content:"\\e090"}.glyphicon-arrow-left:before{content:"\\e091"}.glyphicon-arrow-right:before{content:"\\e092"}.glyphicon-arrow-up:before{content:"\\e093"}.glyphicon-arrow-down:before{content:"\\e094"}.glyphicon-share-alt:before{content:"\\e095"}.glyphicon-resize-full:before{content:"\\e096"}.glyphicon-resize-small:before{content:"\\e097"}.glyphicon-exclamation-sign:before{content:"\\e101"}.glyphicon-gift:before{content:"\\e102"}.glyphicon-leaf:before{content:"\\e103"}.glyphicon-fire:before{content:"\\e104"}.glyphicon-eye-open:before{content:"\\e105"}.glyphicon-eye-close:before{content:"\\e106"}.glyphicon-warning-sign:before{content:"\\e107"}.glyphicon-plane:before{content:"\\e108"}.glyphicon-calendar:before{content:"\\e109"}.glyphicon-random:before{content:"\\e110"}.glyphicon-comment:before{content:"\\e111"}.glyphicon-magnet:before{content:"\\e112"}.glyphicon-chevron-up:before{content:"\\e113"}.glyphicon-chevron-down:before{content:"\\e114"}.glyphicon-retweet:before{content:"\\e115"}.glyphicon-shopping-cart:before{content:"\\e116"}.glyphicon-folder-close:before{content:"\\e117"}.glyphicon-folder-open:before{content:"\\e118"}.glyphicon-resize-vertical:before{content:"\\e119"}.glyphicon-resize-horizontal:before{content:"\\e120"}.glyphicon-hdd:before{content:"\\e121"}.glyphicon-bullhorn:before{content:"\\e122"}.glyphicon-bell:before{content:"\\e123"}.glyphicon-certificate:before{content:"\\e124"}.glyphicon-thumbs-up:before{content:"\\e125"}.glyphicon-thumbs-down:before{content:"\\e126"}.glyphicon-hand-right:before{content:"\\e127"}.glyphicon-hand-left:before{content:"\\e128"}.glyphicon-hand-up:before{content:"\\e129"}.glyphicon-hand-down:before{content:"\\e130"}.glyphicon-circle-arrow-right:before{content:"\\e131"}.glyphicon-circle-arrow-left:before{content:"\\e132"}.glyphicon-circle-arrow-up:before{content:"\\e133"}.glyphicon-circle-arrow-down:before{content:"\\e134"}.glyphicon-globe:before{content:"\\e135"}.glyphicon-wrench:before{content:"\\e136"}.glyphicon-tasks:before{content:"\\e137"}.glyphicon-filter:before{content:"\\e138"}.glyphicon-briefcase:before{content:"\\e139"}.glyphicon-fullscreen:before{content:"\\e140"}.glyphicon-dashboard:before{content:"\\e141"}.glyphicon-paperclip:before{content:"\\e142"}.glyphicon-heart-empty:before{content:"\\e143"}.glyphicon-link:before{content:"\\e144"}.glyphicon-phone:before{content:"\\e145"}.glyphicon-pushpin:before{content:"\\e146"}.glyphicon-usd:before{content:"\\e148"}.glyphicon-gbp:before{content:"\\e149"}.glyphicon-sort:before{content:"\\e150"}.glyphicon-sort-by-alphabet:before{content:"\\e151"}.glyphicon-sort-by-alphabet-alt:before{content:"\\e152"}.glyphicon-sort-by-order:before{content:"\\e153"}.glyphicon-sort-by-order-alt:before{content:"\\e154"}.glyphicon-sort-by-attributes:before{content:"\\e155"}.glyphicon-sort-by-attributes-alt:before{content:"\\e156"}.glyphicon-unchecked:before{content:"\\e157"}.glyphicon-expand:before{content:"\\e158"}.glyphicon-collapse-down:before{content:"\\e159"}.glyphicon-collapse-up:before{content:"\\e160"}.glyphicon-log-in:before{content:"\\e161"}.glyphicon-flash:before{content:"\\e162"}.glyphicon-log-out:before{content:"\\e163"}.glyphicon-new-window:before{content:"\\e164"}.glyphicon-record:before{content:"\\e165"}.glyphicon-save:before{content:"\\e166"}.glyphicon-open:before{content:"\\e167"}.glyphicon-saved:before{content:"\\e168"}.glyphicon-import:before{content:"\\e169"}.glyphicon-export:before{content:"\\e170"}.glyphicon-send:before{content:"\\e171"}.glyphicon-floppy-disk:before{content:"\\e172"}.glyphicon-floppy-saved:before{content:"\\e173"}.glyphicon-floppy-remove:before{content:"\\e174"}.glyphicon-floppy-save:before{content:"\\e175"}.glyphicon-floppy-open:before{content:"\\e176"}.glyphicon-credit-card:before{content:"\\e177"}.glyphicon-transfer:before{content:"\\e178"}.glyphicon-cutlery:before{content:"\\e179"}.glyphicon-header:before{content:"\\e180"}.glyphicon-compressed:before{content:"\\e181"}.glyphicon-earphone:before{content:"\\e182"}.glyphicon-phone-alt:before{content:"\\e183"}.glyphicon-tower:before{content:"\\e184"}.glyphicon-stats:before{content:"\\e185"}.glyphicon-sd-video:before{content:"\\e186"}.glyphicon-hd-video:before{content:"\\e187"}.glyphicon-subtitles:before{content:"\\e188"}.glyphicon-sound-stereo:before{content:"\\e189"}.glyphicon-sound-dolby:before{content:"\\e190"}.glyphicon-sound-5-1:before{content:"\\e191"}.glyphicon-sound-6-1:before{content:"\\e192"}.glyphicon-sound-7-1:before{content:"\\e193"}.glyphicon-copyright-mark:before{content:"\\e194"}.glyphicon-registration-mark:before{content:"\\e195"}.glyphicon-cloud-download:before{content:"\\e197"}.glyphicon-cloud-upload:before{content:"\\e198"}.glyphicon-tree-conifer:before{content:"\\e199"}.glyphicon-tree-deciduous:before{content:"\\e200"}.glyphicon-cd:before{content:"\\e201"}.glyphicon-save-file:before{content:"\\e202"}.glyphicon-open-file:before{content:"\\e203"}.glyphicon-level-up:before{content:"\\e204"}.glyphicon-copy:before{content:"\\e205"}.glyphicon-paste:before{content:"\\e206"}.glyphicon-alert:before{content:"\\e209"}.glyphicon-equalizer:before{content:"\\e210"}.glyphicon-king:before{content:"\\e211"}.glyphicon-queen:before{content:"\\e212"}.glyphicon-pawn:before{content:"\\e213"}.glyphicon-bishop:before{content:"\\e214"}.glyphicon-knight:before{content:"\\e215"}.glyphicon-baby-formula:before{content:"\\e216"}.glyphicon-tent:before{content:"\\26fa"}.glyphicon-blackboard:before{content:"\\e218"}.glyphicon-bed:before{content:"\\e219"}.glyphicon-apple:before{content:"\\f8ff"}.glyphicon-erase:before{content:"\\e221"}.glyphicon-hourglass:before{content:"\\231b"}.glyphicon-lamp:before{content:"\\e223"}.glyphicon-duplicate:before{content:"\\e224"}.glyphicon-piggy-bank:before{content:"\\e225"}.glyphicon-scissors:before{content:"\\e226"}.glyphicon-bitcoin:before,.glyphicon-btc:before,.glyphicon-xbt:before{content:"\\e227"}.glyphicon-jpy:before,.glyphicon-yen:before{content:"\\00a5"}.glyphicon-rub:before,.glyphicon-ruble:before{content:"\\20bd"}.glyphicon-scale:before{content:"\\e230"}.glyphicon-ice-lolly:before{content:"\\e231"}.glyphicon-ice-lolly-tasted:before{content:"\\e232"}.glyphicon-education:before{content:"\\e233"}.glyphicon-option-horizontal:before{content:"\\e234"}.glyphicon-option-vertical:before{content:"\\e235"}.glyphicon-menu-hamburger:before{content:"\\e236"}.glyphicon-modal-window:before{content:"\\e237"}.glyphicon-oil:before{content:"\\e238"}.glyphicon-grain:before{content:"\\e239"}.glyphicon-sunglasses:before{content:"\\e240"}.glyphicon-text-size:before{content:"\\e241"}.glyphicon-text-color:before{content:"\\e242"}.glyphicon-text-background:before{content:"\\e243"}.glyphicon-object-align-top:before{content:"\\e244"}.glyphicon-object-align-bottom:before{content:"\\e245"}.glyphicon-object-align-horizontal:before{content:"\\e246"}.glyphicon-object-align-left:before{content:"\\e247"}.glyphicon-object-align-vertical:before{content:"\\e248"}.glyphicon-object-align-right:before{content:"\\e249"}.glyphicon-triangle-right:before{content:"\\e250"}.glyphicon-triangle-left:before{content:"\\e251"}.glyphicon-triangle-bottom:before{content:"\\e252"}.glyphicon-triangle-top:before{content:"\\e253"}.glyphicon-console:before{content:"\\e254"}.glyphicon-superscript:before{content:"\\e255"}.glyphicon-subscript:before{content:"\\e256"}.glyphicon-menu-left:before{content:"\\e257"}.glyphicon-menu-right:before{content:"\\e258"}.glyphicon-menu-down:before{content:"\\e259"}.glyphicon-menu-up:before{content:"\\e260"}*,:after,:before{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}html{font-size:10px;-webkit-tap-highlight-color:transparent}body{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:14px;line-height:1.42857143;color:#333}button,input,select,textarea{font-family:inherit;font-size:inherit;line-height:inherit}a{color:#337ab7;text-decoration:none}a:focus,a:hover{color:#23527c;text-decoration:underline}a:focus{outline:dotted thin;outline:-webkit-focus-ring-color auto 5px;outline-offset:-2px}.carousel-inner>.item>a>img,.carousel-inner>.item>img,.img-responsive,.thumbnail a>img,.thumbnail>img{display:block;max-width:100%;height:auto}.img-rounded{border-radius:6px}.img-thumbnail{display:inline-block;max-width:100%;height:auto;padding:4px;line-height:1.42857143;border:1px solid #ddd;border-radius:4px;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.img-circle{border-radius:50%}hr{margin-top:20px;margin-bottom:20px;border-top:1px solid #eee}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}[role=button]{cursor:pointer}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{font-family:inherit;font-weight:500;line-height:1.1;color:inherit}.h1 .small,.h1 small,.h2 .small,.h2 small,.h3 .small,.h3 small,.h4 .small,.h4 small,.h5 .small,.h5 small,.h6 .small,.h6 small,h1 .small,h1 small,h2 .small,h2 small,h3 .small,h3 small,h4 .small,h4 small,h5 .small,h5 small,h6 .small,h6 small{font-weight:400;line-height:1;color:#777}.h1,.h2,.h3,h1,h2,h3{margin-top:20px;margin-bottom:10px}.h1 .small,.h1 small,.h2 .small,.h2 small,.h3 .small,.h3 small,h1 .small,h1 small,h2 .small,h2 small,h3 .small,h3 small{font-size:65%}.h4,.h5,.h6,h4,h5,h6{margin-top:10px;margin-bottom:10px}.h4 .small,.h4 small,.h5 .small,.h5 small,.h6 .small,.h6 small,h4 .small,h4 small,h5 .small,h5 small,h6 .small,h6 small{font-size:75%}.h1,h1{font-size:36px}.h2,h2{font-size:30px}.h3,h3{font-size:24px}.h4,h4{font-size:18px}.h5,h5{font-size:14px}.h6,h6{font-size:12px}p{margin:0 0 10px}.lead{margin-bottom:20px;font-size:16px;font-weight:300;line-height:1.4}dt,kbd kbd,label{font-weight:700}address,blockquote .small,blockquote footer,blockquote small,dd,dt,pre{line-height:1.42857143}@media (min-width:768px){.lead{font-size:21px}}.small,small{font-size:85%}.mark,mark{padding:.2em;background-color:#fcf8e3}.list-inline,.list-unstyled{padding-left:0;list-style:none}.text-left{text-align:left}.text-right{text-align:right}.text-center{text-align:center}.text-justify{text-align:justify}.text-nowrap{white-space:nowrap}.text-lowercase{text-transform:lowercase}.text-uppercase{text-transform:uppercase}.text-capitalize{text-transform:capitalize}.text-muted{color:#777}.text-primary{color:#337ab7}a.text-primary:focus,a.text-primary:hover{color:#286090}.text-success{color:#3c763d}a.text-success:focus,a.text-success:hover{color:#2b542c}.text-info{color:#31708f}a.text-info:focus,a.text-info:hover{color:#245269}.text-warning{color:#8a6d3b}a.text-warning:focus,a.text-warning:hover{color:#66512c}.text-danger{color:#a94442}a.text-danger:focus,a.text-danger:hover{color:#843534}.bg-primary{color:#fff;background-color:#337ab7}a.bg-primary:focus,a.bg-primary:hover{background-color:#286090}.bg-success{background-color:#dff0d8}a.bg-success:focus,a.bg-success:hover{background-color:#c1e2b3}.bg-info{background-color:#d9edf7}a.bg-info:focus,a.bg-info:hover{background-color:#afd9ee}.bg-warning{background-color:#fcf8e3}a.bg-warning:focus,a.bg-warning:hover{background-color:#f7ecb5}.bg-danger{background-color:#f2dede}a.bg-danger:focus,a.bg-danger:hover{background-color:#e4b9b9}pre code,table{background-color:transparent}.page-header{padding-bottom:9px;margin:40px 0 20px;border-bottom:1px solid #eee}dl,ol,ul{margin-top:0}blockquote ol:last-child,blockquote p:last-child,blockquote ul:last-child,ol ol,ol ul,ul ol,ul ul{margin-bottom:0}address,dl{margin-bottom:20px}ol,ul{margin-bottom:10px}.list-inline{margin-left:-5px}.list-inline>li{display:inline-block;padding-right:5px;padding-left:5px}dd{margin-left:0}@media (min-width:768px){.dl-horizontal dt{float:left;width:160px;overflow:hidden;clear:left;text-align:right;text-overflow:ellipsis;white-space:nowrap}.dl-horizontal dd{margin-left:180px}.container{width:750px}}abbr[data-original-title],abbr[title]{cursor:help;border-bottom:1px dotted #777}.initialism{font-size:90%;text-transform:uppercase}blockquote{padding:10px 20px;margin:0 0 20px;font-size:17.5px;border-left:5px solid #eee}blockquote .small,blockquote footer,blockquote small{display:block;font-size:80%;color:#777}legend,pre{display:block;color:#333}blockquote .small:before,blockquote footer:before,blockquote small:before{content:\'\\2014 \\00A0\'}.blockquote-reverse,blockquote.pull-right{padding-right:15px;padding-left:0;text-align:right;border-right:5px solid #eee;border-left:0}code,kbd{padding:2px 4px;font-size:90%}caption,th{text-align:left}.blockquote-reverse .small:before,.blockquote-reverse footer:before,.blockquote-reverse small:before,blockquote.pull-right .small:before,blockquote.pull-right footer:before,blockquote.pull-right small:before{content:\'\'}.blockquote-reverse .small:after,.blockquote-reverse footer:after,.blockquote-reverse small:after,blockquote.pull-right .small:after,blockquote.pull-right footer:after,blockquote.pull-right small:after{content:\'\\00A0 \\2014\'}code,kbd,pre,samp{font-family:Menlo,Monaco,Consolas,"Courier New",monospace}code{color:#c7254e;background-color:#f9f2f4;border-radius:4px}kbd{color:#fff;background-color:#333;border-radius:3px;-webkit-box-shadow:inset 0 -1px 0 rgba(0,0,0,.25);box-shadow:inset 0 -1px 0 rgba(0,0,0,.25)}kbd kbd{padding:0;font-size:100%;-webkit-box-shadow:none;box-shadow:none}pre{padding:9.5px;margin:0 0 10px;font-size:13px;word-break:break-all;word-wrap:break-word;background-color:#f5f5f5;border:1px solid #ccc;border-radius:4px}.container,.container-fluid{margin-right:auto;margin-left:auto}pre code{padding:0;font-size:inherit;color:inherit;white-space:pre-wrap;border-radius:0}.container,.container-fluid{padding-right:15px;padding-left:15px}.pre-scrollable{overflow-y:scroll}@media (min-width:992px){.container{width:970px}}@media (min-width:1200px){.container{width:1170px}}.row{margin-right:-15px;margin-left:-15px}.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-sm-1,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-xs-1,.col-xs-10,.col-xs-11,.col-xs-12,.col-xs-2,.col-xs-3,.col-xs-4,.col-xs-5,.col-xs-6,.col-xs-7,.col-xs-8,.col-xs-9{position:relative;min-height:1px;padding-right:15px;padding-left:15px}.col-xs-12{width:100%}.col-xs-11{width:91.66666667%}.col-xs-10{width:83.33333333%}.col-xs-9{width:75%}.col-xs-8{width:66.66666667%}.col-xs-7{width:58.33333333%}.col-xs-6{width:50%}.col-xs-5{width:41.66666667%}.col-xs-4{width:33.33333333%}.col-xs-3{width:25%}.col-xs-2{width:16.66666667%}.col-xs-1{width:8.33333333%}.col-xs-pull-12{right:100%}.col-xs-pull-11{right:91.66666667%}.col-xs-pull-10{right:83.33333333%}.col-xs-pull-9{right:75%}.col-xs-pull-8{right:66.66666667%}.col-xs-pull-7{right:58.33333333%}.col-xs-pull-6{right:50%}.col-xs-pull-5{right:41.66666667%}.col-xs-pull-4{right:33.33333333%}.col-xs-pull-3{right:25%}.col-xs-pull-2{right:16.66666667%}.col-xs-pull-1{right:8.33333333%}.col-xs-pull-0{right:auto}.col-xs-push-12{left:100%}.col-xs-push-11{left:91.66666667%}.col-xs-push-10{left:83.33333333%}.col-xs-push-9{left:75%}.col-xs-push-8{left:66.66666667%}.col-xs-push-7{left:58.33333333%}.col-xs-push-6{left:50%}.col-xs-push-5{left:41.66666667%}.col-xs-push-4{left:33.33333333%}.col-xs-push-3{left:25%}.col-xs-push-2{left:16.66666667%}.col-xs-push-1{left:8.33333333%}.col-xs-push-0{left:auto}.col-xs-offset-12{margin-left:100%}.col-xs-offset-11{margin-left:91.66666667%}.col-xs-offset-10{margin-left:83.33333333%}.col-xs-offset-9{margin-left:75%}.col-xs-offset-8{margin-left:66.66666667%}.col-xs-offset-7{margin-left:58.33333333%}.col-xs-offset-6{margin-left:50%}.col-xs-offset-5{margin-left:41.66666667%}.col-xs-offset-4{margin-left:33.33333333%}.col-xs-offset-3{margin-left:25%}.col-xs-offset-2{margin-left:16.66666667%}.col-xs-offset-1{margin-left:8.33333333%}.col-xs-offset-0{margin-left:0}@media (min-width:768px){.col-sm-1,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9{float:left}.col-sm-12{width:100%}.col-sm-11{width:91.66666667%}.col-sm-10{width:83.33333333%}.col-sm-9{width:75%}.col-sm-8{width:66.66666667%}.col-sm-7{width:58.33333333%}.col-sm-6{width:50%}.col-sm-5{width:41.66666667%}.col-sm-4{width:33.33333333%}.col-sm-3{width:25%}.col-sm-2{width:16.66666667%}.col-sm-1{width:8.33333333%}.col-sm-pull-12{right:100%}.col-sm-pull-11{right:91.66666667%}.col-sm-pull-10{right:83.33333333%}.col-sm-pull-9{right:75%}.col-sm-pull-8{right:66.66666667%}.col-sm-pull-7{right:58.33333333%}.col-sm-pull-6{right:50%}.col-sm-pull-5{right:41.66666667%}.col-sm-pull-4{right:33.33333333%}.col-sm-pull-3{right:25%}.col-sm-pull-2{right:16.66666667%}.col-sm-pull-1{right:8.33333333%}.col-sm-pull-0{right:auto}.col-sm-push-12{left:100%}.col-sm-push-11{left:91.66666667%}.col-sm-push-10{left:83.33333333%}.col-sm-push-9{left:75%}.col-sm-push-8{left:66.66666667%}.col-sm-push-7{left:58.33333333%}.col-sm-push-6{left:50%}.col-sm-push-5{left:41.66666667%}.col-sm-push-4{left:33.33333333%}.col-sm-push-3{left:25%}.col-sm-push-2{left:16.66666667%}.col-sm-push-1{left:8.33333333%}.col-sm-push-0{left:auto}.col-sm-offset-12{margin-left:100%}.col-sm-offset-11{margin-left:91.66666667%}.col-sm-offset-10{margin-left:83.33333333%}.col-sm-offset-9{margin-left:75%}.col-sm-offset-8{margin-left:66.66666667%}.col-sm-offset-7{margin-left:58.33333333%}.col-sm-offset-6{margin-left:50%}.col-sm-offset-5{margin-left:41.66666667%}.col-sm-offset-4{margin-left:33.33333333%}.col-sm-offset-3{margin-left:25%}.col-sm-offset-2{margin-left:16.66666667%}.col-sm-offset-1{margin-left:8.33333333%}.col-sm-offset-0{margin-left:0}}@media (min-width:992px){.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9{float:left}.col-md-12{width:100%}.col-md-11{width:91.66666667%}.col-md-10{width:83.33333333%}.col-md-9{width:75%}.col-md-8{width:66.66666667%}.col-md-7{width:58.33333333%}.col-md-6{width:50%}.col-md-5{width:41.66666667%}.col-md-4{width:33.33333333%}.col-md-3{width:25%}.col-md-2{width:16.66666667%}.col-md-1{width:8.33333333%}.col-md-pull-12{right:100%}.col-md-pull-11{right:91.66666667%}.col-md-pull-10{right:83.33333333%}.col-md-pull-9{right:75%}.col-md-pull-8{right:66.66666667%}.col-md-pull-7{right:58.33333333%}.col-md-pull-6{right:50%}.col-md-pull-5{right:41.66666667%}.col-md-pull-4{right:33.33333333%}.col-md-pull-3{right:25%}.col-md-pull-2{right:16.66666667%}.col-md-pull-1{right:8.33333333%}.col-md-pull-0{right:auto}.col-md-push-12{left:100%}.col-md-push-11{left:91.66666667%}.col-md-push-10{left:83.33333333%}.col-md-push-9{left:75%}.col-md-push-8{left:66.66666667%}.col-md-push-7{left:58.33333333%}.col-md-push-6{left:50%}.col-md-push-5{left:41.66666667%}.col-md-push-4{left:33.33333333%}.col-md-push-3{left:25%}.col-md-push-2{left:16.66666667%}.col-md-push-1{left:8.33333333%}.col-md-push-0{left:auto}.col-md-offset-12{margin-left:100%}.col-md-offset-11{margin-left:91.66666667%}.col-md-offset-10{margin-left:83.33333333%}.col-md-offset-9{margin-left:75%}.col-md-offset-8{margin-left:66.66666667%}.col-md-offset-7{margin-left:58.33333333%}.col-md-offset-6{margin-left:50%}.col-md-offset-5{margin-left:41.66666667%}.col-md-offset-4{margin-left:33.33333333%}.col-md-offset-3{margin-left:25%}.col-md-offset-2{margin-left:16.66666667%}.col-md-offset-1{margin-left:8.33333333%}.col-md-offset-0{margin-left:0}}@media (min-width:1200px){.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9{float:left}.col-lg-12{width:100%}.col-lg-11{width:91.66666667%}.col-lg-10{width:83.33333333%}.col-lg-9{width:75%}.col-lg-8{width:66.66666667%}.col-lg-7{width:58.33333333%}.col-lg-6{width:50%}.col-lg-5{width:41.66666667%}.col-lg-4{width:33.33333333%}.col-lg-3{width:25%}.col-lg-2{width:16.66666667%}.col-lg-1{width:8.33333333%}.col-lg-pull-12{right:100%}.col-lg-pull-11{right:91.66666667%}.col-lg-pull-10{right:83.33333333%}.col-lg-pull-9{right:75%}.col-lg-pull-8{right:66.66666667%}.col-lg-pull-7{right:58.33333333%}.col-lg-pull-6{right:50%}.col-lg-pull-5{right:41.66666667%}.col-lg-pull-4{right:33.33333333%}.col-lg-pull-3{right:25%}.col-lg-pull-2{right:16.66666667%}.col-lg-pull-1{right:8.33333333%}.col-lg-pull-0{right:auto}.col-lg-push-12{left:100%}.col-lg-push-11{left:91.66666667%}.col-lg-push-10{left:83.33333333%}.col-lg-push-9{left:75%}.col-lg-push-8{left:66.66666667%}.col-lg-push-7{left:58.33333333%}.col-lg-push-6{left:50%}.col-lg-push-5{left:41.66666667%}.col-lg-push-4{left:33.33333333%}.col-lg-push-3{left:25%}.col-lg-push-2{left:16.66666667%}.col-lg-push-1{left:8.33333333%}.col-lg-push-0{left:auto}.col-lg-offset-12{margin-left:100%}.col-lg-offset-11{margin-left:91.66666667%}.col-lg-offset-10{margin-left:83.33333333%}.col-lg-offset-9{margin-left:75%}.col-lg-offset-8{margin-left:66.66666667%}.col-lg-offset-7{margin-left:58.33333333%}.col-lg-offset-6{margin-left:50%}.col-lg-offset-5{margin-left:41.66666667%}.col-lg-offset-4{margin-left:33.33333333%}.col-lg-offset-3{margin-left:25%}.col-lg-offset-2{margin-left:16.66666667%}.col-lg-offset-1{margin-left:8.33333333%}.col-lg-offset-0{margin-left:0}}caption{padding-top:8px;padding-bottom:8px;color:#777}.table{width:100%;max-width:100%;margin-bottom:20px}.table>tbody>tr>td,.table>tbody>tr>th,.table>tfoot>tr>td,.table>tfoot>tr>th,.table>thead>tr>td,.table>thead>tr>th{padding:8px;line-height:1.42857143;vertical-align:top;border-top:1px solid #ddd}.table>thead>tr>th{vertical-align:bottom;border-bottom:2px solid #ddd}.table>caption+thead>tr:first-child>td,.table>caption+thead>tr:first-child>th,.table>colgroup+thead>tr:first-child>td,.table>colgroup+thead>tr:first-child>th,.table>thead:first-child>tr:first-child>td,.table>thead:first-child>tr:first-child>th{border-top:0}.table>tbody+tbody{border-top:2px solid #ddd}.table .table{background-color:#fff}.table-condensed>tbody>tr>td,.table-condensed>tbody>tr>th,.table-condensed>tfoot>tr>td,.table-condensed>tfoot>tr>th,.table-condensed>thead>tr>td,.table-condensed>thead>tr>th{padding:5px}.table-bordered,.table-bordered>tbody>tr>td,.table-bordered>tbody>tr>th,.table-bordered>tfoot>tr>td,.table-bordered>tfoot>tr>th,.table-bordered>thead>tr>td,.table-bordered>thead>tr>th{border:1px solid #ddd}.table-bordered>thead>tr>td,.table-bordered>thead>tr>th{border-bottom-width:2px}.table-striped>tbody>tr:nth-of-type(odd){background-color:#f9f9f9}.table-hover>tbody>tr:hover,.table>tbody>tr.active>td,.table>tbody>tr.active>th,.table>tbody>tr>td.active,.table>tbody>tr>th.active,.table>tfoot>tr.active>td,.table>tfoot>tr.active>th,.table>tfoot>tr>td.active,.table>tfoot>tr>th.active,.table>thead>tr.active>td,.table>thead>tr.active>th,.table>thead>tr>td.active,.table>thead>tr>th.active{background-color:#f5f5f5}table col[class*=col-]{position:static;display:table-column;float:none}table td[class*=col-],table th[class*=col-]{position:static;display:table-cell;float:none}.table-hover>tbody>tr.active:hover>td,.table-hover>tbody>tr.active:hover>th,.table-hover>tbody>tr:hover>.active,.table-hover>tbody>tr>td.active:hover,.table-hover>tbody>tr>th.active:hover{background-color:#e8e8e8}.table>tbody>tr.success>td,.table>tbody>tr.success>th,.table>tbody>tr>td.success,.table>tbody>tr>th.success,.table>tfoot>tr.success>td,.table>tfoot>tr.success>th,.table>tfoot>tr>td.success,.table>tfoot>tr>th.success,.table>thead>tr.success>td,.table>thead>tr.success>th,.table>thead>tr>td.success,.table>thead>tr>th.success{background-color:#dff0d8}.table-hover>tbody>tr.success:hover>td,.table-hover>tbody>tr.success:hover>th,.table-hover>tbody>tr:hover>.success,.table-hover>tbody>tr>td.success:hover,.table-hover>tbody>tr>th.success:hover{background-color:#d0e9c6}.table>tbody>tr.info>td,.table>tbody>tr.info>th,.table>tbody>tr>td.info,.table>tbody>tr>th.info,.table>tfoot>tr.info>td,.table>tfoot>tr.info>th,.table>tfoot>tr>td.info,.table>tfoot>tr>th.info,.table>thead>tr.info>td,.table>thead>tr.info>th,.table>thead>tr>td.info,.table>thead>tr>th.info{background-color:#d9edf7}.table-hover>tbody>tr.info:hover>td,.table-hover>tbody>tr.info:hover>th,.table-hover>tbody>tr:hover>.info,.table-hover>tbody>tr>td.info:hover,.table-hover>tbody>tr>th.info:hover{background-color:#c4e3f3}.table>tbody>tr.warning>td,.table>tbody>tr.warning>th,.table>tbody>tr>td.warning,.table>tbody>tr>th.warning,.table>tfoot>tr.warning>td,.table>tfoot>tr.warning>th,.table>tfoot>tr>td.warning,.table>tfoot>tr>th.warning,.table>thead>tr.warning>td,.table>thead>tr.warning>th,.table>thead>tr>td.warning,.table>thead>tr>th.warning{background-color:#fcf8e3}.table-hover>tbody>tr.warning:hover>td,.table-hover>tbody>tr.warning:hover>th,.table-hover>tbody>tr:hover>.warning,.table-hover>tbody>tr>td.warning:hover,.table-hover>tbody>tr>th.warning:hover{background-color:#faf2cc}.table>tbody>tr.danger>td,.table>tbody>tr.danger>th,.table>tbody>tr>td.danger,.table>tbody>tr>th.danger,.table>tfoot>tr.danger>td,.table>tfoot>tr.danger>th,.table>tfoot>tr>td.danger,.table>tfoot>tr>th.danger,.table>thead>tr.danger>td,.table>thead>tr.danger>th,.table>thead>tr>td.danger,.table>thead>tr>th.danger{background-color:#f2dede}.table-hover>tbody>tr.danger:hover>td,.table-hover>tbody>tr.danger:hover>th,.table-hover>tbody>tr:hover>.danger,.table-hover>tbody>tr>td.danger:hover,.table-hover>tbody>tr>th.danger:hover{background-color:#ebcccc}.table-responsive{min-height:.01%;overflow-x:auto}@media screen and (max-width:767px){.table-responsive{width:100%;margin-bottom:15px;overflow-y:hidden;-ms-overflow-style:-ms-autohiding-scrollbar;border:1px solid #ddd}.table-responsive>.table{margin-bottom:0}.table-responsive>.table>tbody>tr>td,.table-responsive>.table>tbody>tr>th,.table-responsive>.table>tfoot>tr>td,.table-responsive>.table>tfoot>tr>th,.table-responsive>.table>thead>tr>td,.table-responsive>.table>thead>tr>th{white-space:nowrap}.table-responsive>.table-bordered{border:0}.table-responsive>.table-bordered>tbody>tr>td:first-child,.table-responsive>.table-bordered>tbody>tr>th:first-child,.table-responsive>.table-bordered>tfoot>tr>td:first-child,.table-responsive>.table-bordered>tfoot>tr>th:first-child,.table-responsive>.table-bordered>thead>tr>td:first-child,.table-responsive>.table-bordered>thead>tr>th:first-child{border-left:0}.table-responsive>.table-bordered>tbody>tr>td:last-child,.table-responsive>.table-bordered>tbody>tr>th:last-child,.table-responsive>.table-bordered>tfoot>tr>td:last-child,.table-responsive>.table-bordered>tfoot>tr>th:last-child,.table-responsive>.table-bordered>thead>tr>td:last-child,.table-responsive>.table-bordered>thead>tr>th:last-child{border-right:0}.table-responsive>.table-bordered>tbody>tr:last-child>td,.table-responsive>.table-bordered>tbody>tr:last-child>th,.table-responsive>.table-bordered>tfoot>tr:last-child>td,.table-responsive>.table-bordered>tfoot>tr:last-child>th{border-bottom:0}}fieldset,legend{padding:0;border:0}fieldset{min-width:0;margin:0}legend{width:100%;margin-bottom:20px;font-size:21px;line-height:inherit;border-bottom:1px solid #e5e5e5}label{display:inline-block;max-width:100%;margin-bottom:5px}input[type=search]{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none}input[type=checkbox],input[type=radio]{margin:4px 0 0;margin-top:1px\\9;line-height:normal}.form-control,output{font-size:14px;line-height:1.42857143;color:#555;display:block}input[type=file]{display:block}input[type=range]{display:block;width:100%}select[multiple],select[size]{height:auto}input[type=file]:focus,input[type=checkbox]:focus,input[type=radio]:focus{outline:dotted thin;outline:-webkit-focus-ring-color auto 5px;outline-offset:-2px}output{padding-top:7px}.form-control{width:100%;height:34px;padding:6px 12px;background-color:#fff;border:1px solid #ccc;border-radius:4px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);-webkit-transition:border-color ease-in-out .15s,-webkit-box-shadow ease-in-out .15s;-o-transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s}.form-control:focus{border-color:#66afe9;outline:0;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6);box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6)}.form-control::-moz-placeholder{color:#999;opacity:1}.form-control:-ms-input-placeholder{color:#999}.form-control::-webkit-input-placeholder{color:#999}.has-success .checkbox,.has-success .checkbox-inline,.has-success .control-label,.has-success .form-control-feedback,.has-success .help-block,.has-success .radio,.has-success .radio-inline,.has-success.checkbox label,.has-success.checkbox-inline label,.has-success.radio label,.has-success.radio-inline label{color:#3c763d}.form-control::-ms-expand{background-color:transparent;border:0}.form-control[disabled],.form-control[readonly],fieldset[disabled] .form-control{background-color:#eee;opacity:1}.form-control[disabled],fieldset[disabled] .form-control{cursor:not-allowed}textarea.form-control{height:auto}@media screen and (-webkit-min-device-pixel-ratio:0){input[type=date].form-control,input[type=time].form-control,input[type=datetime-local].form-control,input[type=month].form-control{line-height:34px}.input-group-sm input[type=date],.input-group-sm input[type=time],.input-group-sm input[type=datetime-local],.input-group-sm input[type=month],input[type=date].input-sm,input[type=time].input-sm,input[type=datetime-local].input-sm,input[type=month].input-sm{line-height:30px}.input-group-lg input[type=date],.input-group-lg input[type=time],.input-group-lg input[type=datetime-local],.input-group-lg input[type=month],input[type=date].input-lg,input[type=time].input-lg,input[type=datetime-local].input-lg,input[type=month].input-lg{line-height:46px}}.form-group{margin-bottom:15px}.checkbox,.radio{position:relative;display:block;margin-top:10px;margin-bottom:10px}.checkbox label,.radio label{min-height:20px;padding-left:20px;margin-bottom:0;font-weight:400;cursor:pointer}.checkbox input[type=checkbox],.checkbox-inline input[type=checkbox],.radio input[type=radio],.radio-inline input[type=radio]{position:absolute;margin-top:4px\\9;margin-left:-20px}.checkbox+.checkbox,.radio+.radio{margin-top:-5px}.checkbox-inline,.radio-inline{position:relative;display:inline-block;padding-left:20px;margin-bottom:0;font-weight:400;vertical-align:middle;cursor:pointer}.checkbox-inline+.checkbox-inline,.radio-inline+.radio-inline{margin-top:0;margin-left:10px}.checkbox-inline.disabled,.checkbox.disabled label,.radio-inline.disabled,.radio.disabled label,fieldset[disabled] .checkbox label,fieldset[disabled] .checkbox-inline,fieldset[disabled] .radio label,fieldset[disabled] .radio-inline,fieldset[disabled] input[type=checkbox],fieldset[disabled] input[type=radio],input[type=checkbox].disabled,input[type=checkbox][disabled],input[type=radio].disabled,input[type=radio][disabled]{cursor:not-allowed}.form-control-static{min-height:34px;padding-top:7px;padding-bottom:7px;margin-bottom:0}.form-control-static.input-lg,.form-control-static.input-sm{padding-right:0;padding-left:0}.form-group-sm .form-control,.input-sm{padding:5px 10px;border-radius:3px;font-size:12px}.input-sm{height:30px;line-height:1.5}select.input-sm{height:30px;line-height:30px}select[multiple].input-sm,textarea.input-sm{height:auto}.form-group-sm .form-control{height:30px;line-height:1.5}.form-group-lg .form-control,.input-lg{border-radius:6px;padding:10px 16px;font-size:18px}.form-group-sm select.form-control{height:30px;line-height:30px}.form-group-sm select[multiple].form-control,.form-group-sm textarea.form-control{height:auto}.form-group-sm .form-control-static{height:30px;min-height:32px;padding:6px 10px;font-size:12px;line-height:1.5}.input-lg{height:46px;line-height:1.3333333}select.input-lg{height:46px;line-height:46px}select[multiple].input-lg,textarea.input-lg{height:auto}.form-group-lg .form-control{height:46px;line-height:1.3333333}.form-group-lg select.form-control{height:46px;line-height:46px}.form-group-lg select[multiple].form-control,.form-group-lg textarea.form-control{height:auto}.form-group-lg .form-control-static{height:46px;min-height:38px;padding:11px 16px;font-size:18px;line-height:1.3333333}.has-feedback{position:relative}.has-feedback .form-control{padding-right:42.5px}.form-control-feedback{position:absolute;top:0;right:0;z-index:2;display:block;width:34px;height:34px;line-height:34px;text-align:center;pointer-events:none}.collapsing,.dropdown,.dropup{position:relative}.form-group-lg .form-control+.form-control-feedback,.input-group-lg+.form-control-feedback,.input-lg+.form-control-feedback{width:46px;height:46px;line-height:46px}.form-group-sm .form-control+.form-control-feedback,.input-group-sm+.form-control-feedback,.input-sm+.form-control-feedback{width:30px;height:30px;line-height:30px}.has-success .form-control{border-color:#3c763d;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-success .form-control:focus{border-color:#2b542c;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #67b168;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #67b168}.has-success .input-group-addon{color:#3c763d;background-color:#dff0d8;border-color:#3c763d}.has-warning .checkbox,.has-warning .checkbox-inline,.has-warning .control-label,.has-warning .form-control-feedback,.has-warning .help-block,.has-warning .radio,.has-warning .radio-inline,.has-warning.checkbox label,.has-warning.checkbox-inline label,.has-warning.radio label,.has-warning.radio-inline label{color:#8a6d3b}.has-warning .form-control{border-color:#8a6d3b;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-warning .form-control:focus{border-color:#66512c;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #c0a16b;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #c0a16b}.has-warning .input-group-addon{color:#8a6d3b;background-color:#fcf8e3;border-color:#8a6d3b}.has-error .checkbox,.has-error .checkbox-inline,.has-error .control-label,.has-error .form-control-feedback,.has-error .help-block,.has-error .radio,.has-error .radio-inline,.has-error.checkbox label,.has-error.checkbox-inline label,.has-error.radio label,.has-error.radio-inline label{color:#a94442}.has-error .form-control{border-color:#a94442;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-error .form-control:focus{border-color:#843534;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #ce8483;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #ce8483}.has-error .input-group-addon{color:#a94442;background-color:#f2dede;border-color:#a94442}.has-feedback label~.form-control-feedback{top:25px}.has-feedback label.sr-only~.form-control-feedback{top:0}.help-block{display:block;margin-top:5px;margin-bottom:10px;color:#737373}@media (min-width:768px){.form-inline .form-control-static,.form-inline .form-group{display:inline-block}.form-inline .control-label,.form-inline .form-group{margin-bottom:0;vertical-align:middle}.form-inline .form-control{display:inline-block;width:auto;vertical-align:middle}.form-inline .input-group{display:inline-table;vertical-align:middle}.form-inline .input-group .form-control,.form-inline .input-group .input-group-addon,.form-inline .input-group .input-group-btn{width:auto}.form-inline .input-group>.form-control{width:100%}.form-inline .checkbox,.form-inline .radio{display:inline-block;margin-top:0;margin-bottom:0;vertical-align:middle}.form-inline .checkbox label,.form-inline .radio label{padding-left:0}.form-inline .checkbox input[type=checkbox],.form-inline .radio input[type=radio]{position:relative;margin-left:0}.form-inline .has-feedback .form-control-feedback{top:0}.form-horizontal .control-label{padding-top:7px;margin-bottom:0;text-align:right}}.form-horizontal .checkbox,.form-horizontal .checkbox-inline,.form-horizontal .radio,.form-horizontal .radio-inline{padding-top:7px;margin-top:0;margin-bottom:0}.form-horizontal .checkbox,.form-horizontal .radio{min-height:27px}.form-horizontal .form-group{margin-right:-15px;margin-left:-15px}.form-horizontal .has-feedback .form-control-feedback{right:15px}@media (min-width:768px){.form-horizontal .form-group-lg .control-label{padding-top:11px;font-size:18px}.form-horizontal .form-group-sm .control-label{padding-top:6px;font-size:12px}}.btn{display:inline-block;padding:6px 12px;margin-bottom:0;font-size:14px;font-weight:400;line-height:1.42857143;text-align:center;white-space:nowrap;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:1px solid transparent;border-radius:4px}.btn.active.focus,.btn.active:focus,.btn.focus,.btn:active.focus,.btn:active:focus,.btn:focus{outline:dotted thin;outline:-webkit-focus-ring-color auto 5px;outline-offset:-2px}.btn.focus,.btn:focus,.btn:hover{color:#333;text-decoration:none}.btn.active,.btn:active{outline:0;-webkit-box-shadow:inset 0 3px 5px rgba(0,0,0,.125);box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.btn.disabled,.btn[disabled],fieldset[disabled] .btn{cursor:not-allowed;filter:alpha(opacity=65);-webkit-box-shadow:none;box-shadow:none;opacity:.65}a.btn.disabled,fieldset[disabled] a.btn{pointer-events:none}.btn-default{color:#333;background-color:#fff;border-color:#ccc}.btn-default.focus,.btn-default:focus{color:#333;background-color:#e6e6e6;border-color:#8c8c8c}.btn-default.active,.btn-default:active,.btn-default:hover,.open>.dropdown-toggle.btn-default{color:#333;background-color:#e6e6e6;border-color:#adadad}.btn-default.active.focus,.btn-default.active:focus,.btn-default.active:hover,.btn-default:active.focus,.btn-default:active:focus,.btn-default:active:hover,.open>.dropdown-toggle.btn-default.focus,.open>.dropdown-toggle.btn-default:focus,.open>.dropdown-toggle.btn-default:hover{color:#333;background-color:#d4d4d4;border-color:#8c8c8c}.btn-default.disabled.focus,.btn-default.disabled:focus,.btn-default.disabled:hover,.btn-default[disabled].focus,.btn-default[disabled]:focus,.btn-default[disabled]:hover,fieldset[disabled] .btn-default.focus,fieldset[disabled] .btn-default:focus,fieldset[disabled] .btn-default:hover{background-color:#fff;border-color:#ccc}.btn-default .badge{color:#fff;background-color:#333}.btn-primary{color:#fff;background-color:#337ab7;border-color:#2e6da4}.btn-primary.focus,.btn-primary:focus{color:#fff;background-color:#286090;border-color:#122b40}.btn-primary.active,.btn-primary:active,.btn-primary:hover,.open>.dropdown-toggle.btn-primary{color:#fff;background-color:#286090;border-color:#204d74}.btn-primary.active.focus,.btn-primary.active:focus,.btn-primary.active:hover,.btn-primary:active.focus,.btn-primary:active:focus,.btn-primary:active:hover,.open>.dropdown-toggle.btn-primary.focus,.open>.dropdown-toggle.btn-primary:focus,.open>.dropdown-toggle.btn-primary:hover{color:#fff;background-color:#204d74;border-color:#122b40}.btn-primary.disabled.focus,.btn-primary.disabled:focus,.btn-primary.disabled:hover,.btn-primary[disabled].focus,.btn-primary[disabled]:focus,.btn-primary[disabled]:hover,fieldset[disabled] .btn-primary.focus,fieldset[disabled] .btn-primary:focus,fieldset[disabled] .btn-primary:hover{background-color:#337ab7;border-color:#2e6da4}.btn-primary .badge{color:#337ab7;background-color:#fff}.btn-success{color:#fff;background-color:#5cb85c;border-color:#4cae4c}.btn-success.focus,.btn-success:focus{color:#fff;background-color:#449d44;border-color:#255625}.btn-success.active,.btn-success:active,.btn-success:hover,.open>.dropdown-toggle.btn-success{color:#fff;background-color:#449d44;border-color:#398439}.btn-success.active.focus,.btn-success.active:focus,.btn-success.active:hover,.btn-success:active.focus,.btn-success:active:focus,.btn-success:active:hover,.open>.dropdown-toggle.btn-success.focus,.open>.dropdown-toggle.btn-success:focus,.open>.dropdown-toggle.btn-success:hover{color:#fff;background-color:#398439;border-color:#255625}.btn-success.active,.btn-success:active,.open>.dropdown-toggle.btn-success{background-image:none}.btn-success.disabled.focus,.btn-success.disabled:focus,.btn-success.disabled:hover,.btn-success[disabled].focus,.btn-success[disabled]:focus,.btn-success[disabled]:hover,fieldset[disabled] .btn-success.focus,fieldset[disabled] .btn-success:focus,fieldset[disabled] .btn-success:hover{background-color:#5cb85c;border-color:#4cae4c}.btn-success .badge{color:#5cb85c;background-color:#fff}.btn-info{color:#fff;background-color:#5bc0de;border-color:#46b8da}.btn-info.focus,.btn-info:focus{color:#fff;background-color:#31b0d5;border-color:#1b6d85}.btn-info.active,.btn-info:active,.btn-info:hover,.open>.dropdown-toggle.btn-info{color:#fff;background-color:#31b0d5;border-color:#269abc}.btn-info.active.focus,.btn-info.active:focus,.btn-info.active:hover,.btn-info:active.focus,.btn-info:active:focus,.btn-info:active:hover,.open>.dropdown-toggle.btn-info.focus,.open>.dropdown-toggle.btn-info:focus,.open>.dropdown-toggle.btn-info:hover{color:#fff;background-color:#269abc;border-color:#1b6d85}.btn-info.disabled.focus,.btn-info.disabled:focus,.btn-info.disabled:hover,.btn-info[disabled].focus,.btn-info[disabled]:focus,.btn-info[disabled]:hover,fieldset[disabled] .btn-info.focus,fieldset[disabled] .btn-info:focus,fieldset[disabled] .btn-info:hover{background-color:#5bc0de;border-color:#46b8da}.btn-info .badge{color:#5bc0de;background-color:#fff}.btn-warning{color:#fff;background-color:#f0ad4e;border-color:#eea236}.btn-warning.focus,.btn-warning:focus{color:#fff;background-color:#ec971f;border-color:#985f0d}.btn-warning.active,.btn-warning:active,.btn-warning:hover,.open>.dropdown-toggle.btn-warning{color:#fff;background-color:#ec971f;border-color:#d58512}.btn-warning.active.focus,.btn-warning.active:focus,.btn-warning.active:hover,.btn-warning:active.focus,.btn-warning:active:focus,.btn-warning:active:hover,.open>.dropdown-toggle.btn-warning.focus,.open>.dropdown-toggle.btn-warning:focus,.open>.dropdown-toggle.btn-warning:hover{color:#fff;background-color:#d58512;border-color:#985f0d}.btn-warning.disabled.focus,.btn-warning.disabled:focus,.btn-warning.disabled:hover,.btn-warning[disabled].focus,.btn-warning[disabled]:focus,.btn-warning[disabled]:hover,fieldset[disabled] .btn-warning.focus,fieldset[disabled] .btn-warning:focus,fieldset[disabled] .btn-warning:hover{background-color:#f0ad4e;border-color:#eea236}.btn-warning .badge{color:#f0ad4e;background-color:#fff}.btn-danger{color:#fff;background-color:#d9534f;border-color:#d43f3a}.btn-danger.focus,.btn-danger:focus{color:#fff;background-color:#c9302c;border-color:#761c19}.btn-danger.active,.btn-danger:active,.btn-danger:hover,.open>.dropdown-toggle.btn-danger{color:#fff;background-color:#c9302c;border-color:#ac2925}.btn-danger.active.focus,.btn-danger.active:focus,.btn-danger.active:hover,.btn-danger:active.focus,.btn-danger:active:focus,.btn-danger:active:hover,.open>.dropdown-toggle.btn-danger.focus,.open>.dropdown-toggle.btn-danger:focus,.open>.dropdown-toggle.btn-danger:hover{color:#fff;background-color:#ac2925;border-color:#761c19}.btn-danger.disabled.focus,.btn-danger.disabled:focus,.btn-danger.disabled:hover,.btn-danger[disabled].focus,.btn-danger[disabled]:focus,.btn-danger[disabled]:hover,fieldset[disabled] .btn-danger.focus,fieldset[disabled] .btn-danger:focus,fieldset[disabled] .btn-danger:hover{background-color:#d9534f;border-color:#d43f3a}.btn-danger .badge{color:#d9534f;background-color:#fff}.btn-link{font-weight:400;color:#337ab7;border-radius:0}.btn-link,.btn-link.active,.btn-link:active,.btn-link[disabled],fieldset[disabled] .btn-link{background-color:transparent;-webkit-box-shadow:none;box-shadow:none}.btn-link,.btn-link:active,.btn-link:focus,.btn-link:hover{border-color:transparent}.btn-link:focus,.btn-link:hover{color:#23527c;text-decoration:underline;background-color:transparent}.btn-link[disabled]:focus,.btn-link[disabled]:hover,fieldset[disabled] .btn-link:focus,fieldset[disabled] .btn-link:hover{color:#777;text-decoration:none}.btn-group-lg>.btn,.btn-lg{padding:10px 16px;font-size:18px;line-height:1.3333333;border-radius:6px}.btn-group-sm>.btn,.btn-sm{padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}.btn-group-xs>.btn,.btn-xs{padding:1px 5px;font-size:12px;line-height:1.5;border-radius:3px}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:5px}input[type=button].btn-block,input[type=reset].btn-block,input[type=submit].btn-block{width:100%}.fade{opacity:0;-webkit-transition:opacity .15s linear;-o-transition:opacity .15s linear;transition:opacity .15s linear}.fade.in{opacity:1}.collapse{display:none}.collapse.in{display:block}tr.collapse.in{display:table-row}tbody.collapse.in{display:table-row-group}.collapsing{height:0;overflow:hidden;-webkit-transition-timing-function:ease;-o-transition-timing-function:ease;transition-timing-function:ease;-webkit-transition-duration:.35s;-o-transition-duration:.35s;transition-duration:.35s;-webkit-transition-property:height,visibility;-o-transition-property:height,visibility;transition-property:height,visibility}.caret{display:inline-block;width:0;height:0;margin-left:2px;vertical-align:middle;border-top:4px dashed;border-top:4px solid\\9;border-right:4px solid transparent;border-left:4px solid transparent}.dropdown-toggle:focus{outline:0}.dropdown-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;min-width:160px;padding:5px 0;margin:2px 0 0;font-size:14px;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid #ccc;border:1px solid rgba(0,0,0,.15);border-radius:4px;-webkit-box-shadow:0 6px 12px rgba(0,0,0,.175);box-shadow:0 6px 12px rgba(0,0,0,.175)}.dropdown-menu-right,.dropdown-menu.pull-right{right:0;left:auto}.dropdown-header,.dropdown-menu>li>a{display:block;padding:3px 20px;line-height:1.42857143;white-space:nowrap}.btn-group>.btn-group:first-child:not(:last-child)>.btn:last-child,.btn-group>.btn-group:first-child:not(:last-child)>.dropdown-toggle,.btn-group>.btn:first-child:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0}.btn-group>.btn-group:last-child:not(:first-child)>.btn:first-child,.btn-group>.btn:last-child:not(:first-child),.btn-group>.dropdown-toggle:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn:not(:first-child):not(:last-child),.btn-group>.btn-group:not(:first-child):not(:last-child)>.btn,.btn-group>.btn:not(:first-child):not(:last-child):not(.dropdown-toggle){border-radius:0}.dropdown-menu .divider{height:1px;margin:9px 0;overflow:hidden;background-color:#e5e5e5}.dropdown-menu>li>a{clear:both;font-weight:400;color:#333}.dropdown-menu>li>a:focus,.dropdown-menu>li>a:hover{color:#262626;text-decoration:none;background-color:#f5f5f5}.dropdown-menu>.active>a,.dropdown-menu>.active>a:focus,.dropdown-menu>.active>a:hover{color:#fff;text-decoration:none;background-color:#337ab7;outline:0}.dropdown-menu>.disabled>a,.dropdown-menu>.disabled>a:focus,.dropdown-menu>.disabled>a:hover{color:#777}.dropdown-menu>.disabled>a:focus,.dropdown-menu>.disabled>a:hover{text-decoration:none;cursor:not-allowed;background-color:transparent;filter:progid:DXImageTransform.Microsoft.gradient(enabled=false)}.open>.dropdown-menu{display:block}.open>a{outline:0}.dropdown-menu-left{right:auto;left:0}.dropdown-header{font-size:12px;color:#777}.dropdown-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;z-index:990}.nav-justified>.dropdown .dropdown-menu,.nav-tabs.nav-justified>.dropdown .dropdown-menu{top:auto;left:auto}.pull-right>.dropdown-menu{right:0;left:auto}.dropup .caret,.navbar-fixed-bottom .dropdown .caret{content:"";border-top:0;border-bottom:4px dashed;border-bottom:4px solid\\9}.dropup .dropdown-menu,.navbar-fixed-bottom .dropdown .dropdown-menu{top:auto;bottom:100%;margin-bottom:2px}@media (min-width:768px){.navbar-right .dropdown-menu{right:0;left:auto}.navbar-right .dropdown-menu-left{right:auto;left:0}}.btn-group,.btn-group-vertical{position:relative;display:inline-block;vertical-align:middle}.btn-group-vertical>.btn,.btn-group>.btn{position:relative;float:left}.btn-group-vertical>.btn.active,.btn-group-vertical>.btn:active,.btn-group-vertical>.btn:focus,.btn-group-vertical>.btn:hover,.btn-group>.btn.active,.btn-group>.btn:active,.btn-group>.btn:focus,.btn-group>.btn:hover{z-index:2}.btn-group .btn+.btn,.btn-group .btn+.btn-group,.btn-group .btn-group+.btn,.btn-group .btn-group+.btn-group{margin-left:-1px}.btn-toolbar{margin-left:-5px}.btn-toolbar>.btn,.btn-toolbar>.btn-group,.btn-toolbar>.input-group{margin-left:5px}.btn .caret,.btn-group>.btn:first-child{margin-left:0}.btn-group .dropdown-toggle:active,.btn-group.open .dropdown-toggle{outline:0}.btn-group>.btn+.dropdown-toggle{padding-right:8px;padding-left:8px}.btn-group>.btn-lg+.dropdown-toggle{padding-right:12px;padding-left:12px}.btn-group.open .dropdown-toggle{-webkit-box-shadow:inset 0 3px 5px rgba(0,0,0,.125);box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.btn-group.open .dropdown-toggle.btn-link{-webkit-box-shadow:none;box-shadow:none}.btn-lg .caret{border-width:5px 5px 0}.dropup .btn-lg .caret{border-width:0 5px 5px}.btn-group-vertical>.btn,.btn-group-vertical>.btn-group,.btn-group-vertical>.btn-group>.btn{display:block;float:none;width:100%;max-width:100%}.btn-group-vertical>.btn-group>.btn{float:none}.btn-group-vertical>.btn+.btn,.btn-group-vertical>.btn+.btn-group,.btn-group-vertical>.btn-group+.btn,.btn-group-vertical>.btn-group+.btn-group{margin-top:-1px;margin-left:0}.btn-group-vertical>.btn:first-child:not(:last-child){border-radius:4px 4px 0 0}.btn-group-vertical>.btn:last-child:not(:first-child){border-radius:0 0 4px 4px}.btn-group-vertical>.btn-group:not(:first-child):not(:last-child)>.btn{border-radius:0}.btn-group-vertical>.btn-group:first-child:not(:last-child)>.btn:last-child,.btn-group-vertical>.btn-group:first-child:not(:last-child)>.dropdown-toggle{border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn-group:last-child:not(:first-child)>.btn:first-child{border-top-left-radius:0;border-top-right-radius:0}.btn-group-justified{display:table;width:100%;table-layout:fixed;border-collapse:separate}.btn-group-justified>.btn,.btn-group-justified>.btn-group{display:table-cell;float:none;width:1%}.btn-group-justified>.btn-group .btn{width:100%}.btn-group-justified>.btn-group .dropdown-menu{left:auto}[data-toggle=buttons]>.btn input[type=checkbox],[data-toggle=buttons]>.btn input[type=radio],[data-toggle=buttons]>.btn-group>.btn input[type=checkbox],[data-toggle=buttons]>.btn-group>.btn input[type=radio]{position:absolute;clip:rect(0,0,0,0);pointer-events:none}.input-group{position:relative;display:table;border-collapse:separate}.input-group[class*=col-]{float:none;padding-right:0;padding-left:0}.input-group .form-control{position:relative;z-index:2;float:left;width:100%;margin-bottom:0}.input-group .form-control:focus{z-index:3}.input-group-lg>.form-control,.input-group-lg>.input-group-addon,.input-group-lg>.input-group-btn>.btn{height:46px;padding:10px 16px;font-size:18px;line-height:1.3333333;border-radius:6px}select.input-group-lg>.form-control,select.input-group-lg>.input-group-addon,select.input-group-lg>.input-group-btn>.btn{height:46px;line-height:46px}select[multiple].input-group-lg>.form-control,select[multiple].input-group-lg>.input-group-addon,select[multiple].input-group-lg>.input-group-btn>.btn,textarea.input-group-lg>.form-control,textarea.input-group-lg>.input-group-addon,textarea.input-group-lg>.input-group-btn>.btn{height:auto}.input-group-sm>.form-control,.input-group-sm>.input-group-addon,.input-group-sm>.input-group-btn>.btn{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}select.input-group-sm>.form-control,select.input-group-sm>.input-group-addon,select.input-group-sm>.input-group-btn>.btn{height:30px;line-height:30px}select[multiple].input-group-sm>.form-control,select[multiple].input-group-sm>.input-group-addon,select[multiple].input-group-sm>.input-group-btn>.btn,textarea.input-group-sm>.form-control,textarea.input-group-sm>.input-group-addon,textarea.input-group-sm>.input-group-btn>.btn{height:auto}.input-group .form-control,.input-group-addon,.input-group-btn{display:table-cell}.nav>li,.nav>li>a{display:block;position:relative}.input-group .form-control:not(:first-child):not(:last-child),.input-group-addon:not(:first-child):not(:last-child),.input-group-btn:not(:first-child):not(:last-child){border-radius:0}.input-group-addon,.input-group-btn{width:1%;white-space:nowrap;vertical-align:middle}.input-group-addon{padding:6px 12px;font-size:14px;font-weight:400;line-height:1;color:#555;text-align:center;background-color:#eee;border:1px solid #ccc;border-radius:4px}.input-group-addon.input-sm{padding:5px 10px;font-size:12px;border-radius:3px}.input-group-addon.input-lg{padding:10px 16px;font-size:18px;border-radius:6px}.input-group-addon input[type=checkbox],.input-group-addon input[type=radio]{margin-top:0}.input-group .form-control:first-child,.input-group-addon:first-child,.input-group-btn:first-child>.btn,.input-group-btn:first-child>.btn-group>.btn,.input-group-btn:first-child>.dropdown-toggle,.input-group-btn:last-child>.btn-group:not(:last-child)>.btn,.input-group-btn:last-child>.btn:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0}.input-group-addon:first-child{border-right:0}.input-group .form-control:last-child,.input-group-addon:last-child,.input-group-btn:first-child>.btn-group:not(:first-child)>.btn,.input-group-btn:first-child>.btn:not(:first-child),.input-group-btn:last-child>.btn,.input-group-btn:last-child>.btn-group>.btn,.input-group-btn:last-child>.dropdown-toggle{border-top-left-radius:0;border-bottom-left-radius:0}.input-group-addon:last-child{border-left:0}.input-group-btn{position:relative;font-size:0;white-space:nowrap}.input-group-btn>.btn{position:relative}.input-group-btn>.btn+.btn{margin-left:-1px}.input-group-btn>.btn:active,.input-group-btn>.btn:focus,.input-group-btn>.btn:hover{z-index:2}.input-group-btn:first-child>.btn,.input-group-btn:first-child>.btn-group{margin-right:-1px}.input-group-btn:last-child>.btn,.input-group-btn:last-child>.btn-group{z-index:2;margin-left:-1px}.nav{padding-left:0;margin-bottom:0;list-style:none}.nav>li>a{padding:10px 15px}.nav>li>a:focus,.nav>li>a:hover{text-decoration:none;background-color:#eee}.nav>li.disabled>a{color:#777}.nav>li.disabled>a:focus,.nav>li.disabled>a:hover{color:#777;text-decoration:none;cursor:not-allowed;background-color:transparent}.nav .open>a,.nav .open>a:focus,.nav .open>a:hover{background-color:#eee;border-color:#337ab7}.nav .nav-divider{height:1px;margin:9px 0;overflow:hidden;background-color:#e5e5e5}.nav>li>a>img{max-width:none}.nav-tabs{border-bottom:1px solid #ddd}.nav-tabs>li{float:left;margin-bottom:-1px}.nav-tabs>li>a{margin-right:2px;line-height:1.42857143;border:1px solid transparent;border-radius:4px 4px 0 0}.nav-tabs>li>a:hover{border-color:#eee #eee #ddd}.nav-tabs>li.active>a,.nav-tabs>li.active>a:focus,.nav-tabs>li.active>a:hover{color:#555;cursor:default;background-color:#fff;border:1px solid #ddd;border-bottom-color:transparent}.nav-tabs.nav-justified{width:100%;border-bottom:0}.nav-tabs.nav-justified>li{float:none}.nav-tabs.nav-justified>li>a{margin-bottom:5px;text-align:center;margin-right:0;border-radius:4px}.nav-tabs.nav-justified>.active>a,.nav-tabs.nav-justified>.active>a:focus,.nav-tabs.nav-justified>.active>a:hover{border:1px solid #ddd}@media (min-width:768px){.nav-tabs.nav-justified>li{display:table-cell;width:1%}.nav-tabs.nav-justified>li>a{margin-bottom:0;border-bottom:1px solid #ddd;border-radius:4px 4px 0 0}.nav-tabs.nav-justified>.active>a,.nav-tabs.nav-justified>.active>a:focus,.nav-tabs.nav-justified>.active>a:hover{border-bottom-color:#fff}}.nav-pills>li{float:left}.nav-justified>li,.nav-stacked>li{float:none}.nav-pills>li>a{border-radius:4px}.nav-pills>li+li{margin-left:2px}.nav-pills>li.active>a,.nav-pills>li.active>a:focus,.nav-pills>li.active>a:hover{color:#fff;background-color:#337ab7}.nav-stacked>li+li{margin-top:2px;margin-left:0}.nav-justified{width:100%}.nav-justified>li>a{margin-bottom:5px;text-align:center}.nav-tabs-justified{border-bottom:0}.nav-tabs-justified>li>a{margin-right:0;border-radius:4px}.nav-tabs-justified>.active>a,.nav-tabs-justified>.active>a:focus,.nav-tabs-justified>.active>a:hover{border:1px solid #ddd}@media (min-width:768px){.nav-justified>li{display:table-cell;width:1%}.nav-justified>li>a{margin-bottom:0}.nav-tabs-justified>li>a{border-bottom:1px solid #ddd;border-radius:4px 4px 0 0}.nav-tabs-justified>.active>a,.nav-tabs-justified>.active>a:focus,.nav-tabs-justified>.active>a:hover{border-bottom-color:#fff}}.tab-content>.tab-pane{display:none}.tab-content>.active{display:block}.nav-tabs .dropdown-menu{margin-top:-1px;border-top-left-radius:0;border-top-right-radius:0}.navbar{position:relative;min-height:50px;margin-bottom:20px;border:1px solid transparent}.navbar-collapse{padding-right:15px;padding-left:15px;overflow-x:visible;-webkit-overflow-scrolling:touch;border-top:1px solid transparent;-webkit-box-shadow:inset 0 1px 0 rgba(255,255,255,.1);box-shadow:inset 0 1px 0 rgba(255,255,255,.1)}.navbar-collapse.in{overflow-y:auto}@media (min-width:768px){.navbar{border-radius:4px}.navbar-header{float:left}.navbar-collapse{width:auto;border-top:0;-webkit-box-shadow:none;box-shadow:none}.navbar-collapse.collapse{display:block!important;height:auto!important;padding-bottom:0;overflow:visible!important}.navbar-collapse.in{overflow-y:visible}.navbar-fixed-bottom .navbar-collapse,.navbar-fixed-top .navbar-collapse,.navbar-static-top .navbar-collapse{padding-right:0;padding-left:0}}.carousel-inner,.embed-responsive,.modal,.modal-open,.progress{overflow:hidden}@media (max-device-width:480px) and (orientation:landscape){.navbar-fixed-bottom .navbar-collapse,.navbar-fixed-top .navbar-collapse{max-height:200px}}.container-fluid>.navbar-collapse,.container-fluid>.navbar-header,.container>.navbar-collapse,.container>.navbar-header{margin-right:-15px;margin-left:-15px}.navbar-static-top{z-index:1000;border-width:0 0 1px}.navbar-fixed-bottom,.navbar-fixed-top{position:fixed;right:0;left:0;z-index:1030}.navbar-fixed-top{top:0;border-width:0 0 1px}.navbar-fixed-bottom{bottom:0;margin-bottom:0;border-width:1px 0 0}.navbar-brand{float:left;height:50px;padding:15px;font-size:18px;line-height:20px}.navbar-brand:focus,.navbar-brand:hover{text-decoration:none}.navbar-brand>img{display:block}@media (min-width:768px){.container-fluid>.navbar-collapse,.container-fluid>.navbar-header,.container>.navbar-collapse,.container>.navbar-header{margin-right:0;margin-left:0}.navbar-fixed-bottom,.navbar-fixed-top,.navbar-static-top{border-radius:0}.navbar>.container .navbar-brand,.navbar>.container-fluid .navbar-brand{margin-left:-15px}}.navbar-toggle{position:relative;float:right;padding:9px 10px;margin-top:8px;margin-right:15px;margin-bottom:8px;background-color:transparent;border:1px solid transparent;border-radius:4px}.navbar-toggle:focus{outline:0}.navbar-toggle .icon-bar{display:block;width:22px;height:2px;border-radius:1px}.navbar-toggle .icon-bar+.icon-bar{margin-top:4px}.navbar-nav{margin:7.5px -15px}.navbar-nav>li>a{padding-top:10px;padding-bottom:10px;line-height:20px}@media (max-width:767px){.navbar-nav .open .dropdown-menu{position:static;float:none;width:auto;margin-top:0;background-color:transparent;border:0;-webkit-box-shadow:none;box-shadow:none}.navbar-nav .open .dropdown-menu .dropdown-header,.navbar-nav .open .dropdown-menu>li>a{padding:5px 15px 5px 25px}.navbar-nav .open .dropdown-menu>li>a{line-height:20px}.navbar-nav .open .dropdown-menu>li>a:focus,.navbar-nav .open .dropdown-menu>li>a:hover{background-image:none}}.progress-bar-striped,.progress-striped .progress-bar,.progress-striped .progress-bar-success{background-image:-webkit-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-o-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent)}@media (min-width:768px){.navbar-toggle{display:none}.navbar-nav{float:left;margin:0}.navbar-nav>li{float:left}.navbar-nav>li>a{padding-top:15px;padding-bottom:15px}}.navbar-form{padding:10px 15px;border-top:1px solid transparent;border-bottom:1px solid transparent;-webkit-box-shadow:inset 0 1px 0 rgba(255,255,255,.1),0 1px 0 rgba(255,255,255,.1);box-shadow:inset 0 1px 0 rgba(255,255,255,.1),0 1px 0 rgba(255,255,255,.1);margin:8px -15px}@media (min-width:768px){.navbar-form .form-control-static,.navbar-form .form-group{display:inline-block}.navbar-form .control-label,.navbar-form .form-group{margin-bottom:0;vertical-align:middle}.navbar-form .form-control{display:inline-block;width:auto;vertical-align:middle}.navbar-form .input-group{display:inline-table;vertical-align:middle}.navbar-form .input-group .form-control,.navbar-form .input-group .input-group-addon,.navbar-form .input-group .input-group-btn{width:auto}.navbar-form .input-group>.form-control{width:100%}.navbar-form .checkbox,.navbar-form .radio{display:inline-block;margin-top:0;margin-bottom:0;vertical-align:middle}.navbar-form .checkbox label,.navbar-form .radio label{padding-left:0}.navbar-form .checkbox input[type=checkbox],.navbar-form .radio input[type=radio]{position:relative;margin-left:0}.navbar-form .has-feedback .form-control-feedback{top:0}.navbar-form{width:auto;padding-top:0;padding-bottom:0;margin-right:0;margin-left:0;border:0;-webkit-box-shadow:none;box-shadow:none}}.breadcrumb>li,.pagination{display:inline-block}.btn .badge,.btn .label{top:-1px;position:relative}@media (max-width:767px){.navbar-form .form-group{margin-bottom:5px}.navbar-form .form-group:last-child{margin-bottom:0}}.navbar-nav>li>.dropdown-menu{margin-top:0;border-top-left-radius:0;border-top-right-radius:0}.navbar-fixed-bottom .navbar-nav>li>.dropdown-menu{margin-bottom:0;border-radius:4px 4px 0 0}.navbar-btn{margin-top:8px;margin-bottom:8px}.navbar-btn.btn-sm{margin-top:10px;margin-bottom:10px}.navbar-btn.btn-xs{margin-top:14px;margin-bottom:14px}.navbar-text{margin-top:15px;margin-bottom:15px}@media (min-width:768px){.navbar-text{float:left;margin-right:15px;margin-left:15px}.navbar-left{float:left!important}.navbar-right{float:right!important;margin-right:-15px}.navbar-right~.navbar-right{margin-right:0}}.navbar-default{background-color:#f8f8f8;border-color:#e7e7e7}.navbar-default .navbar-brand{color:#777}.navbar-default .navbar-brand:focus,.navbar-default .navbar-brand:hover{color:#5e5e5e;background-color:transparent}.navbar-default .navbar-nav>li>a,.navbar-default .navbar-text{color:#777}.navbar-default .navbar-nav>li>a:focus,.navbar-default .navbar-nav>li>a:hover{color:#333;background-color:transparent}.navbar-default .navbar-nav>.active>a,.navbar-default .navbar-nav>.active>a:focus,.navbar-default .navbar-nav>.active>a:hover{color:#555;background-color:#e7e7e7}.navbar-default .navbar-nav>.disabled>a,.navbar-default .navbar-nav>.disabled>a:focus,.navbar-default .navbar-nav>.disabled>a:hover{color:#ccc;background-color:transparent}.navbar-default .navbar-toggle{border-color:#ddd}.navbar-default .navbar-toggle:focus,.navbar-default .navbar-toggle:hover{background-color:#ddd}.navbar-default .navbar-toggle .icon-bar{background-color:#888}.navbar-default .navbar-collapse,.navbar-default .navbar-form{border-color:#e7e7e7}.navbar-default .navbar-nav>.open>a,.navbar-default .navbar-nav>.open>a:focus,.navbar-default .navbar-nav>.open>a:hover{color:#555;background-color:#e7e7e7}@media (max-width:767px){.navbar-default .navbar-nav .open .dropdown-menu>li>a{color:#777}.navbar-default .navbar-nav .open .dropdown-menu>li>a:focus,.navbar-default .navbar-nav .open .dropdown-menu>li>a:hover{color:#333;background-color:transparent}.navbar-default .navbar-nav .open .dropdown-menu>.active>a,.navbar-default .navbar-nav .open .dropdown-menu>.active>a:focus,.navbar-default .navbar-nav .open .dropdown-menu>.active>a:hover{color:#555;background-color:#e7e7e7}.navbar-default .navbar-nav .open .dropdown-menu>.disabled>a,.navbar-default .navbar-nav .open .dropdown-menu>.disabled>a:focus,.navbar-default .navbar-nav .open .dropdown-menu>.disabled>a:hover{color:#ccc;background-color:transparent}}.navbar-default .navbar-link{color:#777}.navbar-default .navbar-link:hover{color:#333}.navbar-default .btn-link{color:#777}.navbar-default .btn-link:focus,.navbar-default .btn-link:hover{color:#333}.navbar-default .btn-link[disabled]:focus,.navbar-default .btn-link[disabled]:hover,fieldset[disabled] .navbar-default .btn-link:focus,fieldset[disabled] .navbar-default .btn-link:hover{color:#ccc}.navbar-inverse{background-color:#222;border-color:#080808}.navbar-inverse .navbar-brand{color:#9d9d9d}.navbar-inverse .navbar-brand:focus,.navbar-inverse .navbar-brand:hover{color:#fff;background-color:transparent}.navbar-inverse .navbar-nav>li>a,.navbar-inverse .navbar-text{color:#9d9d9d}.navbar-inverse .navbar-nav>li>a:focus,.navbar-inverse .navbar-nav>li>a:hover{color:#fff;background-color:transparent}.navbar-inverse .navbar-nav>.active>a,.navbar-inverse .navbar-nav>.active>a:focus,.navbar-inverse .navbar-nav>.active>a:hover{color:#fff;background-color:#080808}.navbar-inverse .navbar-nav>.disabled>a,.navbar-inverse .navbar-nav>.disabled>a:focus,.navbar-inverse .navbar-nav>.disabled>a:hover{color:#444;background-color:transparent}.navbar-inverse .navbar-toggle{border-color:#333}.navbar-inverse .navbar-toggle:focus,.navbar-inverse .navbar-toggle:hover{background-color:#333}.navbar-inverse .navbar-toggle .icon-bar{background-color:#fff}.navbar-inverse .navbar-collapse,.navbar-inverse .navbar-form{border-color:#101010}.navbar-inverse .navbar-nav>.open>a,.navbar-inverse .navbar-nav>.open>a:focus,.navbar-inverse .navbar-nav>.open>a:hover{color:#fff;background-color:#080808}@media (max-width:767px){.navbar-inverse .navbar-nav .open .dropdown-menu>.dropdown-header{border-color:#080808}.navbar-inverse .navbar-nav .open .dropdown-menu .divider{background-color:#080808}.navbar-inverse .navbar-nav .open .dropdown-menu>li>a{color:#9d9d9d}.navbar-inverse .navbar-nav .open .dropdown-menu>li>a:focus,.navbar-inverse .navbar-nav .open .dropdown-menu>li>a:hover{color:#fff;background-color:transparent}.navbar-inverse .navbar-nav .open .dropdown-menu>.active>a,.navbar-inverse .navbar-nav .open .dropdown-menu>.active>a:focus,.navbar-inverse .navbar-nav .open .dropdown-menu>.active>a:hover{color:#fff;background-color:#080808}.navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a,.navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a:focus,.navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a:hover{color:#444;background-color:transparent}}.navbar-inverse .navbar-link{color:#9d9d9d}.navbar-inverse .navbar-link:hover{color:#fff}.navbar-inverse .btn-link{color:#9d9d9d}.navbar-inverse .btn-link:focus,.navbar-inverse .btn-link:hover{color:#fff}.navbar-inverse .btn-link[disabled]:focus,.navbar-inverse .btn-link[disabled]:hover,fieldset[disabled] .navbar-inverse .btn-link:focus,fieldset[disabled] .navbar-inverse .btn-link:hover{color:#444}.breadcrumb{padding:8px 15px;margin-bottom:20px;list-style:none;background-color:#f5f5f5;border-radius:4px}.breadcrumb>li+li:before{padding:0 5px;color:#ccc;content:"/\\00a0"}.breadcrumb>.active{color:#777}.pagination{padding-left:0;margin:20px 0;border-radius:4px}.pager li,.pagination>li{display:inline}.pagination>li>a,.pagination>li>span{position:relative;float:left;padding:6px 12px;margin-left:-1px;line-height:1.42857143;color:#337ab7;text-decoration:none;background-color:#fff;border:1px solid #ddd}.pagination>li:first-child>a,.pagination>li:first-child>span{margin-left:0;border-top-left-radius:4px;border-bottom-left-radius:4px}.pagination>li:last-child>a,.pagination>li:last-child>span{border-top-right-radius:4px;border-bottom-right-radius:4px}.pagination>li>a:focus,.pagination>li>a:hover,.pagination>li>span:focus,.pagination>li>span:hover{z-index:2;color:#23527c;background-color:#eee;border-color:#ddd}.pagination>.active>a,.pagination>.active>a:focus,.pagination>.active>a:hover,.pagination>.active>span,.pagination>.active>span:focus,.pagination>.active>span:hover{z-index:3;color:#fff;cursor:default;background-color:#337ab7;border-color:#337ab7}.pagination>.disabled>a,.pagination>.disabled>a:focus,.pagination>.disabled>a:hover,.pagination>.disabled>span,.pagination>.disabled>span:focus,.pagination>.disabled>span:hover{color:#777;cursor:not-allowed;background-color:#fff;border-color:#ddd}.pagination-lg>li>a,.pagination-lg>li>span{padding:10px 16px;font-size:18px;line-height:1.3333333}.pagination-lg>li:first-child>a,.pagination-lg>li:first-child>span{border-top-left-radius:6px;border-bottom-left-radius:6px}.pagination-lg>li:last-child>a,.pagination-lg>li:last-child>span{border-top-right-radius:6px;border-bottom-right-radius:6px}.pagination-sm>li>a,.pagination-sm>li>span{padding:5px 10px;font-size:12px;line-height:1.5}.badge,.label{font-weight:700;line-height:1;white-space:nowrap;text-align:center}.pagination-sm>li:first-child>a,.pagination-sm>li:first-child>span{border-top-left-radius:3px;border-bottom-left-radius:3px}.pagination-sm>li:last-child>a,.pagination-sm>li:last-child>span{border-top-right-radius:3px;border-bottom-right-radius:3px}.pager{padding-left:0;margin:20px 0;text-align:center;list-style:none}.pager li>a,.pager li>span{display:inline-block;padding:5px 14px;background-color:#fff;border:1px solid #ddd;border-radius:15px}.pager li>a:focus,.pager li>a:hover{text-decoration:none;background-color:#eee}.pager .next>a,.pager .next>span{float:right}.pager .previous>a,.pager .previous>span{float:left}.pager .disabled>a,.pager .disabled>a:focus,.pager .disabled>a:hover,.pager .disabled>span{color:#777;cursor:not-allowed;background-color:#fff}.label{display:inline;padding:.2em .6em .3em;font-size:75%;color:#fff;border-radius:.25em}a.label:focus,a.label:hover{color:#fff;text-decoration:none;cursor:pointer}.label:empty{display:none}.label-default{background-color:#777}.label-default[href]:focus,.label-default[href]:hover{background-color:#5e5e5e}.label-primary{background-color:#337ab7}.label-primary[href]:focus,.label-primary[href]:hover{background-color:#286090}.label-success{background-color:#5cb85c}.label-success[href]:focus,.label-success[href]:hover{background-color:#449d44}.label-info{background-color:#5bc0de}.label-info[href]:focus,.label-info[href]:hover{background-color:#31b0d5}.label-warning{background-color:#f0ad4e}.label-warning[href]:focus,.label-warning[href]:hover{background-color:#ec971f}.label-danger{background-color:#d9534f}.label-danger[href]:focus,.label-danger[href]:hover{background-color:#c9302c}.badge{display:inline-block;min-width:10px;padding:3px 7px;font-size:12px;color:#fff;vertical-align:middle;background-color:#777;border-radius:10px}.badge:empty{display:none}.media-object,.thumbnail{display:block}.btn-group-xs>.btn .badge,.btn-xs .badge{top:0;padding:1px 5px}a.badge:focus,a.badge:hover{color:#fff;text-decoration:none;cursor:pointer}.list-group-item.active>.badge,.nav-pills>.active>a>.badge{color:#337ab7;background-color:#fff}.jumbotron,.jumbotron .h1,.jumbotron h1{color:inherit}.list-group-item>.badge{float:right}.list-group-item>.badge+.badge{margin-right:5px}.nav-pills>li>a>.badge{margin-left:3px}.jumbotron{padding-top:30px;padding-bottom:30px;margin-bottom:30px;background-color:#eee}.jumbotron p{margin-bottom:15px;font-size:21px;font-weight:200}.alert,.thumbnail{margin-bottom:20px}.alert .alert-link,.close{font-weight:700}.jumbotron>hr{border-top-color:#d5d5d5}.container .jumbotron,.container-fluid .jumbotron{padding-right:15px;padding-left:15px;border-radius:6px}.jumbotron .container{max-width:100%}@media screen and (min-width:768px){.jumbotron{padding-top:48px;padding-bottom:48px}.container .jumbotron,.container-fluid .jumbotron{padding-right:60px;padding-left:60px}.jumbotron .h1,.jumbotron h1{font-size:63px}}.thumbnail{padding:4px;line-height:1.42857143;background-color:#fff;border:1px solid #ddd;border-radius:4px;-webkit-transition:border .2s ease-in-out;-o-transition:border .2s ease-in-out;transition:border .2s ease-in-out}.thumbnail a>img,.thumbnail>img{margin-right:auto;margin-left:auto}a.thumbnail.active,a.thumbnail:focus,a.thumbnail:hover{border-color:#337ab7}.thumbnail .caption{padding:9px;color:#333}.alert{padding:15px;border:1px solid transparent;border-radius:4px}.alert h4{margin-top:0;color:inherit}.alert>p,.alert>ul{margin-bottom:0}.alert>p+p{margin-top:5px}.alert-dismissable,.alert-dismissible{padding-right:35px}.alert-dismissable .close,.alert-dismissible .close{position:relative;top:-2px;right:-21px;color:inherit}.modal,.modal-backdrop{top:0;right:0;bottom:0;left:0}.alert-success{color:#3c763d;background-color:#dff0d8;border-color:#d6e9c6}.alert-success hr{border-top-color:#c9e2b3}.alert-success .alert-link{color:#2b542c}.alert-info{color:#31708f;background-color:#d9edf7;border-color:#bce8f1}.alert-info hr{border-top-color:#a6e1ec}.alert-info .alert-link{color:#245269}.alert-warning{color:#8a6d3b;background-color:#fcf8e3;border-color:#faebcc}.alert-warning hr{border-top-color:#f7e1b5}.alert-warning .alert-link{color:#66512c}.alert-danger{color:#a94442;background-color:#f2dede;border-color:#ebccd1}.alert-danger hr{border-top-color:#e4b9c0}.alert-danger .alert-link{color:#843534}@-webkit-keyframes progress-bar-stripes{from{background-position:40px 0}to{background-position:0 0}}@-o-keyframes progress-bar-stripes{from{background-position:40px 0}to{background-position:0 0}}@keyframes progress-bar-stripes{from{background-position:40px 0}to{background-position:0 0}}.progress{height:20px;margin-bottom:20px;background-color:#f5f5f5;border-radius:4px;-webkit-box-shadow:inset 0 1px 2px rgba(0,0,0,.1);box-shadow:inset 0 1px 2px rgba(0,0,0,.1)}.progress-bar{float:left;width:0;height:100%;font-size:12px;line-height:20px;color:#fff;text-align:center;background-color:#337ab7;-webkit-box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);-webkit-transition:width .6s ease;-o-transition:width .6s ease;transition:width .6s ease}.progress-bar-striped,.progress-striped .progress-bar{background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);-webkit-background-size:40px 40px;background-size:40px 40px}.progress-bar.active,.progress.active .progress-bar{-webkit-animation:progress-bar-stripes 2s linear infinite;-o-animation:progress-bar-stripes 2s linear infinite;animation:progress-bar-stripes 2s linear infinite}.progress-bar-success{background-color:#5cb85c}.progress-striped .progress-bar-success{background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent)}.progress-striped .progress-bar-info,.progress-striped .progress-bar-warning{background-image:-webkit-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-o-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent)}.progress-bar-info{background-color:#5bc0de}.progress-striped .progress-bar-info{background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent)}.progress-bar-warning{background-color:#f0ad4e}.progress-striped .progress-bar-warning{background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent)}.progress-bar-danger{background-color:#d9534f}.progress-striped .progress-bar-danger{background-image:-webkit-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-o-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent)}.media{margin-top:15px}.media:first-child{margin-top:0}.media,.media-body{overflow:hidden;zoom:1}.media-body{width:10000px}.media-object.img-thumbnail{max-width:none}.media-right,.media>.pull-right{padding-left:10px}.media-left,.media>.pull-left{padding-right:10px}.media-body,.media-left,.media-right{display:table-cell;vertical-align:top}.media-middle{vertical-align:middle}.media-bottom{vertical-align:bottom}.media-heading{margin-top:0;margin-bottom:5px}.media-list{padding-left:0;list-style:none}.list-group{padding-left:0;margin-bottom:20px}.list-group-item{position:relative;display:block;padding:10px 15px;margin-bottom:-1px;background-color:#fff;border:1px solid #ddd}.list-group-item:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.list-group-item:last-child{margin-bottom:0;border-bottom-right-radius:4px;border-bottom-left-radius:4px}a.list-group-item,button.list-group-item{color:#555}a.list-group-item .list-group-item-heading,button.list-group-item .list-group-item-heading{color:#333}a.list-group-item:focus,a.list-group-item:hover,button.list-group-item:focus,button.list-group-item:hover{color:#555;text-decoration:none;background-color:#f5f5f5}button.list-group-item{width:100%;text-align:left}.list-group-item.disabled,.list-group-item.disabled:focus,.list-group-item.disabled:hover{color:#777;cursor:not-allowed;background-color:#eee}.list-group-item.disabled .list-group-item-heading,.list-group-item.disabled:focus .list-group-item-heading,.list-group-item.disabled:hover .list-group-item-heading{color:inherit}.list-group-item.disabled .list-group-item-text,.list-group-item.disabled:focus .list-group-item-text,.list-group-item.disabled:hover .list-group-item-text{color:#777}.list-group-item.active,.list-group-item.active:focus,.list-group-item.active:hover{z-index:2;color:#fff;background-color:#337ab7;border-color:#337ab7}.list-group-item.active .list-group-item-heading,.list-group-item.active .list-group-item-heading>.small,.list-group-item.active .list-group-item-heading>small,.list-group-item.active:focus .list-group-item-heading,.list-group-item.active:focus .list-group-item-heading>.small,.list-group-item.active:focus .list-group-item-heading>small,.list-group-item.active:hover .list-group-item-heading,.list-group-item.active:hover .list-group-item-heading>.small,.list-group-item.active:hover .list-group-item-heading>small{color:inherit}.list-group-item.active .list-group-item-text,.list-group-item.active:focus .list-group-item-text,.list-group-item.active:hover .list-group-item-text{color:#c7ddef}.list-group-item-success{color:#3c763d;background-color:#dff0d8}a.list-group-item-success,button.list-group-item-success{color:#3c763d}a.list-group-item-success .list-group-item-heading,button.list-group-item-success .list-group-item-heading{color:inherit}a.list-group-item-success:focus,a.list-group-item-success:hover,button.list-group-item-success:focus,button.list-group-item-success:hover{color:#3c763d;background-color:#d0e9c6}a.list-group-item-success.active,a.list-group-item-success.active:focus,a.list-group-item-success.active:hover,button.list-group-item-success.active,button.list-group-item-success.active:focus,button.list-group-item-success.active:hover{color:#fff;background-color:#3c763d;border-color:#3c763d}.list-group-item-info{color:#31708f;background-color:#d9edf7}a.list-group-item-info,button.list-group-item-info{color:#31708f}a.list-group-item-info .list-group-item-heading,button.list-group-item-info .list-group-item-heading{color:inherit}a.list-group-item-info:focus,a.list-group-item-info:hover,button.list-group-item-info:focus,button.list-group-item-info:hover{color:#31708f;background-color:#c4e3f3}a.list-group-item-info.active,a.list-group-item-info.active:focus,a.list-group-item-info.active:hover,button.list-group-item-info.active,button.list-group-item-info.active:focus,button.list-group-item-info.active:hover{color:#fff;background-color:#31708f;border-color:#31708f}.list-group-item-warning{color:#8a6d3b;background-color:#fcf8e3}a.list-group-item-warning,button.list-group-item-warning{color:#8a6d3b}a.list-group-item-warning .list-group-item-heading,button.list-group-item-warning .list-group-item-heading{color:inherit}a.list-group-item-warning:focus,a.list-group-item-warning:hover,button.list-group-item-warning:focus,button.list-group-item-warning:hover{color:#8a6d3b;background-color:#faf2cc}a.list-group-item-warning.active,a.list-group-item-warning.active:focus,a.list-group-item-warning.active:hover,button.list-group-item-warning.active,button.list-group-item-warning.active:focus,button.list-group-item-warning.active:hover{color:#fff;background-color:#8a6d3b;border-color:#8a6d3b}.list-group-item-danger{color:#a94442;background-color:#f2dede}a.list-group-item-danger,button.list-group-item-danger{color:#a94442}a.list-group-item-danger .list-group-item-heading,button.list-group-item-danger .list-group-item-heading{color:inherit}a.list-group-item-danger:focus,a.list-group-item-danger:hover,button.list-group-item-danger:focus,button.list-group-item-danger:hover{color:#a94442;background-color:#ebcccc}a.list-group-item-danger.active,a.list-group-item-danger.active:focus,a.list-group-item-danger.active:hover,button.list-group-item-danger.active,button.list-group-item-danger.active:focus,button.list-group-item-danger.active:hover{color:#fff;background-color:#a94442;border-color:#a94442}.panel-heading>.dropdown .dropdown-toggle,.panel-title,.panel-title>.small,.panel-title>.small>a,.panel-title>a,.panel-title>small,.panel-title>small>a{color:inherit}.list-group-item-heading{margin-top:0;margin-bottom:5px}.list-group-item-text{margin-bottom:0;line-height:1.3}.panel{margin-bottom:20px;background-color:#fff;border:1px solid transparent;border-radius:4px;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.05);box-shadow:0 1px 1px rgba(0,0,0,.05)}.panel-title,.panel>.list-group,.panel>.panel-collapse>.list-group,.panel>.panel-collapse>.table,.panel>.table,.panel>.table-responsive>.table{margin-bottom:0}.panel-body{padding:15px}.panel-heading{padding:10px 15px;border-bottom:1px solid transparent;border-top-left-radius:3px;border-top-right-radius:3px}.panel-title{margin-top:0;font-size:16px}.panel-footer{padding:10px 15px;background-color:#f5f5f5;border-top:1px solid #ddd;border-bottom-right-radius:3px;border-bottom-left-radius:3px}.panel>.list-group .list-group-item,.panel>.panel-collapse>.list-group .list-group-item{border-width:1px 0;border-radius:0}.panel-group .panel-heading,.panel>.table-bordered>tbody>tr:first-child>td,.panel>.table-bordered>tbody>tr:first-child>th,.panel>.table-bordered>tbody>tr:last-child>td,.panel>.table-bordered>tbody>tr:last-child>th,.panel>.table-bordered>tfoot>tr:last-child>td,.panel>.table-bordered>tfoot>tr:last-child>th,.panel>.table-bordered>thead>tr:first-child>td,.panel>.table-bordered>thead>tr:first-child>th,.panel>.table-responsive>.table-bordered>tbody>tr:first-child>td,.panel>.table-responsive>.table-bordered>tbody>tr:first-child>th,.panel>.table-responsive>.table-bordered>tbody>tr:last-child>td,.panel>.table-responsive>.table-bordered>tbody>tr:last-child>th,.panel>.table-responsive>.table-bordered>tfoot>tr:last-child>td,.panel>.table-responsive>.table-bordered>tfoot>tr:last-child>th,.panel>.table-responsive>.table-bordered>thead>tr:first-child>td,.panel>.table-responsive>.table-bordered>thead>tr:first-child>th{border-bottom:0}.panel>.list-group:first-child .list-group-item:first-child,.panel>.panel-collapse>.list-group:first-child .list-group-item:first-child{border-top:0;border-top-left-radius:3px;border-top-right-radius:3px}.panel>.list-group:last-child .list-group-item:last-child,.panel>.panel-collapse>.list-group:last-child .list-group-item:last-child{border-bottom:0;border-bottom-right-radius:3px;border-bottom-left-radius:3px}.panel>.panel-heading+.panel-collapse>.list-group .list-group-item:first-child{border-top-left-radius:0;border-top-right-radius:0}.list-group+.panel-footer,.panel-heading+.list-group .list-group-item:first-child{border-top-width:0}.panel>.panel-collapse>.table caption,.panel>.table caption,.panel>.table-responsive>.table caption{padding-right:15px;padding-left:15px}.panel>.table-responsive:first-child>.table:first-child,.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child,.panel>.table:first-child,.panel>.table:first-child>tbody:first-child>tr:first-child,.panel>.table:first-child>thead:first-child>tr:first-child{border-top-left-radius:3px;border-top-right-radius:3px}.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child td:first-child,.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child th:first-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child td:first-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child th:first-child,.panel>.table:first-child>tbody:first-child>tr:first-child td:first-child,.panel>.table:first-child>tbody:first-child>tr:first-child th:first-child,.panel>.table:first-child>thead:first-child>tr:first-child td:first-child,.panel>.table:first-child>thead:first-child>tr:first-child th:first-child{border-top-left-radius:3px}.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child td:last-child,.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child th:last-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child td:last-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child th:last-child,.panel>.table:first-child>tbody:first-child>tr:first-child td:last-child,.panel>.table:first-child>tbody:first-child>tr:first-child th:last-child,.panel>.table:first-child>thead:first-child>tr:first-child td:last-child,.panel>.table:first-child>thead:first-child>tr:first-child th:last-child{border-top-right-radius:3px}.panel>.table-responsive:last-child>.table:last-child,.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child,.panel>.table:last-child,.panel>.table:last-child>tbody:last-child>tr:last-child,.panel>.table:last-child>tfoot:last-child>tr:last-child{border-bottom-right-radius:3px;border-bottom-left-radius:3px}.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child td:first-child,.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child th:first-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child td:first-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child th:first-child,.panel>.table:last-child>tbody:last-child>tr:last-child td:first-child,.panel>.table:last-child>tbody:last-child>tr:last-child th:first-child,.panel>.table:last-child>tfoot:last-child>tr:last-child td:first-child,.panel>.table:last-child>tfoot:last-child>tr:last-child th:first-child{border-bottom-left-radius:3px}.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child td:last-child,.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child th:last-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child td:last-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child th:last-child,.panel>.table:last-child>tbody:last-child>tr:last-child td:last-child,.panel>.table:last-child>tbody:last-child>tr:last-child th:last-child,.panel>.table:last-child>tfoot:last-child>tr:last-child td:last-child,.panel>.table:last-child>tfoot:last-child>tr:last-child th:last-child{border-bottom-right-radius:3px}.panel>.panel-body+.table,.panel>.panel-body+.table-responsive,.panel>.table+.panel-body,.panel>.table-responsive+.panel-body{border-top:1px solid #ddd}.panel>.table>tbody:first-child>tr:first-child td,.panel>.table>tbody:first-child>tr:first-child th{border-top:0}.panel>.table-bordered,.panel>.table-responsive>.table-bordered{border:0}.panel>.table-bordered>tbody>tr>td:first-child,.panel>.table-bordered>tbody>tr>th:first-child,.panel>.table-bordered>tfoot>tr>td:first-child,.panel>.table-bordered>tfoot>tr>th:first-child,.panel>.table-bordered>thead>tr>td:first-child,.panel>.table-bordered>thead>tr>th:first-child,.panel>.table-responsive>.table-bordered>tbody>tr>td:first-child,.panel>.table-responsive>.table-bordered>tbody>tr>th:first-child,.panel>.table-responsive>.table-bordered>tfoot>tr>td:first-child,.panel>.table-responsive>.table-bordered>tfoot>tr>th:first-child,.panel>.table-responsive>.table-bordered>thead>tr>td:first-child,.panel>.table-responsive>.table-bordered>thead>tr>th:first-child{border-left:0}.panel>.table-bordered>tbody>tr>td:last-child,.panel>.table-bordered>tbody>tr>th:last-child,.panel>.table-bordered>tfoot>tr>td:last-child,.panel>.table-bordered>tfoot>tr>th:last-child,.panel>.table-bordered>thead>tr>td:last-child,.panel>.table-bordered>thead>tr>th:last-child,.panel>.table-responsive>.table-bordered>tbody>tr>td:last-child,.panel>.table-responsive>.table-bordered>tbody>tr>th:last-child,.panel>.table-responsive>.table-bordered>tfoot>tr>td:last-child,.panel>.table-responsive>.table-bordered>tfoot>tr>th:last-child,.panel>.table-responsive>.table-bordered>thead>tr>td:last-child,.panel>.table-responsive>.table-bordered>thead>tr>th:last-child{border-right:0}.panel>.table-responsive{margin-bottom:0;border:0}.panel-group{margin-bottom:20px}.panel-group .panel{margin-bottom:0;border-radius:4px}.panel-group .panel+.panel{margin-top:5px}.panel-group .panel-heading+.panel-collapse>.list-group,.panel-group .panel-heading+.panel-collapse>.panel-body{border-top:1px solid #ddd}.panel-group .panel-footer{border-top:0}.panel-group .panel-footer+.panel-collapse .panel-body{border-bottom:1px solid #ddd}.panel-default{border-color:#ddd}.panel-default>.panel-heading{color:#333;background-color:#f5f5f5;border-color:#ddd}.panel-default>.panel-heading+.panel-collapse>.panel-body{border-top-color:#ddd}.panel-default>.panel-heading .badge{color:#f5f5f5;background-color:#333}.panel-default>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#ddd}.panel-primary{border-color:#337ab7}.panel-primary>.panel-heading{color:#fff;background-color:#337ab7;border-color:#337ab7}.panel-primary>.panel-heading+.panel-collapse>.panel-body{border-top-color:#337ab7}.panel-primary>.panel-heading .badge{color:#337ab7;background-color:#fff}.panel-primary>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#337ab7}.panel-success{border-color:#d6e9c6}.panel-success>.panel-heading{color:#3c763d;background-color:#dff0d8;border-color:#d6e9c6}.panel-success>.panel-heading+.panel-collapse>.panel-body{border-top-color:#d6e9c6}.panel-success>.panel-heading .badge{color:#dff0d8;background-color:#3c763d}.panel-success>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#d6e9c6}.panel-info{border-color:#bce8f1}.panel-info>.panel-heading{color:#31708f;background-color:#d9edf7;border-color:#bce8f1}.panel-info>.panel-heading+.panel-collapse>.panel-body{border-top-color:#bce8f1}.panel-info>.panel-heading .badge{color:#d9edf7;background-color:#31708f}.panel-info>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#bce8f1}.panel-warning{border-color:#faebcc}.panel-warning>.panel-heading{color:#8a6d3b;background-color:#fcf8e3;border-color:#faebcc}.panel-warning>.panel-heading+.panel-collapse>.panel-body{border-top-color:#faebcc}.panel-warning>.panel-heading .badge{color:#fcf8e3;background-color:#8a6d3b}.panel-warning>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#faebcc}.panel-danger{border-color:#ebccd1}.panel-danger>.panel-heading{color:#a94442;background-color:#f2dede;border-color:#ebccd1}.panel-danger>.panel-heading+.panel-collapse>.panel-body{border-top-color:#ebccd1}.panel-danger>.panel-heading .badge{color:#f2dede;background-color:#a94442}.panel-danger>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#ebccd1}.embed-responsive{position:relative;display:block;height:0;padding:0}.embed-responsive .embed-responsive-item,.embed-responsive embed,.embed-responsive iframe,.embed-responsive object,.embed-responsive video{position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;border:0}.embed-responsive-16by9{padding-bottom:56.25%}.embed-responsive-4by3{padding-bottom:75%}.well{min-height:20px;padding:19px;margin-bottom:20px;background-color:#f5f5f5;border:1px solid #e3e3e3;border-radius:4px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.05);box-shadow:inset 0 1px 1px rgba(0,0,0,.05)}.well blockquote{border-color:#ddd;border-color:rgba(0,0,0,.15)}.well-lg{padding:24px;border-radius:6px}.well-sm{padding:9px;border-radius:3px}.close{float:right;font-size:21px;line-height:1;color:#000;text-shadow:0 1px 0 #fff;filter:alpha(opacity=20);opacity:.2}.popover,.tooltip{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-style:normal;font-weight:400;line-height:1.42857143;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;word-wrap:normal;white-space:normal;line-break:auto;text-decoration:none}.close:focus,.close:hover{color:#000;text-decoration:none;cursor:pointer;filter:alpha(opacity=50);opacity:.5}button.close{-webkit-appearance:none;padding:0;cursor:pointer;background:0 0;border:0}.modal{position:fixed;z-index:1050;display:none;-webkit-overflow-scrolling:touch;outline:0}.modal.fade .modal-dialog{-webkit-transition:-webkit-transform .3s ease-out;-o-transition:-o-transform .3s ease-out;transition:transform .3s ease-out;-webkit-transform:translate(0,-25%);-ms-transform:translate(0,-25%);-o-transform:translate(0,-25%);transform:translate(0,-25%)}.modal.in .modal-dialog{-webkit-transform:translate(0,0);-ms-transform:translate(0,0);-o-transform:translate(0,0);transform:translate(0,0)}.modal-open .modal{overflow-x:hidden;overflow-y:auto}.modal-dialog{position:relative;width:auto;margin:10px}.modal-content{position:relative;background-color:#fff;background-clip:padding-box;border:1px solid #999;border:1px solid rgba(0,0,0,.2);border-radius:6px;outline:0;-webkit-box-shadow:0 3px 9px rgba(0,0,0,.5);box-shadow:0 3px 9px rgba(0,0,0,.5)}.modal-backdrop{position:fixed;z-index:1040;background-color:#000}.modal-backdrop.fade{filter:alpha(opacity=0);opacity:0}.carousel-control,.modal-backdrop.in{filter:alpha(opacity=50);opacity:.5}.modal-header{padding:15px;border-bottom:1px solid #e5e5e5}.modal-header .close{margin-top:-2px}.modal-title{margin:0;line-height:1.42857143}.modal-body{position:relative;padding:15px}.modal-footer{padding:15px;text-align:right;border-top:1px solid #e5e5e5}.modal-footer .btn+.btn{margin-bottom:0;margin-left:5px}.modal-footer .btn-group .btn+.btn{margin-left:-1px}.modal-footer .btn-block+.btn-block{margin-left:0}.modal-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}@media (min-width:768px){.modal-dialog{width:600px;margin:30px auto}.modal-content{-webkit-box-shadow:0 5px 15px rgba(0,0,0,.5);box-shadow:0 5px 15px rgba(0,0,0,.5)}.modal-sm{width:300px}}.tooltip.top-left .tooltip-arrow,.tooltip.top-right .tooltip-arrow{bottom:0;margin-bottom:-5px;border-width:5px 5px 0;border-top-color:#000}@media (min-width:992px){.modal-lg{width:900px}}.tooltip{position:absolute;z-index:1070;display:block;font-size:12px;text-align:left;text-align:start;filter:alpha(opacity=0);opacity:0}.tooltip.in{filter:alpha(opacity=90);opacity:.9}.tooltip.top{padding:5px 0;margin-top:-3px}.tooltip.right{padding:0 5px;margin-left:3px}.tooltip.bottom{padding:5px 0;margin-top:3px}.tooltip.left{padding:0 5px;margin-left:-3px}.tooltip-inner{max-width:200px;padding:3px 8px;color:#fff;text-align:center;background-color:#000;border-radius:4px}.tooltip-arrow{position:absolute;width:0;height:0;border-color:transparent;border-style:solid}.tooltip.top .tooltip-arrow{bottom:0;left:50%;margin-left:-5px;border-width:5px 5px 0;border-top-color:#000}.tooltip.top-left .tooltip-arrow{right:5px}.tooltip.top-right .tooltip-arrow{left:5px}.tooltip.right .tooltip-arrow{top:50%;left:0;margin-top:-5px;border-width:5px 5px 5px 0;border-right-color:#000}.tooltip.left .tooltip-arrow{top:50%;right:0;margin-top:-5px;border-width:5px 0 5px 5px;border-left-color:#000}.tooltip.bottom .tooltip-arrow,.tooltip.bottom-left .tooltip-arrow,.tooltip.bottom-right .tooltip-arrow{border-width:0 5px 5px;border-bottom-color:#000;top:0}.tooltip.bottom .tooltip-arrow{left:50%;margin-left:-5px}.tooltip.bottom-left .tooltip-arrow{right:5px;margin-top:-5px}.tooltip.bottom-right .tooltip-arrow{left:5px;margin-top:-5px}.popover{position:absolute;top:0;left:0;z-index:1060;display:none;max-width:276px;padding:1px;font-size:14px;text-align:left;text-align:start;background-color:#fff;-webkit-background-clip:padding-box;background-clip:padding-box;border:1px solid #ccc;border:1px solid rgba(0,0,0,.2);border-radius:6px;-webkit-box-shadow:0 5px 10px rgba(0,0,0,.2);box-shadow:0 5px 10px rgba(0,0,0,.2)}.carousel-caption,.carousel-control{color:#fff;text-align:center;text-shadow:0 1px 2px rgba(0,0,0,.6)}.popover.top{margin-top:-10px}.popover.right{margin-left:10px}.popover.bottom{margin-top:10px}.popover.left{margin-left:-10px}.popover-title{padding:8px 14px;margin:0;font-size:14px;background-color:#f7f7f7;border-bottom:1px solid #ebebeb;border-radius:5px 5px 0 0}.popover-content{padding:9px 14px}.popover>.arrow,.popover>.arrow:after{position:absolute;display:block;width:0;height:0;border-color:transparent;border-style:solid}.carousel,.carousel-inner{position:relative}.popover>.arrow{border-width:11px}.popover>.arrow:after{content:"";border-width:10px}.popover.top>.arrow{bottom:-11px;left:50%;margin-left:-11px;border-top-color:#999;border-top-color:rgba(0,0,0,.25);border-bottom-width:0}.popover.top>.arrow:after{bottom:1px;margin-left:-10px;content:" ";border-top-color:#fff;border-bottom-width:0}.popover.left>.arrow:after,.popover.right>.arrow:after{bottom:-10px;content:" "}.popover.right>.arrow{top:50%;left:-11px;margin-top:-11px;border-right-color:#999;border-right-color:rgba(0,0,0,.25);border-left-width:0}.popover.right>.arrow:after{left:1px;border-right-color:#fff;border-left-width:0}.popover.bottom>.arrow{top:-11px;left:50%;margin-left:-11px;border-top-width:0;border-bottom-color:#999;border-bottom-color:rgba(0,0,0,.25)}.popover.bottom>.arrow:after{top:1px;margin-left:-10px;content:" ";border-top-width:0;border-bottom-color:#fff}.popover.left>.arrow{top:50%;right:-11px;margin-top:-11px;border-right-width:0;border-left-color:#999;border-left-color:rgba(0,0,0,.25)}.popover.left>.arrow:after{right:1px;border-right-width:0;border-left-color:#fff}.carousel-inner{width:100%}.carousel-inner>.item{position:relative;display:none;-webkit-transition:.6s ease-in-out left;-o-transition:.6s ease-in-out left;transition:.6s ease-in-out left}.carousel-inner>.item>a>img,.carousel-inner>.item>img{line-height:1}@media all and (transform-3d),(-webkit-transform-3d){.carousel-inner>.item{-webkit-transition:-webkit-transform .6s ease-in-out;-o-transition:-o-transform .6s ease-in-out;transition:transform .6s ease-in-out;-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-perspective:1000px;perspective:1000px}.carousel-inner>.item.active.right,.carousel-inner>.item.next{left:0;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}.carousel-inner>.item.active.left,.carousel-inner>.item.prev{left:0;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}.carousel-inner>.item.active,.carousel-inner>.item.next.left,.carousel-inner>.item.prev.right{left:0;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}}.carousel-inner>.active,.carousel-inner>.next,.carousel-inner>.prev{display:block}.carousel-inner>.active{left:0}.carousel-inner>.next,.carousel-inner>.prev{position:absolute;top:0;width:100%}.carousel-inner>.next{left:100%}.carousel-inner>.prev{left:-100%}.carousel-inner>.next.left,.carousel-inner>.prev.right{left:0}.carousel-inner>.active.left{left:-100%}.carousel-inner>.active.right{left:100%}.carousel-control{position:absolute;top:0;bottom:0;left:0;width:15%;font-size:20px;background-color:rgba(0,0,0,0)}.carousel-control.left{background-image:-webkit-linear-gradient(left,rgba(0,0,0,.5) 0,rgba(0,0,0,.0001) 100%);background-image:-o-linear-gradient(left,rgba(0,0,0,.5) 0,rgba(0,0,0,.0001) 100%);background-image:-webkit-gradient(linear,left top,right top,from(rgba(0,0,0,.5)),to(rgba(0,0,0,.0001)));background-image:linear-gradient(to right,rgba(0,0,0,.5) 0,rgba(0,0,0,.0001) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\'#80000000\', endColorstr=\'#00000000\', GradientType=1);background-repeat:repeat-x}.carousel-control.right{right:0;left:auto;background-image:-webkit-linear-gradient(left,rgba(0,0,0,.0001) 0,rgba(0,0,0,.5) 100%);background-image:-o-linear-gradient(left,rgba(0,0,0,.0001) 0,rgba(0,0,0,.5) 100%);background-image:-webkit-gradient(linear,left top,right top,from(rgba(0,0,0,.0001)),to(rgba(0,0,0,.5)));background-image:linear-gradient(to right,rgba(0,0,0,.0001) 0,rgba(0,0,0,.5) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\'#00000000\', endColorstr=\'#80000000\', GradientType=1);background-repeat:repeat-x}.carousel-control:focus,.carousel-control:hover{color:#fff;text-decoration:none;filter:alpha(opacity=90);outline:0;opacity:.9}.carousel-control .glyphicon-chevron-left,.carousel-control .glyphicon-chevron-right,.carousel-control .icon-next,.carousel-control .icon-prev{position:absolute;top:50%;z-index:5;display:inline-block;margin-top:-10px}.carousel-control .glyphicon-chevron-left,.carousel-control .icon-prev{left:50%;margin-left:-10px}.carousel-control .glyphicon-chevron-right,.carousel-control .icon-next{right:50%;margin-right:-10px}.carousel-control .icon-next,.carousel-control .icon-prev{width:20px;height:20px;font-family:serif;line-height:1}.carousel-control .icon-prev:before{content:\'\\2039\'}.carousel-control .icon-next:before{content:\'\\203a\'}.carousel-indicators{position:absolute;bottom:10px;left:50%;z-index:15;width:60%;padding-left:0;margin-left:-30%;text-align:center;list-style:none}.carousel-indicators li{display:inline-block;width:10px;height:10px;margin:1px;text-indent:-999px;cursor:pointer;background-color:#000\\9;background-color:rgba(0,0,0,0);border:1px solid #fff;border-radius:10px}.carousel-indicators .active{width:12px;height:12px;margin:0;background-color:#fff}.carousel-caption{position:absolute;right:15%;bottom:20px;left:15%;z-index:10;padding-top:20px;padding-bottom:20px}.carousel-caption .btn,.text-hide{text-shadow:none}@media screen and (min-width:768px){.carousel-control .glyphicon-chevron-left,.carousel-control .glyphicon-chevron-right,.carousel-control .icon-next,.carousel-control .icon-prev{width:30px;height:30px;margin-top:-10px;font-size:30px}.carousel-control .glyphicon-chevron-left,.carousel-control .icon-prev{margin-left:-10px}.carousel-control .glyphicon-chevron-right,.carousel-control .icon-next{margin-right:-10px}.carousel-caption{right:20%;left:20%;padding-bottom:30px}.carousel-indicators{bottom:20px}}.btn-group-vertical>.btn-group:after,.btn-group-vertical>.btn-group:before,.btn-toolbar:after,.btn-toolbar:before,.clearfix:after,.clearfix:before,.container-fluid:after,.container-fluid:before,.container:after,.container:before,.dl-horizontal dd:after,.dl-horizontal dd:before,.form-horizontal .form-group:after,.form-horizontal .form-group:before,.modal-footer:after,.modal-footer:before,.modal-header:after,.modal-header:before,.nav:after,.nav:before,.navbar-collapse:after,.navbar-collapse:before,.navbar-header:after,.navbar-header:before,.navbar:after,.navbar:before,.pager:after,.pager:before,.panel-body:after,.panel-body:before,.row:after,.row:before{display:table;content:" "}.btn-group-vertical>.btn-group:after,.btn-toolbar:after,.clearfix:after,.container-fluid:after,.container:after,.dl-horizontal dd:after,.form-horizontal .form-group:after,.modal-footer:after,.modal-header:after,.nav:after,.navbar-collapse:after,.navbar-header:after,.navbar:after,.pager:after,.panel-body:after,.row:after{clear:both}.center-block{display:block;margin-right:auto;margin-left:auto}.pull-right{float:right!important}.pull-left{float:left!important}.hide{display:none!important}.show{display:block!important}.hidden,.visible-lg,.visible-lg-block,.visible-lg-inline,.visible-lg-inline-block,.visible-md,.visible-md-block,.visible-md-inline,.visible-md-inline-block,.visible-sm,.visible-sm-block,.visible-sm-inline,.visible-sm-inline-block,.visible-xs,.visible-xs-block,.visible-xs-inline,.visible-xs-inline-block{display:none!important}.invisible{visibility:hidden}.text-hide{font:0/0 a;color:transparent;background-color:transparent;border:0}.affix{position:fixed}@-ms-viewport{width:device-width}@media (max-width:767px){.visible-xs{display:block!important}table.visible-xs{display:table!important}tr.visible-xs{display:table-row!important}td.visible-xs,th.visible-xs{display:table-cell!important}.visible-xs-block{display:block!important}.visible-xs-inline{display:inline!important}.visible-xs-inline-block{display:inline-block!important}}@media (min-width:768px) and (max-width:991px){.visible-sm{display:block!important}table.visible-sm{display:table!important}tr.visible-sm{display:table-row!important}td.visible-sm,th.visible-sm{display:table-cell!important}.visible-sm-block{display:block!important}.visible-sm-inline{display:inline!important}.visible-sm-inline-block{display:inline-block!important}}@media (min-width:992px) and (max-width:1199px){.visible-md{display:block!important}table.visible-md{display:table!important}tr.visible-md{display:table-row!important}td.visible-md,th.visible-md{display:table-cell!important}.visible-md-block{display:block!important}.visible-md-inline{display:inline!important}.visible-md-inline-block{display:inline-block!important}}@media (min-width:1200px){.visible-lg{display:block!important}table.visible-lg{display:table!important}tr.visible-lg{display:table-row!important}td.visible-lg,th.visible-lg{display:table-cell!important}.visible-lg-block{display:block!important}.visible-lg-inline{display:inline!important}.visible-lg-inline-block{display:inline-block!important}.hidden-lg{display:none!important}}@media (max-width:767px){.hidden-xs{display:none!important}}@media (min-width:768px) and (max-width:991px){.hidden-sm{display:none!important}}@media (min-width:992px) and (max-width:1199px){.hidden-md{display:none!important}}.visible-print{display:none!important}@media print{.visible-print{display:block!important}table.visible-print{display:table!important}tr.visible-print{display:table-row!important}td.visible-print,th.visible-print{display:table-cell!important}}.visible-print-block{display:none!important}@media print{.visible-print-block{display:block!important}}.visible-print-inline{display:none!important}@media print{.visible-print-inline{display:inline!important}}.visible-print-inline-block{display:none!important}@media print{.visible-print-inline-block{display:inline-block!important}.hidden-print{display:none!important}}');
})(function(a){a()});
//# sourceMappingURL=bundle.js.map